2025-12-21 02:31:43,651 - thread-128184999741120.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: models.W042 is raised on inherited manually specified primary key.

Description: Description
	
I have models which inherit from other models, and they should inherit the primary key. This works fine with Django 3.1. However, if I install Django 3.2 alpha, when I run make_migrations I get the following error messages:
System check identified some issues:
WARNINGS:
accounts.ReservedUsername: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreAccountsConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
accounts.User: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreAccountsConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
blocks.Block: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
contact_by_form.Feedback: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreContactByFormConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
core_messages.ReadMark: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreMessagesConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.Block: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.Follow: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.Friend: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.FriendshipRequest: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
likes.UserLike: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
uploads.Image: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
These models should not use auto-created primary keys! I already defined the primary key in the ancestor of the model. For example class Entity which class User inherits from. It looks to me like a bug in Django 3.2 alpha.

Patch information:
diff --git a/django/db/models/base.py b/django/db/models/base.py
index 4038859cfa..264e9699f7 100644
--- a/django/db/models/base.py
+++ b/django/db/models/base.py
@@ -17,7 +17,7 @@ from django.db import (
     connections, router, transaction,
 )
 from django.db.models import (
-    NOT_PROVIDED, ExpressionWrapper, IntegerField, Max, Value,
+    NOT_PROVIDED, AutoField, ExpressionWrapper, IntegerField, Max, Value,
 )
 from django.db.models.constants import LOOKUP_SEP
 from django.db.models.constraints import CheckConstraint, UniqueConstraint
@@ -1299,6 +1299,7 @@ class Model(metaclass=ModelBase):
     def _check_default_pk(cls):
         if (
             cls._meta.pk.auto_created and
+            isinstance(cls._meta.pk, AutoField) and
             not settings.is_overridden('DEFAULT_AUTO_FIELD') and
             not cls._meta.app_config._is_default_auto_field_overridden
         ):
diff --git a/docs/ref/checks.txt b/docs/ref/checks.txt
index 1025549370..6e6253b774 100644
--- a/docs/ref/checks.txt
+++ b/docs/ref/checks.txt
@@ -373,8 +373,10 @@ Models
 * **models.W040**: ``<database>`` does not support indexes with non-key
   columns.
 * **models.E041**: ``constraints`` refers to the joined field ``<field name>``.
-* **models.W042**: Auto-created primary key used when not defining a primary
-  key type, by default ``django.db.models.AutoField``.
+* **models.W042**: Auto-created AutoField primary key used when not defining a
+  primary key type, by default ``django.db.models.AutoField``. This check does
+  not apply to primary keys inherited via a parent link in multi-table
+  inheritance.
 * **models.W043**: ``<database>`` does not support indexes on expressions.
 
 Security
diff --git a/docs/releases/3.2.txt b/docs/releases/3.2.txt
index d3d3f44b8e..4c52e13e82 100644
--- a/docs/releases/3.2.txt
+++ b/docs/releases/3.2.txt
@@ -94,6 +94,9 @@ or on a per-model basis::
 
 In anticipation of the changing default, a system check will provide a warning
 if you do not have an explicit setting for :setting:`DEFAULT_AUTO_FIELD`.
+This warning applies to models that use an implicitly created AutoField primary
+key. It does not apply to child models in multi-table inheritance that inherit
+their primary key via a parent link.
 
 .. _new_functional_indexes:
 
diff --git a/docs/topics/db/models.txt b/docs/topics/db/models.txt
index 26a6d7dc58..8ae190d821 100644
--- a/docs/topics/db/models.txt
+++ b/docs/topics/db/models.txt
@@ -274,6 +274,12 @@ sees you've explicitly set :attr:`Field.primary_key`, it won't add the automatic
 Each model requires exactly one field to have :attr:`primary_key=True
 <Field.primary_key>` (either explicitly declared or automatically added).
 
+Note that in multi-table inheritance, a child model inherits its primary key
+from its parent via an automatically created one-to-one parent link. This
+inherited primary key is not governed by :setting:`DEFAULT_AUTO_FIELD` and is
+not subject to the system check warning about auto-created AutoField primary
+keys.
+
 .. versionchanged:: 3.2
 
     In older versions, auto-created primary key fields were always


Find all relevant source code context needed to understand and fix this issue.
Focus on production code (ignore test files) and follow these steps:
1. Identify key components mentioned in the issue, especially from the error message(functions, classes, types, etc.)
2. Find their complete implementations and class definitions
3. Include related code from the same module that affects the behavior
4. Follow imports to find dependent code that directly impacts the issue

2025-12-21 02:31:43,740 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── linters.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   └── __init__.py
|   |   |   ├── database.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   ├── special.py
|   |   |   |   └── utils.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.txt
|   |   ├── index.txt
|   |   └── security.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   └── jsi18n-mocks.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── explicit_default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_empty_apps
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_mismatch_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── not_apps.py
    |   ├── explicit_default_config_without_apps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── beginning_with_slash.py
    |       ├── contains_tuple.py
    |       ├── good_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_middleware_mixin.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       └── custom_widget.html
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
    |   |   ├── included_content.html
    |   |   ├── inclusion.html
    |   |   ├── inclusion_base.html
    |   |   ├── inclusion_extends1.html
    |   |   ├── inclusion_extends2.html
    |   |   ├── index.html
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   ├── recursive_include.html
    |   |   ├── response.html
    |   |   ├── second
    |   |   |   └── test.html
    |   |   ├── ssi include with spaces.html
    |   |   ├── ssi_include.html
    |   |   ├── template_tests
    |   |   |   └── using.html
    |   |   ├── test_context.html
    |   |   ├── test_context_stack.html
    |   |   ├── test_extends_error.html
    |   |   ├── test_incl_tag_use_l10n.html
    |   |   └── test_include_error.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_autoreloader.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── base.html
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   |   ├── add_form.html
    |   |   ├── app_index.html
    |   |   ├── change_form.html
    |   |   ├── change_list.html
    |   |   ├── delete_confirmation.html
    |   |   ├── delete_selected_confirmation.html
    |   |   ├── index.html
    |   |   ├── login.html
    |   |   ├── logout.html
    |   |   ├── object_history.html
    |   |   ├── password_change_done.html
    |   |   ├── password_change_form.html
    |   |   └── popup_response.html
    |   ├── extended.html
    |   ├── form_view.html
    |   ├── login.html
    |   └── views
    |       ├── article_archive_day.html
    |       ├── article_archive_month.html
    |       ├── article_confirm_delete.html
    |       ├── article_detail.html
    |       ├── article_form.html
    |       ├── article_list.html
    |       ├── datearticle_archive_month.html
    |       ├── urlarticle_detail.html
    |       └── urlarticle_form.html
    ├── test_client
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── test_conditional_content_removal.py
    |   ├── test_fakepayload.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_client_regress
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── bad_templates
    |   |   └── 404.html
    |   ├── context_processors.py
    |   ├── models.py
    |   ├── session.py
    |   ├── templates
    |   |   ├── request_context.html
    |   |   └── unicode.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_exceptions
    |   ├── __init__.py
    |   └── test_validation_error.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: models.W042 is raised on inherited manually specified primary key.

Description: Description
	
I have models which inherit from other models, and they should inherit the primary key. This works fine with Django 3.1. However, if I install Django 3.2 alpha, when I run make_migrations I get the following error messages:
System check identified some issues:
WARNINGS:
accounts.ReservedUsername: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreAccountsConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
accounts.User: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreAccountsConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
blocks.Block: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
contact_by_form.Feedback: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreContactByFormConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
core_messages.ReadMark: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreMessagesConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.Block: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.Follow: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.Friend: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.FriendshipRequest: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
likes.UserLike: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
uploads.Image: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
These models should not use auto-created primary keys! I already defined the primary key in the ancestor of the model. For example class Entity which class User inherits from. It looks to me like a bug in Django 3.2 alpha.

Patch information:
diff --git a/django/db/models/base.py b/django/db/models/base.py
index 4038859cfa..264e9699f7 100644
--- a/django/db/models/base.py
+++ b/django/db/models/base.py
@@ -17,7 +17,7 @@ from django.db import (
     connections, router, transaction,
 )
 from django.db.models import (
-    NOT_PROVIDED, ExpressionWrapper, IntegerField, Max, Value,
+    NOT_PROVIDED, AutoField, ExpressionWrapper, IntegerField, Max, Value,
 )
 from django.db.models.constants import LOOKUP_SEP
 from django.db.models.constraints import CheckConstraint, UniqueConstraint
@@ -1299,6 +1299,7 @@ class Model(metaclass=ModelBase):
     def _check_default_pk(cls):
         if (
             cls._meta.pk.auto_created and
+            isinstance(cls._meta.pk, AutoField) and
             not settings.is_overridden('DEFAULT_AUTO_FIELD') and
             not cls._meta.app_config._is_default_auto_field_overridden
         ):
diff --git a/docs/ref/checks.txt b/docs/ref/checks.txt
index 1025549370..6e6253b774 100644
--- a/docs/ref/checks.txt
+++ b/docs/ref/checks.txt
@@ -373,8 +373,10 @@ Models
 * **models.W040**: ``<database>`` does not support indexes with non-key
   columns.
 * **models.E041**: ``constraints`` refers to the joined field ``<field name>``.
-* **models.W042**: Auto-created primary key used when not defining a primary
-  key type, by default ``django.db.models.AutoField``.
+* **models.W042**: Auto-created AutoField primary key used when not defining a
+  primary key type, by default ``django.db.models.AutoField``. This check does
+  not apply to primary keys inherited via a parent link in multi-table
+  inheritance.
 * **models.W043**: ``<database>`` does not support indexes on expressions.
 
 Security
diff --git a/docs/releases/3.2.txt b/docs/releases/3.2.txt
index d3d3f44b8e..4c52e13e82 100644
--- a/docs/releases/3.2.txt
+++ b/docs/releases/3.2.txt
@@ -94,6 +94,9 @@ or on a per-model basis::
 
 In anticipation of the changing default, a system check will provide a warning
 if you do not have an explicit setting for :setting:`DEFAULT_AUTO_FIELD`.
+This warning applies to models that use an implicitly created AutoField primary
+key. It does not apply to child models in multi-table inheritance that inherit
+their primary key via a parent link.
 
 .. _new_functional_indexes:
 
diff --git a/docs/topics/db/models.txt b/docs/topics/db/models.txt
index 26a6d7dc58..8ae190d821 100644
--- a/docs/topics/db/models.txt
+++ b/docs/topics/db/models.txt
@@ -274,6 +274,12 @@ sees you've explicitly set :attr:`Field.primary_key`, it won't add the automatic
 Each model requires exactly one field to have :attr:`primary_key=True
 <Field.primary_key>` (either explicitly declared or automatically added).
 
+Note that in multi-table inheritance, a child model inherits its primary key
+from its parent via an automatically created one-to-one parent link. This
+inherited primary key is not governed by :setting:`DEFAULT_AUTO_FIELD` and is
+not subject to the system check warning about auto-created AutoField primary
+keys.
+
 .. versionchanged:: 3.2
 
     In older versions, auto-created primary key fields were always


Find all relevant source code context needed to understand and fix this issue.
Focus on production code (ignore test files) and follow these steps:
1. Identify key components mentioned in the issue, especially from the error message(functions, classes, types, etc.)
2. Find their complete implementations and class definitions
3. Include related code from the same module that affects the behavior
4. Follow imports to find dependent code that directly impacts the issue

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-21 02:32:22,818 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user's issue is about an incorrect warning (models.W042) for inherited primary keys in Django 3.2. The provided patch modifies `django/db/models/base.py` to fix this. To understand the problem, I need to examine the `Model` class and its metaclass, `ModelBase`, which are defined in this file. This will reveal how Django handles model inheritance and primary keys, and why the `auto_created` flag is set on inherited primary keys. The file also contains the `_check_default_pk` method that is being patched." query='Please provide the full content of `django/db/models/base.py`.' extra_requirements='' purpose='I need to analyze the model creation and inheritance logic within `ModelBase` to understand how primary keys are processed and why the warning is incorrectly triggered.'
2025-12-21 02:32:22,819 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `django/db/models/base.py`.
2025-12-21 02:32:22,819 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-21 02:32:22,820 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-21 02:32:22,821 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-21 02:32:22,821 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `django/db/models/base.py`.
Purpose: I need to analyze the model creation and inheritance logic within `ModelBase` to understand how primary keys are processed and why the warning is incorrectly triggered.
2025-12-21 02:32:25,082 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I will read the file `django/db/models/base.py` to understand the model creation and inheritance logic within `ModelBase`, which should provide insight into how primary keys are handled. This will help determine why the warning is being incorrectly triggered.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "django/db/models/base.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2107, 'candidates_token_count': 75, 'total_token_count': 2267, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2107}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 75}], 'thoughts_token_count': 85, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1259886169433594, 'model_name': 'gemini-2.5-pro'} id='run--2ff4dbb5-06f2-49ad-b412-20c3e0cb074b-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'django/db/models/base.py'}, 'id': '583d1f22-4dcd-4c5c-8dbf-959eb0cfa9f5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2107, 'output_tokens': 75, 'total_tokens': 2267, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 85}}
2025-12-21 02:32:27,682 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the initial 500 lines of the file `django/db/models/base.py`. I will now proceed to read the subsequent sections of the file to obtain the complete code. This will allow for a thorough analysis of the `ModelBase` class and its role in primary key processing.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 501.0, "relative_path": "django/db/models/base.py", "end_line": 1001.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 9413, 'candidates_token_count': 93, 'total_token_count': 9584, 'cached_content_token_count': 1842, 'prompt_tokens_details': [{'modality': 1, 'token_count': 9413}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1842}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 93}], 'thoughts_token_count': 78}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1575555186117849, 'model_name': 'gemini-2.5-pro'} id='run--fdb03eec-c1b0-4271-99c4-14a3d5c602dc-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 501.0, 'relative_path': 'django/db/models/base.py', 'end_line': 1001.0}, 'id': 'd1fe5c9d-3caa-4a67-a689-0abba8d74cef', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9413, 'output_tokens': 93, 'total_tokens': 9584, 'input_token_details': {'cache_read': 1842}, 'output_token_details': {'reasoning': 78}}
2025-12-21 02:32:32,082 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have now retrieved the file content up to line 1001. I will continue to read the rest of the file to ensure I have the complete code for `django/db/models/base.py`. This will enable a comprehensive analysis of the `ModelBase` class and its handling of primary keys.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 1002.0, "relative_path": "django/db/models/base.py", "end_line": 1501.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 17545, 'candidates_token_count': 94, 'total_token_count': 17811, 'cached_content_token_count': 9525, 'prompt_tokens_details': [{'modality': 1, 'token_count': 17545}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9525}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 94}], 'thoughts_token_count': 172}, 'finish_reason': 'STOP', 'avg_logprobs': -0.33482233006903467, 'model_name': 'gemini-2.5-pro'} id='run--d29b4f38-d149-4101-86fe-435166ca11b9-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 1002.0, 'relative_path': 'django/db/models/base.py', 'end_line': 1501.0}, 'id': '6a1b3e5c-91ae-4e97-a094-7b2d8b07d135', 'type': 'tool_call'}] usage_metadata={'input_tokens': 17545, 'output_tokens': 94, 'total_tokens': 17811, 'input_token_details': {'cache_read': 9525}, 'output_token_details': {'reasoning': 172}}
2025-12-21 02:32:40,354 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the file content up to line 1501. I will now read the final portion of the file to ensure I have the complete code for `django/db/models/base.py`. This will allow for a comprehensive analysis of the `ModelBase` class and its handling of primary keys.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 1502.0, "relative_path": "django/db/models/base.py", "end_line": 2001.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 25545, 'candidates_token_count': 95, 'total_token_count': 26239, 'cached_content_token_count': 17359, 'prompt_tokens_details': [{'modality': 1, 'token_count': 25545}], 'cache_tokens_details': [{'modality': 1, 'token_count': 17359}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 95}], 'thoughts_token_count': 599}, 'finish_reason': 'STOP', 'avg_logprobs': -1.0461224204615542, 'model_name': 'gemini-2.5-pro'} id='run--f640ba01-5dde-4278-885f-c2721193982c-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 1502.0, 'relative_path': 'django/db/models/base.py', 'end_line': 2001.0}, 'id': 'fd7a1087-c7cd-4777-9f6e-340c9833723a', 'type': 'tool_call'}] usage_metadata={'input_tokens': 25545, 'output_tokens': 95, 'total_tokens': 26239, 'input_token_details': {'cache_read': 17359}, 'output_token_details': {'reasoning': 599}}
2025-12-21 02:32:42,591 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the file content up to line 2001 and will now read the remainder of the file to ensure I have the complete code. This will allow for a thorough analysis of the `ModelBase` class and its role in primary key processing.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 2002.0, "relative_path": "django/db/models/base.py", "end_line": 2501.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 32967, 'candidates_token_count': 82, 'total_token_count': 33093, 'cached_content_token_count': 25193, 'prompt_tokens_details': [{'modality': 1, 'token_count': 32967}], 'cache_tokens_details': [{'modality': 1, 'token_count': 25193}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 82}], 'thoughts_token_count': 44}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1740064388368188, 'model_name': 'gemini-2.5-pro'} id='run--224d2a45-b1bc-418e-bdf1-97cd5906fafb-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 2002.0, 'relative_path': 'django/db/models/base.py', 'end_line': 2501.0}, 'id': '5fbff3f4-9b97-4cd6-9b43-cc745fce6e13', 'type': 'tool_call'}] usage_metadata={'input_tokens': 32967, 'output_tokens': 82, 'total_tokens': 33093, 'input_token_details': {'cache_read': 25193}, 'output_token_details': {'reasoning': 44}}
2025-12-21 02:32:54,126 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the entire content of the file `django/db/models/base.py` in several parts. You now have the complete code and can proceed with your analysis of the `ModelBase` class to understand the primary key processing and the warning you have observed.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'citation_metadata': {'citations': [{'start_index': 2244, 'end_index': 3038, 'uri': 'https://github.com/Aobinmon/PDDLTranslator', 'title': '', 'license_': ''}]}, 'usage_metadata': {'prompt_token_count': 35201, 'candidates_token_count': 57, 'total_token_count': 36507, 'cached_content_token_count': 32955, 'prompt_tokens_details': [{'modality': 1, 'token_count': 35201}], 'cache_tokens_details': [{'modality': 1, 'token_count': 32955}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 57}], 'thoughts_token_count': 1249}, 'finish_reason': 'STOP', 'avg_logprobs': -2.3327957956414473, 'model_name': 'gemini-2.5-pro'} id='run--92c5d4fe-31d6-4079-9853-31a8652f1a0c-0' usage_metadata={'input_tokens': 35201, 'output_tokens': 57, 'total_tokens': 36507, 'input_token_details': {'cache_read': 32955}, 'output_token_details': {'reasoning': 1249}}
2025-12-21 02:32:54,129 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `django/db/models/base.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need to analyze the model creation and inheritance logic within `ModelBase` to understand how primary keys are processed and why the warning is incorrectly triggered.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: django/db/models/base.py
Line number range: 1 - 500
Content:
1. import copy
2. import inspect
3. import warnings
4. from functools import partialmethod
5. from itertools import chain
6. 
7. import django
8. from django.apps import apps
9. from django.conf import settings
10. from django.core import checks
11. from django.core.exceptions import (
12.     NON_FIELD_ERRORS, FieldDoesNotExist, FieldError, MultipleObjectsReturned,
13.     ObjectDoesNotExist, ValidationError,
14. )
15. from django.db import (
16.     DEFAULT_DB_ALIAS, DJANGO_VERSION_PICKLE_KEY, DatabaseError, connection,
17.     connections, router, transaction,
18. )
19. from django.db.models import (
20.     NOT_PROVIDED, ExpressionWrapper, IntegerField, Max, Value,
21. )
22. from django.db.models.constants import LOOKUP_SEP
23. from django.db.models.constraints import CheckConstraint, UniqueConstraint
24. from django.db.models.deletion import CASCADE, Collector
25. from django.db.models.fields.related import (
26.     ForeignObjectRel, OneToOneField, lazy_related_operation, resolve_relation,
27. )
28. from django.db.models.functions import Coalesce
29. from django.db.models.manager import Manager
30. from django.db.models.options import Options
31. from django.db.models.query import F, Q
32. from django.db.models.signals import (
33.     class_prepared, post_init, post_save, pre_init, pre_save,
34. )
35. from django.db.models.utils import make_model_tuple
36. from django.utils.encoding import force_str
37. from django.utils.hashable import make_hashable
38. from django.utils.text import capfirst, get_text_list
39. from django.utils.translation import gettext_lazy as _
40. 
41. 
42. class Deferred:
43.     def __repr__(self):
44.         return '<Deferred field>'
45. 
46.     def __str__(self):
47.         return '<Deferred field>'
48. 
49. 
50. DEFERRED = Deferred()
51. 
52. 
53. def subclass_exception(name, bases, module, attached_to):
54.     """
55.     Create exception subclass. Used by ModelBase below.
56. 
57.     The exception is created in a way that allows it to be pickled, assuming
58.     that the returned exception class will be added as an attribute to the
59.     'attached_to' class.
60.     """
61.     return type(name, bases, {
62.         '__module__': module,
63.         '__qualname__': '%s.%s' % (attached_to.__qualname__, name),
64.     })
65. 
66. 
67. def _has_contribute_to_class(value):
68.     # Only call contribute_to_class() if it's bound.
69.     return not inspect.isclass(value) and hasattr(value, 'contribute_to_class')
70. 
71. 
72. class ModelBase(type):
73.     """Metaclass for all models."""
74.     def __new__(cls, name, bases, attrs, **kwargs):
75.         super_new = super().__new__
76. 
77.         # Also ensure initialization is only performed for subclasses of Model
78.         # (excluding Model class itself).
79.         parents = [b for b in bases if isinstance(b, ModelBase)]
80.         if not parents:
81.             return super_new(cls, name, bases, attrs)
82. 
83.         # Create the class.
84.         module = attrs.pop('__module__')
85.         new_attrs = {'__module__': module}
86.         classcell = attrs.pop('__classcell__', None)
87.         if classcell is not None:
88.             new_attrs['__classcell__'] = classcell
89.         attr_meta = attrs.pop('Meta', None)
90.         # Pass all attrs without a (Django-specific) contribute_to_class()
91.         # method to type.__new__() so that they're properly initialized
92.         # (i.e. __set_name__()).
93.         contributable_attrs = {}
94.         for obj_name, obj in attrs.items():
95.             if _has_contribute_to_class(obj):
96.                 contributable_attrs[obj_name] = obj
97.             else:
98.                 new_attrs[obj_name] = obj
99.         new_class = super_new(cls, name, bases, new_attrs, **kwargs)
100. 
101.         abstract = getattr(attr_meta, 'abstract', False)
102.         meta = attr_meta or getattr(new_class, 'Meta', None)
103.         base_meta = getattr(new_class, '_meta', None)
104. 
105.         app_label = None
106. 
107.         # Look for an application configuration to attach the model to.
108.         app_config = apps.get_containing_app_config(module)
109. 
110.         if getattr(meta, 'app_label', None) is None:
111.             if app_config is None:
112.                 if not abstract:
113.                     raise RuntimeError(
114.                         "Model class %s.%s doesn't declare an explicit "
115.                         "app_label and isn't in an application in "
116.                         "INSTALLED_APPS." % (module, name)
117.                     )
118. 
119.             else:
120.                 app_label = app_config.label
121. 
122.         new_class.add_to_class('_meta', Options(meta, app_label))
123.         if not abstract:
124.             new_class.add_to_class(
125.                 'DoesNotExist',
126.                 subclass_exception(
127.                     'DoesNotExist',
128.                     tuple(
129.                         x.DoesNotExist for x in parents if hasattr(x, '_meta') and not x._meta.abstract
130.                     ) or (ObjectDoesNotExist,),
131.                     module,
132.                     attached_to=new_class))
133.             new_class.add_to_class(
134.                 'MultipleObjectsReturned',
135.                 subclass_exception(
136.                     'MultipleObjectsReturned',
137.                     tuple(
138.                         x.MultipleObjectsReturned for x in parents if hasattr(x, '_meta') and not x._meta.abstract
139.                     ) or (MultipleObjectsReturned,),
140.                     module,
141.                     attached_to=new_class))
142.             if base_meta and not base_meta.abstract:
143.                 # Non-abstract child classes inherit some attributes from their
144.                 # non-abstract parent (unless an ABC comes before it in the
145.                 # method resolution order).
146.                 if not hasattr(meta, 'ordering'):
147.                     new_class._meta.ordering = base_meta.ordering
148.                 if not hasattr(meta, 'get_latest_by'):
149.                     new_class._meta.get_latest_by = base_meta.get_latest_by
150. 
151.         is_proxy = new_class._meta.proxy
152. 
153.         # If the model is a proxy, ensure that the base class
154.         # hasn't been swapped out.
155.         if is_proxy and base_meta and base_meta.swapped:
156.             raise TypeError("%s cannot proxy the swapped model '%s'." % (name, base_meta.swapped))
157. 
158.         # Add remaining attributes (those with a contribute_to_class() method)
159.         # to the class.
160.         for obj_name, obj in contributable_attrs.items():
161.             new_class.add_to_class(obj_name, obj)
162. 
163.         # All the fields of any type declared on this model
164.         new_fields = chain(
165.             new_class._meta.local_fields,
166.             new_class._meta.local_many_to_many,
167.             new_class._meta.private_fields
168.         )
169.         field_names = {f.name for f in new_fields}
170. 
171.         # Basic setup for proxy models.
172.         if is_proxy:
173.             base = None
174.             for parent in [kls for kls in parents if hasattr(kls, '_meta')]:
175.                 if parent._meta.abstract:
176.                     if parent._meta.fields:
177.                         raise TypeError(
178.                             "Abstract base class containing model fields not "
179.                             "permitted for proxy model '%s'." % name
180.                         )
181.                     else:
182.                         continue
183.                 if base is None:
184.                     base = parent
185.                 elif parent._meta.concrete_model is not base._meta.concrete_model:
186.                     raise TypeError("Proxy model '%s' has more than one non-abstract model base class." % name)
187.             if base is None:
188.                 raise TypeError("Proxy model '%s' has no non-abstract model base class." % name)
189.             new_class._meta.setup_proxy(base)
190.             new_class._meta.concrete_model = base._meta.concrete_model
191.         else:
192.             new_class._meta.concrete_model = new_class
193. 
194.         # Collect the parent links for multi-table inheritance.
195.         parent_links = {}
196.         for base in reversed([new_class] + parents):
197.             # Conceptually equivalent to `if base is Model`.
198.             if not hasattr(base, '_meta'):
199.                 continue
200.             # Skip concrete parent classes.
201.             if base != new_class and not base._meta.abstract:
202.                 continue
203.             # Locate OneToOneField instances.
204.             for field in base._meta.local_fields:
205.                 if isinstance(field, OneToOneField) and field.remote_field.parent_link:
206.                     related = resolve_relation(new_class, field.remote_field.model)
207.                     parent_links[make_model_tuple(related)] = field
208. 
209.         # Track fields inherited from base models.
210.         inherited_attributes = set()
211.         # Do the appropriate setup for any model parents.
212.         for base in new_class.mro():
213.             if base not in parents or not hasattr(base, '_meta'):
214.                 # Things without _meta aren't functional models, so they're
215.                 # uninteresting parents.
216.                 inherited_attributes.update(base.__dict__)
217.                 continue
218. 
219.             parent_fields = base._meta.local_fields + base._meta.local_many_to_many
220.             if not base._meta.abstract:
221.                 # Check for clashes between locally declared fields and those
222.                 # on the base classes.
223.                 for field in parent_fields:
224.                     if field.name in field_names:
225.                         raise FieldError(
226.                             'Local field %r in class %r clashes with field of '
227.                             'the same name from base class %r.' % (
228.                                 field.name,
229.                                 name,
230.                                 base.__name__,
231.                             )
232.                         )
233.                     else:
234.                         inherited_attributes.add(field.name)
235. 
236.                 # Concrete classes...
237.                 base = base._meta.concrete_model
238.                 base_key = make_model_tuple(base)
239.                 if base_key in parent_links:
240.                     field = parent_links[base_key]
241.                 elif not is_proxy:
242.                     attr_name = '%s_ptr' % base._meta.model_name
243.                     field = OneToOneField(
244.                         base,
245.                         on_delete=CASCADE,
246.                         name=attr_name,
247.                         auto_created=True,
248.                         parent_link=True,
249.                     )
250. 
251.                     if attr_name in field_names:
252.                         raise FieldError(
253.                             "Auto-generated field '%s' in class %r for "
254.                             "parent_link to base class %r clashes with "
255.                             "declared field of the same name." % (
256.                                 attr_name,
257.                                 name,
258.                                 base.__name__,
259.                             )
260.                         )
261. 
262.                     # Only add the ptr field if it's not already present;
263.                     # e.g. migrations will already have it specified
264.                     if not hasattr(new_class, attr_name):
265.                         new_class.add_to_class(attr_name, field)
266.                 else:
267.                     field = None
268.                 new_class._meta.parents[base] = field
269.             else:
270.                 base_parents = base._meta.parents.copy()
271. 
272.                 # Add fields from abstract base class if it wasn't overridden.
273.                 for field in parent_fields:
274.                     if (field.name not in field_names and
275.                             field.name not in new_class.__dict__ and
276.                             field.name not in inherited_attributes):
277.                         new_field = copy.deepcopy(field)
278.                         new_class.add_to_class(field.name, new_field)
279.                         # Replace parent links defined on this base by the new
280.                         # field. It will be appropriately resolved if required.
281.                         if field.one_to_one:
282.                             for parent, parent_link in base_parents.items():
283.                                 if field == parent_link:
284.                                     base_parents[parent] = new_field
285. 
286.                 # Pass any non-abstract parent classes onto child.
287.                 new_class._meta.parents.update(base_parents)
288. 
289.             # Inherit private fields (like GenericForeignKey) from the parent
290.             # class
291.             for field in base._meta.private_fields:
292.                 if field.name in field_names:
293.                     if not base._meta.abstract:
294.                         raise FieldError(
295.                             'Local field %r in class %r clashes with field of '
296.                             'the same name from base class %r.' % (
297.                                 field.name,
298.                                 name,
299.                                 base.__name__,
300.                             )
301.                         )
302.                 else:
303.                     field = copy.deepcopy(field)
304.                     if not base._meta.abstract:
305.                         field.mti_inherited = True
306.                     new_class.add_to_class(field.name, field)
307. 
308.         # Copy indexes so that index names are unique when models extend an
309.         # abstract model.
310.         new_class._meta.indexes = [copy.deepcopy(idx) for idx in new_class._meta.indexes]
311. 
312.         if abstract:
313.             # Abstract base models can't be instantiated and don't appear in
314.             # the list of models for an app. We do the final setup for them a
315.             # little differently from normal models.
316.             attr_meta.abstract = False
317.             new_class.Meta = attr_meta
318.             return new_class
319. 
320.         new_class._prepare()
321.         new_class._meta.apps.register_model(new_class._meta.app_label, new_class)
322.         return new_class
323. 
324.     def add_to_class(cls, name, value):
325.         if _has_contribute_to_class(value):
326.             value.contribute_to_class(cls, name)
327.         else:
328.             setattr(cls, name, value)
329. 
330.     def _prepare(cls):
331.         """Create some methods once self._meta has been populated."""
332.         opts = cls._meta
333.         opts._prepare(cls)
334. 
335.         if opts.order_with_respect_to:
336.             cls.get_next_in_order = partialmethod(cls._get_next_or_previous_in_order, is_next=True)
337.             cls.get_previous_in_order = partialmethod(cls._get_next_or_previous_in_order, is_next=False)
338. 
339.             # Defer creating accessors on the foreign class until it has been
340.             # created and registered. If remote_field is None, we're ordering
341.             # with respect to a GenericForeignKey and don't know what the
342.             # foreign class is - we'll add those accessors later in
343.             # contribute_to_class().
344.             if opts.order_with_respect_to.remote_field:
345.                 wrt = opts.order_with_respect_to
346.                 remote = wrt.remote_field.model
347.                 lazy_related_operation(make_foreign_order_accessors, cls, remote)
348. 
349.         # Give the class a docstring -- its definition.
350.         if cls.__doc__ is None:
351.             cls.__doc__ = "%s(%s)" % (cls.__name__, ", ".join(f.name for f in opts.fields))
352. 
353.         get_absolute_url_override = settings.ABSOLUTE_URL_OVERRIDES.get(opts.label_lower)
354.         if get_absolute_url_override:
355.             setattr(cls, 'get_absolute_url', get_absolute_url_override)
356. 
357.         if not opts.managers:
358.             if any(f.name == 'objects' for f in opts.fields):
359.                 raise ValueError(
360.                     "Model %s must specify a custom Manager, because it has a "
361.                     "field named 'objects'." % cls.__name__
362.                 )
363.             manager = Manager()
364.             manager.auto_created = True
365.             cls.add_to_class('objects', manager)
366. 
367.         # Set the name of _meta.indexes. This can't be done in
368.         # Options.contribute_to_class() because fields haven't been added to
369.         # the model at that point.
370.         for index in cls._meta.indexes:
371.             if not index.name:
372.                 index.set_name_with_model(cls)
373. 
374.         class_prepared.send(sender=cls)
375. 
376.     @property
377.     def _base_manager(cls):
378.         return cls._meta.base_manager
379. 
380.     @property
381.     def _default_manager(cls):
382.         return cls._meta.default_manager
383. 
384. 
385. class ModelStateFieldsCacheDescriptor:
386.     def __get__(self, instance, cls=None):
387.         if instance is None:
388.             return self
389.         res = instance.fields_cache = {}
390.         return res
391. 
392. 
393. class ModelState:
394.     """Store model instance state."""
395.     db = None
396.     # If true, uniqueness validation checks will consider this a new, unsaved
397.     # object. Necessary for correct validation of new instances of objects with
398.     # explicit (non-auto) PKs. This impacts validation only; it has no effect
399.     # on the actual save.
400.     adding = True
401.     fields_cache = ModelStateFieldsCacheDescriptor()
402. 
403. 
404. class Model(metaclass=ModelBase):
405. 
406.     def __init__(self, *args, **kwargs):
407.         # Alias some things as locals to avoid repeat global lookups
408.         cls = self.__class__
409.         opts = self._meta
410.         _setattr = setattr
411.         _DEFERRED = DEFERRED
412.         if opts.abstract:
413.             raise TypeError('Abstract models cannot be instantiated.')
414. 
415.         pre_init.send(sender=cls, args=args, kwargs=kwargs)
416. 
417.         # Set up the storage for instance state
418.         self._state = ModelState()
419. 
420.         # There is a rather weird disparity here; if kwargs, it's set, then args
421.         # overrides it. It should be one or the other; don't duplicate the work
422.         # The reason for the kwargs check is that standard iterator passes in by
423.         # args, and instantiation for iteration is 33% faster.
424.         if len(args) > len(opts.concrete_fields):
425.             # Daft, but matches old exception sans the err msg.
426.             raise IndexError("Number of args exceeds number of fields")
427. 
428.         if not kwargs:
429.             fields_iter = iter(opts.concrete_fields)
430.             # The ordering of the zip calls matter - zip throws StopIteration
431.             # when an iter throws it. So if the first iter throws it, the second
432.             # is *not* consumed. We rely on this, so don't change the order
433.             # without changing the logic.
434.             for val, field in zip(args, fields_iter):
435.                 if val is _DEFERRED:
436.                     continue
437.                 _setattr(self, field.attname, val)
438.         else:
439.             # Slower, kwargs-ready version.
440.             fields_iter = iter(opts.fields)
441.             for val, field in zip(args, fields_iter):
442.                 if val is _DEFERRED:
443.                     continue
444.                 _setattr(self, field.attname, val)
445.                 kwargs.pop(field.name, None)
446. 
447.         # Now we're left with the unprocessed fields that *must* come from
448.         # keywords, or default.
449. 
450.         for field in fields_iter:
451.             is_related_object = False
452.             # Virtual field
453.             if field.attname not in kwargs and field.column is None:
454.                 continue
455.             if kwargs:
456.                 if isinstance(field.remote_field, ForeignObjectRel):
457.                     try:
458.                         # Assume object instance was passed in.
459.                         rel_obj = kwargs.pop(field.name)
460.                         is_related_object = True
461.                     except KeyError:
462.                         try:
463.                             # Object instance wasn't passed in -- must be an ID.
464.                             val = kwargs.pop(field.attname)
465.                         except KeyError:
466.                             val = field.get_default()
467.                 else:
468.                     try:
469.                         val = kwargs.pop(field.attname)
470.                     except KeyError:
471.                         # This is done with an exception rather than the
472.                         # default argument on pop because we don't want
473.                         # get_default() to be evaluated, and then not used.
474.                         # Refs #12057.
475.                         val = field.get_default()
476.             else:
477.                 val = field.get_default()
478. 
479.             if is_related_object:
480.                 # If we are passed a related instance, set it using the
481.                 # field.name instead of field.attname (e.g. "user" instead of
482.                 # "user_id") so that the object gets properly cached (and type
483.                 # checked) by the RelatedObjectDescriptor.
484.                 if rel_obj is not _DEFERRED:
485.                     _setattr(self, field.name, rel_obj)
486.             else:
487.                 if val is not _DEFERRED:
488.                     _setattr(self, field.attname, val)
489. 
490.         if kwargs:
491.             property_names = opts._property_names
492.             for prop in tuple(kwargs):
493.                 try:
494.                     # Any remaining kwargs must correspond to properties or
495.                     # virtual fields.
496.                     if prop in property_names or opts.get_field(prop):
497.                         if kwargs[prop] is not _DEFERRED:
498.                             _setattr(self, prop, kwargs[prop])
499.                         del kwargs[prop]
500.                 except (AttributeError, FieldDoesNotExist):


File: django/db/models/base.py
Line number range: 501 - 1001
Content:
501.                     pass
502.             for kwarg in kwargs:
503.                 raise TypeError("%s() got an unexpected keyword argument '%s'" % (cls.__name__, kwarg))
504.         super().__init__()
505.         post_init.send(sender=cls, instance=self)
506. 
507.     @classmethod
508.     def from_db(cls, db, field_names, values):
509.         if len(values) != len(cls._meta.concrete_fields):
510.             values_iter = iter(values)
511.             values = [
512.                 next(values_iter) if f.attname in field_names else DEFERRED
513.                 for f in cls._meta.concrete_fields
514.             ]
515.         new = cls(*values)
516.         new._state.adding = False
517.         new._state.db = db
518.         return new
519. 
520.     def __repr__(self):
521.         return '<%s: %s>' % (self.__class__.__name__, self)
522. 
523.     def __str__(self):
524.         return '%s object (%s)' % (self.__class__.__name__, self.pk)
525. 
526.     def __eq__(self, other):
527.         if not isinstance(other, Model):
528.             return NotImplemented
529.         if self._meta.concrete_model != other._meta.concrete_model:
530.             return False
531.         my_pk = self.pk
532.         if my_pk is None:
533.             return self is other
534.         return my_pk == other.pk
535. 
536.     def __hash__(self):
537.         if self.pk is None:
538.             raise TypeError("Model instances without primary key value are unhashable")
539.         return hash(self.pk)
540. 
541.     def __reduce__(self):
542.         data = self.__getstate__()
543.         data[DJANGO_VERSION_PICKLE_KEY] = django.__version__
544.         class_id = self._meta.app_label, self._meta.object_name
545.         return model_unpickle, (class_id,), data
546. 
547.     def __getstate__(self):
548.         """Hook to allow choosing the attributes to pickle."""
549.         state = self.__dict__.copy()
550.         state['_state'] = copy.copy(state['_state'])
551.         state['_state'].fields_cache = state['_state'].fields_cache.copy()
552.         return state
553. 
554.     def __setstate__(self, state):
555.         pickled_version = state.get(DJANGO_VERSION_PICKLE_KEY)
556.         if pickled_version:
557.             if pickled_version != django.__version__:
558.                 warnings.warn(
559.                     "Pickled model instance's Django version %s does not "
560.                     "match the current version %s."
561.                     % (pickled_version, django.__version__),
562.                     RuntimeWarning,
563.                     stacklevel=2,
564.                 )
565.         else:
566.             warnings.warn(
567.                 "Pickled model instance's Django version is not specified.",
568.                 RuntimeWarning,
569.                 stacklevel=2,
570.             )
571.         self.__dict__.update(state)
572. 
573.     def _get_pk_val(self, meta=None):
574.         meta = meta or self._meta
575.         return getattr(self, meta.pk.attname)
576. 
577.     def _set_pk_val(self, value):
578.         for parent_link in self._meta.parents.values():
579.             if parent_link and parent_link != self._meta.pk:
580.                 setattr(self, parent_link.target_field.attname, value)
581.         return setattr(self, self._meta.pk.attname, value)
582. 
583.     pk = property(_get_pk_val, _set_pk_val)
584. 
585.     def get_deferred_fields(self):
586.         """
587.         Return a set containing names of deferred fields for this instance.
588.         """
589.         return {
590.             f.attname for f in self._meta.concrete_fields
591.             if f.attname not in self.__dict__
592.         }
593. 
594.     def refresh_from_db(self, using=None, fields=None):
595.         """
596.         Reload field values from the database.
597. 
598.         By default, the reloading happens from the database this instance was
599.         loaded from, or by the read router if this instance wasn't loaded from
600.         any database. The using parameter will override the default.
601. 
602.         Fields can be used to specify which fields to reload. The fields
603.         should be an iterable of field attnames. If fields is None, then
604.         all non-deferred fields are reloaded.
605. 
606.         When accessing deferred fields of an instance, the deferred loading
607.         of the field will call this method.
608.         """
609.         if fields is None:
610.             self._prefetched_objects_cache = {}
611.         else:
612.             prefetched_objects_cache = getattr(self, '_prefetched_objects_cache', ())
613.             for field in fields:
614.                 if field in prefetched_objects_cache:
615.                     del prefetched_objects_cache[field]
616.                     fields.remove(field)
617.             if not fields:
618.                 return
619.             if any(LOOKUP_SEP in f for f in fields):
620.                 raise ValueError(
621.                     'Found "%s" in fields argument. Relations and transforms '
622.                     'are not allowed in fields.' % LOOKUP_SEP)
623. 
624.         hints = {'instance': self}
625.         db_instance_qs = self.__class__._base_manager.db_manager(using, hints=hints).filter(pk=self.pk)
626. 
627.         # Use provided fields, if not set then reload all non-deferred fields.
628.         deferred_fields = self.get_deferred_fields()
629.         if fields is not None:
630.             fields = list(fields)
631.             db_instance_qs = db_instance_qs.only(*fields)
632.         elif deferred_fields:
633.             fields = [f.attname for f in self._meta.concrete_fields
634.                       if f.attname not in deferred_fields]
635.             db_instance_qs = db_instance_qs.only(*fields)
636. 
637.         db_instance = db_instance_qs.get()
638.         non_loaded_fields = db_instance.get_deferred_fields()
639.         for field in self._meta.concrete_fields:
640.             if field.attname in non_loaded_fields:
641.                 # This field wasn't refreshed - skip ahead.
642.                 continue
643.             setattr(self, field.attname, getattr(db_instance, field.attname))
644.             # Clear cached foreign keys.
645.             if field.is_relation and field.is_cached(self):
646.                 field.delete_cached_value(self)
647. 
648.         # Clear cached relations.
649.         for field in self._meta.related_objects:
650.             if field.is_cached(self):
651.                 field.delete_cached_value(self)
652. 
653.         self._state.db = db_instance._state.db
654. 
655.     def serializable_value(self, field_name):
656.         """
657.         Return the value of the field name for this instance. If the field is
658.         a foreign key, return the id value instead of the object. If there's
659.         no Field object with this name on the model, return the model
660.         attribute's value.
661. 
662.         Used to serialize a field's value (in the serializer, or form output,
663.         for example). Normally, you would just access the attribute directly
664.         and not use this method.
665.         """
666.         try:
667.             field = self._meta.get_field(field_name)
668.         except FieldDoesNotExist:
669.             return getattr(self, field_name)
670.         return getattr(self, field.attname)
671. 
672.     def save(self, force_insert=False, force_update=False, using=None,
673.              update_fields=None):
674.         """
675.         Save the current instance. Override this in a subclass if you want to
676.         control the saving process.
677. 
678.         The 'force_insert' and 'force_update' parameters can be used to insist
679.         that the "save" must be an SQL insert or update (or equivalent for
680.         non-SQL backends), respectively. Normally, they should not be set.
681.         """
682.         self._prepare_related_fields_for_save(operation_name='save')
683. 
684.         using = using or router.db_for_write(self.__class__, instance=self)
685.         if force_insert and (force_update or update_fields):
686.             raise ValueError("Cannot force both insert and updating in model saving.")
687. 
688.         deferred_fields = self.get_deferred_fields()
689.         if update_fields is not None:
690.             # If update_fields is empty, skip the save. We do also check for
691.             # no-op saves later on for inheritance cases. This bailout is
692.             # still needed for skipping signal sending.
693.             if not update_fields:
694.                 return
695. 
696.             update_fields = frozenset(update_fields)
697.             field_names = set()
698. 
699.             for field in self._meta.concrete_fields:
700.                 if not field.primary_key:
701.                     field_names.add(field.name)
702. 
703.                     if field.name != field.attname:
704.                         field_names.add(field.attname)
705. 
706.             non_model_fields = update_fields.difference(field_names)
707. 
708.             if non_model_fields:
709.                 raise ValueError(
710.                     'The following fields do not exist in this model, are m2m '
711.                     'fields, or are non-concrete fields: %s'
712.                     % ', '.join(non_model_fields)
713.                 )
714. 
715.         # If saving to the same database, and this model is deferred, then
716.         # automatically do an "update_fields" save on the loaded fields.
717.         elif not force_insert and deferred_fields and using == self._state.db:
718.             field_names = set()
719.             for field in self._meta.concrete_fields:
720.                 if not field.primary_key and not hasattr(field, 'through'):
721.                     field_names.add(field.attname)
722.             loaded_fields = field_names.difference(deferred_fields)
723.             if loaded_fields:
724.                 update_fields = frozenset(loaded_fields)
725. 
726.         self.save_base(using=using, force_insert=force_insert,
727.                        force_update=force_update, update_fields=update_fields)
728.     save.alters_data = True
729. 
730.     def save_base(self, raw=False, force_insert=False,
731.                   force_update=False, using=None, update_fields=None):
732.         """
733.         Handle the parts of saving which should be done only once per save,
734.         yet need to be done in raw saves, too. This includes some sanity
735.         checks and signal sending.
736. 
737.         The 'raw' argument is telling save_base not to save any parent
738.         models and not to do any changes to the values before save. This
739.         is used by fixture loading.
740.         """
741.         using = using or router.db_for_write(self.__class__, instance=self)
742.         assert not (force_insert and (force_update or update_fields))
743.         assert update_fields is None or update_fields
744.         cls = origin = self.__class__
745.         # Skip proxies, but keep the origin as the proxy model.
746.         if cls._meta.proxy:
747.             cls = cls._meta.concrete_model
748.         meta = cls._meta
749.         if not meta.auto_created:
750.             pre_save.send(
751.                 sender=origin, instance=self, raw=raw, using=using,
752.                 update_fields=update_fields,
753.             )
754.         # A transaction isn't needed if one query is issued.
755.         if meta.parents:
756.             context_manager = transaction.atomic(using=using, savepoint=False)
757.         else:
758.             context_manager = transaction.mark_for_rollback_on_error(using=using)
759.         with context_manager:
760.             parent_inserted = False
761.             if not raw:
762.                 parent_inserted = self._save_parents(cls, using, update_fields)
763.             updated = self._save_table(
764.                 raw, cls, force_insert or parent_inserted,
765.                 force_update, using, update_fields,
766.             )
767.         # Store the database on which the object was saved
768.         self._state.db = using
769.         # Once saved, this is no longer a to-be-added instance.
770.         self._state.adding = False
771. 
772.         # Signal that the save is complete
773.         if not meta.auto_created:
774.             post_save.send(
775.                 sender=origin, instance=self, created=(not updated),
776.                 update_fields=update_fields, raw=raw, using=using,
777.             )
778. 
779.     save_base.alters_data = True
780. 
781.     def _save_parents(self, cls, using, update_fields):
782.         """Save all the parents of cls using values from self."""
783.         meta = cls._meta
784.         inserted = False
785.         for parent, field in meta.parents.items():
786.             # Make sure the link fields are synced between parent and self.
787.             if (field and getattr(self, parent._meta.pk.attname) is None and
788.                     getattr(self, field.attname) is not None):
789.                 setattr(self, parent._meta.pk.attname, getattr(self, field.attname))
790.             parent_inserted = self._save_parents(cls=parent, using=using, update_fields=update_fields)
791.             updated = self._save_table(
792.                 cls=parent, using=using, update_fields=update_fields,
793.                 force_insert=parent_inserted,
794.             )
795.             if not updated:
796.                 inserted = True
797.             # Set the parent's PK value to self.
798.             if field:
799.                 setattr(self, field.attname, self._get_pk_val(parent._meta))
800.                 # Since we didn't have an instance of the parent handy set
801.                 # attname directly, bypassing the descriptor. Invalidate
802.                 # the related object cache, in case it's been accidentally
803.                 # populated. A fresh instance will be re-built from the
804.                 # database if necessary.
805.                 if field.is_cached(self):
806.                     field.delete_cached_value(self)
807.         return inserted
808. 
809.     def _save_table(self, raw=False, cls=None, force_insert=False,
810.                     force_update=False, using=None, update_fields=None):
811.         """
812.         Do the heavy-lifting involved in saving. Update or insert the data
813.         for a single table.
814.         """
815.         meta = cls._meta
816.         non_pks = [f for f in meta.local_concrete_fields if not f.primary_key]
817. 
818.         if update_fields:
819.             non_pks = [f for f in non_pks
820.                        if f.name in update_fields or f.attname in update_fields]
821. 
822.         pk_val = self._get_pk_val(meta)
823.         if pk_val is None:
824.             pk_val = meta.pk.get_pk_value_on_save(self)
825.             setattr(self, meta.pk.attname, pk_val)
826.         pk_set = pk_val is not None
827.         if not pk_set and (force_update or update_fields):
828.             raise ValueError("Cannot force an update in save() with no primary key.")
829.         updated = False
830.         # Skip an UPDATE when adding an instance and primary key has a default.
831.         if (
832.             not raw and
833.             not force_insert and
834.             self._state.adding and
835.             meta.pk.default and
836.             meta.pk.default is not NOT_PROVIDED
837.         ):
838.             force_insert = True
839.         # If possible, try an UPDATE. If that doesn't update anything, do an INSERT.
840.         if pk_set and not force_insert:
841.             base_qs = cls._base_manager.using(using)
842.             values = [(f, None, (getattr(self, f.attname) if raw else f.pre_save(self, False)))
843.                       for f in non_pks]
844.             forced_update = update_fields or force_update
845.             updated = self._do_update(base_qs, using, pk_val, values, update_fields,
846.                                       forced_update)
847.             if force_update and not updated:
848.                 raise DatabaseError("Forced update did not affect any rows.")
849.             if update_fields and not updated:
850.                 raise DatabaseError("Save with update_fields did not affect any rows.")
851.         if not updated:
852.             if meta.order_with_respect_to:
853.                 # If this is a model with an order_with_respect_to
854.                 # autopopulate the _order field
855.                 field = meta.order_with_respect_to
856.                 filter_args = field.get_filter_kwargs_for_object(self)
857.                 self._order = cls._base_manager.using(using).filter(**filter_args).aggregate(
858.                     _order__max=Coalesce(
859.                         ExpressionWrapper(Max('_order') + Value(1), output_field=IntegerField()),
860.                         Value(0),
861.                     ),
862.                 )['_order__max']
863.             fields = meta.local_concrete_fields
864.             if not pk_set:
865.                 fields = [f for f in fields if f is not meta.auto_field]
866. 
867.             returning_fields = meta.db_returning_fields
868.             results = self._do_insert(cls._base_manager, using, fields, returning_fields, raw)
869.             if results:
870.                 for value, field in zip(results[0], returning_fields):
871.                     setattr(self, field.attname, value)
872.         return updated
873. 
874.     def _do_update(self, base_qs, using, pk_val, values, update_fields, forced_update):
875.         """
876.         Try to update the model. Return True if the model was updated (if an
877.         update query was done and a matching row was found in the DB).
878.         """
879.         filtered = base_qs.filter(pk=pk_val)
880.         if not values:
881.             # We can end up here when saving a model in inheritance chain where
882.             # update_fields doesn't target any field in current model. In that
883.             # case we just say the update succeeded. Another case ending up here
884.             # is a model with just PK - in that case check that the PK still
885.             # exists.
886.             return update_fields is not None or filtered.exists()
887.         if self._meta.select_on_save and not forced_update:
888.             return (
889.                 filtered.exists() and
890.                 # It may happen that the object is deleted from the DB right after
891.                 # this check, causing the subsequent UPDATE to return zero matching
892.                 # rows. The same result can occur in some rare cases when the
893.                 # database returns zero despite the UPDATE being executed
894.                 # successfully (a row is matched and updated). In order to
895.                 # distinguish these two cases, the object's existence in the
896.                 # database is again checked for if the UPDATE query returns 0.
897.                 (filtered._update(values) > 0 or filtered.exists())
898.             )
899.         return filtered._update(values) > 0
900. 
901.     def _do_insert(self, manager, using, fields, returning_fields, raw):
902.         """
903.         Do an INSERT. If returning_fields is defined then this method should
904.         return the newly created data for the model.
905.         """
906.         return manager._insert(
907.             [self], fields=fields, returning_fields=returning_fields,
908.             using=using, raw=raw,
909.         )
910. 
911.     def _prepare_related_fields_for_save(self, operation_name):
912.         # Ensure that a model instance without a PK hasn't been assigned to
913.         # a ForeignKey or OneToOneField on this model. If the field is
914.         # nullable, allowing the save would result in silent data loss.
915.         for field in self._meta.concrete_fields:
916.             # If the related field isn't cached, then an instance hasn't been
917.             # assigned and there's no need to worry about this check.
918.             if field.is_relation and field.is_cached(self):
919.                 obj = getattr(self, field.name, None)
920.                 if not obj:
921.                     continue
922.                 # A pk may have been assigned manually to a model instance not
923.                 # saved to the database (or auto-generated in a case like
924.                 # UUIDField), but we allow the save to proceed and rely on the
925.                 # database to raise an IntegrityError if applicable. If
926.                 # constraints aren't supported by the database, there's the
927.                 # unavoidable risk of data corruption.
928.                 if obj.pk is None:
929.                     # Remove the object from a related instance cache.
930.                     if not field.remote_field.multiple:
931.                         field.remote_field.delete_cached_value(obj)
932.                     raise ValueError(
933.                         "%s() prohibited to prevent data loss due to unsaved "
934.                         "related object '%s'." % (operation_name, field.name)
935.                     )
936.                 elif getattr(self, field.attname) is None:
937.                     # Use pk from related object if it has been saved after
938.                     # an assignment.
939.                     setattr(self, field.attname, obj.pk)
940.                 # If the relationship's pk/to_field was changed, clear the
941.                 # cached relationship.
942.                 if getattr(obj, field.target_field.attname) != getattr(self, field.attname):
943.                     field.delete_cached_value(self)
944. 
945.     def delete(self, using=None, keep_parents=False):
946.         using = using or router.db_for_write(self.__class__, instance=self)
947.         assert self.pk is not None, (
948.             "%s object can't be deleted because its %s attribute is set to None." %
949.             (self._meta.object_name, self._meta.pk.attname)
950.         )
951. 
952.         collector = Collector(using=using)
953.         collector.collect([self], keep_parents=keep_parents)
954.         return collector.delete()
955. 
956.     delete.alters_data = True
957. 
958.     def _get_FIELD_display(self, field):
959.         value = getattr(self, field.attname)
960.         choices_dict = dict(make_hashable(field.flatchoices))
961.         # force_str() to coerce lazy strings.
962.         return force_str(choices_dict.get(make_hashable(value), value), strings_only=True)
963. 
964.     def _get_next_or_previous_by_FIELD(self, field, is_next, **kwargs):
965.         if not self.pk:
966.             raise ValueError("get_next/get_previous cannot be used on unsaved objects.")
967.         op = 'gt' if is_next else 'lt'
968.         order = '' if is_next else '-'
969.         param = getattr(self, field.attname)
970.         q = Q(**{'%s__%s' % (field.name, op): param})
971.         q = q | Q(**{field.name: param, 'pk__%s' % op: self.pk})
972.         qs = self.__class__._default_manager.using(self._state.db).filter(**kwargs).filter(q).order_by(
973.             '%s%s' % (order, field.name), '%spk' % order
974.         )
975.         try:
976.             return qs[0]
977.         except IndexError:
978.             raise self.DoesNotExist("%s matching query does not exist." % self.__class__._meta.object_name)
979. 
980.     def _get_next_or_previous_in_order(self, is_next):
981.         cachename = "__%s_order_cache" % is_next
982.         if not hasattr(self, cachename):
983.             op = 'gt' if is_next else 'lt'
984.             order = '_order' if is_next else '-_order'
985.             order_field = self._meta.order_with_respect_to
986.             filter_args = order_field.get_filter_kwargs_for_object(self)
987.             obj = self.__class__._default_manager.filter(**filter_args).filter(**{
988.                 '_order__%s' % op: self.__class__._default_manager.values('_order').filter(**{
989.                     self._meta.pk.name: self.pk
990.                 })
991.             }).order_by(order)[:1].get()
992.             setattr(self, cachename, obj)
993.         return getattr(self, cachename)
994. 
995.     def prepare_database_save(self, field):
996.         if self.pk is None:
997.             raise ValueError("Unsaved model instance %r cannot be used in an ORM query." % self)
998.         return getattr(self, field.remote_field.get_related_field().attname)
999. 
1000.     def clean(self):
1001.         """


File: django/db/models/base.py
Line number range: 1002 - 1501
Content:
1002.         Hook for doing any extra model-wide validation after clean() has been
1003.         called on every field by self.clean_fields. Any ValidationError raised
1004.         by this method will not be associated with a particular field; it will
1005.         have a special-case association with the field defined by NON_FIELD_ERRORS.
1006.         """
1007.         pass
1008. 
1009.     def validate_unique(self, exclude=None):
1010.         """
1011.         Check unique constraints on the model and raise ValidationError if any
1012.         failed.
1013.         """
1014.         unique_checks, date_checks = self._get_unique_checks(exclude=exclude)
1015. 
1016.         errors = self._perform_unique_checks(unique_checks)
1017.         date_errors = self._perform_date_checks(date_checks)
1018. 
1019.         for k, v in date_errors.items():
1020.             errors.setdefault(k, []).extend(v)
1021. 
1022.         if errors:
1023.             raise ValidationError(errors)
1024. 
1025.     def _get_unique_checks(self, exclude=None):
1026.         """
1027.         Return a list of checks to perform. Since validate_unique() could be
1028.         called from a ModelForm, some fields may have been excluded; we can't
1029.         perform a unique check on a model that is missing fields involved
1030.         in that check. Fields that did not validate should also be excluded,
1031.         but they need to be passed in via the exclude argument.
1032.         """
1033.         if exclude is None:
1034.             exclude = []
1035.         unique_checks = []
1036. 
1037.         unique_togethers = [(self.__class__, self._meta.unique_together)]
1038.         constraints = [(self.__class__, self._meta.total_unique_constraints)]
1039.         for parent_class in self._meta.get_parent_list():
1040.             if parent_class._meta.unique_together:
1041.                 unique_togethers.append((parent_class, parent_class._meta.unique_together))
1042.             if parent_class._meta.total_unique_constraints:
1043.                 constraints.append(
1044.                     (parent_class, parent_class._meta.total_unique_constraints)
1045.                 )
1046. 
1047.         for model_class, unique_together in unique_togethers:
1048.             for check in unique_together:
1049.                 if not any(name in exclude for name in check):
1050.                     # Add the check if the field isn't excluded.
1051.                     unique_checks.append((model_class, tuple(check)))
1052. 
1053.         for model_class, model_constraints in constraints:
1054.             for constraint in model_constraints:
1055.                 if not any(name in exclude for name in constraint.fields):
1056.                     unique_checks.append((model_class, constraint.fields))
1057. 
1058.         # These are checks for the unique_for_<date/year/month>.
1059.         date_checks = []
1060. 
1061.         # Gather a list of checks for fields declared as unique and add them to
1062.         # the list of checks.
1063. 
1064.         fields_with_class = [(self.__class__, self._meta.local_fields)]
1065.         for parent_class in self._meta.get_parent_list():
1066.             fields_with_class.append((parent_class, parent_class._meta.local_fields))
1067. 
1068.         for model_class, fields in fields_with_class:
1069.             for f in fields:
1070.                 name = f.name
1071.                 if name in exclude:
1072.                     continue
1073.                 if f.unique:
1074.                     unique_checks.append((model_class, (name,)))
1075.                 if f.unique_for_date and f.unique_for_date not in exclude:
1076.                     date_checks.append((model_class, 'date', name, f.unique_for_date))
1077.                 if f.unique_for_year and f.unique_for_year not in exclude:
1078.                     date_checks.append((model_class, 'year', name, f.unique_for_year))
1079.                 if f.unique_for_month and f.unique_for_month not in exclude:
1080.                     date_checks.append((model_class, 'month', name, f.unique_for_month))
1081.         return unique_checks, date_checks
1082. 
1083.     def _perform_unique_checks(self, unique_checks):
1084.         errors = {}
1085. 
1086.         for model_class, unique_check in unique_checks:
1087.             # Try to look up an existing object with the same values as this
1088.             # object's values for all the unique field.
1089. 
1090.             lookup_kwargs = {}
1091.             for field_name in unique_check:
1092.                 f = self._meta.get_field(field_name)
1093.                 lookup_value = getattr(self, f.attname)
1094.                 # TODO: Handle multiple backends with different feature flags.
1095.                 if (lookup_value is None or
1096.                         (lookup_value == '' and connection.features.interprets_empty_strings_as_nulls)):
1097.                     # no value, skip the lookup
1098.                     continue
1099.                 if f.primary_key and not self._state.adding:
1100.                     # no need to check for unique primary key when editing
1101.                     continue
1102.                 lookup_kwargs[str(field_name)] = lookup_value
1103. 
1104.             # some fields were skipped, no reason to do the check
1105.             if len(unique_check) != len(lookup_kwargs):
1106.                 continue
1107. 
1108.             qs = model_class._default_manager.filter(**lookup_kwargs)
1109. 
1110.             # Exclude the current object from the query if we are editing an
1111.             # instance (as opposed to creating a new one)
1112.             # Note that we need to use the pk as defined by model_class, not
1113.             # self.pk. These can be different fields because model inheritance
1114.             # allows single model to have effectively multiple primary keys.
1115.             # Refs #17615.
1116.             model_class_pk = self._get_pk_val(model_class._meta)
1117.             if not self._state.adding and model_class_pk is not None:
1118.                 qs = qs.exclude(pk=model_class_pk)
1119.             if qs.exists():
1120.                 if len(unique_check) == 1:
1121.                     key = unique_check[0]
1122.                 else:
1123.                     key = NON_FIELD_ERRORS
1124.                 errors.setdefault(key, []).append(self.unique_error_message(model_class, unique_check))
1125. 
1126.         return errors
1127. 
1128.     def _perform_date_checks(self, date_checks):
1129.         errors = {}
1130.         for model_class, lookup_type, field, unique_for in date_checks:
1131.             lookup_kwargs = {}
1132.             # there's a ticket to add a date lookup, we can remove this special
1133.             # case if that makes it's way in
1134.             date = getattr(self, unique_for)
1135.             if date is None:
1136.                 continue
1137.             if lookup_type == 'date':
1138.                 lookup_kwargs['%s__day' % unique_for] = date.day
1139.                 lookup_kwargs['%s__month' % unique_for] = date.month
1140.                 lookup_kwargs['%s__year' % unique_for] = date.year
1141.             else:
1142.                 lookup_kwargs['%s__%s' % (unique_for, lookup_type)] = getattr(date, lookup_type)
1143.             lookup_kwargs[field] = getattr(self, field)
1144. 
1145.             qs = model_class._default_manager.filter(**lookup_kwargs)
1146.             # Exclude the current object from the query if we are editing an
1147.             # instance (as opposed to creating a new one)
1148.             if not self._state.adding and self.pk is not None:
1149.                 qs = qs.exclude(pk=self.pk)
1150. 
1151.             if qs.exists():
1152.                 errors.setdefault(field, []).append(
1153.                     self.date_error_message(lookup_type, field, unique_for)
1154.                 )
1155.         return errors
1156. 
1157.     def date_error_message(self, lookup_type, field_name, unique_for):
1158.         opts = self._meta
1159.         field = opts.get_field(field_name)
1160.         return ValidationError(
1161.             message=field.error_messages['unique_for_date'],
1162.             code='unique_for_date',
1163.             params={
1164.                 'model': self,
1165.                 'model_name': capfirst(opts.verbose_name),
1166.                 'lookup_type': lookup_type,
1167.                 'field': field_name,
1168.                 'field_label': capfirst(field.verbose_name),
1169.                 'date_field': unique_for,
1170.                 'date_field_label': capfirst(opts.get_field(unique_for).verbose_name),
1171.             }
1172.         )
1173. 
1174.     def unique_error_message(self, model_class, unique_check):
1175.         opts = model_class._meta
1176. 
1177.         params = {
1178.             'model': self,
1179.             'model_class': model_class,
1180.             'model_name': capfirst(opts.verbose_name),
1181.             'unique_check': unique_check,
1182.         }
1183. 
1184.         # A unique field
1185.         if len(unique_check) == 1:
1186.             field = opts.get_field(unique_check[0])
1187.             params['field_label'] = capfirst(field.verbose_name)
1188.             return ValidationError(
1189.                 message=field.error_messages['unique'],
1190.                 code='unique',
1191.                 params=params,
1192.             )
1193. 
1194.         # unique_together
1195.         else:
1196.             field_labels = [capfirst(opts.get_field(f).verbose_name) for f in unique_check]
1197.             params['field_labels'] = get_text_list(field_labels, _('and'))
1198.             return ValidationError(
1199.                 message=_("%(model_name)s with this %(field_labels)s already exists."),
1200.                 code='unique_together',
1201.                 params=params,
1202.             )
1203. 
1204.     def full_clean(self, exclude=None, validate_unique=True):
1205.         """
1206.         Call clean_fields(), clean(), and validate_unique() on the model.
1207.         Raise a ValidationError for any errors that occur.
1208.         """
1209.         errors = {}
1210.         if exclude is None:
1211.             exclude = []
1212.         else:
1213.             exclude = list(exclude)
1214. 
1215.         try:
1216.             self.clean_fields(exclude=exclude)
1217.         except ValidationError as e:
1218.             errors = e.update_error_dict(errors)
1219. 
1220.         # Form.clean() is run even if other validation fails, so do the
1221.         # same with Model.clean() for consistency.
1222.         try:
1223.             self.clean()
1224.         except ValidationError as e:
1225.             errors = e.update_error_dict(errors)
1226. 
1227.         # Run unique checks, but only for fields that passed validation.
1228.         if validate_unique:
1229.             for name in errors:
1230.                 if name != NON_FIELD_ERRORS and name not in exclude:
1231.                     exclude.append(name)
1232.             try:
1233.                 self.validate_unique(exclude=exclude)
1234.             except ValidationError as e:
1235.                 errors = e.update_error_dict(errors)
1236. 
1237.         if errors:
1238.             raise ValidationError(errors)
1239. 
1240.     def clean_fields(self, exclude=None):
1241.         """
1242.         Clean all fields and raise a ValidationError containing a dict
1243.         of all validation errors if any occur.
1244.         """
1245.         if exclude is None:
1246.             exclude = []
1247. 
1248.         errors = {}
1249.         for f in self._meta.fields:
1250.             if f.name in exclude:
1251.                 continue
1252.             # Skip validation for empty fields with blank=True. The developer
1253.             # is responsible for making sure they have a valid value.
1254.             raw_value = getattr(self, f.attname)
1255.             if f.blank and raw_value in f.empty_values:
1256.                 continue
1257.             try:
1258.                 setattr(self, f.attname, f.clean(raw_value, self))
1259.             except ValidationError as e:
1260.                 errors[f.name] = e.error_list
1261. 
1262.         if errors:
1263.             raise ValidationError(errors)
1264. 
1265.     @classmethod
1266.     def check(cls, **kwargs):
1267.         errors = [*cls._check_swappable(), *cls._check_model(), *cls._check_managers(**kwargs)]
1268.         if not cls._meta.swapped:
1269.             databases = kwargs.get('databases') or []
1270.             errors += [
1271.                 *cls._check_fields(**kwargs),
1272.                 *cls._check_m2m_through_same_relationship(),
1273.                 *cls._check_long_column_names(databases),
1274.             ]
1275.             clash_errors = (
1276.                 *cls._check_id_field(),
1277.                 *cls._check_field_name_clashes(),
1278.                 *cls._check_model_name_db_lookup_clashes(),
1279.                 *cls._check_property_name_related_field_accessor_clashes(),
1280.                 *cls._check_single_primary_key(),
1281.             )
1282.             errors.extend(clash_errors)
1283.             # If there are field name clashes, hide consequent column name
1284.             # clashes.
1285.             if not clash_errors:
1286.                 errors.extend(cls._check_column_name_clashes())
1287.             errors += [
1288.                 *cls._check_index_together(),
1289.                 *cls._check_unique_together(),
1290.                 *cls._check_indexes(databases),
1291.                 *cls._check_ordering(),
1292.                 *cls._check_constraints(databases),
1293.                 *cls._check_default_pk(),
1294.             ]
1295. 
1296.         return errors
1297. 
1298.     @classmethod
1299.     def _check_default_pk(cls):
1300.         if (
1301.             cls._meta.pk.auto_created and
1302.             not settings.is_overridden('DEFAULT_AUTO_FIELD') and
1303.             not cls._meta.app_config._is_default_auto_field_overridden
1304.         ):
1305.             return [
1306.                 checks.Warning(
1307.                     f"Auto-created primary key used when not defining a "
1308.                     f"primary key type, by default "
1309.                     f"'{settings.DEFAULT_AUTO_FIELD}'.",
1310.                     hint=(
1311.                         f"Configure the DEFAULT_AUTO_FIELD setting or the "
1312.                         f"{cls._meta.app_config.__class__.__qualname__}."
1313.                         f"default_auto_field attribute to point to a subclass "
1314.                         f"of AutoField, e.g. 'django.db.models.BigAutoField'."
1315.                     ),
1316.                     obj=cls,
1317.                     id='models.W042',
1318.                 ),
1319.             ]
1320.         return []
1321. 
1322.     @classmethod
1323.     def _check_swappable(cls):
1324.         """Check if the swapped model exists."""
1325.         errors = []
1326.         if cls._meta.swapped:
1327.             try:
1328.                 apps.get_model(cls._meta.swapped)
1329.             except ValueError:
1330.                 errors.append(
1331.                     checks.Error(
1332.                         "'%s' is not of the form 'app_label.app_name'." % cls._meta.swappable,
1333.                         id='models.E001',
1334.                     )
1335.                 )
1336.             except LookupError:
1337.                 app_label, model_name = cls._meta.swapped.split('.')
1338.                 errors.append(
1339.                     checks.Error(
1340.                         "'%s' references '%s.%s', which has not been "
1341.                         "installed, or is abstract." % (
1342.                             cls._meta.swappable, app_label, model_name
1343.                         ),
1344.                         id='models.E002',
1345.                     )
1346.                 )
1347.         return errors
1348. 
1349.     @classmethod
1350.     def _check_model(cls):
1351.         errors = []
1352.         if cls._meta.proxy:
1353.             if cls._meta.local_fields or cls._meta.local_many_to_many:
1354.                 errors.append(
1355.                     checks.Error(
1356.                         "Proxy model '%s' contains model fields." % cls.__name__,
1357.                         id='models.E017',
1358.                     )
1359.                 )
1360.         return errors
1361. 
1362.     @classmethod
1363.     def _check_managers(cls, **kwargs):
1364.         """Perform all manager checks."""
1365.         errors = []
1366.         for manager in cls._meta.managers:
1367.             errors.extend(manager.check(**kwargs))
1368.         return errors
1369. 
1370.     @classmethod
1371.     def _check_fields(cls, **kwargs):
1372.         """Perform all field checks."""
1373.         errors = []
1374.         for field in cls._meta.local_fields:
1375.             errors.extend(field.check(**kwargs))
1376.         for field in cls._meta.local_many_to_many:
1377.             errors.extend(field.check(from_model=cls, **kwargs))
1378.         return errors
1379. 
1380.     @classmethod
1381.     def _check_m2m_through_same_relationship(cls):
1382.         """ Check if no relationship model is used by more than one m2m field.
1383.         """
1384. 
1385.         errors = []
1386.         seen_intermediary_signatures = []
1387. 
1388.         fields = cls._meta.local_many_to_many
1389. 
1390.         # Skip when the target model wasn't found.
1391.         fields = (f for f in fields if isinstance(f.remote_field.model, ModelBase))
1392. 
1393.         # Skip when the relationship model wasn't found.
1394.         fields = (f for f in fields if isinstance(f.remote_field.through, ModelBase))
1395. 
1396.         for f in fields:
1397.             signature = (f.remote_field.model, cls, f.remote_field.through, f.remote_field.through_fields)
1398.             if signature in seen_intermediary_signatures:
1399.                 errors.append(
1400.                     checks.Error(
1401.                         "The model has two identical many-to-many relations "
1402.                         "through the intermediate model '%s'." %
1403.                         f.remote_field.through._meta.label,
1404.                         obj=cls,
1405.                         id='models.E003',
1406.                     )
1407.                 )
1408.             else:
1409.                 seen_intermediary_signatures.append(signature)
1410.         return errors
1411. 
1412.     @classmethod
1413.     def _check_id_field(cls):
1414.         """Check if `id` field is a primary key."""
1415.         fields = [f for f in cls._meta.local_fields if f.name == 'id' and f != cls._meta.pk]
1416.         # fields is empty or consists of the invalid "id" field
1417.         if fields and not fields[0].primary_key and cls._meta.pk.name == 'id':
1418.             return [
1419.                 checks.Error(
1420.                     "'id' can only be used as a field name if the field also "
1421.                     "sets 'primary_key=True'.",
1422.                     obj=cls,
1423.                     id='models.E004',
1424.                 )
1425.             ]
1426.         else:
1427.             return []
1428. 
1429.     @classmethod
1430.     def _check_field_name_clashes(cls):
1431.         """Forbid field shadowing in multi-table inheritance."""
1432.         errors = []
1433.         used_fields = {}  # name or attname -> field
1434. 
1435.         # Check that multi-inheritance doesn't cause field name shadowing.
1436.         for parent in cls._meta.get_parent_list():
1437.             for f in parent._meta.local_fields:
1438.                 clash = used_fields.get(f.name) or used_fields.get(f.attname) or None
1439.                 if clash:
1440.                     errors.append(
1441.                         checks.Error(
1442.                             "The field '%s' from parent model "
1443.                             "'%s' clashes with the field '%s' "
1444.                             "from parent model '%s'." % (
1445.                                 clash.name, clash.model._meta,
1446.                                 f.name, f.model._meta
1447.                             ),
1448.                             obj=cls,
1449.                             id='models.E005',
1450.                         )
1451.                     )
1452.                 used_fields[f.name] = f
1453.                 used_fields[f.attname] = f
1454. 
1455.         # Check that fields defined in the model don't clash with fields from
1456.         # parents, including auto-generated fields like multi-table inheritance
1457.         # child accessors.
1458.         for parent in cls._meta.get_parent_list():
1459.             for f in parent._meta.get_fields():
1460.                 if f not in used_fields:
1461.                     used_fields[f.name] = f
1462. 
1463.         for f in cls._meta.local_fields:
1464.             clash = used_fields.get(f.name) or used_fields.get(f.attname) or None
1465.             # Note that we may detect clash between user-defined non-unique
1466.             # field "id" and automatically added unique field "id", both
1467.             # defined at the same model. This special case is considered in
1468.             # _check_id_field and here we ignore it.
1469.             id_conflict = f.name == "id" and clash and clash.name == "id" and clash.model == cls
1470.             if clash and not id_conflict:
1471.                 errors.append(
1472.                     checks.Error(
1473.                         "The field '%s' clashes with the field '%s' "
1474.                         "from model '%s'." % (
1475.                             f.name, clash.name, clash.model._meta
1476.                         ),
1477.                         obj=f,
1478.                         id='models.E006',
1479.                     )
1480.                 )
1481.             used_fields[f.name] = f
1482.             used_fields[f.attname] = f
1483. 
1484.         return errors
1485. 
1486.     @classmethod
1487.     def _check_column_name_clashes(cls):
1488.         # Store a list of column names which have already been used by other fields.
1489.         used_column_names = []
1490.         errors = []
1491. 
1492.         for f in cls._meta.local_fields:
1493.             _, column_name = f.get_attname_column()
1494. 
1495.             # Ensure the column name is not already in use.
1496.             if column_name and column_name in used_column_names:
1497.                 errors.append(
1498.                     checks.Error(
1499.                         "Field '%s' has column name '%s' that is used by "
1500.                         "another field." % (f.name, column_name),
1501.                         hint="Specify a 'db_column' for the field.",


File: django/db/models/base.py
Line number range: 1502 - 2001
Content:
1502.                         obj=cls,
1503.                         id='models.E007'
1504.                     )
1505.                 )
1506.             else:
1507.                 used_column_names.append(column_name)
1508. 
1509.         return errors
1510. 
1511.     @classmethod
1512.     def _check_model_name_db_lookup_clashes(cls):
1513.         errors = []
1514.         model_name = cls.__name__
1515.         if model_name.startswith('_') or model_name.endswith('_'):
1516.             errors.append(
1517.                 checks.Error(
1518.                     "The model name '%s' cannot start or end with an underscore "
1519.                     "as it collides with the query lookup syntax." % model_name,
1520.                     obj=cls,
1521.                     id='models.E023'
1522.                 )
1523.             )
1524.         elif LOOKUP_SEP in model_name:
1525.             errors.append(
1526.                 checks.Error(
1527.                     "The model name '%s' cannot contain double underscores as "
1528.                     "it collides with the query lookup syntax." % model_name,
1529.                     obj=cls,
1530.                     id='models.E024'
1531.                 )
1532.             )
1533.         return errors
1534. 
1535.     @classmethod
1536.     def _check_property_name_related_field_accessor_clashes(cls):
1537.         errors = []
1538.         property_names = cls._meta._property_names
1539.         related_field_accessors = (
1540.             f.get_attname() for f in cls._meta._get_fields(reverse=False)
1541.             if f.is_relation and f.related_model is not None
1542.         )
1543.         for accessor in related_field_accessors:
1544.             if accessor in property_names:
1545.                 errors.append(
1546.                     checks.Error(
1547.                         "The property '%s' clashes with a related field "
1548.                         "accessor." % accessor,
1549.                         obj=cls,
1550.                         id='models.E025',
1551.                     )
1552.                 )
1553.         return errors
1554. 
1555.     @classmethod
1556.     def _check_single_primary_key(cls):
1557.         errors = []
1558.         if sum(1 for f in cls._meta.local_fields if f.primary_key) > 1:
1559.             errors.append(
1560.                 checks.Error(
1561.                     "The model cannot have more than one field with "
1562.                     "'primary_key=True'.",
1563.                     obj=cls,
1564.                     id='models.E026',
1565.                 )
1566.             )
1567.         return errors
1568. 
1569.     @classmethod
1570.     def _check_index_together(cls):
1571.         """Check the value of "index_together" option."""
1572.         if not isinstance(cls._meta.index_together, (tuple, list)):
1573.             return [
1574.                 checks.Error(
1575.                     "'index_together' must be a list or tuple.",
1576.                     obj=cls,
1577.                     id='models.E008',
1578.                 )
1579.             ]
1580. 
1581.         elif any(not isinstance(fields, (tuple, list)) for fields in cls._meta.index_together):
1582.             return [
1583.                 checks.Error(
1584.                     "All 'index_together' elements must be lists or tuples.",
1585.                     obj=cls,
1586.                     id='models.E009',
1587.                 )
1588.             ]
1589. 
1590.         else:
1591.             errors = []
1592.             for fields in cls._meta.index_together:
1593.                 errors.extend(cls._check_local_fields(fields, "index_together"))
1594.             return errors
1595. 
1596.     @classmethod
1597.     def _check_unique_together(cls):
1598.         """Check the value of "unique_together" option."""
1599.         if not isinstance(cls._meta.unique_together, (tuple, list)):
1600.             return [
1601.                 checks.Error(
1602.                     "'unique_together' must be a list or tuple.",
1603.                     obj=cls,
1604.                     id='models.E010',
1605.                 )
1606.             ]
1607. 
1608.         elif any(not isinstance(fields, (tuple, list)) for fields in cls._meta.unique_together):
1609.             return [
1610.                 checks.Error(
1611.                     "All 'unique_together' elements must be lists or tuples.",
1612.                     obj=cls,
1613.                     id='models.E011',
1614.                 )
1615.             ]
1616. 
1617.         else:
1618.             errors = []
1619.             for fields in cls._meta.unique_together:
1620.                 errors.extend(cls._check_local_fields(fields, "unique_together"))
1621.             return errors
1622. 
1623.     @classmethod
1624.     def _check_indexes(cls, databases):
1625.         """Check fields, names, and conditions of indexes."""
1626.         errors = []
1627.         references = set()
1628.         for index in cls._meta.indexes:
1629.             # Index name can't start with an underscore or a number, restricted
1630.             # for cross-database compatibility with Oracle.
1631.             if index.name[0] == '_' or index.name[0].isdigit():
1632.                 errors.append(
1633.                     checks.Error(
1634.                         "The index name '%s' cannot start with an underscore "
1635.                         "or a number." % index.name,
1636.                         obj=cls,
1637.                         id='models.E033',
1638.                     ),
1639.                 )
1640.             if len(index.name) > index.max_name_length:
1641.                 errors.append(
1642.                     checks.Error(
1643.                         "The index name '%s' cannot be longer than %d "
1644.                         "characters." % (index.name, index.max_name_length),
1645.                         obj=cls,
1646.                         id='models.E034',
1647.                     ),
1648.                 )
1649.             if index.contains_expressions:
1650.                 for expression in index.expressions:
1651.                     references.update(
1652.                         ref[0] for ref in cls._get_expr_references(expression)
1653.                     )
1654.         for db in databases:
1655.             if not router.allow_migrate_model(db, cls):
1656.                 continue
1657.             connection = connections[db]
1658.             if not (
1659.                 connection.features.supports_partial_indexes or
1660.                 'supports_partial_indexes' in cls._meta.required_db_features
1661.             ) and any(index.condition is not None for index in cls._meta.indexes):
1662.                 errors.append(
1663.                     checks.Warning(
1664.                         '%s does not support indexes with conditions.'
1665.                         % connection.display_name,
1666.                         hint=(
1667.                             "Conditions will be ignored. Silence this warning "
1668.                             "if you don't care about it."
1669.                         ),
1670.                         obj=cls,
1671.                         id='models.W037',
1672.                     )
1673.                 )
1674.             if not (
1675.                 connection.features.supports_covering_indexes or
1676.                 'supports_covering_indexes' in cls._meta.required_db_features
1677.             ) and any(index.include for index in cls._meta.indexes):
1678.                 errors.append(
1679.                     checks.Warning(
1680.                         '%s does not support indexes with non-key columns.'
1681.                         % connection.display_name,
1682.                         hint=(
1683.                             "Non-key columns will be ignored. Silence this "
1684.                             "warning if you don't care about it."
1685.                         ),
1686.                         obj=cls,
1687.                         id='models.W040',
1688.                     )
1689.                 )
1690.             if not (
1691.                 connection.features.supports_expression_indexes or
1692.                 'supports_expression_indexes' in cls._meta.required_db_features
1693.             ) and any(index.contains_expressions for index in cls._meta.indexes):
1694.                 errors.append(
1695.                     checks.Warning(
1696.                         '%s does not support indexes on expressions.'
1697.                         % connection.display_name,
1698.                         hint=(
1699.                             "An index won't be created. Silence this warning "
1700.                             "if you don't care about it."
1701.                         ),
1702.                         obj=cls,
1703.                         id='models.W043',
1704.                     )
1705.                 )
1706.         fields = [field for index in cls._meta.indexes for field, _ in index.fields_orders]
1707.         fields += [include for index in cls._meta.indexes for include in index.include]
1708.         fields += references
1709.         errors.extend(cls._check_local_fields(fields, 'indexes'))
1710.         return errors
1711. 
1712.     @classmethod
1713.     def _check_local_fields(cls, fields, option):
1714.         from django.db import models
1715. 
1716.         # In order to avoid hitting the relation tree prematurely, we use our
1717.         # own fields_map instead of using get_field()
1718.         forward_fields_map = {}
1719.         for field in cls._meta._get_fields(reverse=False):
1720.             forward_fields_map[field.name] = field
1721.             if hasattr(field, 'attname'):
1722.                 forward_fields_map[field.attname] = field
1723. 
1724.         errors = []
1725.         for field_name in fields:
1726.             try:
1727.                 field = forward_fields_map[field_name]
1728.             except KeyError:
1729.                 errors.append(
1730.                     checks.Error(
1731.                         "'%s' refers to the nonexistent field '%s'." % (
1732.                             option, field_name,
1733.                         ),
1734.                         obj=cls,
1735.                         id='models.E012',
1736.                     )
1737.                 )
1738.             else:
1739.                 if isinstance(field.remote_field, models.ManyToManyRel):
1740.                     errors.append(
1741.                         checks.Error(
1742.                             "'%s' refers to a ManyToManyField '%s', but "
1743.                             "ManyToManyFields are not permitted in '%s'." % (
1744.                                 option, field_name, option,
1745.                             ),
1746.                             obj=cls,
1747.                             id='models.E013',
1748.                         )
1749.                     )
1750.                 elif field not in cls._meta.local_fields:
1751.                     errors.append(
1752.                         checks.Error(
1753.                             "'%s' refers to field '%s' which is not local to model '%s'."
1754.                             % (option, field_name, cls._meta.object_name),
1755.                             hint="This issue may be caused by multi-table inheritance.",
1756.                             obj=cls,
1757.                             id='models.E016',
1758.                         )
1759.                     )
1760.         return errors
1761. 
1762.     @classmethod
1763.     def _check_ordering(cls):
1764.         """
1765.         Check "ordering" option -- is it a list of strings and do all fields
1766.         exist?
1767.         """
1768.         if cls._meta._ordering_clash:
1769.             return [
1770.                 checks.Error(
1771.                     "'ordering' and 'order_with_respect_to' cannot be used together.",
1772.                     obj=cls,
1773.                     id='models.E021',
1774.                 ),
1775.             ]
1776. 
1777.         if cls._meta.order_with_respect_to or not cls._meta.ordering:
1778.             return []
1779. 
1780.         if not isinstance(cls._meta.ordering, (list, tuple)):
1781.             return [
1782.                 checks.Error(
1783.                     "'ordering' must be a tuple or list (even if you want to order by only one field).",
1784.                     obj=cls,
1785.                     id='models.E014',
1786.                 )
1787.             ]
1788. 
1789.         errors = []
1790.         fields = cls._meta.ordering
1791. 
1792.         # Skip expressions and '?' fields.
1793.         fields = (f for f in fields if isinstance(f, str) and f != '?')
1794. 
1795.         # Convert "-field" to "field".
1796.         fields = ((f[1:] if f.startswith('-') else f) for f in fields)
1797. 
1798.         # Separate related fields and non-related fields.
1799.         _fields = []
1800.         related_fields = []
1801.         for f in fields:
1802.             if LOOKUP_SEP in f:
1803.                 related_fields.append(f)
1804.             else:
1805.                 _fields.append(f)
1806.         fields = _fields
1807. 
1808.         # Check related fields.
1809.         for field in related_fields:
1810.             _cls = cls
1811.             fld = None
1812.             for part in field.split(LOOKUP_SEP):
1813.                 try:
1814.                     # pk is an alias that won't be found by opts.get_field.
1815.                     if part == 'pk':
1816.                         fld = _cls._meta.pk
1817.                     else:
1818.                         fld = _cls._meta.get_field(part)
1819.                     if fld.is_relation:
1820.                         _cls = fld.get_path_info()[-1].to_opts.model
1821.                     else:
1822.                         _cls = None
1823.                 except (FieldDoesNotExist, AttributeError):
1824.                     if fld is None or (
1825.                         fld.get_transform(part) is None and fld.get_lookup(part) is None
1826.                     ):
1827.                         errors.append(
1828.                             checks.Error(
1829.                                 "'ordering' refers to the nonexistent field, "
1830.                                 "related field, or lookup '%s'." % field,
1831.                                 obj=cls,
1832.                                 id='models.E015',
1833.                             )
1834.                         )
1835. 
1836.         # Skip ordering on pk. This is always a valid order_by field
1837.         # but is an alias and therefore won't be found by opts.get_field.
1838.         fields = {f for f in fields if f != 'pk'}
1839. 
1840.         # Check for invalid or nonexistent fields in ordering.
1841.         invalid_fields = []
1842. 
1843.         # Any field name that is not present in field_names does not exist.
1844.         # Also, ordering by m2m fields is not allowed.
1845.         opts = cls._meta
1846.         valid_fields = set(chain.from_iterable(
1847.             (f.name, f.attname) if not (f.auto_created and not f.concrete) else (f.field.related_query_name(),)
1848.             for f in chain(opts.fields, opts.related_objects)
1849.         ))
1850. 
1851.         invalid_fields.extend(fields - valid_fields)
1852. 
1853.         for invalid_field in invalid_fields:
1854.             errors.append(
1855.                 checks.Error(
1856.                     "'ordering' refers to the nonexistent field, related "
1857.                     "field, or lookup '%s'." % invalid_field,
1858.                     obj=cls,
1859.                     id='models.E015',
1860.                 )
1861.             )
1862.         return errors
1863. 
1864.     @classmethod
1865.     def _check_long_column_names(cls, databases):
1866.         """
1867.         Check that any auto-generated column names are shorter than the limits
1868.         for each database in which the model will be created.
1869.         """
1870.         if not databases:
1871.             return []
1872.         errors = []
1873.         allowed_len = None
1874.         db_alias = None
1875. 
1876.         # Find the minimum max allowed length among all specified db_aliases.
1877.         for db in databases:
1878.             # skip databases where the model won't be created
1879.             if not router.allow_migrate_model(db, cls):
1880.                 continue
1881.             connection = connections[db]
1882.             max_name_length = connection.ops.max_name_length()
1883.             if max_name_length is None or connection.features.truncates_names:
1884.                 continue
1885.             else:
1886.                 if allowed_len is None:
1887.                     allowed_len = max_name_length
1888.                     db_alias = db
1889.                 elif max_name_length < allowed_len:
1890.                     allowed_len = max_name_length
1891.                     db_alias = db
1892. 
1893.         if allowed_len is None:
1894.             return errors
1895. 
1896.         for f in cls._meta.local_fields:
1897.             _, column_name = f.get_attname_column()
1898. 
1899.             # Check if auto-generated name for the field is too long
1900.             # for the database.
1901.             if f.db_column is None and column_name is not None and len(column_name) > allowed_len:
1902.                 errors.append(
1903.                     checks.Error(
1904.                         'Autogenerated column name too long for field "%s". '
1905.                         'Maximum length is "%s" for database "%s".'
1906.                         % (column_name, allowed_len, db_alias),
1907.                         hint="Set the column name manually using 'db_column'.",
1908.                         obj=cls,
1909.                         id='models.E018',
1910.                     )
1911.                 )
1912. 
1913.         for f in cls._meta.local_many_to_many:
1914.             # Skip nonexistent models.
1915.             if isinstance(f.remote_field.through, str):
1916.                 continue
1917. 
1918.             # Check if auto-generated name for the M2M field is too long
1919.             # for the database.
1920.             for m2m in f.remote_field.through._meta.local_fields:
1921.                 _, rel_name = m2m.get_attname_column()
1922.                 if m2m.db_column is None and rel_name is not None and len(rel_name) > allowed_len:
1923.                     errors.append(
1924.                         checks.Error(
1925.                             'Autogenerated column name too long for M2M field '
1926.                             '"%s". Maximum length is "%s" for database "%s".'
1927.                             % (rel_name, allowed_len, db_alias),
1928.                             hint=(
1929.                                 "Use 'through' to create a separate model for "
1930.                                 "M2M and then set column_name using 'db_column'."
1931.                             ),
1932.                             obj=cls,
1933.                             id='models.E019',
1934.                         )
1935.                     )
1936. 
1937.         return errors
1938. 
1939.     @classmethod
1940.     def _get_expr_references(cls, expr):
1941.         if isinstance(expr, Q):
1942.             for child in expr.children:
1943.                 if isinstance(child, tuple):
1944.                     lookup, value = child
1945.                     yield tuple(lookup.split(LOOKUP_SEP))
1946.                     yield from cls._get_expr_references(value)
1947.                 else:
1948.                     yield from cls._get_expr_references(child)
1949.         elif isinstance(expr, F):
1950.             yield tuple(expr.name.split(LOOKUP_SEP))
1951.         elif hasattr(expr, 'get_source_expressions'):
1952.             for src_expr in expr.get_source_expressions():
1953.                 yield from cls._get_expr_references(src_expr)
1954. 
1955.     @classmethod
1956.     def _check_constraints(cls, databases):
1957.         errors = []
1958.         for db in databases:
1959.             if not router.allow_migrate_model(db, cls):
1960.                 continue
1961.             connection = connections[db]
1962.             if not (
1963.                 connection.features.supports_table_check_constraints or
1964.                 'supports_table_check_constraints' in cls._meta.required_db_features
1965.             ) and any(
1966.                 isinstance(constraint, CheckConstraint)
1967.                 for constraint in cls._meta.constraints
1968.             ):
1969.                 errors.append(
1970.                     checks.Warning(
1971.                         '%s does not support check constraints.' % connection.display_name,
1972.                         hint=(
1973.                             "A constraint won't be created. Silence this "
1974.                             "warning if you don't care about it."
1975.                         ),
1976.                         obj=cls,
1977.                         id='models.W027',
1978.                     )
1979.                 )
1980.             if not (
1981.                 connection.features.supports_partial_indexes or
1982.                 'supports_partial_indexes' in cls._meta.required_db_features
1983.             ) and any(
1984.                 isinstance(constraint, UniqueConstraint) and constraint.condition is not None
1985.                 for constraint in cls._meta.constraints
1986.             ):
1987.                 errors.append(
1988.                     checks.Warning(
1989.                         '%s does not support unique constraints with '
1990.                         'conditions.' % connection.display_name,
1991.                         hint=(
1992.                             "A constraint won't be created. Silence this "
1993.                             "warning if you don't care about it."
1994.                         ),
1995.                         obj=cls,
1996.                         id='models.W036',
1997.                     )
1998.                 )
1999.             if not (
2000.                 connection.features.supports_deferrable_unique_constraints or
2001.                 'supports_deferrable_unique_constraints' in cls._meta.required_db_features


File: django/db/models/base.py
Line number range: 2002 - 2501
Content:
2002.             ) and any(
2003.                 isinstance(constraint, UniqueConstraint) and constraint.deferrable is not None
2004.                 for constraint in cls._meta.constraints
2005.             ):
2006.                 errors.append(
2007.                     checks.Warning(
2008.                         '%s does not support deferrable unique constraints.'
2009.                         % connection.display_name,
2010.                         hint=(
2011.                             "A constraint won't be created. Silence this "
2012.                             "warning if you don't care about it."
2013.                         ),
2014.                         obj=cls,
2015.                         id='models.W038',
2016.                     )
2017.                 )
2018.             if not (
2019.                 connection.features.supports_covering_indexes or
2020.                 'supports_covering_indexes' in cls._meta.required_db_features
2021.             ) and any(
2022.                 isinstance(constraint, UniqueConstraint) and constraint.include
2023.                 for constraint in cls._meta.constraints
2024.             ):
2025.                 errors.append(
2026.                     checks.Warning(
2027.                         '%s does not support unique constraints with non-key '
2028.                         'columns.' % connection.display_name,
2029.                         hint=(
2030.                             "A constraint won't be created. Silence this "
2031.                             "warning if you don't care about it."
2032.                         ),
2033.                         obj=cls,
2034.                         id='models.W039',
2035.                     )
2036.                 )
2037.             fields = set(chain.from_iterable(
2038.                 (*constraint.fields, *constraint.include)
2039.                 for constraint in cls._meta.constraints if isinstance(constraint, UniqueConstraint)
2040.             ))
2041.             references = set()
2042.             for constraint in cls._meta.constraints:
2043.                 if isinstance(constraint, UniqueConstraint):
2044.                     if (
2045.                         connection.features.supports_partial_indexes or
2046.                         'supports_partial_indexes' not in cls._meta.required_db_features
2047.                     ) and isinstance(constraint.condition, Q):
2048.                         references.update(cls._get_expr_references(constraint.condition))
2049.                 elif isinstance(constraint, CheckConstraint):
2050.                     if (
2051.                         connection.features.supports_table_check_constraints or
2052.                         'supports_table_check_constraints' not in cls._meta.required_db_features
2053.                     ) and isinstance(constraint.check, Q):
2054.                         references.update(cls._get_expr_references(constraint.check))
2055.             for field_name, *lookups in references:
2056.                 # pk is an alias that won't be found by opts.get_field.
2057.                 if field_name != 'pk':
2058.                     fields.add(field_name)
2059.                 if not lookups:
2060.                     # If it has no lookups it cannot result in a JOIN.
2061.                     continue
2062.                 try:
2063.                     if field_name == 'pk':
2064.                         field = cls._meta.pk
2065.                     else:
2066.                         field = cls._meta.get_field(field_name)
2067.                     if not field.is_relation or field.many_to_many or field.one_to_many:
2068.                         continue
2069.                 except FieldDoesNotExist:
2070.                     continue
2071.                 # JOIN must happen at the first lookup.
2072.                 first_lookup = lookups[0]
2073.                 if (
2074.                     field.get_transform(first_lookup) is None and
2075.                     field.get_lookup(first_lookup) is None
2076.                 ):
2077.                     errors.append(
2078.                         checks.Error(
2079.                             "'constraints' refers to the joined field '%s'."
2080.                             % LOOKUP_SEP.join([field_name] + lookups),
2081.                             obj=cls,
2082.                             id='models.E041',
2083.                         )
2084.                     )
2085.             errors.extend(cls._check_local_fields(fields, 'constraints'))
2086.         return errors
2087. 
2088. 
2089. ############################################
2090. # HELPER FUNCTIONS (CURRIED MODEL METHODS) #
2091. ############################################
2092. 
2093. # ORDERING METHODS #########################
2094. 
2095. def method_set_order(self, ordered_obj, id_list, using=None):
2096.     if using is None:
2097.         using = DEFAULT_DB_ALIAS
2098.     order_wrt = ordered_obj._meta.order_with_respect_to
2099.     filter_args = order_wrt.get_forward_related_filter(self)
2100.     ordered_obj.objects.db_manager(using).filter(**filter_args).bulk_update([
2101.         ordered_obj(pk=pk, _order=order) for order, pk in enumerate(id_list)
2102.     ], ['_order'])
2103. 
2104. 
2105. def method_get_order(self, ordered_obj):
2106.     order_wrt = ordered_obj._meta.order_with_respect_to
2107.     filter_args = order_wrt.get_forward_related_filter(self)
2108.     pk_name = ordered_obj._meta.pk.name
2109.     return ordered_obj.objects.filter(**filter_args).values_list(pk_name, flat=True)
2110. 
2111. 
2112. def make_foreign_order_accessors(model, related_model):
2113.     setattr(
2114.         related_model,
2115.         'get_%s_order' % model.__name__.lower(),
2116.         partialmethod(method_get_order, model)
2117.     )
2118.     setattr(
2119.         related_model,
2120.         'set_%s_order' % model.__name__.lower(),
2121.         partialmethod(method_set_order, model)
2122.     )
2123. 
2124. ########
2125. # MISC #
2126. ########
2127. 
2128. 
2129. def model_unpickle(model_id):
2130.     """Used to unpickle Model subclasses with deferred fields."""
2131.     if isinstance(model_id, tuple):
2132.         model = apps.get_model(*model_id)
2133.     else:
2134.         # Backwards compat - the model was cached directly in earlier versions.
2135.         model = model_id
2136.     return model.__new__(model)
2137. 
2138. 
2139. model_unpickle.__safe_for_unpickle__ = True

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-21 02:33:02,508 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly requested the full content of the file `django/db/models/base.py`.\n   - The purpose provided is to analyze the `ModelBase` metaclass and its logic for model creation, inheritance, and primary key processing.\n\n2. Extended relevance:\n   - The entire file is necessary to fulfill the user's request.\n   - The `ModelBase` class and the `Model` class are defined in this file, which are central to the user's purpose of understanding model creation and inheritance in Django.\n   - Providing the full file content ensures that all dependencies, helper functions, and related classes within the file are available for a complete analysis.", relative_path='django/db/models/base.py', start_line=1, end_line=2139)]
2025-12-21 02:33:02,511 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of `django/db/models/base.py`.
2025-12-21 02:33:02,511 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-21 02:33:02,511 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-21 02:33:02,512 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 0 existing contexts
2025-12-21 02:33:02,512 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 1 total contexts (removed 0 duplicates)
2025-12-21 02:33:02,512 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── linters.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   └── __init__.py
|   |   |   ├── database.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   ├── special.py
|   |   |   |   └── utils.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.txt
|   |   ├── index.txt
|   |   └── security.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   └── jsi18n-mocks.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── explicit_default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_empty_apps
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_mismatch_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── not_apps.py
    |   ├── explicit_default_config_without_apps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── beginning_with_slash.py
    |       ├── contains_tuple.py
    |       ├── good_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_middleware_mixin.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       └── custom_widget.html
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
    |   |   ├── included_content.html
    |   |   ├── inclusion.html
    |   |   ├── inclusion_base.html
    |   |   ├── inclusion_extends1.html
    |   |   ├── inclusion_extends2.html
    |   |   ├── index.html
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   ├── recursive_include.html
    |   |   ├── response.html
    |   |   ├── second
    |   |   |   └── test.html
    |   |   ├── ssi include with spaces.html
    |   |   ├── ssi_include.html
    |   |   ├── template_tests
    |   |   |   └── using.html
    |   |   ├── test_context.html
    |   |   ├── test_context_stack.html
    |   |   ├── test_extends_error.html
    |   |   ├── test_incl_tag_use_l10n.html
    |   |   └── test_include_error.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_autoreloader.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── base.html
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   |   ├── add_form.html
    |   |   ├── app_index.html
    |   |   ├── change_form.html
    |   |   ├── change_list.html
    |   |   ├── delete_confirmation.html
    |   |   ├── delete_selected_confirmation.html
    |   |   ├── index.html
    |   |   ├── login.html
    |   |   ├── logout.html
    |   |   ├── object_history.html
    |   |   ├── password_change_done.html
    |   |   ├── password_change_form.html
    |   |   └── popup_response.html
    |   ├── extended.html
    |   ├── form_view.html
    |   ├── login.html
    |   └── views
    |       ├── article_archive_day.html
    |       ├── article_archive_month.html
    |       ├── article_confirm_delete.html
    |       ├── article_detail.html
    |       ├── article_form.html
    |       ├── article_list.html
    |       ├── datearticle_archive_month.html
    |       ├── urlarticle_detail.html
    |       └── urlarticle_form.html
    ├── test_client
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── test_conditional_content_removal.py
    |   ├── test_fakepayload.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_client_regress
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── bad_templates
    |   |   └── 404.html
    |   ├── context_processors.py
    |   ├── models.py
    |   ├── session.py
    |   ├── templates
    |   |   ├── request_context.html
    |   |   └── unicode.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_exceptions
    |   ├── __init__.py
    |   └── test_validation_error.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: models.W042 is raised on inherited manually specified primary key.

Description: Description
	
I have models which inherit from other models, and they should inherit the primary key. This works fine with Django 3.1. However, if I install Django 3.2 alpha, when I run make_migrations I get the following error messages:
System check identified some issues:
WARNINGS:
accounts.ReservedUsername: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreAccountsConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
accounts.User: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreAccountsConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
blocks.Block: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
contact_by_form.Feedback: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreContactByFormConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
core_messages.ReadMark: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreMessagesConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.Block: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.Follow: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.Friend: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.FriendshipRequest: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
likes.UserLike: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
uploads.Image: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
These models should not use auto-created primary keys! I already defined the primary key in the ancestor of the model. For example class Entity which class User inherits from. It looks to me like a bug in Django 3.2 alpha.

Patch information:
diff --git a/django/db/models/base.py b/django/db/models/base.py
index 4038859cfa..264e9699f7 100644
--- a/django/db/models/base.py
+++ b/django/db/models/base.py
@@ -17,7 +17,7 @@ from django.db import (
     connections, router, transaction,
 )
 from django.db.models import (
-    NOT_PROVIDED, ExpressionWrapper, IntegerField, Max, Value,
+    NOT_PROVIDED, AutoField, ExpressionWrapper, IntegerField, Max, Value,
 )
 from django.db.models.constants import LOOKUP_SEP
 from django.db.models.constraints import CheckConstraint, UniqueConstraint
@@ -1299,6 +1299,7 @@ class Model(metaclass=ModelBase):
     def _check_default_pk(cls):
         if (
             cls._meta.pk.auto_created and
+            isinstance(cls._meta.pk, AutoField) and
             not settings.is_overridden('DEFAULT_AUTO_FIELD') and
             not cls._meta.app_config._is_default_auto_field_overridden
         ):
diff --git a/docs/ref/checks.txt b/docs/ref/checks.txt
index 1025549370..6e6253b774 100644
--- a/docs/ref/checks.txt
+++ b/docs/ref/checks.txt
@@ -373,8 +373,10 @@ Models
 * **models.W040**: ``<database>`` does not support indexes with non-key
   columns.
 * **models.E041**: ``constraints`` refers to the joined field ``<field name>``.
-* **models.W042**: Auto-created primary key used when not defining a primary
-  key type, by default ``django.db.models.AutoField``.
+* **models.W042**: Auto-created AutoField primary key used when not defining a
+  primary key type, by default ``django.db.models.AutoField``. This check does
+  not apply to primary keys inherited via a parent link in multi-table
+  inheritance.
 * **models.W043**: ``<database>`` does not support indexes on expressions.
 
 Security
diff --git a/docs/releases/3.2.txt b/docs/releases/3.2.txt
index d3d3f44b8e..4c52e13e82 100644
--- a/docs/releases/3.2.txt
+++ b/docs/releases/3.2.txt
@@ -94,6 +94,9 @@ or on a per-model basis::
 
 In anticipation of the changing default, a system check will provide a warning
 if you do not have an explicit setting for :setting:`DEFAULT_AUTO_FIELD`.
+This warning applies to models that use an implicitly created AutoField primary
+key. It does not apply to child models in multi-table inheritance that inherit
+their primary key via a parent link.
 
 .. _new_functional_indexes:
 
diff --git a/docs/topics/db/models.txt b/docs/topics/db/models.txt
index 26a6d7dc58..8ae190d821 100644
--- a/docs/topics/db/models.txt
+++ b/docs/topics/db/models.txt
@@ -274,6 +274,12 @@ sees you've explicitly set :attr:`Field.primary_key`, it won't add the automatic
 Each model requires exactly one field to have :attr:`primary_key=True
 <Field.primary_key>` (either explicitly declared or automatically added).
 
+Note that in multi-table inheritance, a child model inherits its primary key
+from its parent via an automatically created one-to-one parent link. This
+inherited primary key is not governed by :setting:`DEFAULT_AUTO_FIELD` and is
+not subject to the system check warning about auto-created AutoField primary
+keys.
+
 .. versionchanged:: 3.2
 
     In older versions, auto-created primary key fields were always


Find all relevant source code context needed to understand and fix this issue.
Focus on production code (ignore test files) and follow these steps:
1. Identify key components mentioned in the issue, especially from the error message(functions, classes, types, etc.)
2. Find their complete implementations and class definitions
3. Include related code from the same module that affects the behavior
4. Follow imports to find dependent code that directly impacts the issue

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `django/db/models/base.py`.
Extra Requirements: 
Purpose: I need to analyze the model creation and inheritance logic within `ModelBase` to understand how primary keys are processed and why the warning is incorrectly triggered.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: django/db/models/base.py
Line number range: 1 - 2139
Content:
1. import copy
2. import inspect
3. import warnings
4. from functools import partialmethod
5. from itertools import chain
6. 
7. import django
8. from django.apps import apps
9. from django.conf import settings
10. from django.core import checks
11. from django.core.exceptions import (
12.     NON_FIELD_ERRORS, FieldDoesNotExist, FieldError, MultipleObjectsReturned,
13.     ObjectDoesNotExist, ValidationError,
14. )
15. from django.db import (
16.     DEFAULT_DB_ALIAS, DJANGO_VERSION_PICKLE_KEY, DatabaseError, connection,
17.     connections, router, transaction,
18. )
19. from django.db.models import (
20.     NOT_PROVIDED, ExpressionWrapper, IntegerField, Max, Value,
21. )
22. from django.db.models.constants import LOOKUP_SEP
23. from django.db.models.constraints import CheckConstraint, UniqueConstraint
24. from django.db.models.deletion import CASCADE, Collector
25. from django.db.models.fields.related import (
26.     ForeignObjectRel, OneToOneField, lazy_related_operation, resolve_relation,
27. )
28. from django.db.models.functions import Coalesce
29. from django.db.models.manager import Manager
30. from django.db.models.options import Options
31. from django.db.models.query import F, Q
32. from django.db.models.signals import (
33.     class_prepared, post_init, post_save, pre_init, pre_save,
34. )
35. from django.db.models.utils import make_model_tuple
36. from django.utils.encoding import force_str
37. from django.utils.hashable import make_hashable
38. from django.utils.text import capfirst, get_text_list
39. from django.utils.translation import gettext_lazy as _
40. 
41. 
42. class Deferred:
43.     def __repr__(self):
44.         return '<Deferred field>'
45. 
46.     def __str__(self):
47.         return '<Deferred field>'
48. 
49. 
50. DEFERRED = Deferred()
51. 
52. 
53. def subclass_exception(name, bases, module, attached_to):
54.     """
55.     Create exception subclass. Used by ModelBase below.
56. 
57.     The exception is created in a way that allows it to be pickled, assuming
58.     that the returned exception class will be added as an attribute to the
59.     'attached_to' class.
60.     """
61.     return type(name, bases, {
62.         '__module__': module,
63.         '__qualname__': '%s.%s' % (attached_to.__qualname__, name),
64.     })
65. 
66. 
67. def _has_contribute_to_class(value):
68.     # Only call contribute_to_class() if it's bound.
69.     return not inspect.isclass(value) and hasattr(value, 'contribute_to_class')
70. 
71. 
72. class ModelBase(type):
73.     """Metaclass for all models."""
74.     def __new__(cls, name, bases, attrs, **kwargs):
75.         super_new = super().__new__
76. 
77.         # Also ensure initialization is only performed for subclasses of Model
78.         # (excluding Model class itself).
79.         parents = [b for b in bases if isinstance(b, ModelBase)]
80.         if not parents:
81.             return super_new(cls, name, bases, attrs)
82. 
83.         # Create the class.
84.         module = attrs.pop('__module__')
85.         new_attrs = {'__module__': module}
86.         classcell = attrs.pop('__classcell__', None)
87.         if classcell is not None:
88.             new_attrs['__classcell__'] = classcell
89.         attr_meta = attrs.pop('Meta', None)
90.         # Pass all attrs without a (Django-specific) contribute_to_class()
91.         # method to type.__new__() so that they're properly initialized
92.         # (i.e. __set_name__()).
93.         contributable_attrs = {}
94.         for obj_name, obj in attrs.items():
95.             if _has_contribute_to_class(obj):
96.                 contributable_attrs[obj_name] = obj
97.             else:
98.                 new_attrs[obj_name] = obj
99.         new_class = super_new(cls, name, bases, new_attrs, **kwargs)
100. 
101.         abstract = getattr(attr_meta, 'abstract', False)
102.         meta = attr_meta or getattr(new_class, 'Meta', None)
103.         base_meta = getattr(new_class, '_meta', None)
104. 
105.         app_label = None
106. 
107.         # Look for an application configuration to attach the model to.
108.         app_config = apps.get_containing_app_config(module)
109. 
110.         if getattr(meta, 'app_label', None) is None:
111.             if app_config is None:
112.                 if not abstract:
113.                     raise RuntimeError(
114.                         "Model class %s.%s doesn't declare an explicit "
115.                         "app_label and isn't in an application in "
116.                         "INSTALLED_APPS." % (module, name)
117.                     )
118. 
119.             else:
120.                 app_label = app_config.label
121. 
122.         new_class.add_to_class('_meta', Options(meta, app_label))
123.         if not abstract:
124.             new_class.add_to_class(
125.                 'DoesNotExist',
126.                 subclass_exception(
127.                     'DoesNotExist',
128.                     tuple(
129.                         x.DoesNotExist for x in parents if hasattr(x, '_meta') and not x._meta.abstract
130.                     ) or (ObjectDoesNotExist,),
131.                     module,
132.                     attached_to=new_class))
133.             new_class.add_to_class(
134.                 'MultipleObjectsReturned',
135.                 subclass_exception(
136.                     'MultipleObjectsReturned',
137.                     tuple(
138.                         x.MultipleObjectsReturned for x in parents if hasattr(x, '_meta') and not x._meta.abstract
139.                     ) or (MultipleObjectsReturned,),
140.                     module,
141.                     attached_to=new_class))
142.             if base_meta and not base_meta.abstract:
143.                 # Non-abstract child classes inherit some attributes from their
144.                 # non-abstract parent (unless an ABC comes before it in the
145.                 # method resolution order).
146.                 if not hasattr(meta, 'ordering'):
147.                     new_class._meta.ordering = base_meta.ordering
148.                 if not hasattr(meta, 'get_latest_by'):
149.                     new_class._meta.get_latest_by = base_meta.get_latest_by
150. 
151.         is_proxy = new_class._meta.proxy
152. 
153.         # If the model is a proxy, ensure that the base class
154.         # hasn't been swapped out.
155.         if is_proxy and base_meta and base_meta.swapped:
156.             raise TypeError("%s cannot proxy the swapped model '%s'." % (name, base_meta.swapped))
157. 
158.         # Add remaining attributes (those with a contribute_to_class() method)
159.         # to the class.
160.         for obj_name, obj in contributable_attrs.items():
161.             new_class.add_to_class(obj_name, obj)
162. 
163.         # All the fields of any type declared on this model
164.         new_fields = chain(
165.             new_class._meta.local_fields,
166.             new_class._meta.local_many_to_many,
167.             new_class._meta.private_fields
168.         )
169.         field_names = {f.name for f in new_fields}
170. 
171.         # Basic setup for proxy models.
172.         if is_proxy:
173.             base = None
174.             for parent in [kls for kls in parents if hasattr(kls, '_meta')]:
175.                 if parent._meta.abstract:
176.                     if parent._meta.fields:
177.                         raise TypeError(
178.                             "Abstract base class containing model fields not "
179.                             "permitted for proxy model '%s'." % name
180.                         )
181.                     else:
182.                         continue
183.                 if base is None:
184.                     base = parent
185.                 elif parent._meta.concrete_model is not base._meta.concrete_model:
186.                     raise TypeError("Proxy model '%s' has more than one non-abstract model base class." % name)
187.             if base is None:
188.                 raise TypeError("Proxy model '%s' has no non-abstract model base class." % name)
189.             new_class._meta.setup_proxy(base)
190.             new_class._meta.concrete_model = base._meta.concrete_model
191.         else:
192.             new_class._meta.concrete_model = new_class
193. 
194.         # Collect the parent links for multi-table inheritance.
195.         parent_links = {}
196.         for base in reversed([new_class] + parents):
197.             # Conceptually equivalent to `if base is Model`.
198.             if not hasattr(base, '_meta'):
199.                 continue
200.             # Skip concrete parent classes.
201.             if base != new_class and not base._meta.abstract:
202.                 continue
203.             # Locate OneToOneField instances.
204.             for field in base._meta.local_fields:
205.                 if isinstance(field, OneToOneField) and field.remote_field.parent_link:
206.                     related = resolve_relation(new_class, field.remote_field.model)
207.                     parent_links[make_model_tuple(related)] = field
208. 
209.         # Track fields inherited from base models.
210.         inherited_attributes = set()
211.         # Do the appropriate setup for any model parents.
212.         for base in new_class.mro():
213.             if base not in parents or not hasattr(base, '_meta'):
214.                 # Things without _meta aren't functional models, so they're
215.                 # uninteresting parents.
216.                 inherited_attributes.update(base.__dict__)
217.                 continue
218. 
219.             parent_fields = base._meta.local_fields + base._meta.local_many_to_many
220.             if not base._meta.abstract:
221.                 # Check for clashes between locally declared fields and those
222.                 # on the base classes.
223.                 for field in parent_fields:
224.                     if field.name in field_names:
225.                         raise FieldError(
226.                             'Local field %r in class %r clashes with field of '
227.                             'the same name from base class %r.' % (
228.                                 field.name,
229.                                 name,
230.                                 base.__name__,
231.                             )
232.                         )
233.                     else:
234.                         inherited_attributes.add(field.name)
235. 
236.                 # Concrete classes...
237.                 base = base._meta.concrete_model
238.                 base_key = make_model_tuple(base)
239.                 if base_key in parent_links:
240.                     field = parent_links[base_key]
241.                 elif not is_proxy:
242.                     attr_name = '%s_ptr' % base._meta.model_name
243.                     field = OneToOneField(
244.                         base,
245.                         on_delete=CASCADE,
246.                         name=attr_name,
247.                         auto_created=True,
248.                         parent_link=True,
249.                     )
250. 
251.                     if attr_name in field_names:
252.                         raise FieldError(
253.                             "Auto-generated field '%s' in class %r for "
254.                             "parent_link to base class %r clashes with "
255.                             "declared field of the same name." % (
256.                                 attr_name,
257.                                 name,
258.                                 base.__name__,
259.                             )
260.                         )
261. 
262.                     # Only add the ptr field if it's not already present;
263.                     # e.g. migrations will already have it specified
264.                     if not hasattr(new_class, attr_name):
265.                         new_class.add_to_class(attr_name, field)
266.                 else:
267.                     field = None
268.                 new_class._meta.parents[base] = field
269.             else:
270.                 base_parents = base._meta.parents.copy()
271. 
272.                 # Add fields from abstract base class if it wasn't overridden.
273.                 for field in parent_fields:
274.                     if (field.name not in field_names and
275.                             field.name not in new_class.__dict__ and
276.                             field.name not in inherited_attributes):
277.                         new_field = copy.deepcopy(field)
278.                         new_class.add_to_class(field.name, new_field)
279.                         # Replace parent links defined on this base by the new
280.                         # field. It will be appropriately resolved if required.
281.                         if field.one_to_one:
282.                             for parent, parent_link in base_parents.items():
283.                                 if field == parent_link:
284.                                     base_parents[parent] = new_field
285. 
286.                 # Pass any non-abstract parent classes onto child.
287.                 new_class._meta.parents.update(base_parents)
288. 
289.             # Inherit private fields (like GenericForeignKey) from the parent
290.             # class
291.             for field in base._meta.private_fields:
292.                 if field.name in field_names:
293.                     if not base._meta.abstract:
294.                         raise FieldError(
295.                             'Local field %r in class %r clashes with field of '
296.                             'the same name from base class %r.' % (
297.                                 field.name,
298.                                 name,
299.                                 base.__name__,
300.                             )
301.                         )
302.                 else:
303.                     field = copy.deepcopy(field)
304.                     if not base._meta.abstract:
305.                         field.mti_inherited = True
306.                     new_class.add_to_class(field.name, field)
307. 
308.         # Copy indexes so that index names are unique when models extend an
309.         # abstract model.
310.         new_class._meta.indexes = [copy.deepcopy(idx) for idx in new_class._meta.indexes]
311. 
312.         if abstract:
313.             # Abstract base models can't be instantiated and don't appear in
314.             # the list of models for an app. We do the final setup for them a
315.             # little differently from normal models.
316.             attr_meta.abstract = False
317.             new_class.Meta = attr_meta
318.             return new_class
319. 
320.         new_class._prepare()
321.         new_class._meta.apps.register_model(new_class._meta.app_label, new_class)
322.         return new_class
323. 
324.     def add_to_class(cls, name, value):
325.         if _has_contribute_to_class(value):
326.             value.contribute_to_class(cls, name)
327.         else:
328.             setattr(cls, name, value)
329. 
330.     def _prepare(cls):
331.         """Create some methods once self._meta has been populated."""
332.         opts = cls._meta
333.         opts._prepare(cls)
334. 
335.         if opts.order_with_respect_to:
336.             cls.get_next_in_order = partialmethod(cls._get_next_or_previous_in_order, is_next=True)
337.             cls.get_previous_in_order = partialmethod(cls._get_next_or_previous_in_order, is_next=False)
338. 
339.             # Defer creating accessors on the foreign class until it has been
340.             # created and registered. If remote_field is None, we're ordering
341.             # with respect to a GenericForeignKey and don't know what the
342.             # foreign class is - we'll add those accessors later in
343.             # contribute_to_class().
344.             if opts.order_with_respect_to.remote_field:
345.                 wrt = opts.order_with_respect_to
346.                 remote = wrt.remote_field.model
347.                 lazy_related_operation(make_foreign_order_accessors, cls, remote)
348. 
349.         # Give the class a docstring -- its definition.
350.         if cls.__doc__ is None:
351.             cls.__doc__ = "%s(%s)" % (cls.__name__, ", ".join(f.name for f in opts.fields))
352. 
353.         get_absolute_url_override = settings.ABSOLUTE_URL_OVERRIDES.get(opts.label_lower)
354.         if get_absolute_url_override:
355.             setattr(cls, 'get_absolute_url', get_absolute_url_override)
356. 
357.         if not opts.managers:
358.             if any(f.name == 'objects' for f in opts.fields):
359.                 raise ValueError(
360.                     "Model %s must specify a custom Manager, because it has a "
361.                     "field named 'objects'." % cls.__name__
362.                 )
363.             manager = Manager()
364.             manager.auto_created = True
365.             cls.add_to_class('objects', manager)
366. 
367.         # Set the name of _meta.indexes. This can't be done in
368.         # Options.contribute_to_class() because fields haven't been added to
369.         # the model at that point.
370.         for index in cls._meta.indexes:
371.             if not index.name:
372.                 index.set_name_with_model(cls)
373. 
374.         class_prepared.send(sender=cls)
375. 
376.     @property
377.     def _base_manager(cls):
378.         return cls._meta.base_manager
379. 
380.     @property
381.     def _default_manager(cls):
382.         return cls._meta.default_manager
383. 
384. 
385. class ModelStateFieldsCacheDescriptor:
386.     def __get__(self, instance, cls=None):
387.         if instance is None:
388.             return self
389.         res = instance.fields_cache = {}
390.         return res
391. 
392. 
393. class ModelState:
394.     """Store model instance state."""
395.     db = None
396.     # If true, uniqueness validation checks will consider this a new, unsaved
397.     # object. Necessary for correct validation of new instances of objects with
398.     # explicit (non-auto) PKs. This impacts validation only; it has no effect
399.     # on the actual save.
400.     adding = True
401.     fields_cache = ModelStateFieldsCacheDescriptor()
402. 
403. 
404. class Model(metaclass=ModelBase):
405. 
406.     def __init__(self, *args, **kwargs):
407.         # Alias some things as locals to avoid repeat global lookups
408.         cls = self.__class__
409.         opts = self._meta
410.         _setattr = setattr
411.         _DEFERRED = DEFERRED
412.         if opts.abstract:
413.             raise TypeError('Abstract models cannot be instantiated.')
414. 
415.         pre_init.send(sender=cls, args=args, kwargs=kwargs)
416. 
417.         # Set up the storage for instance state
418.         self._state = ModelState()
419. 
420.         # There is a rather weird disparity here; if kwargs, it's set, then args
421.         # overrides it. It should be one or the other; don't duplicate the work
422.         # The reason for the kwargs check is that standard iterator passes in by
423.         # args, and instantiation for iteration is 33% faster.
424.         if len(args) > len(opts.concrete_fields):
425.             # Daft, but matches old exception sans the err msg.
426.             raise IndexError("Number of args exceeds number of fields")
427. 
428.         if not kwargs:
429.             fields_iter = iter(opts.concrete_fields)
430.             # The ordering of the zip calls matter - zip throws StopIteration
431.             # when an iter throws it. So if the first iter throws it, the second
432.             # is *not* consumed. We rely on this, so don't change the order
433.             # without changing the logic.
434.             for val, field in zip(args, fields_iter):
435.                 if val is _DEFERRED:
436.                     continue
437.                 _setattr(self, field.attname, val)
438.         else:
439.             # Slower, kwargs-ready version.
440.             fields_iter = iter(opts.fields)
441.             for val, field in zip(args, fields_iter):
442.                 if val is _DEFERRED:
443.                     continue
444.                 _setattr(self, field.attname, val)
445.                 kwargs.pop(field.name, None)
446. 
447.         # Now we're left with the unprocessed fields that *must* come from
448.         # keywords, or default.
449. 
450.         for field in fields_iter:
451.             is_related_object = False
452.             # Virtual field
453.             if field.attname not in kwargs and field.column is None:
454.                 continue
455.             if kwargs:
456.                 if isinstance(field.remote_field, ForeignObjectRel):
457.                     try:
458.                         # Assume object instance was passed in.
459.                         rel_obj = kwargs.pop(field.name)
460.                         is_related_object = True
461.                     except KeyError:
462.                         try:
463.                             # Object instance wasn't passed in -- must be an ID.
464.                             val = kwargs.pop(field.attname)
465.                         except KeyError:
466.                             val = field.get_default()
467.                 else:
468.                     try:
469.                         val = kwargs.pop(field.attname)
470.                     except KeyError:
471.                         # This is done with an exception rather than the
472.                         # default argument on pop because we don't want
473.                         # get_default() to be evaluated, and then not used.
474.                         # Refs #12057.
475.                         val = field.get_default()
476.             else:
477.                 val = field.get_default()
478. 
479.             if is_related_object:
480.                 # If we are passed a related instance, set it using the
481.                 # field.name instead of field.attname (e.g. "user" instead of
482.                 # "user_id") so that the object gets properly cached (and type
483.                 # checked) by the RelatedObjectDescriptor.
484.                 if rel_obj is not _DEFERRED:
485.                     _setattr(self, field.name, rel_obj)
486.             else:
487.                 if val is not _DEFERRED:
488.                     _setattr(self, field.attname, val)
489. 
490.         if kwargs:
491.             property_names = opts._property_names
492.             for prop in tuple(kwargs):
493.                 try:
494.                     # Any remaining kwargs must correspond to properties or
495.                     # virtual fields.
496.                     if prop in property_names or opts.get_field(prop):
497.                         if kwargs[prop] is not _DEFERRED:
498.                             _setattr(self, prop, kwargs[prop])
499.                         del kwargs[prop]
500.                 except (AttributeError, FieldDoesNotExist):
501.                     pass
502.             for kwarg in kwargs:
503.                 raise TypeError("%s() got an unexpected keyword argument '%s'" % (cls.__name__, kwarg))
504.         super().__init__()
505.         post_init.send(sender=cls, instance=self)
506. 
507.     @classmethod
508.     def from_db(cls, db, field_names, values):
509.         if len(values) != len(cls._meta.concrete_fields):
510.             values_iter = iter(values)
511.             values = [
512.                 next(values_iter) if f.attname in field_names else DEFERRED
513.                 for f in cls._meta.concrete_fields
514.             ]
515.         new = cls(*values)
516.         new._state.adding = False
517.         new._state.db = db
518.         return new
519. 
520.     def __repr__(self):
521.         return '<%s: %s>' % (self.__class__.__name__, self)
522. 
523.     def __str__(self):
524.         return '%s object (%s)' % (self.__class__.__name__, self.pk)
525. 
526.     def __eq__(self, other):
527.         if not isinstance(other, Model):
528.             return NotImplemented
529.         if self._meta.concrete_model != other._meta.concrete_model:
530.             return False
531.         my_pk = self.pk
532.         if my_pk is None:
533.             return self is other
534.         return my_pk == other.pk
535. 
536.     def __hash__(self):
537.         if self.pk is None:
538.             raise TypeError("Model instances without primary key value are unhashable")
539.         return hash(self.pk)
540. 
541.     def __reduce__(self):
542.         data = self.__getstate__()
543.         data[DJANGO_VERSION_PICKLE_KEY] = django.__version__
544.         class_id = self._meta.app_label, self._meta.object_name
545.         return model_unpickle, (class_id,), data
546. 
547.     def __getstate__(self):
548.         """Hook to allow choosing the attributes to pickle."""
549.         state = self.__dict__.copy()
550.         state['_state'] = copy.copy(state['_state'])
551.         state['_state'].fields_cache = state['_state'].fields_cache.copy()
552.         return state
553. 
554.     def __setstate__(self, state):
555.         pickled_version = state.get(DJANGO_VERSION_PICKLE_KEY)
556.         if pickled_version:
557.             if pickled_version != django.__version__:
558.                 warnings.warn(
559.                     "Pickled model instance's Django version %s does not "
560.                     "match the current version %s."
561.                     % (pickled_version, django.__version__),
562.                     RuntimeWarning,
563.                     stacklevel=2,
564.                 )
565.         else:
566.             warnings.warn(
567.                 "Pickled model instance's Django version is not specified.",
568.                 RuntimeWarning,
569.                 stacklevel=2,
570.             )
571.         self.__dict__.update(state)
572. 
573.     def _get_pk_val(self, meta=None):
574.         meta = meta or self._meta
575.         return getattr(self, meta.pk.attname)
576. 
577.     def _set_pk_val(self, value):
578.         for parent_link in self._meta.parents.values():
579.             if parent_link and parent_link != self._meta.pk:
580.                 setattr(self, parent_link.target_field.attname, value)
581.         return setattr(self, self._meta.pk.attname, value)
582. 
583.     pk = property(_get_pk_val, _set_pk_val)
584. 
585.     def get_deferred_fields(self):
586.         """
587.         Return a set containing names of deferred fields for this instance.
588.         """
589.         return {
590.             f.attname for f in self._meta.concrete_fields
591.             if f.attname not in self.__dict__
592.         }
593. 
594.     def refresh_from_db(self, using=None, fields=None):
595.         """
596.         Reload field values from the database.
597. 
598.         By default, the reloading happens from the database this instance was
599.         loaded from, or by the read router if this instance wasn't loaded from
600.         any database. The using parameter will override the default.
601. 
602.         Fields can be used to specify which fields to reload. The fields
603.         should be an iterable of field attnames. If fields is None, then
604.         all non-deferred fields are reloaded.
605. 
606.         When accessing deferred fields of an instance, the deferred loading
607.         of the field will call this method.
608.         """
609.         if fields is None:
610.             self._prefetched_objects_cache = {}
611.         else:
612.             prefetched_objects_cache = getattr(self, '_prefetched_objects_cache', ())
613.             for field in fields:
614.                 if field in prefetched_objects_cache:
615.                     del prefetched_objects_cache[field]
616.                     fields.remove(field)
617.             if not fields:
618.                 return
619.             if any(LOOKUP_SEP in f for f in fields):
620.                 raise ValueError(
621.                     'Found "%s" in fields argument. Relations and transforms '
622.                     'are not allowed in fields.' % LOOKUP_SEP)
623. 
624.         hints = {'instance': self}
625.         db_instance_qs = self.__class__._base_manager.db_manager(using, hints=hints).filter(pk=self.pk)
626. 
627.         # Use provided fields, if not set then reload all non-deferred fields.
628.         deferred_fields = self.get_deferred_fields()
629.         if fields is not None:
630.             fields = list(fields)
631.             db_instance_qs = db_instance_qs.only(*fields)
632.         elif deferred_fields:
633.             fields = [f.attname for f in self._meta.concrete_fields
634.                       if f.attname not in deferred_fields]
635.             db_instance_qs = db_instance_qs.only(*fields)
636. 
637.         db_instance = db_instance_qs.get()
638.         non_loaded_fields = db_instance.get_deferred_fields()
639.         for field in self._meta.concrete_fields:
640.             if field.attname in non_loaded_fields:
641.                 # This field wasn't refreshed - skip ahead.
642.                 continue
643.             setattr(self, field.attname, getattr(db_instance, field.attname))
644.             # Clear cached foreign keys.
645.             if field.is_relation and field.is_cached(self):
646.                 field.delete_cached_value(self)
647. 
648.         # Clear cached relations.
649.         for field in self._meta.related_objects:
650.             if field.is_cached(self):
651.                 field.delete_cached_value(self)
652. 
653.         self._state.db = db_instance._state.db
654. 
655.     def serializable_value(self, field_name):
656.         """
657.         Return the value of the field name for this instance. If the field is
658.         a foreign key, return the id value instead of the object. If there's
659.         no Field object with this name on the model, return the model
660.         attribute's value.
661. 
662.         Used to serialize a field's value (in the serializer, or form output,
663.         for example). Normally, you would just access the attribute directly
664.         and not use this method.
665.         """
666.         try:
667.             field = self._meta.get_field(field_name)
668.         except FieldDoesNotExist:
669.             return getattr(self, field_name)
670.         return getattr(self, field.attname)
671. 
672.     def save(self, force_insert=False, force_update=False, using=None,
673.              update_fields=None):
674.         """
675.         Save the current instance. Override this in a subclass if you want to
676.         control the saving process.
677. 
678.         The 'force_insert' and 'force_update' parameters can be used to insist
679.         that the "save" must be an SQL insert or update (or equivalent for
680.         non-SQL backends), respectively. Normally, they should not be set.
681.         """
682.         self._prepare_related_fields_for_save(operation_name='save')
683. 
684.         using = using or router.db_for_write(self.__class__, instance=self)
685.         if force_insert and (force_update or update_fields):
686.             raise ValueError("Cannot force both insert and updating in model saving.")
687. 
688.         deferred_fields = self.get_deferred_fields()
689.         if update_fields is not None:
690.             # If update_fields is empty, skip the save. We do also check for
691.             # no-op saves later on for inheritance cases. This bailout is
692.             # still needed for skipping signal sending.
693.             if not update_fields:
694.                 return
695. 
696.             update_fields = frozenset(update_fields)
697.             field_names = set()
698. 
699.             for field in self._meta.concrete_fields:
700.                 if not field.primary_key:
701.                     field_names.add(field.name)
702. 
703.                     if field.name != field.attname:
704.                         field_names.add(field.attname)
705. 
706.             non_model_fields = update_fields.difference(field_names)
707. 
708.             if non_model_fields:
709.                 raise ValueError(
710.                     'The following fields do not exist in this model, are m2m '
711.                     'fields, or are non-concrete fields: %s'
712.                     % ', '.join(non_model_fields)
713.                 )
714. 
715.         # If saving to the same database, and this model is deferred, then
716.         # automatically do an "update_fields" save on the loaded fields.
717.         elif not force_insert and deferred_fields and using == self._state.db:
718.             field_names = set()
719.             for field in self._meta.concrete_fields:
720.                 if not field.primary_key and not hasattr(field, 'through'):
721.                     field_names.add(field.attname)
722.             loaded_fields = field_names.difference(deferred_fields)
723.             if loaded_fields:
724.                 update_fields = frozenset(loaded_fields)
725. 
726.         self.save_base(using=using, force_insert=force_insert,
727.                        force_update=force_update, update_fields=update_fields)
728.     save.alters_data = True
729. 
730.     def save_base(self, raw=False, force_insert=False,
731.                   force_update=False, using=None, update_fields=None):
732.         """
733.         Handle the parts of saving which should be done only once per save,
734.         yet need to be done in raw saves, too. This includes some sanity
735.         checks and signal sending.
736. 
737.         The 'raw' argument is telling save_base not to save any parent
738.         models and not to do any changes to the values before save. This
739.         is used by fixture loading.
740.         """
741.         using = using or router.db_for_write(self.__class__, instance=self)
742.         assert not (force_insert and (force_update or update_fields))
743.         assert update_fields is None or update_fields
744.         cls = origin = self.__class__
745.         # Skip proxies, but keep the origin as the proxy model.
746.         if cls._meta.proxy:
747.             cls = cls._meta.concrete_model
748.         meta = cls._meta
749.         if not meta.auto_created:
750.             pre_save.send(
751.                 sender=origin, instance=self, raw=raw, using=using,
752.                 update_fields=update_fields,
753.             )
754.         # A transaction isn't needed if one query is issued.
755.         if meta.parents:
756.             context_manager = transaction.atomic(using=using, savepoint=False)
757.         else:
758.             context_manager = transaction.mark_for_rollback_on_error(using=using)
759.         with context_manager:
760.             parent_inserted = False
761.             if not raw:
762.                 parent_inserted = self._save_parents(cls, using, update_fields)
763.             updated = self._save_table(
764.                 raw, cls, force_insert or parent_inserted,
765.                 force_update, using, update_fields,
766.             )
767.         # Store the database on which the object was saved
768.         self._state.db = using
769.         # Once saved, this is no longer a to-be-added instance.
770.         self._state.adding = False
771. 
772.         # Signal that the save is complete
773.         if not meta.auto_created:
774.             post_save.send(
775.                 sender=origin, instance=self, created=(not updated),
776.                 update_fields=update_fields, raw=raw, using=using,
777.             )
778. 
779.     save_base.alters_data = True
780. 
781.     def _save_parents(self, cls, using, update_fields):
782.         """Save all the parents of cls using values from self."""
783.         meta = cls._meta
784.         inserted = False
785.         for parent, field in meta.parents.items():
786.             # Make sure the link fields are synced between parent and self.
787.             if (field and getattr(self, parent._meta.pk.attname) is None and
788.                     getattr(self, field.attname) is not None):
789.                 setattr(self, parent._meta.pk.attname, getattr(self, field.attname))
790.             parent_inserted = self._save_parents(cls=parent, using=using, update_fields=update_fields)
791.             updated = self._save_table(
792.                 cls=parent, using=using, update_fields=update_fields,
793.                 force_insert=parent_inserted,
794.             )
795.             if not updated:
796.                 inserted = True
797.             # Set the parent's PK value to self.
798.             if field:
799.                 setattr(self, field.attname, self._get_pk_val(parent._meta))
800.                 # Since we didn't have an instance of the parent handy set
801.                 # attname directly, bypassing the descriptor. Invalidate
802.                 # the related object cache, in case it's been accidentally
803.                 # populated. A fresh instance will be re-built from the
804.                 # database if necessary.
805.                 if field.is_cached(self):
806.                     field.delete_cached_value(self)
807.         return inserted
808. 
809.     def _save_table(self, raw=False, cls=None, force_insert=False,
810.                     force_update=False, using=None, update_fields=None):
811.         """
812.         Do the heavy-lifting involved in saving. Update or insert the data
813.         for a single table.
814.         """
815.         meta = cls._meta
816.         non_pks = [f for f in meta.local_concrete_fields if not f.primary_key]
817. 
818.         if update_fields:
819.             non_pks = [f for f in non_pks
820.                        if f.name in update_fields or f.attname in update_fields]
821. 
822.         pk_val = self._get_pk_val(meta)
823.         if pk_val is None:
824.             pk_val = meta.pk.get_pk_value_on_save(self)
825.             setattr(self, meta.pk.attname, pk_val)
826.         pk_set = pk_val is not None
827.         if not pk_set and (force_update or update_fields):
828.             raise ValueError("Cannot force an update in save() with no primary key.")
829.         updated = False
830.         # Skip an UPDATE when adding an instance and primary key has a default.
831.         if (
832.             not raw and
833.             not force_insert and
834.             self._state.adding and
835.             meta.pk.default and
836.             meta.pk.default is not NOT_PROVIDED
837.         ):
838.             force_insert = True
839.         # If possible, try an UPDATE. If that doesn't update anything, do an INSERT.
840.         if pk_set and not force_insert:
841.             base_qs = cls._base_manager.using(using)
842.             values = [(f, None, (getattr(self, f.attname) if raw else f.pre_save(self, False)))
843.                       for f in non_pks]
844.             forced_update = update_fields or force_update
845.             updated = self._do_update(base_qs, using, pk_val, values, update_fields,
846.                                       forced_update)
847.             if force_update and not updated:
848.                 raise DatabaseError("Forced update did not affect any rows.")
849.             if update_fields and not updated:
850.                 raise DatabaseError("Save with update_fields did not affect any rows.")
851.         if not updated:
852.             if meta.order_with_respect_to:
853.                 # If this is a model with an order_with_respect_to
854.                 # autopopulate the _order field
855.                 field = meta.order_with_respect_to
856.                 filter_args = field.get_filter_kwargs_for_object(self)
857.                 self._order = cls._base_manager.using(using).filter(**filter_args).aggregate(
858.                     _order__max=Coalesce(
859.                         ExpressionWrapper(Max('_order') + Value(1), output_field=IntegerField()),
860.                         Value(0),
861.                     ),
862.                 )['_order__max']
863.             fields = meta.local_concrete_fields
864.             if not pk_set:
865.                 fields = [f for f in fields if f is not meta.auto_field]
866. 
867.             returning_fields = meta.db_returning_fields
868.             results = self._do_insert(cls._base_manager, using, fields, returning_fields, raw)
869.             if results:
870.                 for value, field in zip(results[0], returning_fields):
871.                     setattr(self, field.attname, value)
872.         return updated
873. 
874.     def _do_update(self, base_qs, using, pk_val, values, update_fields, forced_update):
875.         """
876.         Try to update the model. Return True if the model was updated (if an
877.         update query was done and a matching row was found in the DB).
878.         """
879.         filtered = base_qs.filter(pk=pk_val)
880.         if not values:
881.             # We can end up here when saving a model in inheritance chain where
882.             # update_fields doesn't target any field in current model. In that
883.             # case we just say the update succeeded. Another case ending up here
884.             # is a model with just PK - in that case check that the PK still
885.             # exists.
886.             return update_fields is not None or filtered.exists()
887.         if self._meta.select_on_save and not forced_update:
888.             return (
889.                 filtered.exists() and
890.                 # It may happen that the object is deleted from the DB right after
891.                 # this check, causing the subsequent UPDATE to return zero matching
892.                 # rows. The same result can occur in some rare cases when the
893.                 # database returns zero despite the UPDATE being executed
894.                 # successfully (a row is matched and updated). In order to
895.                 # distinguish these two cases, the object's existence in the
896.                 # database is again checked for if the UPDATE query returns 0.
897.                 (filtered._update(values) > 0 or filtered.exists())
898.             )
899.         return filtered._update(values) > 0
900. 
901.     def _do_insert(self, manager, using, fields, returning_fields, raw):
902.         """
903.         Do an INSERT. If returning_fields is defined then this method should
904.         return the newly created data for the model.
905.         """
906.         return manager._insert(
907.             [self], fields=fields, returning_fields=returning_fields,
908.             using=using, raw=raw,
909.         )
910. 
911.     def _prepare_related_fields_for_save(self, operation_name):
912.         # Ensure that a model instance without a PK hasn't been assigned to
913.         # a ForeignKey or OneToOneField on this model. If the field is
914.         # nullable, allowing the save would result in silent data loss.
915.         for field in self._meta.concrete_fields:
916.             # If the related field isn't cached, then an instance hasn't been
917.             # assigned and there's no need to worry about this check.
918.             if field.is_relation and field.is_cached(self):
919.                 obj = getattr(self, field.name, None)
920.                 if not obj:
921.                     continue
922.                 # A pk may have been assigned manually to a model instance not
923.                 # saved to the database (or auto-generated in a case like
924.                 # UUIDField), but we allow the save to proceed and rely on the
925.                 # database to raise an IntegrityError if applicable. If
926.                 # constraints aren't supported by the database, there's the
927.                 # unavoidable risk of data corruption.
928.                 if obj.pk is None:
929.                     # Remove the object from a related instance cache.
930.                     if not field.remote_field.multiple:
931.                         field.remote_field.delete_cached_value(obj)
932.                     raise ValueError(
933.                         "%s() prohibited to prevent data loss due to unsaved "
934.                         "related object '%s'." % (operation_name, field.name)
935.                     )
936.                 elif getattr(self, field.attname) is None:
937.                     # Use pk from related object if it has been saved after
938.                     # an assignment.
939.                     setattr(self, field.attname, obj.pk)
940.                 # If the relationship's pk/to_field was changed, clear the
941.                 # cached relationship.
942.                 if getattr(obj, field.target_field.attname) != getattr(self, field.attname):
943.                     field.delete_cached_value(self)
944. 
945.     def delete(self, using=None, keep_parents=False):
946.         using = using or router.db_for_write(self.__class__, instance=self)
947.         assert self.pk is not None, (
948.             "%s object can't be deleted because its %s attribute is set to None." %
949.             (self._meta.object_name, self._meta.pk.attname)
950.         )
951. 
952.         collector = Collector(using=using)
953.         collector.collect([self], keep_parents=keep_parents)
954.         return collector.delete()
955. 
956.     delete.alters_data = True
957. 
958.     def _get_FIELD_display(self, field):
959.         value = getattr(self, field.attname)
960.         choices_dict = dict(make_hashable(field.flatchoices))
961.         # force_str() to coerce lazy strings.
962.         return force_str(choices_dict.get(make_hashable(value), value), strings_only=True)
963. 
964.     def _get_next_or_previous_by_FIELD(self, field, is_next, **kwargs):
965.         if not self.pk:
966.             raise ValueError("get_next/get_previous cannot be used on unsaved objects.")
967.         op = 'gt' if is_next else 'lt'
968.         order = '' if is_next else '-'
969.         param = getattr(self, field.attname)
970.         q = Q(**{'%s__%s' % (field.name, op): param})
971.         q = q | Q(**{field.name: param, 'pk__%s' % op: self.pk})
972.         qs = self.__class__._default_manager.using(self._state.db).filter(**kwargs).filter(q).order_by(
973.             '%s%s' % (order, field.name), '%spk' % order
974.         )
975.         try:
976.             return qs[0]
977.         except IndexError:
978.             raise self.DoesNotExist("%s matching query does not exist." % self.__class__._meta.object_name)
979. 
980.     def _get_next_or_previous_in_order(self, is_next):
981.         cachename = "__%s_order_cache" % is_next
982.         if not hasattr(self, cachename):
983.             op = 'gt' if is_next else 'lt'
984.             order = '_order' if is_next else '-_order'
985.             order_field = self._meta.order_with_respect_to
986.             filter_args = order_field.get_filter_kwargs_for_object(self)
987.             obj = self.__class__._default_manager.filter(**filter_args).filter(**{
988.                 '_order__%s' % op: self.__class__._default_manager.values('_order').filter(**{
989.                     self._meta.pk.name: self.pk
990.                 })
991.             }).order_by(order)[:1].get()
992.             setattr(self, cachename, obj)
993.         return getattr(self, cachename)
994. 
995.     def prepare_database_save(self, field):
996.         if self.pk is None:
997.             raise ValueError("Unsaved model instance %r cannot be used in an ORM query." % self)
998.         return getattr(self, field.remote_field.get_related_field().attname)
999. 
1000.     def clean(self):
1001.         """
1002.         Hook for doing any extra model-wide validation after clean() has been
1003.         called on every field by self.clean_fields. Any ValidationError raised
1004.         by this method will not be associated with a particular field; it will
1005.         have a special-case association with the field defined by NON_FIELD_ERRORS.
1006.         """
1007.         pass
1008. 
1009.     def validate_unique(self, exclude=None):
1010.         """
1011.         Check unique constraints on the model and raise ValidationError if any
1012.         failed.
1013.         """
1014.         unique_checks, date_checks = self._get_unique_checks(exclude=exclude)
1015. 
1016.         errors = self._perform_unique_checks(unique_checks)
1017.         date_errors = self._perform_date_checks(date_checks)
1018. 
1019.         for k, v in date_errors.items():
1020.             errors.setdefault(k, []).extend(v)
1021. 
1022.         if errors:
1023.             raise ValidationError(errors)
1024. 
1025.     def _get_unique_checks(self, exclude=None):
1026.         """
1027.         Return a list of checks to perform. Since validate_unique() could be
1028.         called from a ModelForm, some fields may have been excluded; we can't
1029.         perform a unique check on a model that is missing fields involved
1030.         in that check. Fields that did not validate should also be excluded,
1031.         but they need to be passed in via the exclude argument.
1032.         """
1033.         if exclude is None:
1034.             exclude = []
1035.         unique_checks = []
1036. 
1037.         unique_togethers = [(self.__class__, self._meta.unique_together)]
1038.         constraints = [(self.__class__, self._meta.total_unique_constraints)]
1039.         for parent_class in self._meta.get_parent_list():
1040.             if parent_class._meta.unique_together:
1041.                 unique_togethers.append((parent_class, parent_class._meta.unique_together))
1042.             if parent_class._meta.total_unique_constraints:
1043.                 constraints.append(
1044.                     (parent_class, parent_class._meta.total_unique_constraints)
1045.                 )
1046. 
1047.         for model_class, unique_together in unique_togethers:
1048.             for check in unique_together:
1049.                 if not any(name in exclude for name in check):
1050.                     # Add the check if the field isn't excluded.
1051.                     unique_checks.append((model_class, tuple(check)))
1052. 
1053.         for model_class, model_constraints in constraints:
1054.             for constraint in model_constraints:
1055.                 if not any(name in exclude for name in constraint.fields):
1056.                     unique_checks.append((model_class, constraint.fields))
1057. 
1058.         # These are checks for the unique_for_<date/year/month>.
1059.         date_checks = []
1060. 
1061.         # Gather a list of checks for fields declared as unique and add them to
1062.         # the list of checks.
1063. 
1064.         fields_with_class = [(self.__class__, self._meta.local_fields)]
1065.         for parent_class in self._meta.get_parent_list():
1066.             fields_with_class.append((parent_class, parent_class._meta.local_fields))
1067. 
1068.         for model_class, fields in fields_with_class:
1069.             for f in fields:
1070.                 name = f.name
1071.                 if name in exclude:
1072.                     continue
1073.                 if f.unique:
1074.                     unique_checks.append((model_class, (name,)))
1075.                 if f.unique_for_date and f.unique_for_date not in exclude:
1076.                     date_checks.append((model_class, 'date', name, f.unique_for_date))
1077.                 if f.unique_for_year and f.unique_for_year not in exclude:
1078.                     date_checks.append((model_class, 'year', name, f.unique_for_year))
1079.                 if f.unique_for_month and f.unique_for_month not in exclude:
1080.                     date_checks.append((model_class, 'month', name, f.unique_for_month))
1081.         return unique_checks, date_checks
1082. 
1083.     def _perform_unique_checks(self, unique_checks):
1084.         errors = {}
1085. 
1086.         for model_class, unique_check in unique_checks:
1087.             # Try to look up an existing object with the same values as this
1088.             # object's values for all the unique field.
1089. 
1090.             lookup_kwargs = {}
1091.             for field_name in unique_check:
1092.                 f = self._meta.get_field(field_name)
1093.                 lookup_value = getattr(self, f.attname)
1094.                 # TODO: Handle multiple backends with different feature flags.
1095.                 if (lookup_value is None or
1096.                         (lookup_value == '' and connection.features.interprets_empty_strings_as_nulls)):
1097.                     # no value, skip the lookup
1098.                     continue
1099.                 if f.primary_key and not self._state.adding:
1100.                     # no need to check for unique primary key when editing
1101.                     continue
1102.                 lookup_kwargs[str(field_name)] = lookup_value
1103. 
1104.             # some fields were skipped, no reason to do the check
1105.             if len(unique_check) != len(lookup_kwargs):
1106.                 continue
1107. 
1108.             qs = model_class._default_manager.filter(**lookup_kwargs)
1109. 
1110.             # Exclude the current object from the query if we are editing an
1111.             # instance (as opposed to creating a new one)
1112.             # Note that we need to use the pk as defined by model_class, not
1113.             # self.pk. These can be different fields because model inheritance
1114.             # allows single model to have effectively multiple primary keys.
1115.             # Refs #17615.
1116.             model_class_pk = self._get_pk_val(model_class._meta)
1117.             if not self._state.adding and model_class_pk is not None:
1118.                 qs = qs.exclude(pk=model_class_pk)
1119.             if qs.exists():
1120.                 if len(unique_check) == 1:
1121.                     key = unique_check[0]
1122.                 else:
1123.                     key = NON_FIELD_ERRORS
1124.                 errors.setdefault(key, []).append(self.unique_error_message(model_class, unique_check))
1125. 
1126.         return errors
1127. 
1128.     def _perform_date_checks(self, date_checks):
1129.         errors = {}
1130.         for model_class, lookup_type, field, unique_for in date_checks:
1131.             lookup_kwargs = {}
1132.             # there's a ticket to add a date lookup, we can remove this special
1133.             # case if that makes it's way in
1134.             date = getattr(self, unique_for)
1135.             if date is None:
1136.                 continue
1137.             if lookup_type == 'date':
1138.                 lookup_kwargs['%s__day' % unique_for] = date.day
1139.                 lookup_kwargs['%s__month' % unique_for] = date.month
1140.                 lookup_kwargs['%s__year' % unique_for] = date.year
1141.             else:
1142.                 lookup_kwargs['%s__%s' % (unique_for, lookup_type)] = getattr(date, lookup_type)
1143.             lookup_kwargs[field] = getattr(self, field)
1144. 
1145.             qs = model_class._default_manager.filter(**lookup_kwargs)
1146.             # Exclude the current object from the query if we are editing an
1147.             # instance (as opposed to creating a new one)
1148.             if not self._state.adding and self.pk is not None:
1149.                 qs = qs.exclude(pk=self.pk)
1150. 
1151.             if qs.exists():
1152.                 errors.setdefault(field, []).append(
1153.                     self.date_error_message(lookup_type, field, unique_for)
1154.                 )
1155.         return errors
1156. 
1157.     def date_error_message(self, lookup_type, field_name, unique_for):
1158.         opts = self._meta
1159.         field = opts.get_field(field_name)
1160.         return ValidationError(
1161.             message=field.error_messages['unique_for_date'],
1162.             code='unique_for_date',
1163.             params={
1164.                 'model': self,
1165.                 'model_name': capfirst(opts.verbose_name),
1166.                 'lookup_type': lookup_type,
1167.                 'field': field_name,
1168.                 'field_label': capfirst(field.verbose_name),
1169.                 'date_field': unique_for,
1170.                 'date_field_label': capfirst(opts.get_field(unique_for).verbose_name),
1171.             }
1172.         )
1173. 
1174.     def unique_error_message(self, model_class, unique_check):
1175.         opts = model_class._meta
1176. 
1177.         params = {
1178.             'model': self,
1179.             'model_class': model_class,
1180.             'model_name': capfirst(opts.verbose_name),
1181.             'unique_check': unique_check,
1182.         }
1183. 
1184.         # A unique field
1185.         if len(unique_check) == 1:
1186.             field = opts.get_field(unique_check[0])
1187.             params['field_label'] = capfirst(field.verbose_name)
1188.             return ValidationError(
1189.                 message=field.error_messages['unique'],
1190.                 code='unique',
1191.                 params=params,
1192.             )
1193. 
1194.         # unique_together
1195.         else:
1196.             field_labels = [capfirst(opts.get_field(f).verbose_name) for f in unique_check]
1197.             params['field_labels'] = get_text_list(field_labels, _('and'))
1198.             return ValidationError(
1199.                 message=_("%(model_name)s with this %(field_labels)s already exists."),
1200.                 code='unique_together',
1201.                 params=params,
1202.             )
1203. 
1204.     def full_clean(self, exclude=None, validate_unique=True):
1205.         """
1206.         Call clean_fields(), clean(), and validate_unique() on the model.
1207.         Raise a ValidationError for any errors that occur.
1208.         """
1209.         errors = {}
1210.         if exclude is None:
1211.             exclude = []
1212.         else:
1213.             exclude = list(exclude)
1214. 
1215.         try:
1216.             self.clean_fields(exclude=exclude)
1217.         except ValidationError as e:
1218.             errors = e.update_error_dict(errors)
1219. 
1220.         # Form.clean() is run even if other validation fails, so do the
1221.         # same with Model.clean() for consistency.
1222.         try:
1223.             self.clean()
1224.         except ValidationError as e:
1225.             errors = e.update_error_dict(errors)
1226. 
1227.         # Run unique checks, but only for fields that passed validation.
1228.         if validate_unique:
1229.             for name in errors:
1230.                 if name != NON_FIELD_ERRORS and name not in exclude:
1231.                     exclude.append(name)
1232.             try:
1233.                 self.validate_unique(exclude=exclude)
1234.             except ValidationError as e:
1235.                 errors = e.update_error_dict(errors)
1236. 
1237.         if errors:
1238.             raise ValidationError(errors)
1239. 
1240.     def clean_fields(self, exclude=None):
1241.         """
1242.         Clean all fields and raise a ValidationError containing a dict
1243.         of all validation errors if any occur.
1244.         """
1245.         if exclude is None:
1246.             exclude = []
1247. 
1248.         errors = {}
1249.         for f in self._meta.fields:
1250.             if f.name in exclude:
1251.                 continue
1252.             # Skip validation for empty fields with blank=True. The developer
1253.             # is responsible for making sure they have a valid value.
1254.             raw_value = getattr(self, f.attname)
1255.             if f.blank and raw_value in f.empty_values:
1256.                 continue
1257.             try:
1258.                 setattr(self, f.attname, f.clean(raw_value, self))
1259.             except ValidationError as e:
1260.                 errors[f.name] = e.error_list
1261. 
1262.         if errors:
1263.             raise ValidationError(errors)
1264. 
1265.     @classmethod
1266.     def check(cls, **kwargs):
1267.         errors = [*cls._check_swappable(), *cls._check_model(), *cls._check_managers(**kwargs)]
1268.         if not cls._meta.swapped:
1269.             databases = kwargs.get('databases') or []
1270.             errors += [
1271.                 *cls._check_fields(**kwargs),
1272.                 *cls._check_m2m_through_same_relationship(),
1273.                 *cls._check_long_column_names(databases),
1274.             ]
1275.             clash_errors = (
1276.                 *cls._check_id_field(),
1277.                 *cls._check_field_name_clashes(),
1278.                 *cls._check_model_name_db_lookup_clashes(),
1279.                 *cls._check_property_name_related_field_accessor_clashes(),
1280.                 *cls._check_single_primary_key(),
1281.             )
1282.             errors.extend(clash_errors)
1283.             # If there are field name clashes, hide consequent column name
1284.             # clashes.
1285.             if not clash_errors:
1286.                 errors.extend(cls._check_column_name_clashes())
1287.             errors += [
1288.                 *cls._check_index_together(),
1289.                 *cls._check_unique_together(),
1290.                 *cls._check_indexes(databases),
1291.                 *cls._check_ordering(),
1292.                 *cls._check_constraints(databases),
1293.                 *cls._check_default_pk(),
1294.             ]
1295. 
1296.         return errors
1297. 
1298.     @classmethod
1299.     def _check_default_pk(cls):
1300.         if (
1301.             cls._meta.pk.auto_created and
1302.             not settings.is_overridden('DEFAULT_AUTO_FIELD') and
1303.             not cls._meta.app_config._is_default_auto_field_overridden
1304.         ):
1305.             return [
1306.                 checks.Warning(
1307.                     f"Auto-created primary key used when not defining a "
1308.                     f"primary key type, by default "
1309.                     f"'{settings.DEFAULT_AUTO_FIELD}'.",
1310.                     hint=(
1311.                         f"Configure the DEFAULT_AUTO_FIELD setting or the "
1312.                         f"{cls._meta.app_config.__class__.__qualname__}."
1313.                         f"default_auto_field attribute to point to a subclass "
1314.                         f"of AutoField, e.g. 'django.db.models.BigAutoField'."
1315.                     ),
1316.                     obj=cls,
1317.                     id='models.W042',
1318.                 ),
1319.             ]
1320.         return []
1321. 
1322.     @classmethod
1323.     def _check_swappable(cls):
1324.         """Check if the swapped model exists."""
1325.         errors = []
1326.         if cls._meta.swapped:
1327.             try:
1328.                 apps.get_model(cls._meta.swapped)
1329.             except ValueError:
1330.                 errors.append(
1331.                     checks.Error(
1332.                         "'%s' is not of the form 'app_label.app_name'." % cls._meta.swappable,
1333.                         id='models.E001',
1334.                     )
1335.                 )
1336.             except LookupError:
1337.                 app_label, model_name = cls._meta.swapped.split('.')
1338.                 errors.append(
1339.                     checks.Error(
1340.                         "'%s' references '%s.%s', which has not been "
1341.                         "installed, or is abstract." % (
1342.                             cls._meta.swappable, app_label, model_name
1343.                         ),
1344.                         id='models.E002',
1345.                     )
1346.                 )
1347.         return errors
1348. 
1349.     @classmethod
1350.     def _check_model(cls):
1351.         errors = []
1352.         if cls._meta.proxy:
1353.             if cls._meta.local_fields or cls._meta.local_many_to_many:
1354.                 errors.append(
1355.                     checks.Error(
1356.                         "Proxy model '%s' contains model fields." % cls.__name__,
1357.                         id='models.E017',
1358.                     )
1359.                 )
1360.         return errors
1361. 
1362.     @classmethod
1363.     def _check_managers(cls, **kwargs):
1364.         """Perform all manager checks."""
1365.         errors = []
1366.         for manager in cls._meta.managers:
1367.             errors.extend(manager.check(**kwargs))
1368.         return errors
1369. 
1370.     @classmethod
1371.     def _check_fields(cls, **kwargs):
1372.         """Perform all field checks."""
1373.         errors = []
1374.         for field in cls._meta.local_fields:
1375.             errors.extend(field.check(**kwargs))
1376.         for field in cls._meta.local_many_to_many:
1377.             errors.extend(field.check(from_model=cls, **kwargs))
1378.         return errors
1379. 
1380.     @classmethod
1381.     def _check_m2m_through_same_relationship(cls):
1382.         """ Check if no relationship model is used by more than one m2m field.
1383.         """
1384. 
1385.         errors = []
1386.         seen_intermediary_signatures = []
1387. 
1388.         fields = cls._meta.local_many_to_many
1389. 
1390.         # Skip when the target model wasn't found.
1391.         fields = (f for f in fields if isinstance(f.remote_field.model, ModelBase))
1392. 
1393.         # Skip when the relationship model wasn't found.
1394.         fields = (f for f in fields if isinstance(f.remote_field.through, ModelBase))
1395. 
1396.         for f in fields:
1397.             signature = (f.remote_field.model, cls, f.remote_field.through, f.remote_field.through_fields)
1398.             if signature in seen_intermediary_signatures:
1399.                 errors.append(
1400.                     checks.Error(
1401.                         "The model has two identical many-to-many relations "
1402.                         "through the intermediate model '%s'." %
1403.                         f.remote_field.through._meta.label,
1404.                         obj=cls,
1405.                         id='models.E003',
1406.                     )
1407.                 )
1408.             else:
1409.                 seen_intermediary_signatures.append(signature)
1410.         return errors
1411. 
1412.     @classmethod
1413.     def _check_id_field(cls):
1414.         """Check if `id` field is a primary key."""
1415.         fields = [f for f in cls._meta.local_fields if f.name == 'id' and f != cls._meta.pk]
1416.         # fields is empty or consists of the invalid "id" field
1417.         if fields and not fields[0].primary_key and cls._meta.pk.name == 'id':
1418.             return [
1419.                 checks.Error(
1420.                     "'id' can only be used as a field name if the field also "
1421.                     "sets 'primary_key=True'.",
1422.                     obj=cls,
1423.                     id='models.E004',
1424.                 )
1425.             ]
1426.         else:
1427.             return []
1428. 
1429.     @classmethod
1430.     def _check_field_name_clashes(cls):
1431.         """Forbid field shadowing in multi-table inheritance."""
1432.         errors = []
1433.         used_fields = {}  # name or attname -> field
1434. 
1435.         # Check that multi-inheritance doesn't cause field name shadowing.
1436.         for parent in cls._meta.get_parent_list():
1437.             for f in parent._meta.local_fields:
1438.                 clash = used_fields.get(f.name) or used_fields.get(f.attname) or None
1439.                 if clash:
1440.                     errors.append(
1441.                         checks.Error(
1442.                             "The field '%s' from parent model "
1443.                             "'%s' clashes with the field '%s' "
1444.                             "from parent model '%s'." % (
1445.                                 clash.name, clash.model._meta,
1446.                                 f.name, f.model._meta
1447.                             ),
1448.                             obj=cls,
1449.                             id='models.E005',
1450.                         )
1451.                     )
1452.                 used_fields[f.name] = f
1453.                 used_fields[f.attname] = f
1454. 
1455.         # Check that fields defined in the model don't clash with fields from
1456.         # parents, including auto-generated fields like multi-table inheritance
1457.         # child accessors.
1458.         for parent in cls._meta.get_parent_list():
1459.             for f in parent._meta.get_fields():
1460.                 if f not in used_fields:
1461.                     used_fields[f.name] = f
1462. 
1463.         for f in cls._meta.local_fields:
1464.             clash = used_fields.get(f.name) or used_fields.get(f.attname) or None
1465.             # Note that we may detect clash between user-defined non-unique
1466.             # field "id" and automatically added unique field "id", both
1467.             # defined at the same model. This special case is considered in
1468.             # _check_id_field and here we ignore it.
1469.             id_conflict = f.name == "id" and clash and clash.name == "id" and clash.model == cls
1470.             if clash and not id_conflict:
1471.                 errors.append(
1472.                     checks.Error(
1473.                         "The field '%s' clashes with the field '%s' "
1474.                         "from model '%s'." % (
1475.                             f.name, clash.name, clash.model._meta
1476.                         ),
1477.                         obj=f,
1478.                         id='models.E006',
1479.                     )
1480.                 )
1481.             used_fields[f.name] = f
1482.             used_fields[f.attname] = f
1483. 
1484.         return errors
1485. 
1486.     @classmethod
1487.     def _check_column_name_clashes(cls):
1488.         # Store a list of column names which have already been used by other fields.
1489.         used_column_names = []
1490.         errors = []
1491. 
1492.         for f in cls._meta.local_fields:
1493.             _, column_name = f.get_attname_column()
1494. 
1495.             # Ensure the column name is not already in use.
1496.             if column_name and column_name in used_column_names:
1497.                 errors.append(
1498.                     checks.Error(
1499.                         "Field '%s' has column name '%s' that is used by "
1500.                         "another field." % (f.name, column_name),
1501.                         hint="Specify a 'db_column' for the field.",
1502.                         obj=cls,
1503.                         id='models.E007'
1504.                     )
1505.                 )
1506.             else:
1507.                 used_column_names.append(column_name)
1508. 
1509.         return errors
1510. 
1511.     @classmethod
1512.     def _check_model_name_db_lookup_clashes(cls):
1513.         errors = []
1514.         model_name = cls.__name__
1515.         if model_name.startswith('_') or model_name.endswith('_'):
1516.             errors.append(
1517.                 checks.Error(
1518.                     "The model name '%s' cannot start or end with an underscore "
1519.                     "as it collides with the query lookup syntax." % model_name,
1520.                     obj=cls,
1521.                     id='models.E023'
1522.                 )
1523.             )
1524.         elif LOOKUP_SEP in model_name:
1525.             errors.append(
1526.                 checks.Error(
1527.                     "The model name '%s' cannot contain double underscores as "
1528.                     "it collides with the query lookup syntax." % model_name,
1529.                     obj=cls,
1530.                     id='models.E024'
1531.                 )
1532.             )
1533.         return errors
1534. 
1535.     @classmethod
1536.     def _check_property_name_related_field_accessor_clashes(cls):
1537.         errors = []
1538.         property_names = cls._meta._property_names
1539.         related_field_accessors = (
1540.             f.get_attname() for f in cls._meta._get_fields(reverse=False)
1541.             if f.is_relation and f.related_model is not None
1542.         )
1543.         for accessor in related_field_accessors:
1544.             if accessor in property_names:
1545.                 errors.append(
1546.                     checks.Error(
1547.                         "The property '%s' clashes with a related field "
1548.                         "accessor." % accessor,
1549.                         obj=cls,
1550.                         id='models.E025',
1551.                     )
1552.                 )
1553.         return errors
1554. 
1555.     @classmethod
1556.     def _check_single_primary_key(cls):
1557.         errors = []
1558.         if sum(1 for f in cls._meta.local_fields if f.primary_key) > 1:
1559.             errors.append(
1560.                 checks.Error(
1561.                     "The model cannot have more than one field with "
1562.                     "'primary_key=True'.",
1563.                     obj=cls,
1564.                     id='models.E026',
1565.                 )
1566.             )
1567.         return errors
1568. 
1569.     @classmethod
1570.     def _check_index_together(cls):
1571.         """Check the value of "index_together" option."""
1572.         if not isinstance(cls._meta.index_together, (tuple, list)):
1573.             return [
1574.                 checks.Error(
1575.                     "'index_together' must be a list or tuple.",
1576.                     obj=cls,
1577.                     id='models.E008',
1578.                 )
1579.             ]
1580. 
1581.         elif any(not isinstance(fields, (tuple, list)) for fields in cls._meta.index_together):
1582.             return [
1583.                 checks.Error(
1584.                     "All 'index_together' elements must be lists or tuples.",
1585.                     obj=cls,
1586.                     id='models.E009',
1587.                 )
1588.             ]
1589. 
1590.         else:
1591.             errors = []
1592.             for fields in cls._meta.index_together:
1593.                 errors.extend(cls._check_local_fields(fields, "index_together"))
1594.             return errors
1595. 
1596.     @classmethod
1597.     def _check_unique_together(cls):
1598.         """Check the value of "unique_together" option."""
1599.         if not isinstance(cls._meta.unique_together, (tuple, list)):
1600.             return [
1601.                 checks.Error(
1602.                     "'unique_together' must be a list or tuple.",
1603.                     obj=cls,
1604.                     id='models.E010',
1605.                 )
1606.             ]
1607. 
1608.         elif any(not isinstance(fields, (tuple, list)) for fields in cls._meta.unique_together):
1609.             return [
1610.                 checks.Error(
1611.                     "All 'unique_together' elements must be lists or tuples.",
1612.                     obj=cls,
1613.                     id='models.E011',
1614.                 )
1615.             ]
1616. 
1617.         else:
1618.             errors = []
1619.             for fields in cls._meta.unique_together:
1620.                 errors.extend(cls._check_local_fields(fields, "unique_together"))
1621.             return errors
1622. 
1623.     @classmethod
1624.     def _check_indexes(cls, databases):
1625.         """Check fields, names, and conditions of indexes."""
1626.         errors = []
1627.         references = set()
1628.         for index in cls._meta.indexes:
1629.             # Index name can't start with an underscore or a number, restricted
1630.             # for cross-database compatibility with Oracle.
1631.             if index.name[0] == '_' or index.name[0].isdigit():
1632.                 errors.append(
1633.                     checks.Error(
1634.                         "The index name '%s' cannot start with an underscore "
1635.                         "or a number." % index.name,
1636.                         obj=cls,
1637.                         id='models.E033',
1638.                     ),
1639.                 )
1640.             if len(index.name) > index.max_name_length:
1641.                 errors.append(
1642.                     checks.Error(
1643.                         "The index name '%s' cannot be longer than %d "
1644.                         "characters." % (index.name, index.max_name_length),
1645.                         obj=cls,
1646.                         id='models.E034',
1647.                     ),
1648.                 )
1649.             if index.contains_expressions:
1650.                 for expression in index.expressions:
1651.                     references.update(
1652.                         ref[0] for ref in cls._get_expr_references(expression)
1653.                     )
1654.         for db in databases:
1655.             if not router.allow_migrate_model(db, cls):
1656.                 continue
1657.             connection = connections[db]
1658.             if not (
1659.                 connection.features.supports_partial_indexes or
1660.                 'supports_partial_indexes' in cls._meta.required_db_features
1661.             ) and any(index.condition is not None for index in cls._meta.indexes):
1662.                 errors.append(
1663.                     checks.Warning(
1664.                         '%s does not support indexes with conditions.'
1665.                         % connection.display_name,
1666.                         hint=(
1667.                             "Conditions will be ignored. Silence this warning "
1668.                             "if you don't care about it."
1669.                         ),
1670.                         obj=cls,
1671.                         id='models.W037',
1672.                     )
1673.                 )
1674.             if not (
1675.                 connection.features.supports_covering_indexes or
1676.                 'supports_covering_indexes' in cls._meta.required_db_features
1677.             ) and any(index.include for index in cls._meta.indexes):
1678.                 errors.append(
1679.                     checks.Warning(
1680.                         '%s does not support indexes with non-key columns.'
1681.                         % connection.display_name,
1682.                         hint=(
1683.                             "Non-key columns will be ignored. Silence this "
1684.                             "warning if you don't care about it."
1685.                         ),
1686.                         obj=cls,
1687.                         id='models.W040',
1688.                     )
1689.                 )
1690.             if not (
1691.                 connection.features.supports_expression_indexes or
1692.                 'supports_expression_indexes' in cls._meta.required_db_features
1693.             ) and any(index.contains_expressions for index in cls._meta.indexes):
1694.                 errors.append(
1695.                     checks.Warning(
1696.                         '%s does not support indexes on expressions.'
1697.                         % connection.display_name,
1698.                         hint=(
1699.                             "An index won't be created. Silence this warning "
1700.                             "if you don't care about it."
1701.                         ),
1702.                         obj=cls,
1703.                         id='models.W043',
1704.                     )
1705.                 )
1706.         fields = [field for index in cls._meta.indexes for field, _ in index.fields_orders]
1707.         fields += [include for index in cls._meta.indexes for include in index.include]
1708.         fields += references
1709.         errors.extend(cls._check_local_fields(fields, 'indexes'))
1710.         return errors
1711. 
1712.     @classmethod
1713.     def _check_local_fields(cls, fields, option):
1714.         from django.db import models
1715. 
1716.         # In order to avoid hitting the relation tree prematurely, we use our
1717.         # own fields_map instead of using get_field()
1718.         forward_fields_map = {}
1719.         for field in cls._meta._get_fields(reverse=False):
1720.             forward_fields_map[field.name] = field
1721.             if hasattr(field, 'attname'):
1722.                 forward_fields_map[field.attname] = field
1723. 
1724.         errors = []
1725.         for field_name in fields:
1726.             try:
1727.                 field = forward_fields_map[field_name]
1728.             except KeyError:
1729.                 errors.append(
1730.                     checks.Error(
1731.                         "'%s' refers to the nonexistent field '%s'." % (
1732.                             option, field_name,
1733.                         ),
1734.                         obj=cls,
1735.                         id='models.E012',
1736.                     )
1737.                 )
1738.             else:
1739.                 if isinstance(field.remote_field, models.ManyToManyRel):
1740.                     errors.append(
1741.                         checks.Error(
1742.                             "'%s' refers to a ManyToManyField '%s', but "
1743.                             "ManyToManyFields are not permitted in '%s'." % (
1744.                                 option, field_name, option,
1745.                             ),
1746.                             obj=cls,
1747.                             id='models.E013',
1748.                         )
1749.                     )
1750.                 elif field not in cls._meta.local_fields:
1751.                     errors.append(
1752.                         checks.Error(
1753.                             "'%s' refers to field '%s' which is not local to model '%s'."
1754.                             % (option, field_name, cls._meta.object_name),
1755.                             hint="This issue may be caused by multi-table inheritance.",
1756.                             obj=cls,
1757.                             id='models.E016',
1758.                         )
1759.                     )
1760.         return errors
1761. 
1762.     @classmethod
1763.     def _check_ordering(cls):
1764.         """
1765.         Check "ordering" option -- is it a list of strings and do all fields
1766.         exist?
1767.         """
1768.         if cls._meta._ordering_clash:
1769.             return [
1770.                 checks.Error(
1771.                     "'ordering' and 'order_with_respect_to' cannot be used together.",
1772.                     obj=cls,
1773.                     id='models.E021',
1774.                 ),
1775.             ]
1776. 
1777.         if cls._meta.order_with_respect_to or not cls._meta.ordering:
1778.             return []
1779. 
1780.         if not isinstance(cls._meta.ordering, (list, tuple)):
1781.             return [
1782.                 checks.Error(
1783.                     "'ordering' must be a tuple or list (even if you want to order by only one field).",
1784.                     obj=cls,
1785.                     id='models.E014',
1786.                 )
1787.             ]
1788. 
1789.         errors = []
1790.         fields = cls._meta.ordering
1791. 
1792.         # Skip expressions and '?' fields.
1793.         fields = (f for f in fields if isinstance(f, str) and f != '?')
1794. 
1795.         # Convert "-field" to "field".
1796.         fields = ((f[1:] if f.startswith('-') else f) for f in fields)
1797. 
1798.         # Separate related fields and non-related fields.
1799.         _fields = []
1800.         related_fields = []
1801.         for f in fields:
1802.             if LOOKUP_SEP in f:
1803.                 related_fields.append(f)
1804.             else:
1805.                 _fields.append(f)
1806.         fields = _fields
1807. 
1808.         # Check related fields.
1809.         for field in related_fields:
1810.             _cls = cls
1811.             fld = None
1812.             for part in field.split(LOOKUP_SEP):
1813.                 try:
1814.                     # pk is an alias that won't be found by opts.get_field.
1815.                     if part == 'pk':
1816.                         fld = _cls._meta.pk
1817.                     else:
1818.                         fld = _cls._meta.get_field(part)
1819.                     if fld.is_relation:
1820.                         _cls = fld.get_path_info()[-1].to_opts.model
1821.                     else:
1822.                         _cls = None
1823.                 except (FieldDoesNotExist, AttributeError):
1824.                     if fld is None or (
1825.                         fld.get_transform(part) is None and fld.get_lookup(part) is None
1826.                     ):
1827.                         errors.append(
1828.                             checks.Error(
1829.                                 "'ordering' refers to the nonexistent field, "
1830.                                 "related field, or lookup '%s'." % field,
1831.                                 obj=cls,
1832.                                 id='models.E015',
1833.                             )
1834.                         )
1835. 
1836.         # Skip ordering on pk. This is always a valid order_by field
1837.         # but is an alias and therefore won't be found by opts.get_field.
1838.         fields = {f for f in fields if f != 'pk'}
1839. 
1840.         # Check for invalid or nonexistent fields in ordering.
1841.         invalid_fields = []
1842. 
1843.         # Any field name that is not present in field_names does not exist.
1844.         # Also, ordering by m2m fields is not allowed.
1845.         opts = cls._meta
1846.         valid_fields = set(chain.from_iterable(
1847.             (f.name, f.attname) if not (f.auto_created and not f.concrete) else (f.field.related_query_name(),)
1848.             for f in chain(opts.fields, opts.related_objects)
1849.         ))
1850. 
1851.         invalid_fields.extend(fields - valid_fields)
1852. 
1853.         for invalid_field in invalid_fields:
1854.             errors.append(
1855.                 checks.Error(
1856.                     "'ordering' refers to the nonexistent field, related "
1857.                     "field, or lookup '%s'." % invalid_field,
1858.                     obj=cls,
1859.                     id='models.E015',
1860.                 )
1861.             )
1862.         return errors
1863. 
1864.     @classmethod
1865.     def _check_long_column_names(cls, databases):
1866.         """
1867.         Check that any auto-generated column names are shorter than the limits
1868.         for each database in which the model will be created.
1869.         """
1870.         if not databases:
1871.             return []
1872.         errors = []
1873.         allowed_len = None
1874.         db_alias = None
1875. 
1876.         # Find the minimum max allowed length among all specified db_aliases.
1877.         for db in databases:
1878.             # skip databases where the model won't be created
1879.             if not router.allow_migrate_model(db, cls):
1880.                 continue
1881.             connection = connections[db]
1882.             max_name_length = connection.ops.max_name_length()
1883.             if max_name_length is None or connection.features.truncates_names:
1884.                 continue
1885.             else:
1886.                 if allowed_len is None:
1887.                     allowed_len = max_name_length
1888.                     db_alias = db
1889.                 elif max_name_length < allowed_len:
1890.                     allowed_len = max_name_length
1891.                     db_alias = db
1892. 
1893.         if allowed_len is None:
1894.             return errors
1895. 
1896.         for f in cls._meta.local_fields:
1897.             _, column_name = f.get_attname_column()
1898. 
1899.             # Check if auto-generated name for the field is too long
1900.             # for the database.
1901.             if f.db_column is None and column_name is not None and len(column_name) > allowed_len:
1902.                 errors.append(
1903.                     checks.Error(
1904.                         'Autogenerated column name too long for field "%s". '
1905.                         'Maximum length is "%s" for database "%s".'
1906.                         % (column_name, allowed_len, db_alias),
1907.                         hint="Set the column name manually using 'db_column'.",
1908.                         obj=cls,
1909.                         id='models.E018',
1910.                     )
1911.                 )
1912. 
1913.         for f in cls._meta.local_many_to_many:
1914.             # Skip nonexistent models.
1915.             if isinstance(f.remote_field.through, str):
1916.                 continue
1917. 
1918.             # Check if auto-generated name for the M2M field is too long
1919.             # for the database.
1920.             for m2m in f.remote_field.through._meta.local_fields:
1921.                 _, rel_name = m2m.get_attname_column()
1922.                 if m2m.db_column is None and rel_name is not None and len(rel_name) > allowed_len:
1923.                     errors.append(
1924.                         checks.Error(
1925.                             'Autogenerated column name too long for M2M field '
1926.                             '"%s". Maximum length is "%s" for database "%s".'
1927.                             % (rel_name, allowed_len, db_alias),
1928.                             hint=(
1929.                                 "Use 'through' to create a separate model for "
1930.                                 "M2M and then set column_name using 'db_column'."
1931.                             ),
1932.                             obj=cls,
1933.                             id='models.E019',
1934.                         )
1935.                     )
1936. 
1937.         return errors
1938. 
1939.     @classmethod
1940.     def _get_expr_references(cls, expr):
1941.         if isinstance(expr, Q):
1942.             for child in expr.children:
1943.                 if isinstance(child, tuple):
1944.                     lookup, value = child
1945.                     yield tuple(lookup.split(LOOKUP_SEP))
1946.                     yield from cls._get_expr_references(value)
1947.                 else:
1948.                     yield from cls._get_expr_references(child)
1949.         elif isinstance(expr, F):
1950.             yield tuple(expr.name.split(LOOKUP_SEP))
1951.         elif hasattr(expr, 'get_source_expressions'):
1952.             for src_expr in expr.get_source_expressions():
1953.                 yield from cls._get_expr_references(src_expr)
1954. 
1955.     @classmethod
1956.     def _check_constraints(cls, databases):
1957.         errors = []
1958.         for db in databases:
1959.             if not router.allow_migrate_model(db, cls):
1960.                 continue
1961.             connection = connections[db]
1962.             if not (
1963.                 connection.features.supports_table_check_constraints or
1964.                 'supports_table_check_constraints' in cls._meta.required_db_features
1965.             ) and any(
1966.                 isinstance(constraint, CheckConstraint)
1967.                 for constraint in cls._meta.constraints
1968.             ):
1969.                 errors.append(
1970.                     checks.Warning(
1971.                         '%s does not support check constraints.' % connection.display_name,
1972.                         hint=(
1973.                             "A constraint won't be created. Silence this "
1974.                             "warning if you don't care about it."
1975.                         ),
1976.                         obj=cls,
1977.                         id='models.W027',
1978.                     )
1979.                 )
1980.             if not (
1981.                 connection.features.supports_partial_indexes or
1982.                 'supports_partial_indexes' in cls._meta.required_db_features
1983.             ) and any(
1984.                 isinstance(constraint, UniqueConstraint) and constraint.condition is not None
1985.                 for constraint in cls._meta.constraints
1986.             ):
1987.                 errors.append(
1988.                     checks.Warning(
1989.                         '%s does not support unique constraints with '
1990.                         'conditions.' % connection.display_name,
1991.                         hint=(
1992.                             "A constraint won't be created. Silence this "
1993.                             "warning if you don't care about it."
1994.                         ),
1995.                         obj=cls,
1996.                         id='models.W036',
1997.                     )
1998.                 )
1999.             if not (
2000.                 connection.features.supports_deferrable_unique_constraints or
2001.                 'supports_deferrable_unique_constraints' in cls._meta.required_db_features
2002.             ) and any(
2003.                 isinstance(constraint, UniqueConstraint) and constraint.deferrable is not None
2004.                 for constraint in cls._meta.constraints
2005.             ):
2006.                 errors.append(
2007.                     checks.Warning(
2008.                         '%s does not support deferrable unique constraints.'
2009.                         % connection.display_name,
2010.                         hint=(
2011.                             "A constraint won't be created. Silence this "
2012.                             "warning if you don't care about it."
2013.                         ),
2014.                         obj=cls,
2015.                         id='models.W038',
2016.                     )
2017.                 )
2018.             if not (
2019.                 connection.features.supports_covering_indexes or
2020.                 'supports_covering_indexes' in cls._meta.required_db_features
2021.             ) and any(
2022.                 isinstance(constraint, UniqueConstraint) and constraint.include
2023.                 for constraint in cls._meta.constraints
2024.             ):
2025.                 errors.append(
2026.                     checks.Warning(
2027.                         '%s does not support unique constraints with non-key '
2028.                         'columns.' % connection.display_name,
2029.                         hint=(
2030.                             "A constraint won't be created. Silence this "
2031.                             "warning if you don't care about it."
2032.                         ),
2033.                         obj=cls,
2034.                         id='models.W039',
2035.                     )
2036.                 )
2037.             fields = set(chain.from_iterable(
2038.                 (*constraint.fields, *constraint.include)
2039.                 for constraint in cls._meta.constraints if isinstance(constraint, UniqueConstraint)
2040.             ))
2041.             references = set()
2042.             for constraint in cls._meta.constraints:
2043.                 if isinstance(constraint, UniqueConstraint):
2044.                     if (
2045.                         connection.features.supports_partial_indexes or
2046.                         'supports_partial_indexes' not in cls._meta.required_db_features
2047.                     ) and isinstance(constraint.condition, Q):
2048.                         references.update(cls._get_expr_references(constraint.condition))
2049.                 elif isinstance(constraint, CheckConstraint):
2050.                     if (
2051.                         connection.features.supports_table_check_constraints or
2052.                         'supports_table_check_constraints' not in cls._meta.required_db_features
2053.                     ) and isinstance(constraint.check, Q):
2054.                         references.update(cls._get_expr_references(constraint.check))
2055.             for field_name, *lookups in references:
2056.                 # pk is an alias that won't be found by opts.get_field.
2057.                 if field_name != 'pk':
2058.                     fields.add(field_name)
2059.                 if not lookups:
2060.                     # If it has no lookups it cannot result in a JOIN.
2061.                     continue
2062.                 try:
2063.                     if field_name == 'pk':
2064.                         field = cls._meta.pk
2065.                     else:
2066.                         field = cls._meta.get_field(field_name)
2067.                     if not field.is_relation or field.many_to_many or field.one_to_many:
2068.                         continue
2069.                 except FieldDoesNotExist:
2070.                     continue
2071.                 # JOIN must happen at the first lookup.
2072.                 first_lookup = lookups[0]
2073.                 if (
2074.                     field.get_transform(first_lookup) is None and
2075.                     field.get_lookup(first_lookup) is None
2076.                 ):
2077.                     errors.append(
2078.                         checks.Error(
2079.                             "'constraints' refers to the joined field '%s'."
2080.                             % LOOKUP_SEP.join([field_name] + lookups),
2081.                             obj=cls,
2082.                             id='models.E041',
2083.                         )
2084.                     )
2085.             errors.extend(cls._check_local_fields(fields, 'constraints'))
2086.         return errors
2087. 
2088. 
2089. ############################################
2090. # HELPER FUNCTIONS (CURRIED MODEL METHODS) #
2091. ############################################
2092. 
2093. # ORDERING METHODS #########################
2094. 
2095. def method_set_order(self, ordered_obj, id_list, using=None):
2096.     if using is None:
2097.         using = DEFAULT_DB_ALIAS
2098.     order_wrt = ordered_obj._meta.order_with_respect_to
2099.     filter_args = order_wrt.get_forward_related_filter(self)
2100.     ordered_obj.objects.db_manager(using).filter(**filter_args).bulk_update([
2101.         ordered_obj(pk=pk, _order=order) for order, pk in enumerate(id_list)
2102.     ], ['_order'])
2103. 
2104. 
2105. def method_get_order(self, ordered_obj):
2106.     order_wrt = ordered_obj._meta.order_with_respect_to
2107.     filter_args = order_wrt.get_forward_related_filter(self)
2108.     pk_name = ordered_obj._meta.pk.name
2109.     return ordered_obj.objects.filter(**filter_args).values_list(pk_name, flat=True)
2110. 
2111. 
2112. def make_foreign_order_accessors(model, related_model):
2113.     setattr(
2114.         related_model,
2115.         'get_%s_order' % model.__name__.lower(),
2116.         partialmethod(method_get_order, model)
2117.     )
2118.     setattr(
2119.         related_model,
2120.         'set_%s_order' % model.__name__.lower(),
2121.         partialmethod(method_set_order, model)
2122.     )
2123. 
2124. ########
2125. # MISC #
2126. ########
2127. 
2128. 
2129. def model_unpickle(model_id):
2130.     """Used to unpickle Model subclasses with deferred fields."""
2131.     if isinstance(model_id, tuple):
2132.         model = apps.get_model(*model_id)
2133.     else:
2134.         # Backwards compat - the model was cached directly in earlier versions.
2135.         model = model_id
2136.     return model.__new__(model)
2137. 
2138. 
2139. model_unpickle.__safe_for_unpickle__ = True

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-21 02:33:36,814 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user's issue involves an incorrect warning about auto-created primary keys in inherited models. The check for this warning is in `_check_default_pk` within `django/db/models/base.py`, which I have. However, this check relies on `cls._meta.pk`. The logic for determining a model's primary key (`pk`), especially in inheritance scenarios, is managed by the `Options` class in `django/db/models/options.py`. To fully understand why the check is failing and to validate the provided patch, I need to inspect the implementation of the `Options` class, particularly its `_prepare` method where the primary key is finalized." query='Please provide the full content of `django/db/models/options.py`.' extra_requirements='' purpose="I need to examine the `Options` class to understand how a model's primary key (`_meta.pk`) is determined, which is essential for diagnosing the incorrect warning."
2025-12-21 02:33:36,815 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `django/db/models/options.py`.
2025-12-21 02:33:36,815 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-21 02:33:36,816 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-21 02:33:36,817 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-21 02:33:36,817 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `django/db/models/options.py`.
Purpose: I need to examine the `Options` class to understand how a model's primary key (`_meta.pk`) is determined, which is essential for diagnosing the incorrect warning.
2025-12-21 02:33:39,034 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have retrieved the full content of the file `django/db/models/options.py` so you can examine the `Options` class. This will help you understand how a model's primary key is determined and diagnose the incorrect warning." additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "django/db/models/options.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2113, 'candidates_token_count': 73, 'total_token_count': 2297, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2113}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 73}], 'thoughts_token_count': 111, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1473529763417701, 'model_name': 'gemini-2.5-pro'} id='run--6ed4fc6a-d1f5-42bc-82da-77b68820455e-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'django/db/models/options.py'}, 'id': '45998442-7740-43c1-9a6c-5d0f65b53f80', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2113, 'output_tokens': 73, 'total_tokens': 2297, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 111}}
2025-12-21 02:33:41,786 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the contents of `django/db/models/options.py` for you. I will now analyze the `Options` class within this file, specifically focusing on the `setup_pk` method, to understand how the primary key is set for a model. This will help in diagnosing the incorrect warning you are encountering.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 64.0, "relative_path": "django/db/models/options.py", "end_line": 500.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 9680, 'candidates_token_count': 97, 'total_token_count': 9858, 'prompt_tokens_details': [{'modality': 1, 'token_count': 9680}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 97}], 'thoughts_token_count': 81, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.11499761797718167, 'model_name': 'gemini-2.5-pro'} id='run--a71c29d0-05b8-4d45-bd7e-0bd16a88e8ef-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 64.0, 'relative_path': 'django/db/models/options.py', 'end_line': 500.0}, 'id': 'aa809150-cd0f-4467-9183-2e0ce2286729', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9680, 'output_tokens': 97, 'total_tokens': 9858, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 81}}
2025-12-21 02:33:51,821 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have now retrieved the full content of `django/db/models/options.py` and examined the `Options` class. From my analysis, the `setup_pk` method within the `Options` class is responsible for setting the primary key of a model. This method is called when fields are added to the model, and it sets the first field with `primary_key=True` as the model's primary key. If no such field is explicitly defined, a primary key is either inherited from a parent model or an `AutoField` named `id` is automatically created and assigned as the primary key." additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 16411, 'candidates_token_count': 126, 'total_token_count': 17487, 'cached_content_token_count': 9470, 'prompt_tokens_details': [{'modality': 1, 'token_count': 16411}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9470}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 126}], 'thoughts_token_count': 950}, 'finish_reason': 'STOP', 'avg_logprobs': -0.788961440797836, 'model_name': 'gemini-2.5-pro'} id='run--ae5af101-60c3-4551-ba13-8931a87bc0e6-0' usage_metadata={'input_tokens': 16411, 'output_tokens': 126, 'total_tokens': 17487, 'input_token_details': {'cache_read': 9470}, 'output_token_details': {'reasoning': 950}}
2025-12-21 02:33:51,823 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `django/db/models/options.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need to examine the `Options` class to understand how a model's primary key (`_meta.pk`) is determined, which is essential for diagnosing the incorrect warning.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: django/db/models/options.py
Line number range: 1 - 500
Content:
1. import bisect
2. import copy
3. import inspect
4. from collections import defaultdict
5. 
6. from django.apps import apps
7. from django.conf import settings
8. from django.core.exceptions import FieldDoesNotExist, ImproperlyConfigured
9. from django.db import connections
10. from django.db.models import AutoField, Manager, OrderWrt, UniqueConstraint
11. from django.db.models.query_utils import PathInfo
12. from django.utils.datastructures import ImmutableList, OrderedSet
13. from django.utils.functional import cached_property
14. from django.utils.module_loading import import_string
15. from django.utils.text import camel_case_to_spaces, format_lazy
16. from django.utils.translation import override
17. 
18. PROXY_PARENTS = object()
19. 
20. EMPTY_RELATION_TREE = ()
21. 
22. IMMUTABLE_WARNING = (
23.     "The return type of '%s' should never be mutated. If you want to manipulate this list "
24.     "for your own use, make a copy first."
25. )
26. 
27. DEFAULT_NAMES = (
28.     'verbose_name', 'verbose_name_plural', 'db_table', 'ordering',
29.     'unique_together', 'permissions', 'get_latest_by', 'order_with_respect_to',
30.     'app_label', 'db_tablespace', 'abstract', 'managed', 'proxy', 'swappable',
31.     'auto_created', 'index_together', 'apps', 'default_permissions',
32.     'select_on_save', 'default_related_name', 'required_db_features',
33.     'required_db_vendor', 'base_manager_name', 'default_manager_name',
34.     'indexes', 'constraints',
35. )
36. 
37. 
38. def normalize_together(option_together):
39.     """
40.     option_together can be either a tuple of tuples, or a single
41.     tuple of two strings. Normalize it to a tuple of tuples, so that
42.     calling code can uniformly expect that.
43.     """
44.     try:
45.         if not option_together:
46.             return ()
47.         if not isinstance(option_together, (tuple, list)):
48.             raise TypeError
49.         first_element = option_together[0]
50.         if not isinstance(first_element, (tuple, list)):
51.             option_together = (option_together,)
52.         # Normalize everything to tuples
53.         return tuple(tuple(ot) for ot in option_together)
54.     except TypeError:
55.         # If the value of option_together isn't valid, return it
56.         # verbatim; this will be picked up by the check framework later.
57.         return option_together
58. 
59. 
60. def make_immutable_fields_list(name, data):
61.     return ImmutableList(data, warning=IMMUTABLE_WARNING % name)
62. 
63. 
64. class Options:
65.     FORWARD_PROPERTIES = {
66.         'fields', 'many_to_many', 'concrete_fields', 'local_concrete_fields',
67.         '_forward_fields_map', 'managers', 'managers_map', 'base_manager',
68.         'default_manager',
69.     }
70.     REVERSE_PROPERTIES = {'related_objects', 'fields_map', '_relation_tree'}
71. 
72.     default_apps = apps
73. 
74.     def __init__(self, meta, app_label=None):
75.         self._get_fields_cache = {}
76.         self.local_fields = []
77.         self.local_many_to_many = []
78.         self.private_fields = []
79.         self.local_managers = []
80.         self.base_manager_name = None
81.         self.default_manager_name = None
82.         self.model_name = None
83.         self.verbose_name = None
84.         self.verbose_name_plural = None
85.         self.db_table = ''
86.         self.ordering = []
87.         self._ordering_clash = False
88.         self.indexes = []
89.         self.constraints = []
90.         self.unique_together = []
91.         self.index_together = []
92.         self.select_on_save = False
93.         self.default_permissions = ('add', 'change', 'delete', 'view')
94.         self.permissions = []
95.         self.object_name = None
96.         self.app_label = app_label
97.         self.get_latest_by = None
98.         self.order_with_respect_to = None
99.         self.db_tablespace = settings.DEFAULT_TABLESPACE
100.         self.required_db_features = []
101.         self.required_db_vendor = None
102.         self.meta = meta
103.         self.pk = None
104.         self.auto_field = None
105.         self.abstract = False
106.         self.managed = True
107.         self.proxy = False
108.         # For any class that is a proxy (including automatically created
109.         # classes for deferred object loading), proxy_for_model tells us
110.         # which class this model is proxying. Note that proxy_for_model
111.         # can create a chain of proxy models. For non-proxy models, the
112.         # variable is always None.
113.         self.proxy_for_model = None
114.         # For any non-abstract class, the concrete class is the model
115.         # in the end of the proxy_for_model chain. In particular, for
116.         # concrete models, the concrete_model is always the class itself.
117.         self.concrete_model = None
118.         self.swappable = None
119.         self.parents = {}
120.         self.auto_created = False
121. 
122.         # List of all lookups defined in ForeignKey 'limit_choices_to' options
123.         # from *other* models. Needed for some admin checks. Internal use only.
124.         self.related_fkey_lookups = []
125. 
126.         # A custom app registry to use, if you're making a separate model set.
127.         self.apps = self.default_apps
128. 
129.         self.default_related_name = None
130. 
131.     @property
132.     def label(self):
133.         return '%s.%s' % (self.app_label, self.object_name)
134. 
135.     @property
136.     def label_lower(self):
137.         return '%s.%s' % (self.app_label, self.model_name)
138. 
139.     @property
140.     def app_config(self):
141.         # Don't go through get_app_config to avoid triggering imports.
142.         return self.apps.app_configs.get(self.app_label)
143. 
144.     @property
145.     def installed(self):
146.         return self.app_config is not None
147. 
148.     def contribute_to_class(self, cls, name):
149.         from django.db import connection
150.         from django.db.backends.utils import truncate_name
151. 
152.         cls._meta = self
153.         self.model = cls
154.         # First, construct the default values for these options.
155.         self.object_name = cls.__name__
156.         self.model_name = self.object_name.lower()
157.         self.verbose_name = camel_case_to_spaces(self.object_name)
158. 
159.         # Store the original user-defined values for each option,
160.         # for use when serializing the model definition
161.         self.original_attrs = {}
162. 
163.         # Next, apply any overridden values from 'class Meta'.
164.         if self.meta:
165.             meta_attrs = self.meta.__dict__.copy()
166.             for name in self.meta.__dict__:
167.                 # Ignore any private attributes that Django doesn't care about.
168.                 # NOTE: We can't modify a dictionary's contents while looping
169.                 # over it, so we loop over the *original* dictionary instead.
170.                 if name.startswith('_'):
171.                     del meta_attrs[name]
172.             for attr_name in DEFAULT_NAMES:
173.                 if attr_name in meta_attrs:
174.                     setattr(self, attr_name, meta_attrs.pop(attr_name))
175.                     self.original_attrs[attr_name] = getattr(self, attr_name)
176.                 elif hasattr(self.meta, attr_name):
177.                     setattr(self, attr_name, getattr(self.meta, attr_name))
178.                     self.original_attrs[attr_name] = getattr(self, attr_name)
179. 
180.             self.unique_together = normalize_together(self.unique_together)
181.             self.index_together = normalize_together(self.index_together)
182.             # App label/class name interpolation for names of constraints and
183.             # indexes.
184.             if not getattr(cls._meta, 'abstract', False):
185.                 for attr_name in {'constraints', 'indexes'}:
186.                     objs = getattr(self, attr_name, [])
187.                     setattr(self, attr_name, self._format_names_with_class(cls, objs))
188. 
189.             # verbose_name_plural is a special case because it uses a 's'
190.             # by default.
191.             if self.verbose_name_plural is None:
192.                 self.verbose_name_plural = format_lazy('{}s', self.verbose_name)
193. 
194.             # order_with_respect_and ordering are mutually exclusive.
195.             self._ordering_clash = bool(self.ordering and self.order_with_respect_to)
196. 
197.             # Any leftover attributes must be invalid.
198.             if meta_attrs != {}:
199.                 raise TypeError("'class Meta' got invalid attribute(s): %s" % ','.join(meta_attrs))
200.         else:
201.             self.verbose_name_plural = format_lazy('{}s', self.verbose_name)
202.         del self.meta
203. 
204.         # If the db_table wasn't provided, use the app_label + model_name.
205.         if not self.db_table:
206.             self.db_table = "%s_%s" % (self.app_label, self.model_name)
207.             self.db_table = truncate_name(self.db_table, connection.ops.max_name_length())
208. 
209.     def _format_names_with_class(self, cls, objs):
210.         """App label/class name interpolation for object names."""
211.         new_objs = []
212.         for obj in objs:
213.             obj = obj.clone()
214.             obj.name = obj.name % {
215.                 'app_label': cls._meta.app_label.lower(),
216.                 'class': cls.__name__.lower(),
217.             }
218.             new_objs.append(obj)
219.         return new_objs
220. 
221.     def _get_default_pk_class(self):
222.         pk_class_path = getattr(
223.             self.app_config,
224.             'default_auto_field',
225.             settings.DEFAULT_AUTO_FIELD,
226.         )
227.         if self.app_config and self.app_config._is_default_auto_field_overridden:
228.             app_config_class = type(self.app_config)
229.             source = (
230.                 f'{app_config_class.__module__}.'
231.                 f'{app_config_class.__qualname__}.default_auto_field'
232.             )
233.         else:
234.             source = 'DEFAULT_AUTO_FIELD'
235.         if not pk_class_path:
236.             raise ImproperlyConfigured(f'{source} must not be empty.')
237.         try:
238.             pk_class = import_string(pk_class_path)
239.         except ImportError as e:
240.             msg = (
241.                 f"{source} refers to the module '{pk_class_path}' that could "
242.                 f"not be imported."
243.             )
244.             raise ImproperlyConfigured(msg) from e
245.         if not issubclass(pk_class, AutoField):
246.             raise ValueError(
247.                 f"Primary key '{pk_class_path}' referred by {source} must "
248.                 f"subclass AutoField."
249.             )
250.         return pk_class
251. 
252.     def _prepare(self, model):
253.         if self.order_with_respect_to:
254.             # The app registry will not be ready at this point, so we cannot
255.             # use get_field().
256.             query = self.order_with_respect_to
257.             try:
258.                 self.order_with_respect_to = next(
259.                     f for f in self._get_fields(reverse=False)
260.                     if f.name == query or f.attname == query
261.                 )
262.             except StopIteration:
263.                 raise FieldDoesNotExist("%s has no field named '%s'" % (self.object_name, query))
264. 
265.             self.ordering = ('_order',)
266.             if not any(isinstance(field, OrderWrt) for field in model._meta.local_fields):
267.                 model.add_to_class('_order', OrderWrt())
268.         else:
269.             self.order_with_respect_to = None
270. 
271.         if self.pk is None:
272.             if self.parents:
273.                 # Promote the first parent link in lieu of adding yet another
274.                 # field.
275.                 field = next(iter(self.parents.values()))
276.                 # Look for a local field with the same name as the
277.                 # first parent link. If a local field has already been
278.                 # created, use it instead of promoting the parent
279.                 already_created = [fld for fld in self.local_fields if fld.name == field.name]
280.                 if already_created:
281.                     field = already_created[0]
282.                 field.primary_key = True
283.                 self.setup_pk(field)
284.             else:
285.                 pk_class = self._get_default_pk_class()
286.                 auto = pk_class(verbose_name='ID', primary_key=True, auto_created=True)
287.                 model.add_to_class('id', auto)
288. 
289.     def add_manager(self, manager):
290.         self.local_managers.append(manager)
291.         self._expire_cache()
292. 
293.     def add_field(self, field, private=False):
294.         # Insert the given field in the order in which it was created, using
295.         # the "creation_counter" attribute of the field.
296.         # Move many-to-many related fields from self.fields into
297.         # self.many_to_many.
298.         if private:
299.             self.private_fields.append(field)
300.         elif field.is_relation and field.many_to_many:
301.             bisect.insort(self.local_many_to_many, field)
302.         else:
303.             bisect.insort(self.local_fields, field)
304.             self.setup_pk(field)
305. 
306.         # If the field being added is a relation to another known field,
307.         # expire the cache on this field and the forward cache on the field
308.         # being referenced, because there will be new relationships in the
309.         # cache. Otherwise, expire the cache of references *to* this field.
310.         # The mechanism for getting at the related model is slightly odd -
311.         # ideally, we'd just ask for field.related_model. However, related_model
312.         # is a cached property, and all the models haven't been loaded yet, so
313.         # we need to make sure we don't cache a string reference.
314.         if field.is_relation and hasattr(field.remote_field, 'model') and field.remote_field.model:
315.             try:
316.                 field.remote_field.model._meta._expire_cache(forward=False)
317.             except AttributeError:
318.                 pass
319.             self._expire_cache()
320.         else:
321.             self._expire_cache(reverse=False)
322. 
323.     def setup_pk(self, field):
324.         if not self.pk and field.primary_key:
325.             self.pk = field
326.             field.serialize = False
327. 
328.     def setup_proxy(self, target):
329.         """
330.         Do the internal setup so that the current model is a proxy for
331.         "target".
332.         """
333.         self.pk = target._meta.pk
334.         self.proxy_for_model = target
335.         self.db_table = target._meta.db_table
336. 
337.     def __repr__(self):
338.         return '<Options for %s>' % self.object_name
339. 
340.     def __str__(self):
341.         return self.label_lower
342. 
343.     def can_migrate(self, connection):
344.         """
345.         Return True if the model can/should be migrated on the `connection`.
346.         `connection` can be either a real connection or a connection alias.
347.         """
348.         if self.proxy or self.swapped or not self.managed:
349.             return False
350.         if isinstance(connection, str):
351.             connection = connections[connection]
352.         if self.required_db_vendor:
353.             return self.required_db_vendor == connection.vendor
354.         if self.required_db_features:
355.             return all(getattr(connection.features, feat, False)
356.                        for feat in self.required_db_features)
357.         return True
358. 
359.     @property
360.     def verbose_name_raw(self):
361.         """Return the untranslated verbose name."""
362.         with override(None):
363.             return str(self.verbose_name)
364. 
365.     @property
366.     def swapped(self):
367.         """
368.         Has this model been swapped out for another? If so, return the model
369.         name of the replacement; otherwise, return None.
370. 
371.         For historical reasons, model name lookups using get_model() are
372.         case insensitive, so we make sure we are case insensitive here.
373.         """
374.         if self.swappable:
375.             swapped_for = getattr(settings, self.swappable, None)
376.             if swapped_for:
377.                 try:
378.                     swapped_label, swapped_object = swapped_for.split('.')
379.                 except ValueError:
380.                     # setting not in the format app_label.model_name
381.                     # raising ImproperlyConfigured here causes problems with
382.                     # test cleanup code - instead it is raised in get_user_model
383.                     # or as part of validation.
384.                     return swapped_for
385. 
386.                 if '%s.%s' % (swapped_label, swapped_object.lower()) != self.label_lower:
387.                     return swapped_for
388.         return None
389. 
390.     @cached_property
391.     def managers(self):
392.         managers = []
393.         seen_managers = set()
394.         bases = (b for b in self.model.mro() if hasattr(b, '_meta'))
395.         for depth, base in enumerate(bases):
396.             for manager in base._meta.local_managers:
397.                 if manager.name in seen_managers:
398.                     continue
399. 
400.                 manager = copy.copy(manager)
401.                 manager.model = self.model
402.                 seen_managers.add(manager.name)
403.                 managers.append((depth, manager.creation_counter, manager))
404. 
405.         return make_immutable_fields_list(
406.             "managers",
407.             (m[2] for m in sorted(managers)),
408.         )
409. 
410.     @cached_property
411.     def managers_map(self):
412.         return {manager.name: manager for manager in self.managers}
413. 
414.     @cached_property
415.     def base_manager(self):
416.         base_manager_name = self.base_manager_name
417.         if not base_manager_name:
418.             # Get the first parent's base_manager_name if there's one.
419.             for parent in self.model.mro()[1:]:
420.                 if hasattr(parent, '_meta'):
421.                     if parent._base_manager.name != '_base_manager':
422.                         base_manager_name = parent._base_manager.name
423.                     break
424. 
425.         if base_manager_name:
426.             try:
427.                 return self.managers_map[base_manager_name]
428.             except KeyError:
429.                 raise ValueError(
430.                     "%s has no manager named %r" % (
431.                         self.object_name,
432.                         base_manager_name,
433.                     )
434.                 )
435. 
436.         manager = Manager()
437.         manager.name = '_base_manager'
438.         manager.model = self.model
439.         manager.auto_created = True
440.         return manager
441. 
442.     @cached_property
443.     def default_manager(self):
444.         default_manager_name = self.default_manager_name
445.         if not default_manager_name and not self.local_managers:
446.             # Get the first parent's default_manager_name if there's one.
447.             for parent in self.model.mro()[1:]:
448.                 if hasattr(parent, '_meta'):
449.                     default_manager_name = parent._meta.default_manager_name
450.                     break
451. 
452.         if default_manager_name:
453.             try:
454.                 return self.managers_map[default_manager_name]
455.             except KeyError:
456.                 raise ValueError(
457.                     "%s has no manager named %r" % (
458.                         self.object_name,
459.                         default_manager_name,
460.                     )
461.                 )
462. 
463.         if self.managers:
464.             return self.managers[0]
465. 
466.     @cached_property
467.     def fields(self):
468.         """
469.         Return a list of all forward fields on the model and its parents,
470.         excluding ManyToManyFields.
471. 
472.         Private API intended only to be used by Django itself; get_fields()
473.         combined with filtering of field properties is the public API for
474.         obtaining this field list.
475.         """
476.         # For legacy reasons, the fields property should only contain forward
477.         # fields that are not private or with a m2m cardinality. Therefore we
478.         # pass these three filters as filters to the generator.
479.         # The third lambda is a longwinded way of checking f.related_model - we don't
480.         # use that property directly because related_model is a cached property,
481.         # and all the models may not have been loaded yet; we don't want to cache
482.         # the string reference to the related_model.
483.         def is_not_an_m2m_field(f):
484.             return not (f.is_relation and f.many_to_many)
485. 
486.         def is_not_a_generic_relation(f):
487.             return not (f.is_relation and f.one_to_many)
488. 
489.         def is_not_a_generic_foreign_key(f):
490.             return not (
491.                 f.is_relation and f.many_to_one and not (hasattr(f.remote_field, 'model') and f.remote_field.model)
492.             )
493. 
494.         return make_immutable_fields_list(
495.             "fields",
496.             (f for f in self._get_fields(reverse=False)
497.              if is_not_an_m2m_field(f) and is_not_a_generic_relation(f) and is_not_a_generic_foreign_key(f))
498.         )
499. 
500.     @cached_property

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-21 02:33:55,871 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly asks for the full content of the file `django/db/models/options.py`.\n\n2. Extended relevance:\n   - The provided context contains the first 500 lines of the requested file, which includes the `Options` class definition. This directly addresses the user's need to examine the file's content.", relative_path='django/db/models/options.py', start_line=1, end_line=500)]
2025-12-21 02:33:55,872 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of `django/db/models/options.py`.
2025-12-21 02:33:55,872 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-21 02:33:55,872 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-21 02:33:55,873 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 1 existing contexts
2025-12-21 02:33:55,873 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 2 total contexts (removed 0 duplicates)
2025-12-21 02:33:55,874 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── linters.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   └── __init__.py
|   |   |   ├── database.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   ├── special.py
|   |   |   |   └── utils.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.txt
|   |   ├── index.txt
|   |   └── security.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   └── jsi18n-mocks.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── explicit_default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_empty_apps
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_mismatch_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── not_apps.py
    |   ├── explicit_default_config_without_apps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── beginning_with_slash.py
    |       ├── contains_tuple.py
    |       ├── good_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_middleware_mixin.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       └── custom_widget.html
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
    |   |   ├── included_content.html
    |   |   ├── inclusion.html
    |   |   ├── inclusion_base.html
    |   |   ├── inclusion_extends1.html
    |   |   ├── inclusion_extends2.html
    |   |   ├── index.html
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   ├── recursive_include.html
    |   |   ├── response.html
    |   |   ├── second
    |   |   |   └── test.html
    |   |   ├── ssi include with spaces.html
    |   |   ├── ssi_include.html
    |   |   ├── template_tests
    |   |   |   └── using.html
    |   |   ├── test_context.html
    |   |   ├── test_context_stack.html
    |   |   ├── test_extends_error.html
    |   |   ├── test_incl_tag_use_l10n.html
    |   |   └── test_include_error.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_autoreloader.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── base.html
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   |   ├── add_form.html
    |   |   ├── app_index.html
    |   |   ├── change_form.html
    |   |   ├── change_list.html
    |   |   ├── delete_confirmation.html
    |   |   ├── delete_selected_confirmation.html
    |   |   ├── index.html
    |   |   ├── login.html
    |   |   ├── logout.html
    |   |   ├── object_history.html
    |   |   ├── password_change_done.html
    |   |   ├── password_change_form.html
    |   |   └── popup_response.html
    |   ├── extended.html
    |   ├── form_view.html
    |   ├── login.html
    |   └── views
    |       ├── article_archive_day.html
    |       ├── article_archive_month.html
    |       ├── article_confirm_delete.html
    |       ├── article_detail.html
    |       ├── article_form.html
    |       ├── article_list.html
    |       ├── datearticle_archive_month.html
    |       ├── urlarticle_detail.html
    |       └── urlarticle_form.html
    ├── test_client
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── test_conditional_content_removal.py
    |   ├── test_fakepayload.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_client_regress
    |   ├── __init__.py
    |   ├── auth_backends.py
    |   ├── bad_templates
    |   |   └── 404.html
    |   ├── context_processors.py
    |   ├── models.py
    |   ├── session.py
    |   ├── templates
    |   |   ├── request_context.html
    |   |   └── unicode.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── test_exceptions
    |   ├── __init__.py
    |   └── test_validation_error.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: models.W042 is raised on inherited manually specified primary key.

Description: Description
	
I have models which inherit from other models, and they should inherit the primary key. This works fine with Django 3.1. However, if I install Django 3.2 alpha, when I run make_migrations I get the following error messages:
System check identified some issues:
WARNINGS:
accounts.ReservedUsername: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreAccountsConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
accounts.User: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreAccountsConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
blocks.Block: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
contact_by_form.Feedback: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreContactByFormConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
core_messages.ReadMark: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the SpeedyCoreMessagesConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.Block: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.Follow: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.Friend: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
friendship.FriendshipRequest: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
likes.UserLike: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
uploads.Image: (models.W042) Auto-created primary key used when not defining a primary key type, by default 'django.db.models.AutoField'.
		HINT: Configure the DEFAULT_AUTO_FIELD setting or the AppConfig.default_auto_field attribute to point to a subclass of AutoField, e.g. 'django.db.models.BigAutoField'.
These models should not use auto-created primary keys! I already defined the primary key in the ancestor of the model. For example class Entity which class User inherits from. It looks to me like a bug in Django 3.2 alpha.

Patch information:
diff --git a/django/db/models/base.py b/django/db/models/base.py
index 4038859cfa..264e9699f7 100644
--- a/django/db/models/base.py
+++ b/django/db/models/base.py
@@ -17,7 +17,7 @@ from django.db import (
     connections, router, transaction,
 )
 from django.db.models import (
-    NOT_PROVIDED, ExpressionWrapper, IntegerField, Max, Value,
+    NOT_PROVIDED, AutoField, ExpressionWrapper, IntegerField, Max, Value,
 )
 from django.db.models.constants import LOOKUP_SEP
 from django.db.models.constraints import CheckConstraint, UniqueConstraint
@@ -1299,6 +1299,7 @@ class Model(metaclass=ModelBase):
     def _check_default_pk(cls):
         if (
             cls._meta.pk.auto_created and
+            isinstance(cls._meta.pk, AutoField) and
             not settings.is_overridden('DEFAULT_AUTO_FIELD') and
             not cls._meta.app_config._is_default_auto_field_overridden
         ):
diff --git a/docs/ref/checks.txt b/docs/ref/checks.txt
index 1025549370..6e6253b774 100644
--- a/docs/ref/checks.txt
+++ b/docs/ref/checks.txt
@@ -373,8 +373,10 @@ Models
 * **models.W040**: ``<database>`` does not support indexes with non-key
   columns.
 * **models.E041**: ``constraints`` refers to the joined field ``<field name>``.
-* **models.W042**: Auto-created primary key used when not defining a primary
-  key type, by default ``django.db.models.AutoField``.
+* **models.W042**: Auto-created AutoField primary key used when not defining a
+  primary key type, by default ``django.db.models.AutoField``. This check does
+  not apply to primary keys inherited via a parent link in multi-table
+  inheritance.
 * **models.W043**: ``<database>`` does not support indexes on expressions.
 
 Security
diff --git a/docs/releases/3.2.txt b/docs/releases/3.2.txt
index d3d3f44b8e..4c52e13e82 100644
--- a/docs/releases/3.2.txt
+++ b/docs/releases/3.2.txt
@@ -94,6 +94,9 @@ or on a per-model basis::
 
 In anticipation of the changing default, a system check will provide a warning
 if you do not have an explicit setting for :setting:`DEFAULT_AUTO_FIELD`.
+This warning applies to models that use an implicitly created AutoField primary
+key. It does not apply to child models in multi-table inheritance that inherit
+their primary key via a parent link.
 
 .. _new_functional_indexes:
 
diff --git a/docs/topics/db/models.txt b/docs/topics/db/models.txt
index 26a6d7dc58..8ae190d821 100644
--- a/docs/topics/db/models.txt
+++ b/docs/topics/db/models.txt
@@ -274,6 +274,12 @@ sees you've explicitly set :attr:`Field.primary_key`, it won't add the automatic
 Each model requires exactly one field to have :attr:`primary_key=True
 <Field.primary_key>` (either explicitly declared or automatically added).
 
+Note that in multi-table inheritance, a child model inherits its primary key
+from its parent via an automatically created one-to-one parent link. This
+inherited primary key is not governed by :setting:`DEFAULT_AUTO_FIELD` and is
+not subject to the system check warning about auto-created AutoField primary
+keys.
+
 .. versionchanged:: 3.2
 
     In older versions, auto-created primary key fields were always


Find all relevant source code context needed to understand and fix this issue.
Focus on production code (ignore test files) and follow these steps:
1. Identify key components mentioned in the issue, especially from the error message(functions, classes, types, etc.)
2. Find their complete implementations and class definitions
3. Include related code from the same module that affects the behavior
4. Follow imports to find dependent code that directly impacts the issue

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `django/db/models/base.py`.
Extra Requirements: 
Purpose: I need to analyze the model creation and inheritance logic within `ModelBase` to understand how primary keys are processed and why the warning is incorrectly triggered.

Previous refined query 2:
Essential Query: Please provide the full content of `django/db/models/options.py`.
Extra Requirements: 
Purpose: I need to examine the `Options` class to understand how a model's primary key (`_meta.pk`) is determined, which is essential for diagnosing the incorrect warning.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: django/db/models/base.py
Line number range: 1 - 2139
Content:
1. import copy
2. import inspect
3. import warnings
4. from functools import partialmethod
5. from itertools import chain
6. 
7. import django
8. from django.apps import apps
9. from django.conf import settings
10. from django.core import checks
11. from django.core.exceptions import (
12.     NON_FIELD_ERRORS, FieldDoesNotExist, FieldError, MultipleObjectsReturned,
13.     ObjectDoesNotExist, ValidationError,
14. )
15. from django.db import (
16.     DEFAULT_DB_ALIAS, DJANGO_VERSION_PICKLE_KEY, DatabaseError, connection,
17.     connections, router, transaction,
18. )
19. from django.db.models import (
20.     NOT_PROVIDED, ExpressionWrapper, IntegerField, Max, Value,
21. )
22. from django.db.models.constants import LOOKUP_SEP
23. from django.db.models.constraints import CheckConstraint, UniqueConstraint
24. from django.db.models.deletion import CASCADE, Collector
25. from django.db.models.fields.related import (
26.     ForeignObjectRel, OneToOneField, lazy_related_operation, resolve_relation,
27. )
28. from django.db.models.functions import Coalesce
29. from django.db.models.manager import Manager
30. from django.db.models.options import Options
31. from django.db.models.query import F, Q
32. from django.db.models.signals import (
33.     class_prepared, post_init, post_save, pre_init, pre_save,
34. )
35. from django.db.models.utils import make_model_tuple
36. from django.utils.encoding import force_str
37. from django.utils.hashable import make_hashable
38. from django.utils.text import capfirst, get_text_list
39. from django.utils.translation import gettext_lazy as _
40. 
41. 
42. class Deferred:
43.     def __repr__(self):
44.         return '<Deferred field>'
45. 
46.     def __str__(self):
47.         return '<Deferred field>'
48. 
49. 
50. DEFERRED = Deferred()
51. 
52. 
53. def subclass_exception(name, bases, module, attached_to):
54.     """
55.     Create exception subclass. Used by ModelBase below.
56. 
57.     The exception is created in a way that allows it to be pickled, assuming
58.     that the returned exception class will be added as an attribute to the
59.     'attached_to' class.
60.     """
61.     return type(name, bases, {
62.         '__module__': module,
63.         '__qualname__': '%s.%s' % (attached_to.__qualname__, name),
64.     })
65. 
66. 
67. def _has_contribute_to_class(value):
68.     # Only call contribute_to_class() if it's bound.
69.     return not inspect.isclass(value) and hasattr(value, 'contribute_to_class')
70. 
71. 
72. class ModelBase(type):
73.     """Metaclass for all models."""
74.     def __new__(cls, name, bases, attrs, **kwargs):
75.         super_new = super().__new__
76. 
77.         # Also ensure initialization is only performed for subclasses of Model
78.         # (excluding Model class itself).
79.         parents = [b for b in bases if isinstance(b, ModelBase)]
80.         if not parents:
81.             return super_new(cls, name, bases, attrs)
82. 
83.         # Create the class.
84.         module = attrs.pop('__module__')
85.         new_attrs = {'__module__': module}
86.         classcell = attrs.pop('__classcell__', None)
87.         if classcell is not None:
88.             new_attrs['__classcell__'] = classcell
89.         attr_meta = attrs.pop('Meta', None)
90.         # Pass all attrs without a (Django-specific) contribute_to_class()
91.         # method to type.__new__() so that they're properly initialized
92.         # (i.e. __set_name__()).
93.         contributable_attrs = {}
94.         for obj_name, obj in attrs.items():
95.             if _has_contribute_to_class(obj):
96.                 contributable_attrs[obj_name] = obj
97.             else:
98.                 new_attrs[obj_name] = obj
99.         new_class = super_new(cls, name, bases, new_attrs, **kwargs)
100. 
101.         abstract = getattr(attr_meta, 'abstract', False)
102.         meta = attr_meta or getattr(new_class, 'Meta', None)
103.         base_meta = getattr(new_class, '_meta', None)
104. 
105.         app_label = None
106. 
107.         # Look for an application configuration to attach the model to.
108.         app_config = apps.get_containing_app_config(module)
109. 
110.         if getattr(meta, 'app_label', None) is None:
111.             if app_config is None:
112.                 if not abstract:
113.                     raise RuntimeError(
114.                         "Model class %s.%s doesn't declare an explicit "
115.                         "app_label and isn't in an application in "
116.                         "INSTALLED_APPS." % (module, name)
117.                     )
118. 
119.             else:
120.                 app_label = app_config.label
121. 
122.         new_class.add_to_class('_meta', Options(meta, app_label))
123.         if not abstract:
124.             new_class.add_to_class(
125.                 'DoesNotExist',
126.                 subclass_exception(
127.                     'DoesNotExist',
128.                     tuple(
129.                         x.DoesNotExist for x in parents if hasattr(x, '_meta') and not x._meta.abstract
130.                     ) or (ObjectDoesNotExist,),
131.                     module,
132.                     attached_to=new_class))
133.             new_class.add_to_class(
134.                 'MultipleObjectsReturned',
135.                 subclass_exception(
136.                     'MultipleObjectsReturned',
137.                     tuple(
138.                         x.MultipleObjectsReturned for x in parents if hasattr(x, '_meta') and not x._meta.abstract
139.                     ) or (MultipleObjectsReturned,),
140.                     module,
141.                     attached_to=new_class))
142.             if base_meta and not base_meta.abstract:
143.                 # Non-abstract child classes inherit some attributes from their
144.                 # non-abstract parent (unless an ABC comes before it in the
145.                 # method resolution order).
146.                 if not hasattr(meta, 'ordering'):
147.                     new_class._meta.ordering = base_meta.ordering
148.                 if not hasattr(meta, 'get_latest_by'):
149.                     new_class._meta.get_latest_by = base_meta.get_latest_by
150. 
151.         is_proxy = new_class._meta.proxy
152. 
153.         # If the model is a proxy, ensure that the base class
154.         # hasn't been swapped out.
155.         if is_proxy and base_meta and base_meta.swapped:
156.             raise TypeError("%s cannot proxy the swapped model '%s'." % (name, base_meta.swapped))
157. 
158.         # Add remaining attributes (those with a contribute_to_class() method)
159.         # to the class.
160.         for obj_name, obj in contributable_attrs.items():
161.             new_class.add_to_class(obj_name, obj)
162. 
163.         # All the fields of any type declared on this model
164.         new_fields = chain(
165.             new_class._meta.local_fields,
166.             new_class._meta.local_many_to_many,
167.             new_class._meta.private_fields
168.         )
169.         field_names = {f.name for f in new_fields}
170. 
171.         # Basic setup for proxy models.
172.         if is_proxy:
173.             base = None
174.             for parent in [kls for kls in parents if hasattr(kls, '_meta')]:
175.                 if parent._meta.abstract:
176.                     if parent._meta.fields:
177.                         raise TypeError(
178.                             "Abstract base class containing model fields not "
179.                             "permitted for proxy model '%s'." % name
180.                         )
181.                     else:
182.                         continue
183.                 if base is None:
184.                     base = parent
185.                 elif parent._meta.concrete_model is not base._meta.concrete_model:
186.                     raise TypeError("Proxy model '%s' has more than one non-abstract model base class." % name)
187.             if base is None:
188.                 raise TypeError("Proxy model '%s' has no non-abstract model base class." % name)
189.             new_class._meta.setup_proxy(base)
190.             new_class._meta.concrete_model = base._meta.concrete_model
191.         else:
192.             new_class._meta.concrete_model = new_class
193. 
194.         # Collect the parent links for multi-table inheritance.
195.         parent_links = {}
196.         for base in reversed([new_class] + parents):
197.             # Conceptually equivalent to `if base is Model`.
198.             if not hasattr(base, '_meta'):
199.                 continue
200.             # Skip concrete parent classes.
201.             if base != new_class and not base._meta.abstract:
202.                 continue
203.             # Locate OneToOneField instances.
204.             for field in base._meta.local_fields:
205.                 if isinstance(field, OneToOneField) and field.remote_field.parent_link:
206.                     related = resolve_relation(new_class, field.remote_field.model)
207.                     parent_links[make_model_tuple(related)] = field
208. 
209.         # Track fields inherited from base models.
210.         inherited_attributes = set()
211.         # Do the appropriate setup for any model parents.
212.         for base in new_class.mro():
213.             if base not in parents or not hasattr(base, '_meta'):
214.                 # Things without _meta aren't functional models, so they're
215.                 # uninteresting parents.
216.                 inherited_attributes.update(base.__dict__)
217.                 continue
218. 
219.             parent_fields = base._meta.local_fields + base._meta.local_many_to_many
220.             if not base._meta.abstract:
221.                 # Check for clashes between locally declared fields and those
222.                 # on the base classes.
223.                 for field in parent_fields:
224.                     if field.name in field_names:
225.                         raise FieldError(
226.                             'Local field %r in class %r clashes with field of '
227.                             'the same name from base class %r.' % (
228.                                 field.name,
229.                                 name,
230.                                 base.__name__,
231.                             )
232.                         )
233.                     else:
234.                         inherited_attributes.add(field.name)
235. 
236.                 # Concrete classes...
237.                 base = base._meta.concrete_model
238.                 base_key = make_model_tuple(base)
239.                 if base_key in parent_links:
240.                     field = parent_links[base_key]
241.                 elif not is_proxy:
242.                     attr_name = '%s_ptr' % base._meta.model_name
243.                     field = OneToOneField(
244.                         base,
245.                         on_delete=CASCADE,
246.                         name=attr_name,
247.                         auto_created=True,
248.                         parent_link=True,
249.                     )
250. 
251.                     if attr_name in field_names:
252.                         raise FieldError(
253.                             "Auto-generated field '%s' in class %r for "
254.                             "parent_link to base class %r clashes with "
255.                             "declared field of the same name." % (
256.                                 attr_name,
257.                                 name,
258.                                 base.__name__,
259.                             )
260.                         )
261. 
262.                     # Only add the ptr field if it's not already present;
263.                     # e.g. migrations will already have it specified
264.                     if not hasattr(new_class, attr_name):
265.                         new_class.add_to_class(attr_name, field)
266.                 else:
267.                     field = None
268.                 new_class._meta.parents[base] = field
269.             else:
270.                 base_parents = base._meta.parents.copy()
271. 
272.                 # Add fields from abstract base class if it wasn't overridden.
273.                 for field in parent_fields:
274.                     if (field.name not in field_names and
275.                             field.name not in new_class.__dict__ and
276.                             field.name not in inherited_attributes):
277.                         new_field = copy.deepcopy(field)
278.                         new_class.add_to_class(field.name, new_field)
279.                         # Replace parent links defined on this base by the new
280.                         # field. It will be appropriately resolved if required.
281.                         if field.one_to_one:
282.                             for parent, parent_link in base_parents.items():
283.                                 if field == parent_link:
284.                                     base_parents[parent] = new_field
285. 
286.                 # Pass any non-abstract parent classes onto child.
287.                 new_class._meta.parents.update(base_parents)
288. 
289.             # Inherit private fields (like GenericForeignKey) from the parent
290.             # class
291.             for field in base._meta.private_fields:
292.                 if field.name in field_names:
293.                     if not base._meta.abstract:
294.                         raise FieldError(
295.                             'Local field %r in class %r clashes with field of '
296.                             'the same name from base class %r.' % (
297.                                 field.name,
298.                                 name,
299.                                 base.__name__,
300.                             )
301.                         )
302.                 else:
303.                     field = copy.deepcopy(field)
304.                     if not base._meta.abstract:
305.                         field.mti_inherited = True
306.                     new_class.add_to_class(field.name, field)
307. 
308.         # Copy indexes so that index names are unique when models extend an
309.         # abstract model.
310.         new_class._meta.indexes = [copy.deepcopy(idx) for idx in new_class._meta.indexes]
311. 
312.         if abstract:
313.             # Abstract base models can't be instantiated and don't appear in
314.             # the list of models for an app. We do the final setup for them a
315.             # little differently from normal models.
316.             attr_meta.abstract = False
317.             new_class.Meta = attr_meta
318.             return new_class
319. 
320.         new_class._prepare()
321.         new_class._meta.apps.register_model(new_class._meta.app_label, new_class)
322.         return new_class
323. 
324.     def add_to_class(cls, name, value):
325.         if _has_contribute_to_class(value):
326.             value.contribute_to_class(cls, name)
327.         else:
328.             setattr(cls, name, value)
329. 
330.     def _prepare(cls):
331.         """Create some methods once self._meta has been populated."""
332.         opts = cls._meta
333.         opts._prepare(cls)
334. 
335.         if opts.order_with_respect_to:
336.             cls.get_next_in_order = partialmethod(cls._get_next_or_previous_in_order, is_next=True)
337.             cls.get_previous_in_order = partialmethod(cls._get_next_or_previous_in_order, is_next=False)
338. 
339.             # Defer creating accessors on the foreign class until it has been
340.             # created and registered. If remote_field is None, we're ordering
341.             # with respect to a GenericForeignKey and don't know what the
342.             # foreign class is - we'll add those accessors later in
343.             # contribute_to_class().
344.             if opts.order_with_respect_to.remote_field:
345.                 wrt = opts.order_with_respect_to
346.                 remote = wrt.remote_field.model
347.                 lazy_related_operation(make_foreign_order_accessors, cls, remote)
348. 
349.         # Give the class a docstring -- its definition.
350.         if cls.__doc__ is None:
351.             cls.__doc__ = "%s(%s)" % (cls.__name__, ", ".join(f.name for f in opts.fields))
352. 
353.         get_absolute_url_override = settings.ABSOLUTE_URL_OVERRIDES.get(opts.label_lower)
354.         if get_absolute_url_override:
355.             setattr(cls, 'get_absolute_url', get_absolute_url_override)
356. 
357.         if not opts.managers:
358.             if any(f.name == 'objects' for f in opts.fields):
359.                 raise ValueError(
360.                     "Model %s must specify a custom Manager, because it has a "
361.                     "field named 'objects'." % cls.__name__
362.                 )
363.             manager = Manager()
364.             manager.auto_created = True
365.             cls.add_to_class('objects', manager)
366. 
367.         # Set the name of _meta.indexes. This can't be done in
368.         # Options.contribute_to_class() because fields haven't been added to
369.         # the model at that point.
370.         for index in cls._meta.indexes:
371.             if not index.name:
372.                 index.set_name_with_model(cls)
373. 
374.         class_prepared.send(sender=cls)
375. 
376.     @property
377.     def _base_manager(cls):
378.         return cls._meta.base_manager
379. 
380.     @property
381.     def _default_manager(cls):
382.         return cls._meta.default_manager
383. 
384. 
385. class ModelStateFieldsCacheDescriptor:
386.     def __get__(self, instance, cls=None):
387.         if instance is None:
388.             return self
389.         res = instance.fields_cache = {}
390.         return res
391. 
392. 
393. class ModelState:
394.     """Store model instance state."""
395.     db = None
396.     # If true, uniqueness validation checks will consider this a new, unsaved
397.     # object. Necessary for correct validation of new instances of objects with
398.     # explicit (non-auto) PKs. This impacts validation only; it has no effect
399.     # on the actual save.
400.     adding = True
401.     fields_cache = ModelStateFieldsCacheDescriptor()
402. 
403. 
404. class Model(metaclass=ModelBase):
405. 
406.     def __init__(self, *args, **kwargs):
407.         # Alias some things as locals to avoid repeat global lookups
408.         cls = self.__class__
409.         opts = self._meta
410.         _setattr = setattr
411.         _DEFERRED = DEFERRED
412.         if opts.abstract:
413.             raise TypeError('Abstract models cannot be instantiated.')
414. 
415.         pre_init.send(sender=cls, args=args, kwargs=kwargs)
416. 
417.         # Set up the storage for instance state
418.         self._state = ModelState()
419. 
420.         # There is a rather weird disparity here; if kwargs, it's set, then args
421.         # overrides it. It should be one or the other; don't duplicate the work
422.         # The reason for the kwargs check is that standard iterator passes in by
423.         # args, and instantiation for iteration is 33% faster.
424.         if len(args) > len(opts.concrete_fields):
425.             # Daft, but matches old exception sans the err msg.
426.             raise IndexError("Number of args exceeds number of fields")
427. 
428.         if not kwargs:
429.             fields_iter = iter(opts.concrete_fields)
430.             # The ordering of the zip calls matter - zip throws StopIteration
431.             # when an iter throws it. So if the first iter throws it, the second
432.             # is *not* consumed. We rely on this, so don't change the order
433.             # without changing the logic.
434.             for val, field in zip(args, fields_iter):
435.                 if val is _DEFERRED:
436.                     continue
437.                 _setattr(self, field.attname, val)
438.         else:
439.             # Slower, kwargs-ready version.
440.             fields_iter = iter(opts.fields)
441.             for val, field in zip(args, fields_iter):
442.                 if val is _DEFERRED:
443.                     continue
444.                 _setattr(self, field.attname, val)
445.                 kwargs.pop(field.name, None)
446. 
447.         # Now we're left with the unprocessed fields that *must* come from
448.         # keywords, or default.
449. 
450.         for field in fields_iter:
451.             is_related_object = False
452.             # Virtual field
453.             if field.attname not in kwargs and field.column is None:
454.                 continue
455.             if kwargs:
456.                 if isinstance(field.remote_field, ForeignObjectRel):
457.                     try:
458.                         # Assume object instance was passed in.
459.                         rel_obj = kwargs.pop(field.name)
460.                         is_related_object = True
461.                     except KeyError:
462.                         try:
463.                             # Object instance wasn't passed in -- must be an ID.
464.                             val = kwargs.pop(field.attname)
465.                         except KeyError:
466.                             val = field.get_default()
467.                 else:
468.                     try:
469.                         val = kwargs.pop(field.attname)
470.                     except KeyError:
471.                         # This is done with an exception rather than the
472.                         # default argument on pop because we don't want
473.                         # get_default() to be evaluated, and then not used.
474.                         # Refs #12057.
475.                         val = field.get_default()
476.             else:
477.                 val = field.get_default()
478. 
479.             if is_related_object:
480.                 # If we are passed a related instance, set it using the
481.                 # field.name instead of field.attname (e.g. "user" instead of
482.                 # "user_id") so that the object gets properly cached (and type
483.                 # checked) by the RelatedObjectDescriptor.
484.                 if rel_obj is not _DEFERRED:
485.                     _setattr(self, field.name, rel_obj)
486.             else:
487.                 if val is not _DEFERRED:
488.                     _setattr(self, field.attname, val)
489. 
490.         if kwargs:
491.             property_names = opts._property_names
492.             for prop in tuple(kwargs):
493.                 try:
494.                     # Any remaining kwargs must correspond to properties or
495.                     # virtual fields.
496.                     if prop in property_names or opts.get_field(prop):
497.                         if kwargs[prop] is not _DEFERRED:
498.                             _setattr(self, prop, kwargs[prop])
499.                         del kwargs[prop]
500.                 except (AttributeError, FieldDoesNotExist):
501.                     pass
502.             for kwarg in kwargs:
503.                 raise TypeError("%s() got an unexpected keyword argument '%s'" % (cls.__name__, kwarg))
504.         super().__init__()
505.         post_init.send(sender=cls, instance=self)
506. 
507.     @classmethod
508.     def from_db(cls, db, field_names, values):
509.         if len(values) != len(cls._meta.concrete_fields):
510.             values_iter = iter(values)
511.             values = [
512.                 next(values_iter) if f.attname in field_names else DEFERRED
513.                 for f in cls._meta.concrete_fields
514.             ]
515.         new = cls(*values)
516.         new._state.adding = False
517.         new._state.db = db
518.         return new
519. 
520.     def __repr__(self):
521.         return '<%s: %s>' % (self.__class__.__name__, self)
522. 
523.     def __str__(self):
524.         return '%s object (%s)' % (self.__class__.__name__, self.pk)
525. 
526.     def __eq__(self, other):
527.         if not isinstance(other, Model):
528.             return NotImplemented
529.         if self._meta.concrete_model != other._meta.concrete_model:
530.             return False
531.         my_pk = self.pk
532.         if my_pk is None:
533.             return self is other
534.         return my_pk == other.pk
535. 
536.     def __hash__(self):
537.         if self.pk is None:
538.             raise TypeError("Model instances without primary key value are unhashable")
539.         return hash(self.pk)
540. 
541.     def __reduce__(self):
542.         data = self.__getstate__()
543.         data[DJANGO_VERSION_PICKLE_KEY] = django.__version__
544.         class_id = self._meta.app_label, self._meta.object_name
545.         return model_unpickle, (class_id,), data
546. 
547.     def __getstate__(self):
548.         """Hook to allow choosing the attributes to pickle."""
549.         state = self.__dict__.copy()
550.         state['_state'] = copy.copy(state['_state'])
551.         state['_state'].fields_cache = state['_state'].fields_cache.copy()
552.         return state
553. 
554.     def __setstate__(self, state):
555.         pickled_version = state.get(DJANGO_VERSION_PICKLE_KEY)
556.         if pickled_version:
557.             if pickled_version != django.__version__:
558.                 warnings.warn(
559.                     "Pickled model instance's Django version %s does not "
560.                     "match the current version %s."
561.                     % (pickled_version, django.__version__),
562.                     RuntimeWarning,
563.                     stacklevel=2,
564.                 )
565.         else:
566.             warnings.warn(
567.                 "Pickled model instance's Django version is not specified.",
568.                 RuntimeWarning,
569.                 stacklevel=2,
570.             )
571.         self.__dict__.update(state)
572. 
573.     def _get_pk_val(self, meta=None):
574.         meta = meta or self._meta
575.         return getattr(self, meta.pk.attname)
576. 
577.     def _set_pk_val(self, value):
578.         for parent_link in self._meta.parents.values():
579.             if parent_link and parent_link != self._meta.pk:
580.                 setattr(self, parent_link.target_field.attname, value)
581.         return setattr(self, self._meta.pk.attname, value)
582. 
583.     pk = property(_get_pk_val, _set_pk_val)
584. 
585.     def get_deferred_fields(self):
586.         """
587.         Return a set containing names of deferred fields for this instance.
588.         """
589.         return {
590.             f.attname for f in self._meta.concrete_fields
591.             if f.attname not in self.__dict__
592.         }
593. 
594.     def refresh_from_db(self, using=None, fields=None):
595.         """
596.         Reload field values from the database.
597. 
598.         By default, the reloading happens from the database this instance was
599.         loaded from, or by the read router if this instance wasn't loaded from
600.         any database. The using parameter will override the default.
601. 
602.         Fields can be used to specify which fields to reload. The fields
603.         should be an iterable of field attnames. If fields is None, then
604.         all non-deferred fields are reloaded.
605. 
606.         When accessing deferred fields of an instance, the deferred loading
607.         of the field will call this method.
608.         """
609.         if fields is None:
610.             self._prefetched_objects_cache = {}
611.         else:
612.             prefetched_objects_cache = getattr(self, '_prefetched_objects_cache', ())
613.             for field in fields:
614.                 if field in prefetched_objects_cache:
615.                     del prefetched_objects_cache[field]
616.                     fields.remove(field)
617.             if not fields:
618.                 return
619.             if any(LOOKUP_SEP in f for f in fields):
620.                 raise ValueError(
621.                     'Found "%s" in fields argument. Relations and transforms '
622.                     'are not allowed in fields.' % LOOKUP_SEP)
623. 
624.         hints = {'instance': self}
625.         db_instance_qs = self.__class__._base_manager.db_manager(using, hints=hints).filter(pk=self.pk)
626. 
627.         # Use provided fields, if not set then reload all non-deferred fields.
628.         deferred_fields = self.get_deferred_fields()
629.         if fields is not None:
630.             fields = list(fields)
631.             db_instance_qs = db_instance_qs.only(*fields)
632.         elif deferred_fields:
633.             fields = [f.attname for f in self._meta.concrete_fields
634.                       if f.attname not in deferred_fields]
635.             db_instance_qs = db_instance_qs.only(*fields)
636. 
637.         db_instance = db_instance_qs.get()
638.         non_loaded_fields = db_instance.get_deferred_fields()
639.         for field in self._meta.concrete_fields:
640.             if field.attname in non_loaded_fields:
641.                 # This field wasn't refreshed - skip ahead.
642.                 continue
643.             setattr(self, field.attname, getattr(db_instance, field.attname))
644.             # Clear cached foreign keys.
645.             if field.is_relation and field.is_cached(self):
646.                 field.delete_cached_value(self)
647. 
648.         # Clear cached relations.
649.         for field in self._meta.related_objects:
650.             if field.is_cached(self):
651.                 field.delete_cached_value(self)
652. 
653.         self._state.db = db_instance._state.db
654. 
655.     def serializable_value(self, field_name):
656.         """
657.         Return the value of the field name for this instance. If the field is
658.         a foreign key, return the id value instead of the object. If there's
659.         no Field object with this name on the model, return the model
660.         attribute's value.
661. 
662.         Used to serialize a field's value (in the serializer, or form output,
663.         for example). Normally, you would just access the attribute directly
664.         and not use this method.
665.         """
666.         try:
667.             field = self._meta.get_field(field_name)
668.         except FieldDoesNotExist:
669.             return getattr(self, field_name)
670.         return getattr(self, field.attname)
671. 
672.     def save(self, force_insert=False, force_update=False, using=None,
673.              update_fields=None):
674.         """
675.         Save the current instance. Override this in a subclass if you want to
676.         control the saving process.
677. 
678.         The 'force_insert' and 'force_update' parameters can be used to insist
679.         that the "save" must be an SQL insert or update (or equivalent for
680.         non-SQL backends), respectively. Normally, they should not be set.
681.         """
682.         self._prepare_related_fields_for_save(operation_name='save')
683. 
684.         using = using or router.db_for_write(self.__class__, instance=self)
685.         if force_insert and (force_update or update_fields):
686.             raise ValueError("Cannot force both insert and updating in model saving.")
687. 
688.         deferred_fields = self.get_deferred_fields()
689.         if update_fields is not None:
690.             # If update_fields is empty, skip the save. We do also check for
691.             # no-op saves later on for inheritance cases. This bailout is
692.             # still needed for skipping signal sending.
693.             if not update_fields:
694.                 return
695. 
696.             update_fields = frozenset(update_fields)
697.             field_names = set()
698. 
699.             for field in self._meta.concrete_fields:
700.                 if not field.primary_key:
701.                     field_names.add(field.name)
702. 
703.                     if field.name != field.attname:
704.                         field_names.add(field.attname)
705. 
706.             non_model_fields = update_fields.difference(field_names)
707. 
708.             if non_model_fields:
709.                 raise ValueError(
710.                     'The following fields do not exist in this model, are m2m '
711.                     'fields, or are non-concrete fields: %s'
712.                     % ', '.join(non_model_fields)
713.                 )
714. 
715.         # If saving to the same database, and this model is deferred, then
716.         # automatically do an "update_fields" save on the loaded fields.
717.         elif not force_insert and deferred_fields and using == self._state.db:
718.             field_names = set()
719.             for field in self._meta.concrete_fields:
720.                 if not field.primary_key and not hasattr(field, 'through'):
721.                     field_names.add(field.attname)
722.             loaded_fields = field_names.difference(deferred_fields)
723.             if loaded_fields:
724.                 update_fields = frozenset(loaded_fields)
725. 
726.         self.save_base(using=using, force_insert=force_insert,
727.                        force_update=force_update, update_fields=update_fields)
728.     save.alters_data = True
729. 
730.     def save_base(self, raw=False, force_insert=False,
731.                   force_update=False, using=None, update_fields=None):
732.         """
733.         Handle the parts of saving which should be done only once per save,
734.         yet need to be done in raw saves, too. This includes some sanity
735.         checks and signal sending.
736. 
737.         The 'raw' argument is telling save_base not to save any parent
738.         models and not to do any changes to the values before save. This
739.         is used by fixture loading.
740.         """
741.         using = using or router.db_for_write(self.__class__, instance=self)
742.         assert not (force_insert and (force_update or update_fields))
743.         assert update_fields is None or update_fields
744.         cls = origin = self.__class__
745.         # Skip proxies, but keep the origin as the proxy model.
746.         if cls._meta.proxy:
747.             cls = cls._meta.concrete_model
748.         meta = cls._meta
749.         if not meta.auto_created:
750.             pre_save.send(
751.                 sender=origin, instance=self, raw=raw, using=using,
752.                 update_fields=update_fields,
753.             )
754.         # A transaction isn't needed if one query is issued.
755.         if meta.parents:
756.             context_manager = transaction.atomic(using=using, savepoint=False)
757.         else:
758.             context_manager = transaction.mark_for_rollback_on_error(using=using)
759.         with context_manager:
760.             parent_inserted = False
761.             if not raw:
762.                 parent_inserted = self._save_parents(cls, using, update_fields)
763.             updated = self._save_table(
764.                 raw, cls, force_insert or parent_inserted,
765.                 force_update, using, update_fields,
766.             )
767.         # Store the database on which the object was saved
768.         self._state.db = using
769.         # Once saved, this is no longer a to-be-added instance.
770.         self._state.adding = False
771. 
772.         # Signal that the save is complete
773.         if not meta.auto_created:
774.             post_save.send(
775.                 sender=origin, instance=self, created=(not updated),
776.                 update_fields=update_fields, raw=raw, using=using,
777.             )
778. 
779.     save_base.alters_data = True
780. 
781.     def _save_parents(self, cls, using, update_fields):
782.         """Save all the parents of cls using values from self."""
783.         meta = cls._meta
784.         inserted = False
785.         for parent, field in meta.parents.items():
786.             # Make sure the link fields are synced between parent and self.
787.             if (field and getattr(self, parent._meta.pk.attname) is None and
788.                     getattr(self, field.attname) is not None):
789.                 setattr(self, parent._meta.pk.attname, getattr(self, field.attname))
790.             parent_inserted = self._save_parents(cls=parent, using=using, update_fields=update_fields)
791.             updated = self._save_table(
792.                 cls=parent, using=using, update_fields=update_fields,
793.                 force_insert=parent_inserted,
794.             )
795.             if not updated:
796.                 inserted = True
797.             # Set the parent's PK value to self.
798.             if field:
799.                 setattr(self, field.attname, self._get_pk_val(parent._meta))
800.                 # Since we didn't have an instance of the parent handy set
801.                 # attname directly, bypassing the descriptor. Invalidate
802.                 # the related object cache, in case it's been accidentally
803.                 # populated. A fresh instance will be re-built from the
804.                 # database if necessary.
805.                 if field.is_cached(self):
806.                     field.delete_cached_value(self)
807.         return inserted
808. 
809.     def _save_table(self, raw=False, cls=None, force_insert=False,
810.                     force_update=False, using=None, update_fields=None):
811.         """
812.         Do the heavy-lifting involved in saving. Update or insert the data
813.         for a single table.
814.         """
815.         meta = cls._meta
816.         non_pks = [f for f in meta.local_concrete_fields if not f.primary_key]
817. 
818.         if update_fields:
819.             non_pks = [f for f in non_pks
820.                        if f.name in update_fields or f.attname in update_fields]
821. 
822.         pk_val = self._get_pk_val(meta)
823.         if pk_val is None:
824.             pk_val = meta.pk.get_pk_value_on_save(self)
825.             setattr(self, meta.pk.attname, pk_val)
826.         pk_set = pk_val is not None
827.         if not pk_set and (force_update or update_fields):
828.             raise ValueError("Cannot force an update in save() with no primary key.")
829.         updated = False
830.         # Skip an UPDATE when adding an instance and primary key has a default.
831.         if (
832.             not raw and
833.             not force_insert and
834.             self._state.adding and
835.             meta.pk.default and
836.             meta.pk.default is not NOT_PROVIDED
837.         ):
838.             force_insert = True
839.         # If possible, try an UPDATE. If that doesn't update anything, do an INSERT.
840.         if pk_set and not force_insert:
841.             base_qs = cls._base_manager.using(using)
842.             values = [(f, None, (getattr(self, f.attname) if raw else f.pre_save(self, False)))
843.                       for f in non_pks]
844.             forced_update = update_fields or force_update
845.             updated = self._do_update(base_qs, using, pk_val, values, update_fields,
846.                                       forced_update)
847.             if force_update and not updated:
848.                 raise DatabaseError("Forced update did not affect any rows.")
849.             if update_fields and not updated:
850.                 raise DatabaseError("Save with update_fields did not affect any rows.")
851.         if not updated:
852.             if meta.order_with_respect_to:
853.                 # If this is a model with an order_with_respect_to
854.                 # autopopulate the _order field
855.                 field = meta.order_with_respect_to
856.                 filter_args = field.get_filter_kwargs_for_object(self)
857.                 self._order = cls._base_manager.using(using).filter(**filter_args).aggregate(
858.                     _order__max=Coalesce(
859.                         ExpressionWrapper(Max('_order') + Value(1), output_field=IntegerField()),
860.                         Value(0),
861.                     ),
862.                 )['_order__max']
863.             fields = meta.local_concrete_fields
864.             if not pk_set:
865.                 fields = [f for f in fields if f is not meta.auto_field]
866. 
867.             returning_fields = meta.db_returning_fields
868.             results = self._do_insert(cls._base_manager, using, fields, returning_fields, raw)
869.             if results:
870.                 for value, field in zip(results[0], returning_fields):
871.                     setattr(self, field.attname, value)
872.         return updated
873. 
874.     def _do_update(self, base_qs, using, pk_val, values, update_fields, forced_update):
875.         """
876.         Try to update the model. Return True if the model was updated (if an
877.         update query was done and a matching row was found in the DB).
878.         """
879.         filtered = base_qs.filter(pk=pk_val)
880.         if not values:
881.             # We can end up here when saving a model in inheritance chain where
882.             # update_fields doesn't target any field in current model. In that
883.             # case we just say the update succeeded. Another case ending up here
884.             # is a model with just PK - in that case check that the PK still
885.             # exists.
886.             return update_fields is not None or filtered.exists()
887.         if self._meta.select_on_save and not forced_update:
888.             return (
889.                 filtered.exists() and
890.                 # It may happen that the object is deleted from the DB right after
891.                 # this check, causing the subsequent UPDATE to return zero matching
892.                 # rows. The same result can occur in some rare cases when the
893.                 # database returns zero despite the UPDATE being executed
894.                 # successfully (a row is matched and updated). In order to
895.                 # distinguish these two cases, the object's existence in the
896.                 # database is again checked for if the UPDATE query returns 0.
897.                 (filtered._update(values) > 0 or filtered.exists())
898.             )
899.         return filtered._update(values) > 0
900. 
901.     def _do_insert(self, manager, using, fields, returning_fields, raw):
902.         """
903.         Do an INSERT. If returning_fields is defined then this method should
904.         return the newly created data for the model.
905.         """
906.         return manager._insert(
907.             [self], fields=fields, returning_fields=returning_fields,
908.             using=using, raw=raw,
909.         )
910. 
911.     def _prepare_related_fields_for_save(self, operation_name):
912.         # Ensure that a model instance without a PK hasn't been assigned to
913.         # a ForeignKey or OneToOneField on this model. If the field is
914.         # nullable, allowing the save would result in silent data loss.
915.         for field in self._meta.concrete_fields:
916.             # If the related field isn't cached, then an instance hasn't been
917.             # assigned and there's no need to worry about this check.
918.             if field.is_relation and field.is_cached(self):
919.                 obj = getattr(self, field.name, None)
920.                 if not obj:
921.                     continue
922.                 # A pk may have been assigned manually to a model instance not
923.                 # saved to the database (or auto-generated in a case like
924.                 # UUIDField), but we allow the save to proceed and rely on the
925.                 # database to raise an IntegrityError if applicable. If
926.                 # constraints aren't supported by the database, there's the
927.                 # unavoidable risk of data corruption.
928.                 if obj.pk is None:
929.                     # Remove the object from a related instance cache.
930.                     if not field.remote_field.multiple:
931.                         field.remote_field.delete_cached_value(obj)
932.                     raise ValueError(
933.                         "%s() prohibited to prevent data loss due to unsaved "
934.                         "related object '%s'." % (operation_name, field.name)
935.                     )
936.                 elif getattr(self, field.attname) is None:
937.                     # Use pk from related object if it has been saved after
938.                     # an assignment.
939.                     setattr(self, field.attname, obj.pk)
940.                 # If the relationship's pk/to_field was changed, clear the
941.                 # cached relationship.
942.                 if getattr(obj, field.target_field.attname) != getattr(self, field.attname):
943.                     field.delete_cached_value(self)
944. 
945.     def delete(self, using=None, keep_parents=False):
946.         using = using or router.db_for_write(self.__class__, instance=self)
947.         assert self.pk is not None, (
948.             "%s object can't be deleted because its %s attribute is set to None." %
949.             (self._meta.object_name, self._meta.pk.attname)
950.         )
951. 
952.         collector = Collector(using=using)
953.         collector.collect([self], keep_parents=keep_parents)
954.         return collector.delete()
955. 
956.     delete.alters_data = True
957. 
958.     def _get_FIELD_display(self, field):
959.         value = getattr(self, field.attname)
960.         choices_dict = dict(make_hashable(field.flatchoices))
961.         # force_str() to coerce lazy strings.
962.         return force_str(choices_dict.get(make_hashable(value), value), strings_only=True)
963. 
964.     def _get_next_or_previous_by_FIELD(self, field, is_next, **kwargs):
965.         if not self.pk:
966.             raise ValueError("get_next/get_previous cannot be used on unsaved objects.")
967.         op = 'gt' if is_next else 'lt'
968.         order = '' if is_next else '-'
969.         param = getattr(self, field.attname)
970.         q = Q(**{'%s__%s' % (field.name, op): param})
971.         q = q | Q(**{field.name: param, 'pk__%s' % op: self.pk})
972.         qs = self.__class__._default_manager.using(self._state.db).filter(**kwargs).filter(q).order_by(
973.             '%s%s' % (order, field.name), '%spk' % order
974.         )
975.         try:
976.             return qs[0]
977.         except IndexError:
978.             raise self.DoesNotExist("%s matching query does not exist." % self.__class__._meta.object_name)
979. 
980.     def _get_next_or_previous_in_order(self, is_next):
981.         cachename = "__%s_order_cache" % is_next
982.         if not hasattr(self, cachename):
983.             op = 'gt' if is_next else 'lt'
984.             order = '_order' if is_next else '-_order'
985.             order_field = self._meta.order_with_respect_to
986.             filter_args = order_field.get_filter_kwargs_for_object(self)
987.             obj = self.__class__._default_manager.filter(**filter_args).filter(**{
988.                 '_order__%s' % op: self.__class__._default_manager.values('_order').filter(**{
989.                     self._meta.pk.name: self.pk
990.                 })
991.             }).order_by(order)[:1].get()
992.             setattr(self, cachename, obj)
993.         return getattr(self, cachename)
994. 
995.     def prepare_database_save(self, field):
996.         if self.pk is None:
997.             raise ValueError("Unsaved model instance %r cannot be used in an ORM query." % self)
998.         return getattr(self, field.remote_field.get_related_field().attname)
999. 
1000.     def clean(self):
1001.         """
1002.         Hook for doing any extra model-wide validation after clean() has been
1003.         called on every field by self.clean_fields. Any ValidationError raised
1004.         by this method will not be associated with a particular field; it will
1005.         have a special-case association with the field defined by NON_FIELD_ERRORS.
1006.         """
1007.         pass
1008. 
1009.     def validate_unique(self, exclude=None):
1010.         """
1011.         Check unique constraints on the model and raise ValidationError if any
1012.         failed.
1013.         """
1014.         unique_checks, date_checks = self._get_unique_checks(exclude=exclude)
1015. 
1016.         errors = self._perform_unique_checks(unique_checks)
1017.         date_errors = self._perform_date_checks(date_checks)
1018. 
1019.         for k, v in date_errors.items():
1020.             errors.setdefault(k, []).extend(v)
1021. 
1022.         if errors:
1023.             raise ValidationError(errors)
1024. 
1025.     def _get_unique_checks(self, exclude=None):
1026.         """
1027.         Return a list of checks to perform. Since validate_unique() could be
1028.         called from a ModelForm, some fields may have been excluded; we can't
1029.         perform a unique check on a model that is missing fields involved
1030.         in that check. Fields that did not validate should also be excluded,
1031.         but they need to be passed in via the exclude argument.
1032.         """
1033.         if exclude is None:
1034.             exclude = []
1035.         unique_checks = []
1036. 
1037.         unique_togethers = [(self.__class__, self._meta.unique_together)]
1038.         constraints = [(self.__class__, self._meta.total_unique_constraints)]
1039.         for parent_class in self._meta.get_parent_list():
1040.             if parent_class._meta.unique_together:
1041.                 unique_togethers.append((parent_class, parent_class._meta.unique_together))
1042.             if parent_class._meta.total_unique_constraints:
1043.                 constraints.append(
1044.                     (parent_class, parent_class._meta.total_unique_constraints)
1045.                 )
1046. 
1047.         for model_class, unique_together in unique_togethers:
1048.             for check in unique_together:
1049.                 if not any(name in exclude for name in check):
1050.                     # Add the check if the field isn't excluded.
1051.                     unique_checks.append((model_class, tuple(check)))
1052. 
1053.         for model_class, model_constraints in constraints:
1054.             for constraint in model_constraints:
1055.                 if not any(name in exclude for name in constraint.fields):
1056.                     unique_checks.append((model_class, constraint.fields))
1057. 
1058.         # These are checks for the unique_for_<date/year/month>.
1059.         date_checks = []
1060. 
1061.         # Gather a list of checks for fields declared as unique and add them to
1062.         # the list of checks.
1063. 
1064.         fields_with_class = [(self.__class__, self._meta.local_fields)]
1065.         for parent_class in self._meta.get_parent_list():
1066.             fields_with_class.append((parent_class, parent_class._meta.local_fields))
1067. 
1068.         for model_class, fields in fields_with_class:
1069.             for f in fields:
1070.                 name = f.name
1071.                 if name in exclude:
1072.                     continue
1073.                 if f.unique:
1074.                     unique_checks.append((model_class, (name,)))
1075.                 if f.unique_for_date and f.unique_for_date not in exclude:
1076.                     date_checks.append((model_class, 'date', name, f.unique_for_date))
1077.                 if f.unique_for_year and f.unique_for_year not in exclude:
1078.                     date_checks.append((model_class, 'year', name, f.unique_for_year))
1079.                 if f.unique_for_month and f.unique_for_month not in exclude:
1080.                     date_checks.append((model_class, 'month', name, f.unique_for_month))
1081.         return unique_checks, date_checks
1082. 
1083.     def _perform_unique_checks(self, unique_checks):
1084.         errors = {}
1085. 
1086.         for model_class, unique_check in unique_checks:
1087.             # Try to look up an existing object with the same values as this
1088.             # object's values for all the unique field.
1089. 
1090.             lookup_kwargs = {}
1091.             for field_name in unique_check:
1092.                 f = self._meta.get_field(field_name)
1093.                 lookup_value = getattr(self, f.attname)
1094.                 # TODO: Handle multiple backends with different feature flags.
1095.                 if (lookup_value is None or
1096.                         (lookup_value == '' and connection.features.interprets_empty_strings_as_nulls)):
1097.                     # no value, skip the lookup
1098.                     continue
1099.                 if f.primary_key and not self._state.adding:
1100.                     # no need to check for unique primary key when editing
1101.                     continue
1102.                 lookup_kwargs[str(field_name)] = lookup_value
1103. 
1104.             # some fields were skipped, no reason to do the check
1105.             if len(unique_check) != len(lookup_kwargs):
1106.                 continue
1107. 
1108.             qs = model_class._default_manager.filter(**lookup_kwargs)
1109. 
1110.             # Exclude the current object from the query if we are editing an
1111.             # instance (as opposed to creating a new one)
1112.             # Note that we need to use the pk as defined by model_class, not
1113.             # self.pk. These can be different fields because model inheritance
1114.             # allows single model to have effectively multiple primary keys.
1115.             # Refs #17615.
1116.             model_class_pk = self._get_pk_val(model_class._meta)
1117.             if not self._state.adding and model_class_pk is not None:
1118.                 qs = qs.exclude(pk=model_class_pk)
1119.             if qs.exists():
1120.                 if len(unique_check) == 1:
1121.                     key = unique_check[0]
1122.                 else:
1123.                     key = NON_FIELD_ERRORS
1124.                 errors.setdefault(key, []).append(self.unique_error_message(model_class, unique_check))
1125. 
1126.         return errors
1127. 
1128.     def _perform_date_checks(self, date_checks):
1129.         errors = {}
1130.         for model_class, lookup_type, field, unique_for in date_checks:
1131.             lookup_kwargs = {}
1132.             # there's a ticket to add a date lookup, we can remove this special
1133.             # case if that makes it's way in
1134.             date = getattr(self, unique_for)
1135.             if date is None:
1136.                 continue
1137.             if lookup_type == 'date':
1138.                 lookup_kwargs['%s__day' % unique_for] = date.day
1139.                 lookup_kwargs['%s__month' % unique_for] = date.month
1140.                 lookup_kwargs['%s__year' % unique_for] = date.year
1141.             else:
1142.                 lookup_kwargs['%s__%s' % (unique_for, lookup_type)] = getattr(date, lookup_type)
1143.             lookup_kwargs[field] = getattr(self, field)
1144. 
1145.             qs = model_class._default_manager.filter(**lookup_kwargs)
1146.             # Exclude the current object from the query if we are editing an
1147.             # instance (as opposed to creating a new one)
1148.             if not self._state.adding and self.pk is not None:
1149.                 qs = qs.exclude(pk=self.pk)
1150. 
1151.             if qs.exists():
1152.                 errors.setdefault(field, []).append(
1153.                     self.date_error_message(lookup_type, field, unique_for)
1154.                 )
1155.         return errors
1156. 
1157.     def date_error_message(self, lookup_type, field_name, unique_for):
1158.         opts = self._meta
1159.         field = opts.get_field(field_name)
1160.         return ValidationError(
1161.             message=field.error_messages['unique_for_date'],
1162.             code='unique_for_date',
1163.             params={
1164.                 'model': self,
1165.                 'model_name': capfirst(opts.verbose_name),
1166.                 'lookup_type': lookup_type,
1167.                 'field': field_name,
1168.                 'field_label': capfirst(field.verbose_name),
1169.                 'date_field': unique_for,
1170.                 'date_field_label': capfirst(opts.get_field(unique_for).verbose_name),
1171.             }
1172.         )
1173. 
1174.     def unique_error_message(self, model_class, unique_check):
1175.         opts = model_class._meta
1176. 
1177.         params = {
1178.             'model': self,
1179.             'model_class': model_class,
1180.             'model_name': capfirst(opts.verbose_name),
1181.             'unique_check': unique_check,
1182.         }
1183. 
1184.         # A unique field
1185.         if len(unique_check) == 1:
1186.             field = opts.get_field(unique_check[0])
1187.             params['field_label'] = capfirst(field.verbose_name)
1188.             return ValidationError(
1189.                 message=field.error_messages['unique'],
1190.                 code='unique',
1191.                 params=params,
1192.             )
1193. 
1194.         # unique_together
1195.         else:
1196.             field_labels = [capfirst(opts.get_field(f).verbose_name) for f in unique_check]
1197.             params['field_labels'] = get_text_list(field_labels, _('and'))
1198.             return ValidationError(
1199.                 message=_("%(model_name)s with this %(field_labels)s already exists."),
1200.                 code='unique_together',
1201.                 params=params,
1202.             )
1203. 
1204.     def full_clean(self, exclude=None, validate_unique=True):
1205.         """
1206.         Call clean_fields(), clean(), and validate_unique() on the model.
1207.         Raise a ValidationError for any errors that occur.
1208.         """
1209.         errors = {}
1210.         if exclude is None:
1211.             exclude = []
1212.         else:
1213.             exclude = list(exclude)
1214. 
1215.         try:
1216.             self.clean_fields(exclude=exclude)
1217.         except ValidationError as e:
1218.             errors = e.update_error_dict(errors)
1219. 
1220.         # Form.clean() is run even if other validation fails, so do the
1221.         # same with Model.clean() for consistency.
1222.         try:
1223.             self.clean()
1224.         except ValidationError as e:
1225.             errors = e.update_error_dict(errors)
1226. 
1227.         # Run unique checks, but only for fields that passed validation.
1228.         if validate_unique:
1229.             for name in errors:
1230.                 if name != NON_FIELD_ERRORS and name not in exclude:
1231.                     exclude.append(name)
1232.             try:
1233.                 self.validate_unique(exclude=exclude)
1234.             except ValidationError as e:
1235.                 errors = e.update_error_dict(errors)
1236. 
1237.         if errors:
1238.             raise ValidationError(errors)
1239. 
1240.     def clean_fields(self, exclude=None):
1241.         """
1242.         Clean all fields and raise a ValidationError containing a dict
1243.         of all validation errors if any occur.
1244.         """
1245.         if exclude is None:
1246.             exclude = []
1247. 
1248.         errors = {}
1249.         for f in self._meta.fields:
1250.             if f.name in exclude:
1251.                 continue
1252.             # Skip validation for empty fields with blank=True. The developer
1253.             # is responsible for making sure they have a valid value.
1254.             raw_value = getattr(self, f.attname)
1255.             if f.blank and raw_value in f.empty_values:
1256.                 continue
1257.             try:
1258.                 setattr(self, f.attname, f.clean(raw_value, self))
1259.             except ValidationError as e:
1260.                 errors[f.name] = e.error_list
1261. 
1262.         if errors:
1263.             raise ValidationError(errors)
1264. 
1265.     @classmethod
1266.     def check(cls, **kwargs):
1267.         errors = [*cls._check_swappable(), *cls._check_model(), *cls._check_managers(**kwargs)]
1268.         if not cls._meta.swapped:
1269.             databases = kwargs.get('databases') or []
1270.             errors += [
1271.                 *cls._check_fields(**kwargs),
1272.                 *cls._check_m2m_through_same_relationship(),
1273.                 *cls._check_long_column_names(databases),
1274.             ]
1275.             clash_errors = (
1276.                 *cls._check_id_field(),
1277.                 *cls._check_field_name_clashes(),
1278.                 *cls._check_model_name_db_lookup_clashes(),
1279.                 *cls._check_property_name_related_field_accessor_clashes(),
1280.                 *cls._check_single_primary_key(),
1281.             )
1282.             errors.extend(clash_errors)
1283.             # If there are field name clashes, hide consequent column name
1284.             # clashes.
1285.             if not clash_errors:
1286.                 errors.extend(cls._check_column_name_clashes())
1287.             errors += [
1288.                 *cls._check_index_together(),
1289.                 *cls._check_unique_together(),
1290.                 *cls._check_indexes(databases),
1291.                 *cls._check_ordering(),
1292.                 *cls._check_constraints(databases),
1293.                 *cls._check_default_pk(),
1294.             ]
1295. 
1296.         return errors
1297. 
1298.     @classmethod
1299.     def _check_default_pk(cls):
1300.         if (
1301.             cls._meta.pk.auto_created and
1302.             not settings.is_overridden('DEFAULT_AUTO_FIELD') and
1303.             not cls._meta.app_config._is_default_auto_field_overridden
1304.         ):
1305.             return [
1306.                 checks.Warning(
1307.                     f"Auto-created primary key used when not defining a "
1308.                     f"primary key type, by default "
1309.                     f"'{settings.DEFAULT_AUTO_FIELD}'.",
1310.                     hint=(
1311.                         f"Configure the DEFAULT_AUTO_FIELD setting or the "
1312.                         f"{cls._meta.app_config.__class__.__qualname__}."
1313.                         f"default_auto_field attribute to point to a subclass "
1314.                         f"of AutoField, e.g. 'django.db.models.BigAutoField'."
1315.                     ),
1316.                     obj=cls,
1317.                     id='models.W042',
1318.                 ),
1319.             ]
1320.         return []
1321. 
1322.     @classmethod
1323.     def _check_swappable(cls):
1324.         """Check if the swapped model exists."""
1325.         errors = []
1326.         if cls._meta.swapped:
1327.             try:
1328.                 apps.get_model(cls._meta.swapped)
1329.             except ValueError:
1330.                 errors.append(
1331.                     checks.Error(
1332.                         "'%s' is not of the form 'app_label.app_name'." % cls._meta.swappable,
1333.                         id='models.E001',
1334.                     )
1335.                 )
1336.             except LookupError:
1337.                 app_label, model_name = cls._meta.swapped.split('.')
1338.                 errors.append(
1339.                     checks.Error(
1340.                         "'%s' references '%s.%s', which has not been "
1341.                         "installed, or is abstract." % (
1342.                             cls._meta.swappable, app_label, model_name
1343.                         ),
1344.                         id='models.E002',
1345.                     )
1346.                 )
1347.         return errors
1348. 
1349.     @classmethod
1350.     def _check_model(cls):
1351.         errors = []
1352.         if cls._meta.proxy:
1353.             if cls._meta.local_fields or cls._meta.local_many_to_many:
1354.                 errors.append(
1355.                     checks.Error(
1356.                         "Proxy model '%s' contains model fields." % cls.__name__,
1357.                         id='models.E017',
1358.                     )
1359.                 )
1360.         return errors
1361. 
1362.     @classmethod
1363.     def _check_managers(cls, **kwargs):
1364.         """Perform all manager checks."""
1365.         errors = []
1366.         for manager in cls._meta.managers:
1367.             errors.extend(manager.check(**kwargs))
1368.         return errors
1369. 
1370.     @classmethod
1371.     def _check_fields(cls, **kwargs):
1372.         """Perform all field checks."""
1373.         errors = []
1374.         for field in cls._meta.local_fields:
1375.             errors.extend(field.check(**kwargs))
1376.         for field in cls._meta.local_many_to_many:
1377.             errors.extend(field.check(from_model=cls, **kwargs))
1378.         return errors
1379. 
1380.     @classmethod
1381.     def _check_m2m_through_same_relationship(cls):
1382.         """ Check if no relationship model is used by more than one m2m field.
1383.         """
1384. 
1385.         errors = []
1386.         seen_intermediary_signatures = []
1387. 
1388.         fields = cls._meta.local_many_to_many
1389. 
1390.         # Skip when the target model wasn't found.
1391.         fields = (f for f in fields if isinstance(f.remote_field.model, ModelBase))
1392. 
1393.         # Skip when the relationship model wasn't found.
1394.         fields = (f for f in fields if isinstance(f.remote_field.through, ModelBase))
1395. 
1396.         for f in fields:
1397.             signature = (f.remote_field.model, cls, f.remote_field.through, f.remote_field.through_fields)
1398.             if signature in seen_intermediary_signatures:
1399.                 errors.append(
1400.                     checks.Error(
1401.                         "The model has two identical many-to-many relations "
1402.                         "through the intermediate model '%s'." %
1403.                         f.remote_field.through._meta.label,
1404.                         obj=cls,
1405.                         id='models.E003',
1406.                     )
1407.                 )
1408.             else:
1409.                 seen_intermediary_signatures.append(signature)
1410.         return errors
1411. 
1412.     @classmethod
1413.     def _check_id_field(cls):
1414.         """Check if `id` field is a primary key."""
1415.         fields = [f for f in cls._meta.local_fields if f.name == 'id' and f != cls._meta.pk]
1416.         # fields is empty or consists of the invalid "id" field
1417.         if fields and not fields[0].primary_key and cls._meta.pk.name == 'id':
1418.             return [
1419.                 checks.Error(
1420.                     "'id' can only be used as a field name if the field also "
1421.                     "sets 'primary_key=True'.",
1422.                     obj=cls,
1423.                     id='models.E004',
1424.                 )
1425.             ]
1426.         else:
1427.             return []
1428. 
1429.     @classmethod
1430.     def _check_field_name_clashes(cls):
1431.         """Forbid field shadowing in multi-table inheritance."""
1432.         errors = []
1433.         used_fields = {}  # name or attname -> field
1434. 
1435.         # Check that multi-inheritance doesn't cause field name shadowing.
1436.         for parent in cls._meta.get_parent_list():
1437.             for f in parent._meta.local_fields:
1438.                 clash = used_fields.get(f.name) or used_fields.get(f.attname) or None
1439.                 if clash:
1440.                     errors.append(
1441.                         checks.Error(
1442.                             "The field '%s' from parent model "
1443.                             "'%s' clashes with the field '%s' "
1444.                             "from parent model '%s'." % (
1445.                                 clash.name, clash.model._meta,
1446.                                 f.name, f.model._meta
1447.                             ),
1448.                             obj=cls,
1449.                             id='models.E005',
1450.                         )
1451.                     )
1452.                 used_fields[f.name] = f
1453.                 used_fields[f.attname] = f
1454. 
1455.         # Check that fields defined in the model don't clash with fields from
1456.         # parents, including auto-generated fields like multi-table inheritance
1457.         # child accessors.
1458.         for parent in cls._meta.get_parent_list():
1459.             for f in parent._meta.get_fields():
1460.                 if f not in used_fields:
1461.                     used_fields[f.name] = f
1462. 
1463.         for f in cls._meta.local_fields:
1464.             clash = used_fields.get(f.name) or used_fields.get(f.attname) or None
1465.             # Note that we may detect clash between user-defined non-unique
1466.             # field "id" and automatically added unique field "id", both
1467.             # defined at the same model. This special case is considered in
1468.             # _check_id_field and here we ignore it.
1469.             id_conflict = f.name == "id" and clash and clash.name == "id" and clash.model == cls
1470.             if clash and not id_conflict:
1471.                 errors.append(
1472.                     checks.Error(
1473.                         "The field '%s' clashes with the field '%s' "
1474.                         "from model '%s'." % (
1475.                             f.name, clash.name, clash.model._meta
1476.                         ),
1477.                         obj=f,
1478.                         id='models.E006',
1479.                     )
1480.                 )
1481.             used_fields[f.name] = f
1482.             used_fields[f.attname] = f
1483. 
1484.         return errors
1485. 
1486.     @classmethod
1487.     def _check_column_name_clashes(cls):
1488.         # Store a list of column names which have already been used by other fields.
1489.         used_column_names = []
1490.         errors = []
1491. 
1492.         for f in cls._meta.local_fields:
1493.             _, column_name = f.get_attname_column()
1494. 
1495.             # Ensure the column name is not already in use.
1496.             if column_name and column_name in used_column_names:
1497.                 errors.append(
1498.                     checks.Error(
1499.                         "Field '%s' has column name '%s' that is used by "
1500.                         "another field." % (f.name, column_name),
1501.                         hint="Specify a 'db_column' for the field.",
1502.                         obj=cls,
1503.                         id='models.E007'
1504.                     )
1505.                 )
1506.             else:
1507.                 used_column_names.append(column_name)
1508. 
1509.         return errors
1510. 
1511.     @classmethod
1512.     def _check_model_name_db_lookup_clashes(cls):
1513.         errors = []
1514.         model_name = cls.__name__
1515.         if model_name.startswith('_') or model_name.endswith('_'):
1516.             errors.append(
1517.                 checks.Error(
1518.                     "The model name '%s' cannot start or end with an underscore "
1519.                     "as it collides with the query lookup syntax." % model_name,
1520.                     obj=cls,
1521.                     id='models.E023'
1522.                 )
1523.             )
1524.         elif LOOKUP_SEP in model_name:
1525.             errors.append(
1526.                 checks.Error(
1527.                     "The model name '%s' cannot contain double underscores as "
1528.                     "it collides with the query lookup syntax." % model_name,
1529.                     obj=cls,
1530.                     id='models.E024'
1531.                 )
1532.             )
1533.         return errors
1534. 
1535.     @classmethod
1536.     def _check_property_name_related_field_accessor_clashes(cls):
1537.         errors = []
1538.         property_names = cls._meta._property_names
1539.         related_field_accessors = (
1540.             f.get_attname() for f in cls._meta._get_fields(reverse=False)
1541.             if f.is_relation and f.related_model is not None
1542.         )
1543.         for accessor in related_field_accessors:
1544.             if accessor in property_names:
1545.                 errors.append(
1546.                     checks.Error(
1547.                         "The property '%s' clashes with a related field "
1548.                         "accessor." % accessor,
1549.                         obj=cls,
1550.                         id='models.E025',
1551.                     )
1552.                 )
1553.         return errors
1554. 
1555.     @classmethod
1556.     def _check_single_primary_key(cls):
1557.         errors = []
1558.         if sum(1 for f in cls._meta.local_fields if f.primary_key) > 1:
1559.             errors.append(
1560.                 checks.Error(
1561.                     "The model cannot have more than one field with "
1562.                     "'primary_key=True'.",
1563.                     obj=cls,
1564.                     id='models.E026',
1565.                 )
1566.             )
1567.         return errors
1568. 
1569.     @classmethod
1570.     def _check_index_together(cls):
1571.         """Check the value of "index_together" option."""
1572.         if not isinstance(cls._meta.index_together, (tuple, list)):
1573.             return [
1574.                 checks.Error(
1575.                     "'index_together' must be a list or tuple.",
1576.                     obj=cls,
1577.                     id='models.E008',
1578.                 )
1579.             ]
1580. 
1581.         elif any(not isinstance(fields, (tuple, list)) for fields in cls._meta.index_together):
1582.             return [
1583.                 checks.Error(
1584.                     "All 'index_together' elements must be lists or tuples.",
1585.                     obj=cls,
1586.                     id='models.E009',
1587.                 )
1588.             ]
1589. 
1590.         else:
1591.             errors = []
1592.             for fields in cls._meta.index_together:
1593.                 errors.extend(cls._check_local_fields(fields, "index_together"))
1594.             return errors
1595. 
1596.     @classmethod
1597.     def _check_unique_together(cls):
1598.         """Check the value of "unique_together" option."""
1599.         if not isinstance(cls._meta.unique_together, (tuple, list)):
1600.             return [
1601.                 checks.Error(
1602.                     "'unique_together' must be a list or tuple.",
1603.                     obj=cls,
1604.                     id='models.E010',
1605.                 )
1606.             ]
1607. 
1608.         elif any(not isinstance(fields, (tuple, list)) for fields in cls._meta.unique_together):
1609.             return [
1610.                 checks.Error(
1611.                     "All 'unique_together' elements must be lists or tuples.",
1612.                     obj=cls,
1613.                     id='models.E011',
1614.                 )
1615.             ]
1616. 
1617.         else:
1618.             errors = []
1619.             for fields in cls._meta.unique_together:
1620.                 errors.extend(cls._check_local_fields(fields, "unique_together"))
1621.             return errors
1622. 
1623.     @classmethod
1624.     def _check_indexes(cls, databases):
1625.         """Check fields, names, and conditions of indexes."""
1626.         errors = []
1627.         references = set()
1628.         for index in cls._meta.indexes:
1629.             # Index name can't start with an underscore or a number, restricted
1630.             # for cross-database compatibility with Oracle.
1631.             if index.name[0] == '_' or index.name[0].isdigit():
1632.                 errors.append(
1633.                     checks.Error(
1634.                         "The index name '%s' cannot start with an underscore "
1635.                         "or a number." % index.name,
1636.                         obj=cls,
1637.                         id='models.E033',
1638.                     ),
1639.                 )
1640.             if len(index.name) > index.max_name_length:
1641.                 errors.append(
1642.                     checks.Error(
1643.                         "The index name '%s' cannot be longer than %d "
1644.                         "characters." % (index.name, index.max_name_length),
1645.                         obj=cls,
1646.                         id='models.E034',
1647.                     ),
1648.                 )
1649.             if index.contains_expressions:
1650.                 for expression in index.expressions:
1651.                     references.update(
1652.                         ref[0] for ref in cls._get_expr_references(expression)
1653.                     )
1654.         for db in databases:
1655.             if not router.allow_migrate_model(db, cls):
1656.                 continue
1657.             connection = connections[db]
1658.             if not (
1659.                 connection.features.supports_partial_indexes or
1660.                 'supports_partial_indexes' in cls._meta.required_db_features
1661.             ) and any(index.condition is not None for index in cls._meta.indexes):
1662.                 errors.append(
1663.                     checks.Warning(
1664.                         '%s does not support indexes with conditions.'
1665.                         % connection.display_name,
1666.                         hint=(
1667.                             "Conditions will be ignored. Silence this warning "
1668.                             "if you don't care about it."
1669.                         ),
1670.                         obj=cls,
1671.                         id='models.W037',
1672.                     )
1673.                 )
1674.             if not (
1675.                 connection.features.supports_covering_indexes or
1676.                 'supports_covering_indexes' in cls._meta.required_db_features
1677.             ) and any(index.include for index in cls._meta.indexes):
1678.                 errors.append(
1679.                     checks.Warning(
1680.                         '%s does not support indexes with non-key columns.'
1681.                         % connection.display_name,
1682.                         hint=(
1683.                             "Non-key columns will be ignored. Silence this "
1684.                             "warning if you don't care about it."
1685.                         ),
1686.                         obj=cls,
1687.                         id='models.W040',
1688.                     )
1689.                 )
1690.             if not (
1691.                 connection.features.supports_expression_indexes or
1692.                 'supports_expression_indexes' in cls._meta.required_db_features
1693.             ) and any(index.contains_expressions for index in cls._meta.indexes):
1694.                 errors.append(
1695.                     checks.Warning(
1696.                         '%s does not support indexes on expressions.'
1697.                         % connection.display_name,
1698.                         hint=(
1699.                             "An index won't be created. Silence this warning "
1700.                             "if you don't care about it."
1701.                         ),
1702.                         obj=cls,
1703.                         id='models.W043',
1704.                     )
1705.                 )
1706.         fields = [field for index in cls._meta.indexes for field, _ in index.fields_orders]
1707.         fields += [include for index in cls._meta.indexes for include in index.include]
1708.         fields += references
1709.         errors.extend(cls._check_local_fields(fields, 'indexes'))
1710.         return errors
1711. 
1712.     @classmethod
1713.     def _check_local_fields(cls, fields, option):
1714.         from django.db import models
1715. 
1716.         # In order to avoid hitting the relation tree prematurely, we use our
1717.         # own fields_map instead of using get_field()
1718.         forward_fields_map = {}
1719.         for field in cls._meta._get_fields(reverse=False):
1720.             forward_fields_map[field.name] = field
1721.             if hasattr(field, 'attname'):
1722.                 forward_fields_map[field.attname] = field
1723. 
1724.         errors = []
1725.         for field_name in fields:
1726.             try:
1727.                 field = forward_fields_map[field_name]
1728.             except KeyError:
1729.                 errors.append(
1730.                     checks.Error(
1731.                         "'%s' refers to the nonexistent field '%s'." % (
1732.                             option, field_name,
1733.                         ),
1734.                         obj=cls,
1735.                         id='models.E012',
1736.                     )
1737.                 )
1738.             else:
1739.                 if isinstance(field.remote_field, models.ManyToManyRel):
1740.                     errors.append(
1741.                         checks.Error(
1742.                             "'%s' refers to a ManyToManyField '%s', but "
1743.                             "ManyToManyFields are not permitted in '%s'." % (
1744.                                 option, field_name, option,
1745.                             ),
1746.                             obj=cls,
1747.                             id='models.E013',
1748.                         )
1749.                     )
1750.                 elif field not in cls._meta.local_fields:
1751.                     errors.append(
1752.                         checks.Error(
1753.                             "'%s' refers to field '%s' which is not local to model '%s'."
1754.                             % (option, field_name, cls._meta.object_name),
1755.                             hint="This issue may be caused by multi-table inheritance.",
1756.                             obj=cls,
1757.                             id='models.E016',
1758.                         )
1759.                     )
1760.         return errors
1761. 
1762.     @classmethod
1763.     def _check_ordering(cls):
1764.         """
1765.         Check "ordering" option -- is it a list of strings and do all fields
1766.         exist?
1767.         """
1768.         if cls._meta._ordering_clash:
1769.             return [
1770.                 checks.Error(
1771.                     "'ordering' and 'order_with_respect_to' cannot be used together.",
1772.                     obj=cls,
1773.                     id='models.E021',
1774.                 ),
1775.             ]
1776. 
1777.         if cls._meta.order_with_respect_to or not cls._meta.ordering:
1778.             return []
1779. 
1780.         if not isinstance(cls._meta.ordering, (list, tuple)):
1781.             return [
1782.                 checks.Error(
1783.                     "'ordering' must be a tuple or list (even if you want to order by only one field).",
1784.                     obj=cls,
1785.                     id='models.E014',
1786.                 )
1787.             ]
1788. 
1789.         errors = []
1790.         fields = cls._meta.ordering
1791. 
1792.         # Skip expressions and '?' fields.
1793.         fields = (f for f in fields if isinstance(f, str) and f != '?')
1794. 
1795.         # Convert "-field" to "field".
1796.         fields = ((f[1:] if f.startswith('-') else f) for f in fields)
1797. 
1798.         # Separate related fields and non-related fields.
1799.         _fields = []
1800.         related_fields = []
1801.         for f in fields:
1802.             if LOOKUP_SEP in f:
1803.                 related_fields.append(f)
1804.             else:
1805.                 _fields.append(f)
1806.         fields = _fields
1807. 
1808.         # Check related fields.
1809.         for field in related_fields:
1810.             _cls = cls
1811.             fld = None
1812.             for part in field.split(LOOKUP_SEP):
1813.                 try:
1814.                     # pk is an alias that won't be found by opts.get_field.
1815.                     if part == 'pk':
1816.                         fld = _cls._meta.pk
1817.                     else:
1818.                         fld = _cls._meta.get_field(part)
1819.                     if fld.is_relation:
1820.                         _cls = fld.get_path_info()[-1].to_opts.model
1821.                     else:
1822.                         _cls = None
1823.                 except (FieldDoesNotExist, AttributeError):
1824.                     if fld is None or (
1825.                         fld.get_transform(part) is None and fld.get_lookup(part) is None
1826.                     ):
1827.                         errors.append(
1828.                             checks.Error(
1829.                                 "'ordering' refers to the nonexistent field, "
1830.                                 "related field, or lookup '%s'." % field,
1831.                                 obj=cls,
1832.                                 id='models.E015',
1833.                             )
1834.                         )
1835. 
1836.         # Skip ordering on pk. This is always a valid order_by field
1837.         # but is an alias and therefore won't be found by opts.get_field.
1838.         fields = {f for f in fields if f != 'pk'}
1839. 
1840.         # Check for invalid or nonexistent fields in ordering.
1841.         invalid_fields = []
1842. 
1843.         # Any field name that is not present in field_names does not exist.
1844.         # Also, ordering by m2m fields is not allowed.
1845.         opts = cls._meta
1846.         valid_fields = set(chain.from_iterable(
1847.             (f.name, f.attname) if not (f.auto_created and not f.concrete) else (f.field.related_query_name(),)
1848.             for f in chain(opts.fields, opts.related_objects)
1849.         ))
1850. 
1851.         invalid_fields.extend(fields - valid_fields)
1852. 
1853.         for invalid_field in invalid_fields:
1854.             errors.append(
1855.                 checks.Error(
1856.                     "'ordering' refers to the nonexistent field, related "
1857.                     "field, or lookup '%s'." % invalid_field,
1858.                     obj=cls,
1859.                     id='models.E015',
1860.                 )
1861.             )
1862.         return errors
1863. 
1864.     @classmethod
1865.     def _check_long_column_names(cls, databases):
1866.         """
1867.         Check that any auto-generated column names are shorter than the limits
1868.         for each database in which the model will be created.
1869.         """
1870.         if not databases:
1871.             return []
1872.         errors = []
1873.         allowed_len = None
1874.         db_alias = None
1875. 
1876.         # Find the minimum max allowed length among all specified db_aliases.
1877.         for db in databases:
1878.             # skip databases where the model won't be created
1879.             if not router.allow_migrate_model(db, cls):
1880.                 continue
1881.             connection = connections[db]
1882.             max_name_length = connection.ops.max_name_length()
1883.             if max_name_length is None or connection.features.truncates_names:
1884.                 continue
1885.             else:
1886.                 if allowed_len is None:
1887.                     allowed_len = max_name_length
1888.                     db_alias = db
1889.                 elif max_name_length < allowed_len:
1890.                     allowed_len = max_name_length
1891.                     db_alias = db
1892. 
1893.         if allowed_len is None:
1894.             return errors
1895. 
1896.         for f in cls._meta.local_fields:
1897.             _, column_name = f.get_attname_column()
1898. 
1899.             # Check if auto-generated name for the field is too long
1900.             # for the database.
1901.             if f.db_column is None and column_name is not None and len(column_name) > allowed_len:
1902.                 errors.append(
1903.                     checks.Error(
1904.                         'Autogenerated column name too long for field "%s". '
1905.                         'Maximum length is "%s" for database "%s".'
1906.                         % (column_name, allowed_len, db_alias),
1907.                         hint="Set the column name manually using 'db_column'.",
1908.                         obj=cls,
1909.                         id='models.E018',
1910.                     )
1911.                 )
1912. 
1913.         for f in cls._meta.local_many_to_many:
1914.             # Skip nonexistent models.
1915.             if isinstance(f.remote_field.through, str):
1916.                 continue
1917. 
1918.             # Check if auto-generated name for the M2M field is too long
1919.             # for the database.
1920.             for m2m in f.remote_field.through._meta.local_fields:
1921.                 _, rel_name = m2m.get_attname_column()
1922.                 if m2m.db_column is None and rel_name is not None and len(rel_name) > allowed_len:
1923.                     errors.append(
1924.                         checks.Error(
1925.                             'Autogenerated column name too long for M2M field '
1926.                             '"%s". Maximum length is "%s" for database "%s".'
1927.                             % (rel_name, allowed_len, db_alias),
1928.                             hint=(
1929.                                 "Use 'through' to create a separate model for "
1930.                                 "M2M and then set column_name using 'db_column'."
1931.                             ),
1932.                             obj=cls,
1933.                             id='models.E019',
1934.                         )
1935.                     )
1936. 
1937.         return errors
1938. 
1939.     @classmethod
1940.     def _get_expr_references(cls, expr):
1941.         if isinstance(expr, Q):
1942.             for child in expr.children:
1943.                 if isinstance(child, tuple):
1944.                     lookup, value = child
1945.                     yield tuple(lookup.split(LOOKUP_SEP))
1946.                     yield from cls._get_expr_references(value)
1947.                 else:
1948.                     yield from cls._get_expr_references(child)
1949.         elif isinstance(expr, F):
1950.             yield tuple(expr.name.split(LOOKUP_SEP))
1951.         elif hasattr(expr, 'get_source_expressions'):
1952.             for src_expr in expr.get_source_expressions():
1953.                 yield from cls._get_expr_references(src_expr)
1954. 
1955.     @classmethod
1956.     def _check_constraints(cls, databases):
1957.         errors = []
1958.         for db in databases:
1959.             if not router.allow_migrate_model(db, cls):
1960.                 continue
1961.             connection = connections[db]
1962.             if not (
1963.                 connection.features.supports_table_check_constraints or
1964.                 'supports_table_check_constraints' in cls._meta.required_db_features
1965.             ) and any(
1966.                 isinstance(constraint, CheckConstraint)
1967.                 for constraint in cls._meta.constraints
1968.             ):
1969.                 errors.append(
1970.                     checks.Warning(
1971.                         '%s does not support check constraints.' % connection.display_name,
1972.                         hint=(
1973.                             "A constraint won't be created. Silence this "
1974.                             "warning if you don't care about it."
1975.                         ),
1976.                         obj=cls,
1977.                         id='models.W027',
1978.                     )
1979.                 )
1980.             if not (
1981.                 connection.features.supports_partial_indexes or
1982.                 'supports_partial_indexes' in cls._meta.required_db_features
1983.             ) and any(
1984.                 isinstance(constraint, UniqueConstraint) and constraint.condition is not None
1985.                 for constraint in cls._meta.constraints
1986.             ):
1987.                 errors.append(
1988.                     checks.Warning(
1989.                         '%s does not support unique constraints with '
1990.                         'conditions.' % connection.display_name,
1991.                         hint=(
1992.                             "A constraint won't be created. Silence this "
1993.                             "warning if you don't care about it."
1994.                         ),
1995.                         obj=cls,
1996.                         id='models.W036',
1997.                     )
1998.                 )
1999.             if not (
2000.                 connection.features.supports_deferrable_unique_constraints or
2001.                 'supports_deferrable_unique_constraints' in cls._meta.required_db_features
2002.             ) and any(
2003.                 isinstance(constraint, UniqueConstraint) and constraint.deferrable is not None
2004.                 for constraint in cls._meta.constraints
2005.             ):
2006.                 errors.append(
2007.                     checks.Warning(
2008.                         '%s does not support deferrable unique constraints.'
2009.                         % connection.display_name,
2010.                         hint=(
2011.                             "A constraint won't be created. Silence this "
2012.                             "warning if you don't care about it."
2013.                         ),
2014.                         obj=cls,
2015.                         id='models.W038',
2016.                     )
2017.                 )
2018.             if not (
2019.                 connection.features.supports_covering_indexes or
2020.                 'supports_covering_indexes' in cls._meta.required_db_features
2021.             ) and any(
2022.                 isinstance(constraint, UniqueConstraint) and constraint.include
2023.                 for constraint in cls._meta.constraints
2024.             ):
2025.                 errors.append(
2026.                     checks.Warning(
2027.                         '%s does not support unique constraints with non-key '
2028.                         'columns.' % connection.display_name,
2029.                         hint=(
2030.                             "A constraint won't be created. Silence this "
2031.                             "warning if you don't care about it."
2032.                         ),
2033.                         obj=cls,
2034.                         id='models.W039',
2035.                     )
2036.                 )
2037.             fields = set(chain.from_iterable(
2038.                 (*constraint.fields, *constraint.include)
2039.                 for constraint in cls._meta.constraints if isinstance(constraint, UniqueConstraint)
2040.             ))
2041.             references = set()
2042.             for constraint in cls._meta.constraints:
2043.                 if isinstance(constraint, UniqueConstraint):
2044.                     if (
2045.                         connection.features.supports_partial_indexes or
2046.                         'supports_partial_indexes' not in cls._meta.required_db_features
2047.                     ) and isinstance(constraint.condition, Q):
2048.                         references.update(cls._get_expr_references(constraint.condition))
2049.                 elif isinstance(constraint, CheckConstraint):
2050.                     if (
2051.                         connection.features.supports_table_check_constraints or
2052.                         'supports_table_check_constraints' not in cls._meta.required_db_features
2053.                     ) and isinstance(constraint.check, Q):
2054.                         references.update(cls._get_expr_references(constraint.check))
2055.             for field_name, *lookups in references:
2056.                 # pk is an alias that won't be found by opts.get_field.
2057.                 if field_name != 'pk':
2058.                     fields.add(field_name)
2059.                 if not lookups:
2060.                     # If it has no lookups it cannot result in a JOIN.
2061.                     continue
2062.                 try:
2063.                     if field_name == 'pk':
2064.                         field = cls._meta.pk
2065.                     else:
2066.                         field = cls._meta.get_field(field_name)
2067.                     if not field.is_relation or field.many_to_many or field.one_to_many:
2068.                         continue
2069.                 except FieldDoesNotExist:
2070.                     continue
2071.                 # JOIN must happen at the first lookup.
2072.                 first_lookup = lookups[0]
2073.                 if (
2074.                     field.get_transform(first_lookup) is None and
2075.                     field.get_lookup(first_lookup) is None
2076.                 ):
2077.                     errors.append(
2078.                         checks.Error(
2079.                             "'constraints' refers to the joined field '%s'."
2080.                             % LOOKUP_SEP.join([field_name] + lookups),
2081.                             obj=cls,
2082.                             id='models.E041',
2083.                         )
2084.                     )
2085.             errors.extend(cls._check_local_fields(fields, 'constraints'))
2086.         return errors
2087. 
2088. 
2089. ############################################
2090. # HELPER FUNCTIONS (CURRIED MODEL METHODS) #
2091. ############################################
2092. 
2093. # ORDERING METHODS #########################
2094. 
2095. def method_set_order(self, ordered_obj, id_list, using=None):
2096.     if using is None:
2097.         using = DEFAULT_DB_ALIAS
2098.     order_wrt = ordered_obj._meta.order_with_respect_to
2099.     filter_args = order_wrt.get_forward_related_filter(self)
2100.     ordered_obj.objects.db_manager(using).filter(**filter_args).bulk_update([
2101.         ordered_obj(pk=pk, _order=order) for order, pk in enumerate(id_list)
2102.     ], ['_order'])
2103. 
2104. 
2105. def method_get_order(self, ordered_obj):
2106.     order_wrt = ordered_obj._meta.order_with_respect_to
2107.     filter_args = order_wrt.get_forward_related_filter(self)
2108.     pk_name = ordered_obj._meta.pk.name
2109.     return ordered_obj.objects.filter(**filter_args).values_list(pk_name, flat=True)
2110. 
2111. 
2112. def make_foreign_order_accessors(model, related_model):
2113.     setattr(
2114.         related_model,
2115.         'get_%s_order' % model.__name__.lower(),
2116.         partialmethod(method_get_order, model)
2117.     )
2118.     setattr(
2119.         related_model,
2120.         'set_%s_order' % model.__name__.lower(),
2121.         partialmethod(method_set_order, model)
2122.     )
2123. 
2124. ########
2125. # MISC #
2126. ########
2127. 
2128. 
2129. def model_unpickle(model_id):
2130.     """Used to unpickle Model subclasses with deferred fields."""
2131.     if isinstance(model_id, tuple):
2132.         model = apps.get_model(*model_id)
2133.     else:
2134.         # Backwards compat - the model was cached directly in earlier versions.
2135.         model = model_id
2136.     return model.__new__(model)
2137. 
2138. 
2139. model_unpickle.__safe_for_unpickle__ = True


File: django/db/models/options.py
Line number range: 1 - 500
Content:
1. import bisect
2. import copy
3. import inspect
4. from collections import defaultdict
5. 
6. from django.apps import apps
7. from django.conf import settings
8. from django.core.exceptions import FieldDoesNotExist, ImproperlyConfigured
9. from django.db import connections
10. from django.db.models import AutoField, Manager, OrderWrt, UniqueConstraint
11. from django.db.models.query_utils import PathInfo
12. from django.utils.datastructures import ImmutableList, OrderedSet
13. from django.utils.functional import cached_property
14. from django.utils.module_loading import import_string
15. from django.utils.text import camel_case_to_spaces, format_lazy
16. from django.utils.translation import override
17. 
18. PROXY_PARENTS = object()
19. 
20. EMPTY_RELATION_TREE = ()
21. 
22. IMMUTABLE_WARNING = (
23.     "The return type of '%s' should never be mutated. If you want to manipulate this list "
24.     "for your own use, make a copy first."
25. )
26. 
27. DEFAULT_NAMES = (
28.     'verbose_name', 'verbose_name_plural', 'db_table', 'ordering',
29.     'unique_together', 'permissions', 'get_latest_by', 'order_with_respect_to',
30.     'app_label', 'db_tablespace', 'abstract', 'managed', 'proxy', 'swappable',
31.     'auto_created', 'index_together', 'apps', 'default_permissions',
32.     'select_on_save', 'default_related_name', 'required_db_features',
33.     'required_db_vendor', 'base_manager_name', 'default_manager_name',
34.     'indexes', 'constraints',
35. )
36. 
37. 
38. def normalize_together(option_together):
39.     """
40.     option_together can be either a tuple of tuples, or a single
41.     tuple of two strings. Normalize it to a tuple of tuples, so that
42.     calling code can uniformly expect that.
43.     """
44.     try:
45.         if not option_together:
46.             return ()
47.         if not isinstance(option_together, (tuple, list)):
48.             raise TypeError
49.         first_element = option_together[0]
50.         if not isinstance(first_element, (tuple, list)):
51.             option_together = (option_together,)
52.         # Normalize everything to tuples
53.         return tuple(tuple(ot) for ot in option_together)
54.     except TypeError:
55.         # If the value of option_together isn't valid, return it
56.         # verbatim; this will be picked up by the check framework later.
57.         return option_together
58. 
59. 
60. def make_immutable_fields_list(name, data):
61.     return ImmutableList(data, warning=IMMUTABLE_WARNING % name)
62. 
63. 
64. class Options:
65.     FORWARD_PROPERTIES = {
66.         'fields', 'many_to_many', 'concrete_fields', 'local_concrete_fields',
67.         '_forward_fields_map', 'managers', 'managers_map', 'base_manager',
68.         'default_manager',
69.     }
70.     REVERSE_PROPERTIES = {'related_objects', 'fields_map', '_relation_tree'}
71. 
72.     default_apps = apps
73. 
74.     def __init__(self, meta, app_label=None):
75.         self._get_fields_cache = {}
76.         self.local_fields = []
77.         self.local_many_to_many = []
78.         self.private_fields = []
79.         self.local_managers = []
80.         self.base_manager_name = None
81.         self.default_manager_name = None
82.         self.model_name = None
83.         self.verbose_name = None
84.         self.verbose_name_plural = None
85.         self.db_table = ''
86.         self.ordering = []
87.         self._ordering_clash = False
88.         self.indexes = []
89.         self.constraints = []
90.         self.unique_together = []
91.         self.index_together = []
92.         self.select_on_save = False
93.         self.default_permissions = ('add', 'change', 'delete', 'view')
94.         self.permissions = []
95.         self.object_name = None
96.         self.app_label = app_label
97.         self.get_latest_by = None
98.         self.order_with_respect_to = None
99.         self.db_tablespace = settings.DEFAULT_TABLESPACE
100.         self.required_db_features = []
101.         self.required_db_vendor = None
102.         self.meta = meta
103.         self.pk = None
104.         self.auto_field = None
105.         self.abstract = False
106.         self.managed = True
107.         self.proxy = False
108.         # For any class that is a proxy (including automatically created
109.         # classes for deferred object loading), proxy_for_model tells us
110.         # which class this model is proxying. Note that proxy_for_model
111.         # can create a chain of proxy models. For non-proxy models, the
112.         # variable is always None.
113.         self.proxy_for_model = None
114.         # For any non-abstract class, the concrete class is the model
115.         # in the end of the proxy_for_model chain. In particular, for
116.         # concrete models, the concrete_model is always the class itself.
117.         self.concrete_model = None
118.         self.swappable = None
119.         self.parents = {}
120.         self.auto_created = False
121. 
122.         # List of all lookups defined in ForeignKey 'limit_choices_to' options
123.         # from *other* models. Needed for some admin checks. Internal use only.
124.         self.related_fkey_lookups = []
125. 
126.         # A custom app registry to use, if you're making a separate model set.
127.         self.apps = self.default_apps
128. 
129.         self.default_related_name = None
130. 
131.     @property
132.     def label(self):
133.         return '%s.%s' % (self.app_label, self.object_name)
134. 
135.     @property
136.     def label_lower(self):
137.         return '%s.%s' % (self.app_label, self.model_name)
138. 
139.     @property
140.     def app_config(self):
141.         # Don't go through get_app_config to avoid triggering imports.
142.         return self.apps.app_configs.get(self.app_label)
143. 
144.     @property
145.     def installed(self):
146.         return self.app_config is not None
147. 
148.     def contribute_to_class(self, cls, name):
149.         from django.db import connection
150.         from django.db.backends.utils import truncate_name
151. 
152.         cls._meta = self
153.         self.model = cls
154.         # First, construct the default values for these options.
155.         self.object_name = cls.__name__
156.         self.model_name = self.object_name.lower()
157.         self.verbose_name = camel_case_to_spaces(self.object_name)
158. 
159.         # Store the original user-defined values for each option,
160.         # for use when serializing the model definition
161.         self.original_attrs = {}
162. 
163.         # Next, apply any overridden values from 'class Meta'.
164.         if self.meta:
165.             meta_attrs = self.meta.__dict__.copy()
166.             for name in self.meta.__dict__:
167.                 # Ignore any private attributes that Django doesn't care about.
168.                 # NOTE: We can't modify a dictionary's contents while looping
169.                 # over it, so we loop over the *original* dictionary instead.
170.                 if name.startswith('_'):
171.                     del meta_attrs[name]
172.             for attr_name in DEFAULT_NAMES:
173.                 if attr_name in meta_attrs:
174.                     setattr(self, attr_name, meta_attrs.pop(attr_name))
175.                     self.original_attrs[attr_name] = getattr(self, attr_name)
176.                 elif hasattr(self.meta, attr_name):
177.                     setattr(self, attr_name, getattr(self.meta, attr_name))
178.                     self.original_attrs[attr_name] = getattr(self, attr_name)
179. 
180.             self.unique_together = normalize_together(self.unique_together)
181.             self.index_together = normalize_together(self.index_together)
182.             # App label/class name interpolation for names of constraints and
183.             # indexes.
184.             if not getattr(cls._meta, 'abstract', False):
185.                 for attr_name in {'constraints', 'indexes'}:
186.                     objs = getattr(self, attr_name, [])
187.                     setattr(self, attr_name, self._format_names_with_class(cls, objs))
188. 
189.             # verbose_name_plural is a special case because it uses a 's'
190.             # by default.
191.             if self.verbose_name_plural is None:
192.                 self.verbose_name_plural = format_lazy('{}s', self.verbose_name)
193. 
194.             # order_with_respect_and ordering are mutually exclusive.
195.             self._ordering_clash = bool(self.ordering and self.order_with_respect_to)
196. 
197.             # Any leftover attributes must be invalid.
198.             if meta_attrs != {}:
199.                 raise TypeError("'class Meta' got invalid attribute(s): %s" % ','.join(meta_attrs))
200.         else:
201.             self.verbose_name_plural = format_lazy('{}s', self.verbose_name)
202.         del self.meta
203. 
204.         # If the db_table wasn't provided, use the app_label + model_name.
205.         if not self.db_table:
206.             self.db_table = "%s_%s" % (self.app_label, self.model_name)
207.             self.db_table = truncate_name(self.db_table, connection.ops.max_name_length())
208. 
209.     def _format_names_with_class(self, cls, objs):
210.         """App label/class name interpolation for object names."""
211.         new_objs = []
212.         for obj in objs:
213.             obj = obj.clone()
214.             obj.name = obj.name % {
215.                 'app_label': cls._meta.app_label.lower(),
216.                 'class': cls.__name__.lower(),
217.             }
218.             new_objs.append(obj)
219.         return new_objs
220. 
221.     def _get_default_pk_class(self):
222.         pk_class_path = getattr(
223.             self.app_config,
224.             'default_auto_field',
225.             settings.DEFAULT_AUTO_FIELD,
226.         )
227.         if self.app_config and self.app_config._is_default_auto_field_overridden:
228.             app_config_class = type(self.app_config)
229.             source = (
230.                 f'{app_config_class.__module__}.'
231.                 f'{app_config_class.__qualname__}.default_auto_field'
232.             )
233.         else:
234.             source = 'DEFAULT_AUTO_FIELD'
235.         if not pk_class_path:
236.             raise ImproperlyConfigured(f'{source} must not be empty.')
237.         try:
238.             pk_class = import_string(pk_class_path)
239.         except ImportError as e:
240.             msg = (
241.                 f"{source} refers to the module '{pk_class_path}' that could "
242.                 f"not be imported."
243.             )
244.             raise ImproperlyConfigured(msg) from e
245.         if not issubclass(pk_class, AutoField):
246.             raise ValueError(
247.                 f"Primary key '{pk_class_path}' referred by {source} must "
248.                 f"subclass AutoField."
249.             )
250.         return pk_class
251. 
252.     def _prepare(self, model):
253.         if self.order_with_respect_to:
254.             # The app registry will not be ready at this point, so we cannot
255.             # use get_field().
256.             query = self.order_with_respect_to
257.             try:
258.                 self.order_with_respect_to = next(
259.                     f for f in self._get_fields(reverse=False)
260.                     if f.name == query or f.attname == query
261.                 )
262.             except StopIteration:
263.                 raise FieldDoesNotExist("%s has no field named '%s'" % (self.object_name, query))
264. 
265.             self.ordering = ('_order',)
266.             if not any(isinstance(field, OrderWrt) for field in model._meta.local_fields):
267.                 model.add_to_class('_order', OrderWrt())
268.         else:
269.             self.order_with_respect_to = None
270. 
271.         if self.pk is None:
272.             if self.parents:
273.                 # Promote the first parent link in lieu of adding yet another
274.                 # field.
275.                 field = next(iter(self.parents.values()))
276.                 # Look for a local field with the same name as the
277.                 # first parent link. If a local field has already been
278.                 # created, use it instead of promoting the parent
279.                 already_created = [fld for fld in self.local_fields if fld.name == field.name]
280.                 if already_created:
281.                     field = already_created[0]
282.                 field.primary_key = True
283.                 self.setup_pk(field)
284.             else:
285.                 pk_class = self._get_default_pk_class()
286.                 auto = pk_class(verbose_name='ID', primary_key=True, auto_created=True)
287.                 model.add_to_class('id', auto)
288. 
289.     def add_manager(self, manager):
290.         self.local_managers.append(manager)
291.         self._expire_cache()
292. 
293.     def add_field(self, field, private=False):
294.         # Insert the given field in the order in which it was created, using
295.         # the "creation_counter" attribute of the field.
296.         # Move many-to-many related fields from self.fields into
297.         # self.many_to_many.
298.         if private:
299.             self.private_fields.append(field)
300.         elif field.is_relation and field.many_to_many:
301.             bisect.insort(self.local_many_to_many, field)
302.         else:
303.             bisect.insort(self.local_fields, field)
304.             self.setup_pk(field)
305. 
306.         # If the field being added is a relation to another known field,
307.         # expire the cache on this field and the forward cache on the field
308.         # being referenced, because there will be new relationships in the
309.         # cache. Otherwise, expire the cache of references *to* this field.
310.         # The mechanism for getting at the related model is slightly odd -
311.         # ideally, we'd just ask for field.related_model. However, related_model
312.         # is a cached property, and all the models haven't been loaded yet, so
313.         # we need to make sure we don't cache a string reference.
314.         if field.is_relation and hasattr(field.remote_field, 'model') and field.remote_field.model:
315.             try:
316.                 field.remote_field.model._meta._expire_cache(forward=False)
317.             except AttributeError:
318.                 pass
319.             self._expire_cache()
320.         else:
321.             self._expire_cache(reverse=False)
322. 
323.     def setup_pk(self, field):
324.         if not self.pk and field.primary_key:
325.             self.pk = field
326.             field.serialize = False
327. 
328.     def setup_proxy(self, target):
329.         """
330.         Do the internal setup so that the current model is a proxy for
331.         "target".
332.         """
333.         self.pk = target._meta.pk
334.         self.proxy_for_model = target
335.         self.db_table = target._meta.db_table
336. 
337.     def __repr__(self):
338.         return '<Options for %s>' % self.object_name
339. 
340.     def __str__(self):
341.         return self.label_lower
342. 
343.     def can_migrate(self, connection):
344.         """
345.         Return True if the model can/should be migrated on the `connection`.
346.         `connection` can be either a real connection or a connection alias.
347.         """
348.         if self.proxy or self.swapped or not self.managed:
349.             return False
350.         if isinstance(connection, str):
351.             connection = connections[connection]
352.         if self.required_db_vendor:
353.             return self.required_db_vendor == connection.vendor
354.         if self.required_db_features:
355.             return all(getattr(connection.features, feat, False)
356.                        for feat in self.required_db_features)
357.         return True
358. 
359.     @property
360.     def verbose_name_raw(self):
361.         """Return the untranslated verbose name."""
362.         with override(None):
363.             return str(self.verbose_name)
364. 
365.     @property
366.     def swapped(self):
367.         """
368.         Has this model been swapped out for another? If so, return the model
369.         name of the replacement; otherwise, return None.
370. 
371.         For historical reasons, model name lookups using get_model() are
372.         case insensitive, so we make sure we are case insensitive here.
373.         """
374.         if self.swappable:
375.             swapped_for = getattr(settings, self.swappable, None)
376.             if swapped_for:
377.                 try:
378.                     swapped_label, swapped_object = swapped_for.split('.')
379.                 except ValueError:
380.                     # setting not in the format app_label.model_name
381.                     # raising ImproperlyConfigured here causes problems with
382.                     # test cleanup code - instead it is raised in get_user_model
383.                     # or as part of validation.
384.                     return swapped_for
385. 
386.                 if '%s.%s' % (swapped_label, swapped_object.lower()) != self.label_lower:
387.                     return swapped_for
388.         return None
389. 
390.     @cached_property
391.     def managers(self):
392.         managers = []
393.         seen_managers = set()
394.         bases = (b for b in self.model.mro() if hasattr(b, '_meta'))
395.         for depth, base in enumerate(bases):
396.             for manager in base._meta.local_managers:
397.                 if manager.name in seen_managers:
398.                     continue
399. 
400.                 manager = copy.copy(manager)
401.                 manager.model = self.model
402.                 seen_managers.add(manager.name)
403.                 managers.append((depth, manager.creation_counter, manager))
404. 
405.         return make_immutable_fields_list(
406.             "managers",
407.             (m[2] for m in sorted(managers)),
408.         )
409. 
410.     @cached_property
411.     def managers_map(self):
412.         return {manager.name: manager for manager in self.managers}
413. 
414.     @cached_property
415.     def base_manager(self):
416.         base_manager_name = self.base_manager_name
417.         if not base_manager_name:
418.             # Get the first parent's base_manager_name if there's one.
419.             for parent in self.model.mro()[1:]:
420.                 if hasattr(parent, '_meta'):
421.                     if parent._base_manager.name != '_base_manager':
422.                         base_manager_name = parent._base_manager.name
423.                     break
424. 
425.         if base_manager_name:
426.             try:
427.                 return self.managers_map[base_manager_name]
428.             except KeyError:
429.                 raise ValueError(
430.                     "%s has no manager named %r" % (
431.                         self.object_name,
432.                         base_manager_name,
433.                     )
434.                 )
435. 
436.         manager = Manager()
437.         manager.name = '_base_manager'
438.         manager.model = self.model
439.         manager.auto_created = True
440.         return manager
441. 
442.     @cached_property
443.     def default_manager(self):
444.         default_manager_name = self.default_manager_name
445.         if not default_manager_name and not self.local_managers:
446.             # Get the first parent's default_manager_name if there's one.
447.             for parent in self.model.mro()[1:]:
448.                 if hasattr(parent, '_meta'):
449.                     default_manager_name = parent._meta.default_manager_name
450.                     break
451. 
452.         if default_manager_name:
453.             try:
454.                 return self.managers_map[default_manager_name]
455.             except KeyError:
456.                 raise ValueError(
457.                     "%s has no manager named %r" % (
458.                         self.object_name,
459.                         default_manager_name,
460.                     )
461.                 )
462. 
463.         if self.managers:
464.             return self.managers[0]
465. 
466.     @cached_property
467.     def fields(self):
468.         """
469.         Return a list of all forward fields on the model and its parents,
470.         excluding ManyToManyFields.
471. 
472.         Private API intended only to be used by Django itself; get_fields()
473.         combined with filtering of field properties is the public API for
474.         obtaining this field list.
475.         """
476.         # For legacy reasons, the fields property should only contain forward
477.         # fields that are not private or with a m2m cardinality. Therefore we
478.         # pass these three filters as filters to the generator.
479.         # The third lambda is a longwinded way of checking f.related_model - we don't
480.         # use that property directly because related_model is a cached property,
481.         # and all the models may not have been loaded yet; we don't want to cache
482.         # the string reference to the related_model.
483.         def is_not_an_m2m_field(f):
484.             return not (f.is_relation and f.many_to_many)
485. 
486.         def is_not_a_generic_relation(f):
487.             return not (f.is_relation and f.one_to_many)
488. 
489.         def is_not_a_generic_foreign_key(f):
490.             return not (
491.                 f.is_relation and f.many_to_one and not (hasattr(f.remote_field, 'model') and f.remote_field.model)
492.             )
493. 
494.         return make_immutable_fields_list(
495.             "fields",
496.             (f for f in self._get_fields(reverse=False)
497.              if is_not_an_m2m_field(f) and is_not_a_generic_relation(f) and is_not_a_generic_foreign_key(f))
498.         )
499. 
500.     @cached_property

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-21 02:34:38,695 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The patch addresses a warning about auto-created primary keys by checking if the primary key is an `AutoField`. In multi-table inheritance, the primary key is a `OneToOneField`. To verify the patch's logic, I need to confirm that `OneToOneField` does not inherit from `AutoField`. This requires examining their class definitions, which are located in `django/db/models/fields/related.py` and `django/db/models/fields/__init__.py`." query='Please provide the full content of `django/db/models/fields/related.py` and `django/db/models/fields/__init__.py`.' extra_requirements='If sending the full files is not possible, please provide the class definitions for `OneToOneField` and `AutoField`, including their inheritance hierarchy.' purpose='I need to verify the class relationship between `OneToOneField` and `AutoField` to confirm the correctness of the proposed patch for the `models.W042` warning.'
2025-12-21 02:34:38,696 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `django/db/models/fields/related.py` and `django/db/models/fields/__init__.py`.
2025-12-21 02:34:38,696 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-21 02:34:38,697 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-21 02:34:38,697 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-21 02:34:38,697 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `django/db/models/fields/related.py` and `django/db/models/fields/__init__.py`.
Extra requirements: If sending the full files is not possible, please provide the class definitions for `OneToOneField` and `AutoField`, including their inheritance hierarchy.
Purpose: I need to verify the class relationship between `OneToOneField` and `AutoField` to confirm the correctness of the proposed patch for the `models.W042` warning.
2025-12-21 02:34:41,805 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I will first attempt to retrieve the entire content of both `django/db/models/fields/related.py` and `django/db/models/fields/__init__.py` as you requested. If the files are too large to be returned in full, I will then specifically search for the class definitions of `OneToOneField` and `AutoField` and their inheritance structures to satisfy your request.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "django/db/models/fields/__init__.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2163, 'candidates_token_count': 132, 'total_token_count': 2453, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2163}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 132}], 'thoughts_token_count': 158, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.09535210060350822, 'model_name': 'gemini-2.5-pro'} id='run--1d3a92a0-6582-414a-95af-39003e62ad0c-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'django/db/models/fields/related.py'}, 'id': '90b72ddb-f162-410e-b809-17ce5614c994', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'django/db/models/fields/__init__.py'}, 'id': '43a234c0-14c3-4bdd-a6e2-832aae3987e6', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2163, 'output_tokens': 132, 'total_tokens': 2453, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 158}}
2025-12-21 02:34:47,609 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I was able to retrieve the first 500 lines of both `django/db/models/fields/related.py` and `django/db/models/fields/__init__.py`. Since the complete files were not returned, I will now proceed to locate the specific class definitions for `OneToOneField` and `AutoField` within these files to determine their inheritance relationship as you requested.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_type_in_file_with_relative_path', 'arguments': '{"type": "class_definition", "relative_path": "django/db/models/fields/__init__.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 16950, 'candidates_token_count': 155, 'total_token_count': 17497, 'cached_content_token_count': 1893, 'prompt_tokens_details': [{'modality': 1, 'token_count': 16950}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1893}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 155}], 'thoughts_token_count': 392}, 'finish_reason': 'STOP', 'avg_logprobs': -0.16905438823084679, 'model_name': 'gemini-2.5-pro'} id='run--be2d4cdb-737e-495c-b490-48a958aef5eb-0' tool_calls=[{'name': 'find_ast_node_with_type_in_file_with_relative_path', 'args': {'type': 'class_definition', 'relative_path': 'django/db/models/fields/related.py'}, 'id': '50f9167a-cf2e-44ba-a8da-f2e611608515', 'type': 'tool_call'}, {'name': 'find_ast_node_with_type_in_file_with_relative_path', 'args': {'type': 'class_definition', 'relative_path': 'django/db/models/fields/__init__.py'}, 'id': '60c9912a-6d0f-4f7f-aef4-ae8d96ed66e5', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16950, 'output_tokens': 155, 'total_tokens': 17497, 'input_token_details': {'cache_read': 1893}, 'output_token_details': {'reasoning': 392}}
2025-12-21 02:34:51,228 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully located the class definitions for `OneToOneField` and `AutoField` and their parent classes. `OneToOneField` inherits from `ForeignKey`, which in turn inherits from `ForeignObject`, then `RelatedField`, and finally `Field`. `AutoField` inherits from `Field`. This confirms that `OneToOneField` is not a subclass of `AutoField`.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": "class AutoField", "relative_path": "django/db/models/fields/__init__.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 35867, 'candidates_token_count': 112, 'total_token_count': 36179, 'cached_content_token_count': 15373, 'prompt_tokens_details': [{'modality': 1, 'token_count': 35867}], 'cache_tokens_details': [{'modality': 1, 'token_count': 15373}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 112}], 'thoughts_token_count': 200}, 'finish_reason': 'STOP', 'avg_logprobs': -0.15525221824645996, 'model_name': 'gemini-2.5-pro'} id='run--632e4608-106a-4324-b593-a02baa20e2b5-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': 'class AutoField', 'relative_path': 'django/db/models/fields/__init__.py'}, 'id': 'c65425c3-31a4-4ce2-9681-e6bee35f3f7b', 'type': 'tool_call'}] usage_metadata={'input_tokens': 35867, 'output_tokens': 112, 'total_tokens': 36179, 'input_token_details': {'cache_read': 15373}, 'output_token_details': {'reasoning': 200}}
2025-12-21 02:34:54,991 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the class definitions for `OneToOneField` from `django/db/models/fields/related.py` and `AutoField` from `django/db/models/fields/__init__.py`. My investigation confirms that `OneToOneField` inherits from `ForeignKey`, while `AutoField` inherits from `AutoFieldMixin` and `IntegerField`. This hierarchical difference confirms that `OneToOneField` is not a subclass of `AutoField`, which should help you verify the correctness of your proposed patch.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 37053, 'candidates_token_count': 103, 'total_token_count': 37365, 'cached_content_token_count': 34553, 'prompt_tokens_details': [{'modality': 1, 'token_count': 37053}], 'cache_tokens_details': [{'modality': 1, 'token_count': 34553}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 103}], 'thoughts_token_count': 209}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1808839260953144, 'model_name': 'gemini-2.5-pro'} id='run--98b483ac-a993-43c1-be7c-b2e847990a6b-0' usage_metadata={'input_tokens': 37053, 'output_tokens': 103, 'total_tokens': 37365, 'input_token_details': {'cache_read': 34553}, 'output_token_details': {'reasoning': 209}}
2025-12-21 02:34:54,994 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `django/db/models/fields/related.py` and `django/db/models/fields/__init__.py`.
--- END QUERY ---

--- BEGIN EXTRA REQUIREMENTS ---
If sending the full files is not possible, please provide the class definitions for `OneToOneField` and `AutoField`, including their inheritance hierarchy.
--- END EXTRA REQUIREMENTS ---

--- BEGIN PURPOSE ---
I need to verify the class relationship between `OneToOneField` and `AutoField` to confirm the correctness of the proposed patch for the `models.W042` warning.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: django/db/models/fields/__init__.py
Line number range: 1 - 500
Content:
1. import collections.abc
2. import copy
3. import datetime
4. import decimal
5. import operator
6. import uuid
7. import warnings
8. from base64 import b64decode, b64encode
9. from functools import partialmethod, total_ordering
10. 
11. from django import forms
12. from django.apps import apps
13. from django.conf import settings
14. from django.core import checks, exceptions, validators
15. from django.db import connection, connections, router
16. from django.db.models.constants import LOOKUP_SEP
17. from django.db.models.query_utils import DeferredAttribute, RegisterLookupMixin
18. from django.utils import timezone
19. from django.utils.datastructures import DictWrapper
20. from django.utils.dateparse import (
21.     parse_date, parse_datetime, parse_duration, parse_time,
22. )
23. from django.utils.duration import duration_microseconds, duration_string
24. from django.utils.functional import Promise, cached_property
25. from django.utils.ipv6 import clean_ipv6_address
26. from django.utils.itercompat import is_iterable
27. from django.utils.text import capfirst
28. from django.utils.translation import gettext_lazy as _
29. 
30. __all__ = [
31.     'AutoField', 'BLANK_CHOICE_DASH', 'BigAutoField', 'BigIntegerField',
32.     'BinaryField', 'BooleanField', 'CharField', 'CommaSeparatedIntegerField',
33.     'DateField', 'DateTimeField', 'DecimalField', 'DurationField',
34.     'EmailField', 'Empty', 'Field', 'FilePathField', 'FloatField',
35.     'GenericIPAddressField', 'IPAddressField', 'IntegerField', 'NOT_PROVIDED',
36.     'NullBooleanField', 'PositiveBigIntegerField', 'PositiveIntegerField',
37.     'PositiveSmallIntegerField', 'SlugField', 'SmallAutoField',
38.     'SmallIntegerField', 'TextField', 'TimeField', 'URLField', 'UUIDField',
39. ]
40. 
41. 
42. class Empty:
43.     pass
44. 
45. 
46. class NOT_PROVIDED:
47.     pass
48. 
49. 
50. # The values to use for "blank" in SelectFields. Will be appended to the start
51. # of most "choices" lists.
52. BLANK_CHOICE_DASH = [("", "---------")]
53. 
54. 
55. def _load_field(app_label, model_name, field_name):
56.     return apps.get_model(app_label, model_name)._meta.get_field(field_name)
57. 
58. 
59. # A guide to Field parameters:
60. #
61. #   * name:      The name of the field specified in the model.
62. #   * attname:   The attribute to use on the model object. This is the same as
63. #                "name", except in the case of ForeignKeys, where "_id" is
64. #                appended.
65. #   * db_column: The db_column specified in the model (or None).
66. #   * column:    The database column for this field. This is the same as
67. #                "attname", except if db_column is specified.
68. #
69. # Code that introspects values, or does other dynamic things, should use
70. # attname. For example, this gets the primary key value of object "obj":
71. #
72. #     getattr(obj, opts.pk.attname)
73. 
74. def _empty(of_cls):
75.     new = Empty()
76.     new.__class__ = of_cls
77.     return new
78. 
79. 
80. def return_None():
81.     return None
82. 
83. 
84. @total_ordering
85. class Field(RegisterLookupMixin):
86.     """Base class for all field types"""
87. 
88.     # Designates whether empty strings fundamentally are allowed at the
89.     # database level.
90.     empty_strings_allowed = True
91.     empty_values = list(validators.EMPTY_VALUES)
92. 
93.     # These track each time a Field instance is created. Used to retain order.
94.     # The auto_creation_counter is used for fields that Django implicitly
95.     # creates, creation_counter is used for all user-specified fields.
96.     creation_counter = 0
97.     auto_creation_counter = -1
98.     default_validators = []  # Default set of validators
99.     default_error_messages = {
100.         'invalid_choice': _('Value %(value)r is not a valid choice.'),
101.         'null': _('This field cannot be null.'),
102.         'blank': _('This field cannot be blank.'),
103.         'unique': _('%(model_name)s with this %(field_label)s '
104.                     'already exists.'),
105.         # Translators: The 'lookup_type' is one of 'date', 'year' or 'month'.
106.         # Eg: "Title must be unique for pub_date year"
107.         'unique_for_date': _("%(field_label)s must be unique for "
108.                              "%(date_field_label)s %(lookup_type)s."),
109.     }
110.     system_check_deprecated_details = None
111.     system_check_removed_details = None
112. 
113.     # Field flags
114.     hidden = False
115. 
116.     many_to_many = None
117.     many_to_one = None
118.     one_to_many = None
119.     one_to_one = None
120.     related_model = None
121. 
122.     descriptor_class = DeferredAttribute
123. 
124.     # Generic field type description, usually overridden by subclasses
125.     def _description(self):
126.         return _('Field of type: %(field_type)s') % {
127.             'field_type': self.__class__.__name__
128.         }
129.     description = property(_description)
130. 
131.     def __init__(self, verbose_name=None, name=None, primary_key=False,
132.                  max_length=None, unique=False, blank=False, null=False,
133.                  db_index=False, rel=None, default=NOT_PROVIDED, editable=True,
134.                  serialize=True, unique_for_date=None, unique_for_month=None,
135.                  unique_for_year=None, choices=None, help_text='', db_column=None,
136.                  db_tablespace=None, auto_created=False, validators=(),
137.                  error_messages=None):
138.         self.name = name
139.         self.verbose_name = verbose_name  # May be set by set_attributes_from_name
140.         self._verbose_name = verbose_name  # Store original for deconstruction
141.         self.primary_key = primary_key
142.         self.max_length, self._unique = max_length, unique
143.         self.blank, self.null = blank, null
144.         self.remote_field = rel
145.         self.is_relation = self.remote_field is not None
146.         self.default = default
147.         self.editable = editable
148.         self.serialize = serialize
149.         self.unique_for_date = unique_for_date
150.         self.unique_for_month = unique_for_month
151.         self.unique_for_year = unique_for_year
152.         if isinstance(choices, collections.abc.Iterator):
153.             choices = list(choices)
154.         self.choices = choices
155.         self.help_text = help_text
156.         self.db_index = db_index
157.         self.db_column = db_column
158.         self._db_tablespace = db_tablespace
159.         self.auto_created = auto_created
160. 
161.         # Adjust the appropriate creation counter, and save our local copy.
162.         if auto_created:
163.             self.creation_counter = Field.auto_creation_counter
164.             Field.auto_creation_counter -= 1
165.         else:
166.             self.creation_counter = Field.creation_counter
167.             Field.creation_counter += 1
168. 
169.         self._validators = list(validators)  # Store for deconstruction later
170. 
171.         messages = {}
172.         for c in reversed(self.__class__.__mro__):
173.             messages.update(getattr(c, 'default_error_messages', {}))
174.         messages.update(error_messages or {})
175.         self._error_messages = error_messages  # Store for deconstruction later
176.         self.error_messages = messages
177. 
178.     def __str__(self):
179.         """
180.         Return "app_label.model_label.field_name" for fields attached to
181.         models.
182.         """
183.         if not hasattr(self, 'model'):
184.             return super().__str__()
185.         model = self.model
186.         return '%s.%s' % (model._meta.label, self.name)
187. 
188.     def __repr__(self):
189.         """Display the module, class, and name of the field."""
190.         path = '%s.%s' % (self.__class__.__module__, self.__class__.__qualname__)
191.         name = getattr(self, 'name', None)
192.         if name is not None:
193.             return '<%s: %s>' % (path, name)
194.         return '<%s>' % path
195. 
196.     def check(self, **kwargs):
197.         return [
198.             *self._check_field_name(),
199.             *self._check_choices(),
200.             *self._check_db_index(),
201.             *self._check_null_allowed_for_primary_keys(),
202.             *self._check_backend_specific_checks(**kwargs),
203.             *self._check_validators(),
204.             *self._check_deprecation_details(),
205.         ]
206. 
207.     def _check_field_name(self):
208.         """
209.         Check if field name is valid, i.e. 1) does not end with an
210.         underscore, 2) does not contain "__" and 3) is not "pk".
211.         """
212.         if self.name.endswith('_'):
213.             return [
214.                 checks.Error(
215.                     'Field names must not end with an underscore.',
216.                     obj=self,
217.                     id='fields.E001',
218.                 )
219.             ]
220.         elif LOOKUP_SEP in self.name:
221.             return [
222.                 checks.Error(
223.                     'Field names must not contain "%s".' % LOOKUP_SEP,
224.                     obj=self,
225.                     id='fields.E002',
226.                 )
227.             ]
228.         elif self.name == 'pk':
229.             return [
230.                 checks.Error(
231.                     "'pk' is a reserved word that cannot be used as a field name.",
232.                     obj=self,
233.                     id='fields.E003',
234.                 )
235.             ]
236.         else:
237.             return []
238. 
239.     @classmethod
240.     def _choices_is_value(cls, value):
241.         return isinstance(value, (str, Promise)) or not is_iterable(value)
242. 
243.     def _check_choices(self):
244.         if not self.choices:
245.             return []
246. 
247.         if not is_iterable(self.choices) or isinstance(self.choices, str):
248.             return [
249.                 checks.Error(
250.                     "'choices' must be an iterable (e.g., a list or tuple).",
251.                     obj=self,
252.                     id='fields.E004',
253.                 )
254.             ]
255. 
256.         choice_max_length = 0
257.         # Expect [group_name, [value, display]]
258.         for choices_group in self.choices:
259.             try:
260.                 group_name, group_choices = choices_group
261.             except (TypeError, ValueError):
262.                 # Containing non-pairs
263.                 break
264.             try:
265.                 if not all(
266.                     self._choices_is_value(value) and self._choices_is_value(human_name)
267.                     for value, human_name in group_choices
268.                 ):
269.                     break
270.                 if self.max_length is not None and group_choices:
271.                     choice_max_length = max([
272.                         choice_max_length,
273.                         *(len(value) for value, _ in group_choices if isinstance(value, str)),
274.                     ])
275.             except (TypeError, ValueError):
276.                 # No groups, choices in the form [value, display]
277.                 value, human_name = group_name, group_choices
278.                 if not self._choices_is_value(value) or not self._choices_is_value(human_name):
279.                     break
280.                 if self.max_length is not None and isinstance(value, str):
281.                     choice_max_length = max(choice_max_length, len(value))
282. 
283.             # Special case: choices=['ab']
284.             if isinstance(choices_group, str):
285.                 break
286.         else:
287.             if self.max_length is not None and choice_max_length > self.max_length:
288.                 return [
289.                     checks.Error(
290.                         "'max_length' is too small to fit the longest value "
291.                         "in 'choices' (%d characters)." % choice_max_length,
292.                         obj=self,
293.                         id='fields.E009',
294.                     ),
295.                 ]
296.             return []
297. 
298.         return [
299.             checks.Error(
300.                 "'choices' must be an iterable containing "
301.                 "(actual value, human readable name) tuples.",
302.                 obj=self,
303.                 id='fields.E005',
304.             )
305.         ]
306. 
307.     def _check_db_index(self):
308.         if self.db_index not in (None, True, False):
309.             return [
310.                 checks.Error(
311.                     "'db_index' must be None, True or False.",
312.                     obj=self,
313.                     id='fields.E006',
314.                 )
315.             ]
316.         else:
317.             return []
318. 
319.     def _check_null_allowed_for_primary_keys(self):
320.         if (self.primary_key and self.null and
321.                 not connection.features.interprets_empty_strings_as_nulls):
322.             # We cannot reliably check this for backends like Oracle which
323.             # consider NULL and '' to be equal (and thus set up
324.             # character-based fields a little differently).
325.             return [
326.                 checks.Error(
327.                     'Primary keys must not have null=True.',
328.                     hint=('Set null=False on the field, or '
329.                           'remove primary_key=True argument.'),
330.                     obj=self,
331.                     id='fields.E007',
332.                 )
333.             ]
334.         else:
335.             return []
336. 
337.     def _check_backend_specific_checks(self, databases=None, **kwargs):
338.         if databases is None:
339.             return []
340.         app_label = self.model._meta.app_label
341.         errors = []
342.         for alias in databases:
343.             if router.allow_migrate(alias, app_label, model_name=self.model._meta.model_name):
344.                 errors.extend(connections[alias].validation.check_field(self, **kwargs))
345.         return errors
346. 
347.     def _check_validators(self):
348.         errors = []
349.         for i, validator in enumerate(self.validators):
350.             if not callable(validator):
351.                 errors.append(
352.                     checks.Error(
353.                         "All 'validators' must be callable.",
354.                         hint=(
355.                             "validators[{i}] ({repr}) isn't a function or "
356.                             "instance of a validator class.".format(
357.                                 i=i, repr=repr(validator),
358.                             )
359.                         ),
360.                         obj=self,
361.                         id='fields.E008',
362.                     )
363.                 )
364.         return errors
365. 
366.     def _check_deprecation_details(self):
367.         if self.system_check_removed_details is not None:
368.             return [
369.                 checks.Error(
370.                     self.system_check_removed_details.get(
371.                         'msg',
372.                         '%s has been removed except for support in historical '
373.                         'migrations.' % self.__class__.__name__
374.                     ),
375.                     hint=self.system_check_removed_details.get('hint'),
376.                     obj=self,
377.                     id=self.system_check_removed_details.get('id', 'fields.EXXX'),
378.                 )
379.             ]
380.         elif self.system_check_deprecated_details is not None:
381.             return [
382.                 checks.Warning(
383.                     self.system_check_deprecated_details.get(
384.                         'msg',
385.                         '%s has been deprecated.' % self.__class__.__name__
386.                     ),
387.                     hint=self.system_check_deprecated_details.get('hint'),
388.                     obj=self,
389.                     id=self.system_check_deprecated_details.get('id', 'fields.WXXX'),
390.                 )
391.             ]
392.         return []
393. 
394.     def get_col(self, alias, output_field=None):
395.         if output_field is None:
396.             output_field = self
397.         if alias != self.model._meta.db_table or output_field != self:
398.             from django.db.models.expressions import Col
399.             return Col(alias, self, output_field)
400.         else:
401.             return self.cached_col
402. 
403.     @cached_property
404.     def cached_col(self):
405.         from django.db.models.expressions import Col
406.         return Col(self.model._meta.db_table, self)
407. 
408.     def select_format(self, compiler, sql, params):
409.         """
410.         Custom format for select clauses. For example, GIS columns need to be
411.         selected as AsText(table.col) on MySQL as the table.col data can't be
412.         used by Django.
413.         """
414.         return sql, params
415. 
416.     def deconstruct(self):
417.         """
418.         Return enough information to recreate the field as a 4-tuple:
419. 
420.          * The name of the field on the model, if contribute_to_class() has
421.            been run.
422.          * The import path of the field, including the class:e.g.
423.            django.db.models.IntegerField This should be the most portable
424.            version, so less specific may be better.
425.          * A list of positional arguments.
426.          * A dict of keyword arguments.
427. 
428.         Note that the positional or keyword arguments must contain values of
429.         the following types (including inner values of collection types):
430. 
431.          * None, bool, str, int, float, complex, set, frozenset, list, tuple,
432.            dict
433.          * UUID
434.          * datetime.datetime (naive), datetime.date
435.          * top-level classes, top-level functions - will be referenced by their
436.            full import path
437.          * Storage instances - these have their own deconstruct() method
438. 
439.         This is because the values here must be serialized into a text format
440.         (possibly new Python code, possibly JSON) and these are the only types
441.         with encoding handlers defined.
442. 
443.         There's no need to return the exact way the field was instantiated this
444.         time, just ensure that the resulting field is the same - prefer keyword
445.         arguments over positional ones, and omit parameters with their default
446.         values.
447.         """
448.         # Short-form way of fetching all the default parameters
449.         keywords = {}
450.         possibles = {
451.             "verbose_name": None,
452.             "primary_key": False,
453.             "max_length": None,
454.             "unique": False,
455.             "blank": False,
456.             "null": False,
457.             "db_index": False,
458.             "default": NOT_PROVIDED,
459.             "editable": True,
460.             "serialize": True,
461.             "unique_for_date": None,
462.             "unique_for_month": None,
463.             "unique_for_year": None,
464.             "choices": None,
465.             "help_text": '',
466.             "db_column": None,
467.             "db_tablespace": None,
468.             "auto_created": False,
469.             "validators": [],
470.             "error_messages": None,
471.         }
472.         attr_overrides = {
473.             "unique": "_unique",
474.             "error_messages": "_error_messages",
475.             "validators": "_validators",
476.             "verbose_name": "_verbose_name",
477.             "db_tablespace": "_db_tablespace",
478.         }
479.         equals_comparison = {"choices", "validators"}
480.         for name, default in possibles.items():
481.             value = getattr(self, attr_overrides.get(name, name))
482.             # Unroll anything iterable for choices into a concrete list
483.             if name == "choices" and isinstance(value, collections.abc.Iterable):
484.                 value = list(value)
485.             # Do correct kind of comparison
486.             if name in equals_comparison:
487.                 if value != default:
488.                     keywords[name] = value
489.             else:
490.                 if value is not default:
491.                     keywords[name] = value
492.         # Work out path - we shorten it for known Django core fields
493.         path = "%s.%s" % (self.__class__.__module__, self.__class__.__qualname__)
494.         if path.startswith("django.db.models.fields.related"):
495.             path = path.replace("django.db.models.fields.related", "django.db.models")
496.         elif path.startswith("django.db.models.fields.files"):
497.             path = path.replace("django.db.models.fields.files", "django.db.models")
498.         elif path.startswith('django.db.models.fields.json'):
499.             path = path.replace('django.db.models.fields.json', 'django.db.models')
500.         elif path.startswith("django.db.models.fields.proxy"):


File: django/db/models/fields/__init__.py
Line number range: 1866 - 1870
Content:
class SmallIntegerField(IntegerField):
    description = _('Small integer')

    def get_internal_type(self):
        return 'SmallIntegerField'


File: django/db/models/fields/__init__.py
Line number range: 2450 - 2499
Content:
class AutoFieldMixin:
    db_returning = True

    def __init__(self, *args, **kwargs):
        kwargs['blank'] = True
        super().__init__(*args, **kwargs)

    def check(self, **kwargs):
        return [
            *super().check(**kwargs),
            *self._check_primary_key(),
        ]

    def _check_primary_key(self):
        if not self.primary_key:
            return [
                checks.Error(
                    'AutoFields must set primary_key=True.',
                    obj=self,
                    id='fields.E100',
                ),
            ]
        else:
            return []

    def deconstruct(self):
        name, path, args, kwargs = super().deconstruct()
        del kwargs['blank']
        kwargs['primary_key'] = True
        return name, path, args, kwargs

    def validate(self, value, model_instance):
        pass

    def get_db_prep_value(self, value, connection, prepared=False):
        if not prepared:
            value = self.get_prep_value(value)
            value = connection.ops.validate_autopk_value(value)
        return value

    def contribute_to_class(self, cls, name, **kwargs):
        assert not cls._meta.auto_field, (
            "Model %s can't have more than one auto-generated field."
            % cls._meta.label
        )
        super().contribute_to_class(cls, name, **kwargs)
        cls._meta.auto_field = self

    def formfield(self, **kwargs):
        return None


File: django/db/models/fields/__init__.py
Line number range: 2502 - 2527
Content:
class AutoFieldMeta(type):
    """
    Metaclass to maintain backward inheritance compatibility for AutoField.

    It is intended that AutoFieldMixin become public API when it is possible to
    create a non-integer automatically-generated field using column defaults
    stored in the database.

    In many areas Django also relies on using isinstance() to check for an
    automatically-generated field as a subclass of AutoField. A new flag needs
    to be implemented on Field to be used instead.

    When these issues have been addressed, this metaclass could be used to
    deprecate inheritance from AutoField and use of isinstance() with AutoField
    for detecting automatically-generated fields.
    """

    @property
    def _subclasses(self):
        return (BigAutoField, SmallAutoField)

    def __instancecheck__(self, instance):
        return isinstance(instance, self._subclasses) or super().__instancecheck__(instance)

    def __subclasscheck__(self, subclass):
        return subclass in self._subclasses or super().__subclasscheck__(subclass)


File: django/db/models/fields/__init__.py
Line number range: 2530 - 2536
Content:
class AutoField(AutoFieldMixin, IntegerField, metaclass=AutoFieldMeta):

    def get_internal_type(self):
        return 'AutoField'

    def rel_db_type(self, connection):
        return IntegerField().db_type(connection=connection)


File: django/db/models/fields/__init__.py
Line number range: 2539 - 2545
Content:
class BigAutoField(AutoFieldMixin, BigIntegerField):

    def get_internal_type(self):
        return 'BigAutoField'

    def rel_db_type(self, connection):
        return BigIntegerField().db_type(connection=connection)


File: django/db/models/fields/__init__.py
Line number range: 2548 - 2554
Content:
class SmallAutoField(AutoFieldMixin, SmallIntegerField):

    def get_internal_type(self):
        return 'SmallAutoField'

    def rel_db_type(self, connection):
        return SmallIntegerField().db_type(connection=connection)


File: django/db/models/fields/related.py
Line number range: 1 - 500
Content:
1. import functools
2. import inspect
3. from functools import partial
4. 
5. from django import forms
6. from django.apps import apps
7. from django.conf import SettingsReference, settings
8. from django.core import checks, exceptions
9. from django.db import connection, router
10. from django.db.backends import utils
11. from django.db.models import Q
12. from django.db.models.constants import LOOKUP_SEP
13. from django.db.models.deletion import CASCADE, SET_DEFAULT, SET_NULL
14. from django.db.models.query_utils import PathInfo
15. from django.db.models.utils import make_model_tuple
16. from django.utils.functional import cached_property
17. from django.utils.translation import gettext_lazy as _
18. 
19. from . import Field
20. from .mixins import FieldCacheMixin
21. from .related_descriptors import (
22.     ForeignKeyDeferredAttribute, ForwardManyToOneDescriptor,
23.     ForwardOneToOneDescriptor, ManyToManyDescriptor,
24.     ReverseManyToOneDescriptor, ReverseOneToOneDescriptor,
25. )
26. from .related_lookups import (
27.     RelatedExact, RelatedGreaterThan, RelatedGreaterThanOrEqual, RelatedIn,
28.     RelatedIsNull, RelatedLessThan, RelatedLessThanOrEqual,
29. )
30. from .reverse_related import (
31.     ForeignObjectRel, ManyToManyRel, ManyToOneRel, OneToOneRel,
32. )
33. 
34. RECURSIVE_RELATIONSHIP_CONSTANT = 'self'
35. 
36. 
37. def resolve_relation(scope_model, relation):
38.     """
39.     Transform relation into a model or fully-qualified model string of the form
40.     "app_label.ModelName", relative to scope_model.
41. 
42.     The relation argument can be:
43.       * RECURSIVE_RELATIONSHIP_CONSTANT, i.e. the string "self", in which case
44.         the model argument will be returned.
45.       * A bare model name without an app_label, in which case scope_model's
46.         app_label will be prepended.
47.       * An "app_label.ModelName" string.
48.       * A model class, which will be returned unchanged.
49.     """
50.     # Check for recursive relations
51.     if relation == RECURSIVE_RELATIONSHIP_CONSTANT:
52.         relation = scope_model
53. 
54.     # Look for an "app.Model" relation
55.     if isinstance(relation, str):
56.         if "." not in relation:
57.             relation = "%s.%s" % (scope_model._meta.app_label, relation)
58. 
59.     return relation
60. 
61. 
62. def lazy_related_operation(function, model, *related_models, **kwargs):
63.     """
64.     Schedule `function` to be called once `model` and all `related_models`
65.     have been imported and registered with the app registry. `function` will
66.     be called with the newly-loaded model classes as its positional arguments,
67.     plus any optional keyword arguments.
68. 
69.     The `model` argument must be a model class. Each subsequent positional
70.     argument is another model, or a reference to another model - see
71.     `resolve_relation()` for the various forms these may take. Any relative
72.     references will be resolved relative to `model`.
73. 
74.     This is a convenience wrapper for `Apps.lazy_model_operation` - the app
75.     registry model used is the one found in `model._meta.apps`.
76.     """
77.     models = [model] + [resolve_relation(model, rel) for rel in related_models]
78.     model_keys = (make_model_tuple(m) for m in models)
79.     apps = model._meta.apps
80.     return apps.lazy_model_operation(partial(function, **kwargs), *model_keys)
81. 
82. 
83. class RelatedField(FieldCacheMixin, Field):
84.     """Base class that all relational fields inherit from."""
85. 
86.     # Field flags
87.     one_to_many = False
88.     one_to_one = False
89.     many_to_many = False
90.     many_to_one = False
91. 
92.     @cached_property
93.     def related_model(self):
94.         # Can't cache this property until all the models are loaded.
95.         apps.check_models_ready()
96.         return self.remote_field.model
97. 
98.     def check(self, **kwargs):
99.         return [
100.             *super().check(**kwargs),
101.             *self._check_related_name_is_valid(),
102.             *self._check_related_query_name_is_valid(),
103.             *self._check_relation_model_exists(),
104.             *self._check_referencing_to_swapped_model(),
105.             *self._check_clashes(),
106.         ]
107. 
108.     def _check_related_name_is_valid(self):
109.         import keyword
110.         related_name = self.remote_field.related_name
111.         if related_name is None:
112.             return []
113.         is_valid_id = not keyword.iskeyword(related_name) and related_name.isidentifier()
114.         if not (is_valid_id or related_name.endswith('+')):
115.             return [
116.                 checks.Error(
117.                     "The name '%s' is invalid related_name for field %s.%s" %
118.                     (self.remote_field.related_name, self.model._meta.object_name,
119.                      self.name),
120.                     hint="Related name must be a valid Python identifier or end with a '+'",
121.                     obj=self,
122.                     id='fields.E306',
123.                 )
124.             ]
125.         return []
126. 
127.     def _check_related_query_name_is_valid(self):
128.         if self.remote_field.is_hidden():
129.             return []
130.         rel_query_name = self.related_query_name()
131.         errors = []
132.         if rel_query_name.endswith('_'):
133.             errors.append(
134.                 checks.Error(
135.                     "Reverse query name '%s' must not end with an underscore."
136.                     % rel_query_name,
137.                     hint=("Add or change a related_name or related_query_name "
138.                           "argument for this field."),
139.                     obj=self,
140.                     id='fields.E308',
141.                 )
142.             )
143.         if LOOKUP_SEP in rel_query_name:
144.             errors.append(
145.                 checks.Error(
146.                     "Reverse query name '%s' must not contain '%s'."
147.                     % (rel_query_name, LOOKUP_SEP),
148.                     hint=("Add or change a related_name or related_query_name "
149.                           "argument for this field."),
150.                     obj=self,
151.                     id='fields.E309',
152.                 )
153.             )
154.         return errors
155. 
156.     def _check_relation_model_exists(self):
157.         rel_is_missing = self.remote_field.model not in self.opts.apps.get_models()
158.         rel_is_string = isinstance(self.remote_field.model, str)
159.         model_name = self.remote_field.model if rel_is_string else self.remote_field.model._meta.object_name
160.         if rel_is_missing and (rel_is_string or not self.remote_field.model._meta.swapped):
161.             return [
162.                 checks.Error(
163.                     "Field defines a relation with model '%s', which is either "
164.                     "not installed, or is abstract." % model_name,
165.                     obj=self,
166.                     id='fields.E300',
167.                 )
168.             ]
169.         return []
170. 
171.     def _check_referencing_to_swapped_model(self):
172.         if (self.remote_field.model not in self.opts.apps.get_models() and
173.                 not isinstance(self.remote_field.model, str) and
174.                 self.remote_field.model._meta.swapped):
175.             return [
176.                 checks.Error(
177.                     "Field defines a relation with the model '%s', which has "
178.                     "been swapped out." % self.remote_field.model._meta.label,
179.                     hint="Update the relation to point at 'settings.%s'." % self.remote_field.model._meta.swappable,
180.                     obj=self,
181.                     id='fields.E301',
182.                 )
183.             ]
184.         return []
185. 
186.     def _check_clashes(self):
187.         """Check accessor and reverse query name clashes."""
188.         from django.db.models.base import ModelBase
189. 
190.         errors = []
191.         opts = self.model._meta
192. 
193.         # `f.remote_field.model` may be a string instead of a model. Skip if model name is
194.         # not resolved.
195.         if not isinstance(self.remote_field.model, ModelBase):
196.             return []
197. 
198.         # Consider that we are checking field `Model.foreign` and the models
199.         # are:
200.         #
201.         #     class Target(models.Model):
202.         #         model = models.IntegerField()
203.         #         model_set = models.IntegerField()
204.         #
205.         #     class Model(models.Model):
206.         #         foreign = models.ForeignKey(Target)
207.         #         m2m = models.ManyToManyField(Target)
208. 
209.         # rel_opts.object_name == "Target"
210.         rel_opts = self.remote_field.model._meta
211.         # If the field doesn't install a backward relation on the target model
212.         # (so `is_hidden` returns True), then there are no clashes to check
213.         # and we can skip these fields.
214.         rel_is_hidden = self.remote_field.is_hidden()
215.         rel_name = self.remote_field.get_accessor_name()  # i. e. "model_set"
216.         rel_query_name = self.related_query_name()  # i. e. "model"
217.         # i.e. "app_label.Model.field".
218.         field_name = '%s.%s' % (opts.label, self.name)
219. 
220.         # Check clashes between accessor or reverse query name of `field`
221.         # and any other field name -- i.e. accessor for Model.foreign is
222.         # model_set and it clashes with Target.model_set.
223.         potential_clashes = rel_opts.fields + rel_opts.many_to_many
224.         for clash_field in potential_clashes:
225.             # i.e. "app_label.Target.model_set".
226.             clash_name = '%s.%s' % (rel_opts.label, clash_field.name)
227.             if not rel_is_hidden and clash_field.name == rel_name:
228.                 errors.append(
229.                     checks.Error(
230.                         "Reverse accessor for '%s' clashes with field name '%s'." % (field_name, clash_name),
231.                         hint=("Rename field '%s', or add/change a related_name "
232.                               "argument to the definition for field '%s'.") % (clash_name, field_name),
233.                         obj=self,
234.                         id='fields.E302',
235.                     )
236.                 )
237. 
238.             if clash_field.name == rel_query_name:
239.                 errors.append(
240.                     checks.Error(
241.                         "Reverse query name for '%s' clashes with field name '%s'." % (field_name, clash_name),
242.                         hint=("Rename field '%s', or add/change a related_name "
243.                               "argument to the definition for field '%s'.") % (clash_name, field_name),
244.                         obj=self,
245.                         id='fields.E303',
246.                     )
247.                 )
248. 
249.         # Check clashes between accessors/reverse query names of `field` and
250.         # any other field accessor -- i. e. Model.foreign accessor clashes with
251.         # Model.m2m accessor.
252.         potential_clashes = (r for r in rel_opts.related_objects if r.field is not self)
253.         for clash_field in potential_clashes:
254.             # i.e. "app_label.Model.m2m".
255.             clash_name = '%s.%s' % (
256.                 clash_field.related_model._meta.label,
257.                 clash_field.field.name,
258.             )
259.             if not rel_is_hidden and clash_field.get_accessor_name() == rel_name:
260.                 errors.append(
261.                     checks.Error(
262.                         "Reverse accessor for '%s' clashes with reverse accessor for '%s'." % (field_name, clash_name),
263.                         hint=("Add or change a related_name argument "
264.                               "to the definition for '%s' or '%s'.") % (field_name, clash_name),
265.                         obj=self,
266.                         id='fields.E304',
267.                     )
268.                 )
269. 
270.             if clash_field.get_accessor_name() == rel_query_name:
271.                 errors.append(
272.                     checks.Error(
273.                         "Reverse query name for '%s' clashes with reverse query name for '%s'."
274.                         % (field_name, clash_name),
275.                         hint=("Add or change a related_name argument "
276.                               "to the definition for '%s' or '%s'.") % (field_name, clash_name),
277.                         obj=self,
278.                         id='fields.E305',
279.                     )
280.                 )
281. 
282.         return errors
283. 
284.     def db_type(self, connection):
285.         # By default related field will not have a column as it relates to
286.         # columns from another table.
287.         return None
288. 
289.     def contribute_to_class(self, cls, name, private_only=False, **kwargs):
290. 
291.         super().contribute_to_class(cls, name, private_only=private_only, **kwargs)
292. 
293.         self.opts = cls._meta
294. 
295.         if not cls._meta.abstract:
296.             if self.remote_field.related_name:
297.                 related_name = self.remote_field.related_name
298.             else:
299.                 related_name = self.opts.default_related_name
300.             if related_name:
301.                 related_name = related_name % {
302.                     'class': cls.__name__.lower(),
303.                     'model_name': cls._meta.model_name.lower(),
304.                     'app_label': cls._meta.app_label.lower()
305.                 }
306.                 self.remote_field.related_name = related_name
307. 
308.             if self.remote_field.related_query_name:
309.                 related_query_name = self.remote_field.related_query_name % {
310.                     'class': cls.__name__.lower(),
311.                     'app_label': cls._meta.app_label.lower(),
312.                 }
313.                 self.remote_field.related_query_name = related_query_name
314. 
315.             def resolve_related_class(model, related, field):
316.                 field.remote_field.model = related
317.                 field.do_related_class(related, model)
318.             lazy_related_operation(resolve_related_class, cls, self.remote_field.model, field=self)
319. 
320.     def deconstruct(self):
321.         name, path, args, kwargs = super().deconstruct()
322.         if self.remote_field.limit_choices_to:
323.             kwargs['limit_choices_to'] = self.remote_field.limit_choices_to
324.         if self.remote_field.related_name is not None:
325.             kwargs['related_name'] = self.remote_field.related_name
326.         if self.remote_field.related_query_name is not None:
327.             kwargs['related_query_name'] = self.remote_field.related_query_name
328.         return name, path, args, kwargs
329. 
330.     def get_forward_related_filter(self, obj):
331.         """
332.         Return the keyword arguments that when supplied to
333.         self.model.object.filter(), would select all instances related through
334.         this field to the remote obj. This is used to build the querysets
335.         returned by related descriptors. obj is an instance of
336.         self.related_field.model.
337.         """
338.         return {
339.             '%s__%s' % (self.name, rh_field.name): getattr(obj, rh_field.attname)
340.             for _, rh_field in self.related_fields
341.         }
342. 
343.     def get_reverse_related_filter(self, obj):
344.         """
345.         Complement to get_forward_related_filter(). Return the keyword
346.         arguments that when passed to self.related_field.model.object.filter()
347.         select all instances of self.related_field.model related through
348.         this field to obj. obj is an instance of self.model.
349.         """
350.         base_filter = {
351.             rh_field.attname: getattr(obj, lh_field.attname)
352.             for lh_field, rh_field in self.related_fields
353.         }
354.         descriptor_filter = self.get_extra_descriptor_filter(obj)
355.         base_q = Q(**base_filter)
356.         if isinstance(descriptor_filter, dict):
357.             return base_q & Q(**descriptor_filter)
358.         elif descriptor_filter:
359.             return base_q & descriptor_filter
360.         return base_q
361. 
362.     @property
363.     def swappable_setting(self):
364.         """
365.         Get the setting that this is powered from for swapping, or None
366.         if it's not swapped in / marked with swappable=False.
367.         """
368.         if self.swappable:
369.             # Work out string form of "to"
370.             if isinstance(self.remote_field.model, str):
371.                 to_string = self.remote_field.model
372.             else:
373.                 to_string = self.remote_field.model._meta.label
374.             return apps.get_swappable_settings_name(to_string)
375.         return None
376. 
377.     def set_attributes_from_rel(self):
378.         self.name = (
379.             self.name or
380.             (self.remote_field.model._meta.model_name + '_' + self.remote_field.model._meta.pk.name)
381.         )
382.         if self.verbose_name is None:
383.             self.verbose_name = self.remote_field.model._meta.verbose_name
384.         self.remote_field.set_field_name()
385. 
386.     def do_related_class(self, other, cls):
387.         self.set_attributes_from_rel()
388.         self.contribute_to_related_class(other, self.remote_field)
389. 
390.     def get_limit_choices_to(self):
391.         """
392.         Return ``limit_choices_to`` for this model field.
393. 
394.         If it is a callable, it will be invoked and the result will be
395.         returned.
396.         """
397.         if callable(self.remote_field.limit_choices_to):
398.             return self.remote_field.limit_choices_to()
399.         return self.remote_field.limit_choices_to
400. 
401.     def formfield(self, **kwargs):
402.         """
403.         Pass ``limit_choices_to`` to the field being constructed.
404. 
405.         Only passes it if there is a type that supports related fields.
406.         This is a similar strategy used to pass the ``queryset`` to the field
407.         being constructed.
408.         """
409.         defaults = {}
410.         if hasattr(self.remote_field, 'get_related_field'):
411.             # If this is a callable, do not invoke it here. Just pass
412.             # it in the defaults for when the form class will later be
413.             # instantiated.
414.             limit_choices_to = self.remote_field.limit_choices_to
415.             defaults.update({
416.                 'limit_choices_to': limit_choices_to,
417.             })
418.         defaults.update(kwargs)
419.         return super().formfield(**defaults)
420. 
421.     def related_query_name(self):
422.         """
423.         Define the name that can be used to identify this related object in a
424.         table-spanning query.
425.         """
426.         return self.remote_field.related_query_name or self.remote_field.related_name or self.opts.model_name
427. 
428.     @property
429.     def target_field(self):
430.         """
431.         When filtering against this relation, return the field on the remote
432.         model against which the filtering should happen.
433.         """
434.         target_fields = self.get_path_info()[-1].target_fields
435.         if len(target_fields) > 1:
436.             raise exceptions.FieldError(
437.                 "The relation has multiple target fields, but only single target field was asked for")
438.         return target_fields[0]
439. 
440.     def get_cache_name(self):
441.         return self.name
442. 
443. 
444. class ForeignObject(RelatedField):
445.     """
446.     Abstraction of the ForeignKey relation to support multi-column relations.
447.     """
448. 
449.     # Field flags
450.     many_to_many = False
451.     many_to_one = True
452.     one_to_many = False
453.     one_to_one = False
454. 
455.     requires_unique_target = True
456.     related_accessor_class = ReverseManyToOneDescriptor
457.     forward_related_accessor_class = ForwardManyToOneDescriptor
458.     rel_class = ForeignObjectRel
459. 
460.     def __init__(self, to, on_delete, from_fields, to_fields, rel=None, related_name=None,
461.                  related_query_name=None, limit_choices_to=None, parent_link=False,
462.                  swappable=True, **kwargs):
463. 
464.         if rel is None:
465.             rel = self.rel_class(
466.                 self, to,
467.                 related_name=related_name,
468.                 related_query_name=related_query_name,
469.                 limit_choices_to=limit_choices_to,
470.                 parent_link=parent_link,
471.                 on_delete=on_delete,
472.             )
473. 
474.         super().__init__(rel=rel, **kwargs)
475. 
476.         self.from_fields = from_fields
477.         self.to_fields = to_fields
478.         self.swappable = swappable
479. 
480.     def check(self, **kwargs):
481.         return [
482.             *super().check(**kwargs),
483.             *self._check_to_fields_exist(),
484.             *self._check_unique_target(),
485.         ]
486. 
487.     def _check_to_fields_exist(self):
488.         # Skip nonexistent models.
489.         if isinstance(self.remote_field.model, str):
490.             return []
491. 
492.         errors = []
493.         for to_field in self.to_fields:
494.             if to_field:
495.                 try:
496.                     self.remote_field.model._meta.get_field(to_field)
497.                 except exceptions.FieldDoesNotExist:
498.                     errors.append(
499.                         checks.Error(
500.                             "The to_field '%s' doesn't exist on the related "


File: django/db/models/fields/related.py
Line number range: 444 - 759
Content:
class ForeignObject(RelatedField):
    """
    Abstraction of the ForeignKey relation to support multi-column relations.
    """

    # Field flags
    many_to_many = False
    many_to_one = True
    one_to_many = False
    one_to_one = False

    requires_unique_target = True
    related_accessor_class = ReverseManyToOneDescriptor
    forward_related_accessor_class = ForwardManyToOneDescriptor
    rel_class = ForeignObjectRel

    def __init__(self, to, on_delete, from_fields, to_fields, rel=None, related_name=None,
                 related_query_name=None, limit_choices_to=None, parent_link=False,
                 swappable=True, **kwargs):

        if rel is None:
            rel = self.rel_class(
                self, to,
                related_name=related_name,
                related_query_name=related_query_name,
                limit_choices_to=limit_choices_to,
                parent_link=parent_link,
                on_delete=on_delete,
            )

        super().__init__(rel=rel, **kwargs)

        self.from_fields = from_fields
        self.to_fields = to_fields
        self.swappable = swappable

    def check(self, **kwargs):
        return [
            *super().check(**kwargs),
            *self._check_to_fields_exist(),
            *self._check_unique_target(),
        ]

    def _check_to_fields_exist(self):
        # Skip nonexistent models.
        if isinstance(self.remote_field.model, str):
            return []

        errors = []
        for to_field in self.to_fields:
            if to_field:
                try:
                    self.remote_field.model._meta.get_field(to_field)
                except exceptions.FieldDoesNotExist:
                    errors.append(
                        checks.Error(
                            "The to_field '%s' doesn't exist on the related "
                            "model '%s'."
                            % (to_field, self.remote_field.model._meta.label),
                            obj=self,
                            id='fields.E312',
                        )
                    )
        return errors

    def _check_unique_target(self):
        rel_is_string = isinstance(self.remote_field.model, str)
        if rel_is_string or not self.requires_unique_target:
            return []

        try:
            self.foreign_related_fields
        except exceptions.FieldDoesNotExist:
            return []

        if not self.foreign_related_fields:
            return []

        unique_foreign_fields = {
            frozenset([f.name])
            for f in self.remote_field.model._meta.get_fields()
            if getattr(f, 'unique', False)
        }
        unique_foreign_fields.update({
            frozenset(ut)
            for ut in self.remote_field.model._meta.unique_together
        })
        unique_foreign_fields.update({
            frozenset(uc.fields)
            for uc in self.remote_field.model._meta.total_unique_constraints
        })
        foreign_fields = {f.name for f in self.foreign_related_fields}
        has_unique_constraint = any(u <= foreign_fields for u in unique_foreign_fields)

        if not has_unique_constraint and len(self.foreign_related_fields) > 1:
            field_combination = ', '.join(
                "'%s'" % rel_field.name for rel_field in self.foreign_related_fields
            )
            model_name = self.remote_field.model.__name__
            return [
                checks.Error(
                    "No subset of the fields %s on model '%s' is unique."
                    % (field_combination, model_name),
                    hint=(
                        'Mark a single field as unique=True or add a set of '
                        'fields to a unique constraint (via unique_together '
                        'or a UniqueConstraint (without condition) in the '
                        'model Meta.constraints).'
                    ),
                    obj=self,
                    id='fields.E310',
                )
            ]
        elif not has_unique_constraint:
            field_name = self.foreign_related_fields[0].name
            model_name = self.remote_field.model.__name__
            return [
                checks.Error(
                    "'%s.%s' must be unique because it is referenced by "
                    "a foreign key." % (model_name, field_name),
                    hint=(
                        'Add unique=True to this field or add a '
                        'UniqueConstraint (without condition) in the model '
                        'Meta.constraints.'
                    ),
                    obj=self,
                    id='fields.E311',
                )
            ]
        else:
            return []

    def deconstruct(self):
        name, path, args, kwargs = super().deconstruct()
        kwargs['on_delete'] = self.remote_field.on_delete
        kwargs['from_fields'] = self.from_fields
        kwargs['to_fields'] = self.to_fields

        if self.remote_field.parent_link:
            kwargs['parent_link'] = self.remote_field.parent_link
        if isinstance(self.remote_field.model, str):
            if '.' in self.remote_field.model:
                app_label, model_name = self.remote_field.model.split('.')
                kwargs['to'] = '%s.%s' % (app_label, model_name.lower())
            else:
                kwargs['to'] = self.remote_field.model.lower()
        else:
            kwargs['to'] = self.remote_field.model._meta.label_lower
        # If swappable is True, then see if we're actually pointing to the target
        # of a swap.
        swappable_setting = self.swappable_setting
        if swappable_setting is not None:
            # If it's already a settings reference, error
            if hasattr(kwargs['to'], "setting_name"):
                if kwargs['to'].setting_name != swappable_setting:
                    raise ValueError(
                        "Cannot deconstruct a ForeignKey pointing to a model "
                        "that is swapped in place of more than one model (%s and %s)"
                        % (kwargs['to'].setting_name, swappable_setting)
                    )
            # Set it
            kwargs['to'] = SettingsReference(
                kwargs['to'],
                swappable_setting,
            )
        return name, path, args, kwargs

    def resolve_related_fields(self):
        if not self.from_fields or len(self.from_fields) != len(self.to_fields):
            raise ValueError('Foreign Object from and to fields must be the same non-zero length')
        if isinstance(self.remote_field.model, str):
            raise ValueError('Related model %r cannot be resolved' % self.remote_field.model)
        related_fields = []
        for index in range(len(self.from_fields)):
            from_field_name = self.from_fields[index]
            to_field_name = self.to_fields[index]
            from_field = (
                self
                if from_field_name == RECURSIVE_RELATIONSHIP_CONSTANT
                else self.opts.get_field(from_field_name)
            )
            to_field = (self.remote_field.model._meta.pk if to_field_name is None
                        else self.remote_field.model._meta.get_field(to_field_name))
            related_fields.append((from_field, to_field))
        return related_fields

    @cached_property
    def related_fields(self):
        return self.resolve_related_fields()

    @cached_property
    def reverse_related_fields(self):
        return [(rhs_field, lhs_field) for lhs_field, rhs_field in self.related_fields]

    @cached_property
    def local_related_fields(self):
        return tuple(lhs_field for lhs_field, rhs_field in self.related_fields)

    @cached_property
    def foreign_related_fields(self):
        return tuple(rhs_field for lhs_field, rhs_field in self.related_fields if rhs_field)

    def get_local_related_value(self, instance):
        return self.get_instance_value_for_fields(instance, self.local_related_fields)

    def get_foreign_related_value(self, instance):
        return self.get_instance_value_for_fields(instance, self.foreign_related_fields)

    @staticmethod
    def get_instance_value_for_fields(instance, fields):
        ret = []
        opts = instance._meta
        for field in fields:
            # Gotcha: in some cases (like fixture loading) a model can have
            # different values in parent_ptr_id and parent's id. So, use
            # instance.pk (that is, parent_ptr_id) when asked for instance.id.
            if field.primary_key:
                possible_parent_link = opts.get_ancestor_link(field.model)
                if (not possible_parent_link or
                        possible_parent_link.primary_key or
                        possible_parent_link.model._meta.abstract):
                    ret.append(instance.pk)
                    continue
            ret.append(getattr(instance, field.attname))
        return tuple(ret)

    def get_attname_column(self):
        attname, column = super().get_attname_column()
        return attname, None

    def get_joining_columns(self, reverse_join=False):
        source = self.reverse_related_fields if reverse_join else self.related_fields
        return tuple((lhs_field.column, rhs_field.column) for lhs_field, rhs_field in source)

    def get_reverse_joining_columns(self):
        return self.get_joining_columns(reverse_join=True)

    def get_extra_descriptor_filter(self, instance):
        """
        Return an extra filter condition for related object fetching when
        user does 'instance.fieldname', that is the extra filter is used in
        the descriptor of the field.

        The filter should be either a dict usable in .filter(**kwargs) call or
        a Q-object. The condition will be ANDed together with the relation's
        joining columns.

        A parallel method is get_extra_restriction() which is used in
        JOIN and subquery conditions.
        """
        return {}

    def get_extra_restriction(self, where_class, alias, related_alias):
        """
        Return a pair condition used for joining and subquery pushdown. The
        condition is something that responds to as_sql(compiler, connection)
        method.

        Note that currently referring both the 'alias' and 'related_alias'
        will not work in some conditions, like subquery pushdown.

        A parallel method is get_extra_descriptor_filter() which is used in
        instance.fieldname related object fetching.
        """
        return None

    def get_path_info(self, filtered_relation=None):
        """Get path from this field to the related model."""
        opts = self.remote_field.model._meta
        from_opts = self.model._meta
        return [PathInfo(
            from_opts=from_opts,
            to_opts=opts,
            target_fields=self.foreign_related_fields,
            join_field=self,
            m2m=False,
            direct=True,
            filtered_relation=filtered_relation,
        )]

    def get_reverse_path_info(self, filtered_relation=None):
        """Get path from the related model to this field's model."""
        opts = self.model._meta
        from_opts = self.remote_field.model._meta
        return [PathInfo(
            from_opts=from_opts,
            to_opts=opts,
            target_fields=(opts.pk,),
            join_field=self.remote_field,
            m2m=not self.unique,
            direct=False,
            filtered_relation=filtered_relation,
        )]

    @classmethod
    @functools.lru_cache(maxsize=None)
    def get_lookups(cls):
        bases = inspect.getmro(cls)
        bases = bases[:bases.index(ForeignObject) + 1]
        class_lookups = [parent.__dict__.get('class_lookups', {}) for parent in bases]
        return cls.merge_dicts(class_lookups)

    def contribute_to_class(self, cls, name, private_only=False, **kwargs):
        super().contribute_to_class(cls, name, private_only=private_only, **kwargs)
        setattr(cls, self.name, self.forward_related_accessor_class(self))

    def contribute_to_related_class(self, cls, related):
        # Internal FK's - i.e., those with a related name ending with '+' -
        # and swapped models don't get a related descriptor.
        if not self.remote_field.is_hidden() and not related.related_model._meta.swapped:
            setattr(cls._meta.concrete_model, related.get_accessor_name(), self.related_accessor_class(related))
            # While 'limit_choices_to' might be a callable, simply pass
            # it along for later - this is too early because it's still
            # model load time.
            if self.remote_field.limit_choices_to:
                cls._meta.related_fkey_lookups.append(self.remote_field.limit_choices_to)


File: django/db/models/fields/related.py
Line number range: 771 - 1024
Content:
class ForeignKey(ForeignObject):
    """
    Provide a many-to-one relation by adding a column to the local model
    to hold the remote value.

    By default ForeignKey will target the pk of the remote model but this
    behavior can be changed by using the ``to_field`` argument.
    """
    descriptor_class = ForeignKeyDeferredAttribute
    # Field flags
    many_to_many = False
    many_to_one = True
    one_to_many = False
    one_to_one = False

    rel_class = ManyToOneRel

    empty_strings_allowed = False
    default_error_messages = {
        'invalid': _('%(model)s instance with %(field)s %(value)r does not exist.')
    }
    description = _("Foreign Key (type determined by related field)")

    def __init__(self, to, on_delete, related_name=None, related_query_name=None,
                 limit_choices_to=None, parent_link=False, to_field=None,
                 db_constraint=True, **kwargs):
        try:
            to._meta.model_name
        except AttributeError:
            assert isinstance(to, str), (
                "%s(%r) is invalid. First parameter to ForeignKey must be "
                "either a model, a model name, or the string %r" % (
                    self.__class__.__name__, to,
                    RECURSIVE_RELATIONSHIP_CONSTANT,
                )
            )
        else:
            # For backwards compatibility purposes, we need to *try* and set
            # the to_field during FK construction. It won't be guaranteed to
            # be correct until contribute_to_class is called. Refs #12190.
            to_field = to_field or (to._meta.pk and to._meta.pk.name)
        if not callable(on_delete):
            raise TypeError('on_delete must be callable.')

        kwargs['rel'] = self.rel_class(
            self, to, to_field,
            related_name=related_name,
            related_query_name=related_query_name,
            limit_choices_to=limit_choices_to,
            parent_link=parent_link,
            on_delete=on_delete,
        )
        kwargs.setdefault('db_index', True)

        super().__init__(
            to,
            on_delete,
            from_fields=[RECURSIVE_RELATIONSHIP_CONSTANT],
            to_fields=[to_field],
            **kwargs,
        )
        self.db_constraint = db_constraint

    def check(self, **kwargs):
        return [
            *super().check(**kwargs),
            *self._check_on_delete(),
            *self._check_unique(),
        ]

    def _check_on_delete(self):
        on_delete = getattr(self.remote_field, 'on_delete', None)
        if on_delete == SET_NULL and not self.null:
            return [
                checks.Error(
                    'Field specifies on_delete=SET_NULL, but cannot be null.',
                    hint='Set null=True argument on the field, or change the on_delete rule.',
                    obj=self,
                    id='fields.E320',
                )
            ]
        elif on_delete == SET_DEFAULT and not self.has_default():
            return [
                checks.Error(
                    'Field specifies on_delete=SET_DEFAULT, but has no default value.',
                    hint='Set a default value, or change the on_delete rule.',
                    obj=self,
                    id='fields.E321',
                )
            ]
        else:
            return []

    def _check_unique(self, **kwargs):
        return [
            checks.Warning(
                'Setting unique=True on a ForeignKey has the same effect as using a OneToOneField.',
                hint='ForeignKey(unique=True) is usually better served by a OneToOneField.',
                obj=self,
                id='fields.W342',
            )
        ] if self.unique else []

    def deconstruct(self):
        name, path, args, kwargs = super().deconstruct()
        del kwargs['to_fields']
        del kwargs['from_fields']
        # Handle the simpler arguments
        if self.db_index:
            del kwargs['db_index']
        else:
            kwargs['db_index'] = False
        if self.db_constraint is not True:
            kwargs['db_constraint'] = self.db_constraint
        # Rel needs more work.
        to_meta = getattr(self.remote_field.model, "_meta", None)
        if self.remote_field.field_name and (
                not to_meta or (to_meta.pk and self.remote_field.field_name != to_meta.pk.name)):
            kwargs['to_field'] = self.remote_field.field_name
        return name, path, args, kwargs

    def to_python(self, value):
        return self.target_field.to_python(value)

    @property
    def target_field(self):
        return self.foreign_related_fields[0]

    def get_reverse_path_info(self, filtered_relation=None):
        """Get path from the related model to this field's model."""
        opts = self.model._meta
        from_opts = self.remote_field.model._meta
        return [PathInfo(
            from_opts=from_opts,
            to_opts=opts,
            target_fields=(opts.pk,),
            join_field=self.remote_field,
            m2m=not self.unique,
            direct=False,
            filtered_relation=filtered_relation,
        )]

    def validate(self, value, model_instance):
        if self.remote_field.parent_link:
            return
        super().validate(value, model_instance)
        if value is None:
            return

        using = router.db_for_read(self.remote_field.model, instance=model_instance)
        qs = self.remote_field.model._base_manager.using(using).filter(
            **{self.remote_field.field_name: value}
        )
        qs = qs.complex_filter(self.get_limit_choices_to())
        if not qs.exists():
            raise exceptions.ValidationError(
                self.error_messages['invalid'],
                code='invalid',
                params={
                    'model': self.remote_field.model._meta.verbose_name, 'pk': value,
                    'field': self.remote_field.field_name, 'value': value,
                },  # 'pk' is included for backwards compatibility
            )

    def resolve_related_fields(self):
        related_fields = super().resolve_related_fields()
        for from_field, to_field in related_fields:
            if to_field and to_field.model != self.remote_field.model._meta.concrete_model:
                raise exceptions.FieldError(
                    "'%s.%s' refers to field '%s' which is not local to model "
                    "'%s'." % (
                        self.model._meta.label,
                        self.name,
                        to_field.name,
                        self.remote_field.model._meta.concrete_model._meta.label,
                    )
                )
        return related_fields

    def get_attname(self):
        return '%s_id' % self.name

    def get_attname_column(self):
        attname = self.get_attname()
        column = self.db_column or attname
        return attname, column

    def get_default(self):
        """Return the to_field if the default value is an object."""
        field_default = super().get_default()
        if isinstance(field_default, self.remote_field.model):
            return getattr(field_default, self.target_field.attname)
        return field_default

    def get_db_prep_save(self, value, connection):
        if value is None or (value == '' and
                             (not self.target_field.empty_strings_allowed or
                              connection.features.interprets_empty_strings_as_nulls)):
            return None
        else:
            return self.target_field.get_db_prep_save(value, connection=connection)

    def get_db_prep_value(self, value, connection, prepared=False):
        return self.target_field.get_db_prep_value(value, connection, prepared)

    def get_prep_value(self, value):
        return self.target_field.get_prep_value(value)

    def contribute_to_related_class(self, cls, related):
        super().contribute_to_related_class(cls, related)
        if self.remote_field.field_name is None:
            self.remote_field.field_name = cls._meta.pk.name

    def formfield(self, *, using=None, **kwargs):
        if isinstance(self.remote_field.model, str):
            raise ValueError("Cannot create form field for %r yet, because "
                             "its related model %r has not been loaded yet" %
                             (self.name, self.remote_field.model))
        return super().formfield(**{
            'form_class': forms.ModelChoiceField,
            'queryset': self.remote_field.model._default_manager.using(using),
            'to_field_name': self.remote_field.field_name,
            **kwargs,
            'blank': self.blank,
        })

    def db_check(self, connection):
        return []

    def db_type(self, connection):
        return self.target_field.rel_db_type(connection=connection)

    def db_parameters(self, connection):
        return {"type": self.db_type(connection), "check": self.db_check(connection)}

    def convert_empty_strings(self, value, expression, connection):
        if (not value) and isinstance(value, str):
            return None
        return value

    def get_db_converters(self, connection):
        converters = super().get_db_converters(connection)
        if connection.features.interprets_empty_strings_as_nulls:
            converters += [self.convert_empty_strings]
        return converters

    def get_col(self, alias, output_field=None):
        if output_field is None:
            output_field = self.target_field
            while isinstance(output_field, ForeignKey):
                output_field = output_field.target_field
                if output_field is self:
                    raise ValueError('Cannot resolve output_field.')
        return super().get_col(alias, output_field)


File: django/db/models/fields/related.py
Line number range: 1027 - 1074
Content:
class OneToOneField(ForeignKey):
    """
    A OneToOneField is essentially the same as a ForeignKey, with the exception
    that it always carries a "unique" constraint with it and the reverse
    relation always returns the object pointed to (since there will only ever
    be one), rather than returning a list.
    """

    # Field flags
    many_to_many = False
    many_to_one = False
    one_to_many = False
    one_to_one = True

    related_accessor_class = ReverseOneToOneDescriptor
    forward_related_accessor_class = ForwardOneToOneDescriptor
    rel_class = OneToOneRel

    description = _("One-to-one relationship")

    def __init__(self, to, on_delete, to_field=None, **kwargs):
        kwargs['unique'] = True
        super().__init__(to, on_delete, to_field=to_field, **kwargs)

    def deconstruct(self):
        name, path, args, kwargs = super().deconstruct()
        if "unique" in kwargs:
            del kwargs['unique']
        return name, path, args, kwargs

    def formfield(self, **kwargs):
        if self.remote_field.parent_link:
            return None
        return super().formfield(**kwargs)

    def save_form_data(self, instance, data):
        if isinstance(data, self.remote_field.model):
            setattr(instance, self.name, data)
        else:
            setattr(instance, self.attname, data)
            # Remote field object must be cleared otherwise Model.save()
            # will reassign attname using the related object pk.
            if data is None:
                setattr(instance, self.name, data)

    def _check_unique(self, **kwargs):
        # Override ForeignKey since check isn't applicable here.
        return []


File: django/db/models/fields/related.py
Line number range: 1124 - 1694
Content:
class ManyToManyField(RelatedField):
    """
    Provide a many-to-many relation by using an intermediary model that
    holds two ForeignKey fields pointed at the two sides of the relation.

    Unless a ``through`` model was provided, ManyToManyField will use the
    create_many_to_many_intermediary_model factory to automatically generate
    the intermediary model.
    """

    # Field flags
    many_to_many = True
    many_to_one = False
    one_to_many = False
    one_to_one = False

    rel_class = ManyToManyRel

    description = _("Many-to-many relationship")

    def __init__(self, to, related_name=None, related_query_name=None,
                 limit_choices_to=None, symmetrical=None, through=None,
                 through_fields=None, db_constraint=True, db_table=None,
                 swappable=True, **kwargs):
        try:
            to._meta
        except AttributeError:
            assert isinstance(to, str), (
                "%s(%r) is invalid. First parameter to ManyToManyField must be "
                "either a model, a model name, or the string %r" %
                (self.__class__.__name__, to, RECURSIVE_RELATIONSHIP_CONSTANT)
            )

        if symmetrical is None:
            symmetrical = (to == RECURSIVE_RELATIONSHIP_CONSTANT)

        if through is not None:
            assert db_table is None, (
                "Cannot specify a db_table if an intermediary model is used."
            )

        kwargs['rel'] = self.rel_class(
            self, to,
            related_name=related_name,
            related_query_name=related_query_name,
            limit_choices_to=limit_choices_to,
            symmetrical=symmetrical,
            through=through,
            through_fields=through_fields,
            db_constraint=db_constraint,
        )
        self.has_null_arg = 'null' in kwargs

        super().__init__(**kwargs)

        self.db_table = db_table
        self.swappable = swappable

    def check(self, **kwargs):
        return [
            *super().check(**kwargs),
            *self._check_unique(**kwargs),
            *self._check_relationship_model(**kwargs),
            *self._check_ignored_options(**kwargs),
            *self._check_table_uniqueness(**kwargs),
        ]

    def _check_unique(self, **kwargs):
        if self.unique:
            return [
                checks.Error(
                    'ManyToManyFields cannot be unique.',
                    obj=self,
                    id='fields.E330',
                )
            ]
        return []

    def _check_ignored_options(self, **kwargs):
        warnings = []

        if self.has_null_arg:
            warnings.append(
                checks.Warning(
                    'null has no effect on ManyToManyField.',
                    obj=self,
                    id='fields.W340',
                )
            )

        if self._validators:
            warnings.append(
                checks.Warning(
                    'ManyToManyField does not support validators.',
                    obj=self,
                    id='fields.W341',
                )
            )
        if (self.remote_field.limit_choices_to and self.remote_field.through and
                not self.remote_field.through._meta.auto_created):
            warnings.append(
                checks.Warning(
                    'limit_choices_to has no effect on ManyToManyField '
                    'with a through model.',
                    obj=self,
                    id='fields.W343',
                )
            )

        return warnings

    def _check_relationship_model(self, from_model=None, **kwargs):
        if hasattr(self.remote_field.through, '_meta'):
            qualified_model_name = "%s.%s" % (
                self.remote_field.through._meta.app_label, self.remote_field.through.__name__)
        else:
            qualified_model_name = self.remote_field.through

        errors = []

        if self.remote_field.through not in self.opts.apps.get_models(include_auto_created=True):
            # The relationship model is not installed.
            errors.append(
                checks.Error(
                    "Field specifies a many-to-many relation through model "
                    "'%s', which has not been installed." % qualified_model_name,
                    obj=self,
                    id='fields.E331',
                )
            )

        else:
            assert from_model is not None, (
                "ManyToManyField with intermediate "
                "tables cannot be checked if you don't pass the model "
                "where the field is attached to."
            )
            # Set some useful local variables
            to_model = resolve_relation(from_model, self.remote_field.model)
            from_model_name = from_model._meta.object_name
            if isinstance(to_model, str):
                to_model_name = to_model
            else:
                to_model_name = to_model._meta.object_name
            relationship_model_name = self.remote_field.through._meta.object_name
            self_referential = from_model == to_model
            # Count foreign keys in intermediate model
            if self_referential:
                seen_self = sum(
                    from_model == getattr(field.remote_field, 'model', None)
                    for field in self.remote_field.through._meta.fields
                )

                if seen_self > 2 and not self.remote_field.through_fields:
                    errors.append(
                        checks.Error(
                            "The model is used as an intermediate model by "
                            "'%s', but it has more than two foreign keys "
                            "to '%s', which is ambiguous. You must specify "
                            "which two foreign keys Django should use via the "
                            "through_fields keyword argument." % (self, from_model_name),
                            hint="Use through_fields to specify which two foreign keys Django should use.",
                            obj=self.remote_field.through,
                            id='fields.E333',
                        )
                    )

            else:
                # Count foreign keys in relationship model
                seen_from = sum(
                    from_model == getattr(field.remote_field, 'model', None)
                    for field in self.remote_field.through._meta.fields
                )
                seen_to = sum(
                    to_model == getattr(field.remote_field, 'model', None)
                    for field in self.remote_field.through._meta.fields
                )

                if seen_from > 1 and not self.remote_field.through_fields:
                    errors.append(
                        checks.Error(
                            ("The model is used as an intermediate model by "
                             "'%s', but it has more than one foreign key "
                             "from '%s', which is ambiguous. You must specify "
                             "which foreign key Django should use via the "
                             "through_fields keyword argument.") % (self, from_model_name),
                            hint=(
                                'If you want to create a recursive relationship, '
                                'use ManyToManyField("%s", through="%s").'
                            ) % (
                                RECURSIVE_RELATIONSHIP_CONSTANT,
                                relationship_model_name,
                            ),
                            obj=self,
                            id='fields.E334',
                        )
                    )

                if seen_to > 1 and not self.remote_field.through_fields:
                    errors.append(
                        checks.Error(
                            "The model is used as an intermediate model by "
                            "'%s', but it has more than one foreign key "
                            "to '%s', which is ambiguous. You must specify "
                            "which foreign key Django should use via the "
                            "through_fields keyword argument." % (self, to_model_name),
                            hint=(
                                'If you want to create a recursive relationship, '
                                'use ManyToManyField("%s", through="%s").'
                            ) % (
                                RECURSIVE_RELATIONSHIP_CONSTANT,
                                relationship_model_name,
                            ),
                            obj=self,
                            id='fields.E335',
                        )
                    )

                if seen_from == 0 or seen_to == 0:
                    errors.append(
                        checks.Error(
                            "The model is used as an intermediate model by "
                            "'%s', but it does not have a foreign key to '%s' or '%s'." % (
                                self, from_model_name, to_model_name
                            ),
                            obj=self.remote_field.through,
                            id='fields.E336',
                        )
                    )

        # Validate `through_fields`.
        if self.remote_field.through_fields is not None:
            # Validate that we're given an iterable of at least two items
            # and that none of them is "falsy".
            if not (len(self.remote_field.through_fields) >= 2 and
                    self.remote_field.through_fields[0] and self.remote_field.through_fields[1]):
                errors.append(
                    checks.Error(
                        "Field specifies 'through_fields' but does not provide "
                        "the names of the two link fields that should be used "
                        "for the relation through model '%s'." % qualified_model_name,
                        hint="Make sure you specify 'through_fields' as through_fields=('field1', 'field2')",
                        obj=self,
                        id='fields.E337',
                    )
                )

            # Validate the given through fields -- they should be actual
            # fields on the through model, and also be foreign keys to the
            # expected models.
            else:
                assert from_model is not None, (
                    "ManyToManyField with intermediate "
                    "tables cannot be checked if you don't pass the model "
                    "where the field is attached to."
                )

                source, through, target = from_model, self.remote_field.through, self.remote_field.model
                source_field_name, target_field_name = self.remote_field.through_fields[:2]

                for field_name, related_model in ((source_field_name, source),
                                                  (target_field_name, target)):

                    possible_field_names = []
                    for f in through._meta.fields:
                        if hasattr(f, 'remote_field') and getattr(f.remote_field, 'model', None) == related_model:
                            possible_field_names.append(f.name)
                    if possible_field_names:
                        hint = "Did you mean one of the following foreign keys to '%s': %s?" % (
                            related_model._meta.object_name,
                            ', '.join(possible_field_names),
                        )
                    else:
                        hint = None

                    try:
                        field = through._meta.get_field(field_name)
                    except exceptions.FieldDoesNotExist:
                        errors.append(
                            checks.Error(
                                "The intermediary model '%s' has no field '%s'."
                                % (qualified_model_name, field_name),
                                hint=hint,
                                obj=self,
                                id='fields.E338',
                            )
                        )
                    else:
                        if not (hasattr(field, 'remote_field') and
                                getattr(field.remote_field, 'model', None) == related_model):
                            errors.append(
                                checks.Error(
                                    "'%s.%s' is not a foreign key to '%s'." % (
                                        through._meta.object_name, field_name,
                                        related_model._meta.object_name,
                                    ),
                                    hint=hint,
                                    obj=self,
                                    id='fields.E339',
                                )
                            )

        return errors

    def _check_table_uniqueness(self, **kwargs):
        if isinstance(self.remote_field.through, str) or not self.remote_field.through._meta.managed:
            return []
        registered_tables = {
            model._meta.db_table: model
            for model in self.opts.apps.get_models(include_auto_created=True)
            if model != self.remote_field.through and model._meta.managed
        }
        m2m_db_table = self.m2m_db_table()
        model = registered_tables.get(m2m_db_table)
        # The second condition allows multiple m2m relations on a model if
        # some point to a through model that proxies another through model.
        if model and model._meta.concrete_model != self.remote_field.through._meta.concrete_model:
            if model._meta.auto_created:
                def _get_field_name(model):
                    for field in model._meta.auto_created._meta.many_to_many:
                        if field.remote_field.through is model:
                            return field.name
                opts = model._meta.auto_created._meta
                clashing_obj = '%s.%s' % (opts.label, _get_field_name(model))
            else:
                clashing_obj = model._meta.label
            if settings.DATABASE_ROUTERS:
                error_class, error_id = checks.Warning, 'fields.W344'
                error_hint = (
                    'You have configured settings.DATABASE_ROUTERS. Verify '
                    'that the table of %r is correctly routed to a separate '
                    'database.' % clashing_obj
                )
            else:
                error_class, error_id = checks.Error, 'fields.E340'
                error_hint = None
            return [
                error_class(
                    "The field's intermediary table '%s' clashes with the "
                    "table name of '%s'." % (m2m_db_table, clashing_obj),
                    obj=self,
                    hint=error_hint,
                    id=error_id,
                )
            ]
        return []

    def deconstruct(self):
        name, path, args, kwargs = super().deconstruct()
        # Handle the simpler arguments.
        if self.db_table is not None:
            kwargs['db_table'] = self.db_table
        if self.remote_field.db_constraint is not True:
            kwargs['db_constraint'] = self.remote_field.db_constraint
        # Rel needs more work.
        if isinstance(self.remote_field.model, str):
            kwargs['to'] = self.remote_field.model
        else:
            kwargs['to'] = self.remote_field.model._meta.label
        if getattr(self.remote_field, 'through', None) is not None:
            if isinstance(self.remote_field.through, str):
                kwargs['through'] = self.remote_field.through
            elif not self.remote_field.through._meta.auto_created:
                kwargs['through'] = self.remote_field.through._meta.label
        # If swappable is True, then see if we're actually pointing to the target
        # of a swap.
        swappable_setting = self.swappable_setting
        if swappable_setting is not None:
            # If it's already a settings reference, error.
            if hasattr(kwargs['to'], "setting_name"):
                if kwargs['to'].setting_name != swappable_setting:
                    raise ValueError(
                        "Cannot deconstruct a ManyToManyField pointing to a "
                        "model that is swapped in place of more than one model "
                        "(%s and %s)" % (kwargs['to'].setting_name, swappable_setting)
                    )

            kwargs['to'] = SettingsReference(
                kwargs['to'],
                swappable_setting,
            )
        return name, path, args, kwargs

    def _get_path_info(self, direct=False, filtered_relation=None):
        """Called by both direct and indirect m2m traversal."""
        int_model = self.remote_field.through
        linkfield1 = int_model._meta.get_field(self.m2m_field_name())
        linkfield2 = int_model._meta.get_field(self.m2m_reverse_field_name())
        if direct:
            join1infos = linkfield1.get_reverse_path_info()
            join2infos = linkfield2.get_path_info(filtered_relation)
        else:
            join1infos = linkfield2.get_reverse_path_info()
            join2infos = linkfield1.get_path_info(filtered_relation)

        # Get join infos between the last model of join 1 and the first model
        # of join 2. Assume the only reason these may differ is due to model
        # inheritance.
        join1_final = join1infos[-1].to_opts
        join2_initial = join2infos[0].from_opts
        if join1_final is join2_initial:
            intermediate_infos = []
        elif issubclass(join1_final.model, join2_initial.model):
            intermediate_infos = join1_final.get_path_to_parent(join2_initial.model)
        else:
            intermediate_infos = join2_initial.get_path_from_parent(join1_final.model)

        return [*join1infos, *intermediate_infos, *join2infos]

    def get_path_info(self, filtered_relation=None):
        return self._get_path_info(direct=True, filtered_relation=filtered_relation)

    def get_reverse_path_info(self, filtered_relation=None):
        return self._get_path_info(direct=False, filtered_relation=filtered_relation)

    def _get_m2m_db_table(self, opts):
        """
        Function that can be curried to provide the m2m table name for this
        relation.
        """
        if self.remote_field.through is not None:
            return self.remote_field.through._meta.db_table
        elif self.db_table:
            return self.db_table
        else:
            m2m_table_name = '%s_%s' % (utils.strip_quotes(opts.db_table), self.name)
            return utils.truncate_name(m2m_table_name, connection.ops.max_name_length())

    def _get_m2m_attr(self, related, attr):
        """
        Function that can be curried to provide the source accessor or DB
        column name for the m2m table.
        """
        cache_attr = '_m2m_%s_cache' % attr
        if hasattr(self, cache_attr):
            return getattr(self, cache_attr)
        if self.remote_field.through_fields is not None:
            link_field_name = self.remote_field.through_fields[0]
        else:
            link_field_name = None
        for f in self.remote_field.through._meta.fields:
            if (f.is_relation and f.remote_field.model == related.related_model and
                    (link_field_name is None or link_field_name == f.name)):
                setattr(self, cache_attr, getattr(f, attr))
                return getattr(self, cache_attr)

    def _get_m2m_reverse_attr(self, related, attr):
        """
        Function that can be curried to provide the related accessor or DB
        column name for the m2m table.
        """
        cache_attr = '_m2m_reverse_%s_cache' % attr
        if hasattr(self, cache_attr):
            return getattr(self, cache_attr)
        found = False
        if self.remote_field.through_fields is not None:
            link_field_name = self.remote_field.through_fields[1]
        else:
            link_field_name = None
        for f in self.remote_field.through._meta.fields:
            if f.is_relation and f.remote_field.model == related.model:
                if link_field_name is None and related.related_model == related.model:
                    # If this is an m2m-intermediate to self,
                    # the first foreign key you find will be
                    # the source column. Keep searching for
                    # the second foreign key.
                    if found:
                        setattr(self, cache_attr, getattr(f, attr))
                        break
                    else:
                        found = True
                elif link_field_name is None or link_field_name == f.name:
                    setattr(self, cache_attr, getattr(f, attr))
                    break
        return getattr(self, cache_attr)

    def contribute_to_class(self, cls, name, **kwargs):
        # To support multiple relations to self, it's useful to have a non-None
        # related name on symmetrical relations for internal reasons. The
        # concept doesn't make a lot of sense externally ("you want me to
        # specify *what* on my non-reversible relation?!"), so we set it up
        # automatically. The funky name reduces the chance of an accidental
        # clash.
        if self.remote_field.symmetrical and (
            self.remote_field.model == RECURSIVE_RELATIONSHIP_CONSTANT or
            self.remote_field.model == cls._meta.object_name
        ):
            self.remote_field.related_name = "%s_rel_+" % name
        elif self.remote_field.is_hidden():
            # If the backwards relation is disabled, replace the original
            # related_name with one generated from the m2m field name. Django
            # still uses backwards relations internally and we need to avoid
            # clashes between multiple m2m fields with related_name == '+'.
            self.remote_field.related_name = '_%s_%s_%s_+' % (
                cls._meta.app_label,
                cls.__name__.lower(),
                name,
            )

        super().contribute_to_class(cls, name, **kwargs)

        # The intermediate m2m model is not auto created if:
        #  1) There is a manually specified intermediate, or
        #  2) The class owning the m2m field is abstract.
        #  3) The class owning the m2m field has been swapped out.
        if not cls._meta.abstract:
            if self.remote_field.through:
                def resolve_through_model(_, model, field):
                    field.remote_field.through = model
                lazy_related_operation(resolve_through_model, cls, self.remote_field.through, field=self)
            elif not cls._meta.swapped:
                self.remote_field.through = create_many_to_many_intermediary_model(self, cls)

        # Add the descriptor for the m2m relation.
        setattr(cls, self.name, ManyToManyDescriptor(self.remote_field, reverse=False))

        # Set up the accessor for the m2m table name for the relation.
        self.m2m_db_table = partial(self._get_m2m_db_table, cls._meta)

    def contribute_to_related_class(self, cls, related):
        # Internal M2Ms (i.e., those with a related name ending with '+')
        # and swapped models don't get a related descriptor.
        if not self.remote_field.is_hidden() and not related.related_model._meta.swapped:
            setattr(cls, related.get_accessor_name(), ManyToManyDescriptor(self.remote_field, reverse=True))

        # Set up the accessors for the column names on the m2m table.
        self.m2m_column_name = partial(self._get_m2m_attr, related, 'column')
        self.m2m_reverse_name = partial(self._get_m2m_reverse_attr, related, 'column')

        self.m2m_field_name = partial(self._get_m2m_attr, related, 'name')
        self.m2m_reverse_field_name = partial(self._get_m2m_reverse_attr, related, 'name')

        get_m2m_rel = partial(self._get_m2m_attr, related, 'remote_field')
        self.m2m_target_field_name = lambda: get_m2m_rel().field_name
        get_m2m_reverse_rel = partial(self._get_m2m_reverse_attr, related, 'remote_field')
        self.m2m_reverse_target_field_name = lambda: get_m2m_reverse_rel().field_name

    def set_attributes_from_rel(self):
        pass

    def value_from_object(self, obj):
        return [] if obj.pk is None else list(getattr(obj, self.attname).all())

    def save_form_data(self, instance, data):
        getattr(instance, self.attname).set(data)

    def formfield(self, *, using=None, **kwargs):
        defaults = {
            'form_class': forms.ModelMultipleChoiceField,
            'queryset': self.remote_field.model._default_manager.using(using),
            **kwargs,
        }
        # If initial is passed in, it's a list of related objects, but the
        # MultipleChoiceField takes a list of IDs.
        if defaults.get('initial') is not None:
            initial = defaults['initial']
            if callable(initial):
                initial = initial()
            defaults['initial'] = [i.pk for i in initial]
        return super().formfield(**defaults)

    def db_check(self, connection):
        return None

    def db_type(self, connection):
        # A ManyToManyField is not represented by a single column,
        # so return None.
        return None

    def db_parameters(self, connection):
        return {"type": None, "check": None}

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-21 02:35:40,926 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='This context provides the definition of the `Field` class, which is the base class for all model fields in Django, including `AutoField` and `OneToOneField`. Understanding this base class is essential for understanding the inheritance hierarchy of both requested classes.', relative_path='django/db/models/fields/__init__.py', start_line=85, end_line=177), ContextOutput(reasoning='This context defines the `AutoFieldMixin`, which contains the common logic for auto-incrementing fields. `AutoField` inherits from this mixin, so this context is crucial for understanding its implementation.', relative_path='django/db/models/fields/__init__.py', start_line=2450, end_line=2499), ContextOutput(reasoning='This context provides the class definition for `AutoField`, which is one of the classes the user specifically asked for. It clearly shows its inheritance from `AutoFieldMixin` and `IntegerField`.', relative_path='django/db/models/fields/__init__.py', start_line=2530, end_line=2536), ContextOutput(reasoning='This context defines the `RelatedField` class, which is a base class for all relational fields and part of the inheritance hierarchy for `OneToOneField`. It shows that relational fields also inherit from the base `Field` class.', relative_path='django/db/models/fields/related.py', start_line=83, end_line=97), ContextOutput(reasoning='This context defines `ForeignObject`, an ancestor class for `OneToOneField` in its inheritance chain (`OneToOneField` -> `ForeignKey` -> `ForeignObject`). It is an important part of the relationship hierarchy.', relative_path='django/db/models/fields/related.py', start_line=444, end_line=479), ContextOutput(reasoning='This context shows the definition of the `ForeignKey` class, which is the direct parent of `OneToOneField`. This is essential for understanding the implementation and behavior of `OneToOneField`.', relative_path='django/db/models/fields/related.py', start_line=771, end_line=828), ContextOutput(reasoning='This context provides the complete class definition for `OneToOneField`, which was specifically requested by the user. It shows its inheritance from `ForeignKey` and its specific implementations.', relative_path='django/db/models/fields/related.py', start_line=1027, end_line=1074)]
2025-12-21 02:35:40,931 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 7 contexts to memory for query: Please provide the full content of `django/db/models/fields/related.py` and `django/db/models/fields/__init__.py`.
2025-12-21 02:35:40,931 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-21 02:35:40,931 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-21 02:35:40,932 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 7 new contexts to 2 existing contexts
2025-12-21 02:35:40,932 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 9 total contexts (removed 0 duplicates)
2025-12-21 02:35:40,932 - thread-128184999741120.prometheus_context_collector.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-12-21 02:35:40,933 - thread-128184999741120.prometheus_context_collector - INFO - Successfully retrieved 9 context snippets
