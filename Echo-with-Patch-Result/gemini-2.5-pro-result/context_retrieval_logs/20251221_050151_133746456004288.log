2025-12-21 05:01:51,546 - thread-133746456004288.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: simpify gives `Imaginary coordinates are not permitted.` with evaluate(False)

Description: ## Issue
`with evaluate(False)` crashes unexpectedly with `Point2D`

## Code
```python
import sympy as sp
with sp.evaluate(False):
  sp.S('Point2D(Integer(1),Integer(2))')
```

## Error
```
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/core/sympify.py", line 472, in sympify
    expr = parse_expr(a, local_dict=locals, transformations=transformations, evaluate=evaluate)
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/parsing/sympy_parser.py", line 1026, in parse_expr
    raise e from ValueError(f"Error from parse_expr with transformed code: {code!r}")
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/parsing/sympy_parser.py", line 1017, in parse_expr
    rv = eval_expr(code, local_dict, global_dict)
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/parsing/sympy_parser.py", line 911, in eval_expr
    expr = eval(
  File "<string>", line 1, in <module>
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/geometry/point.py", line 912, in __new__
    args = Point(*args, **kwargs)
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/geometry/point.py", line 153, in __new__
    raise ValueError('Imaginary coordinates are not permitted.')
ValueError: Imaginary coordinates are not permitted.
```

However, it works without `with evaluate(False)`. Both of following commands work
```python
sp.S('Point2D(Integer(1),Integer(2))')
sp.S('Point2D(Integer(1),Integer(2))', evaluate=False)
```

Patch information:
diff --git a/sympy/geometry/point.py b/sympy/geometry/point.py
index 73c20334d0..c145e1ba58 100644
--- a/sympy/geometry/point.py
+++ b/sympy/geometry/point.py
@@ -152,7 +152,7 @@ def __new__(cls, *args, **kwargs):
                         'warn' or 'ignore'.'''))
         if any(coords[dim:]):
             raise ValueError('Nonzero coordinates cannot be removed.')
-        if any(a.is_number and im(a) for a in coords):
+        if any(a.is_number and not a.is_extended_real for a in coords):
             raise ValueError('Imaginary coordinates are not permitted.')
         if not all(isinstance(a, Expr) for a in coords):
             raise TypeError('Coordinates must be valid SymPy expressions.')


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-12-21 05:01:51,632 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sympy
├── .ci
|   ├── README.rst
|   ├── generate_durations_log.sh
|   └── parse_durations_log.py
├── .github
|   └── workflows
|       ├── ci-sage.yml
|       ├── comment-on-pr.yml
|       └── runtests.yml
├── .travis.yml
├── CODE_OF_CONDUCT.md
├── CONTRIBUTING.md
├── PULL_REQUEST_TEMPLATE.md
├── README.md
├── bin
|   ├── ask_update.py
|   ├── authors_update.py
|   ├── coverage_doctest.py
|   ├── coverage_report.py
|   ├── generate_module_list.py
|   ├── generate_test_list.py
|   ├── get_sympy.py
|   ├── mailmap_update.py
|   ├── sympy_time.py
|   ├── sympy_time_cache.py
|   ├── test_executable.py
|   ├── test_external_imports.py
|   ├── test_import.py
|   ├── test_optional_dependencies.py
|   ├── test_py2_import.py
|   ├── test_setup.py
|   ├── test_sphinx.sh
|   ├── test_submodule_imports.py
|   ├── test_symengine.py
|   ├── test_tensorflow.py
|   └── test_travis.sh
├── codecov.yml
├── conftest.py
├── data
|   └── TeXmacs
|       ├── bin
|       └── progs
├── doc
|   ├── README.rst
|   ├── api
|   |   ├── conf.py
|   |   └── index.rst
|   ├── cheatsheet
|   ├── convert-svg-to-pdf.sh
|   ├── ext
|   |   ├── docscrape.py
|   |   ├── docscrape_sphinx.py
|   |   ├── numpydoc.py
|   |   └── sympylive.py
|   ├── generate_logos.py
|   ├── man
|   |   └── isympy.xml
|   ├── requirements.txt
|   └── src
|       ├── _static
|       ├── _templates
|       |   └── layout.html
|       ├── aboutus.rst
|       ├── citing.rst
|       ├── conf.py
|       ├── explanation
|       |   ├── gotchas.rst
|       |   ├── index.rst
|       |   └── special_topics
|       |       ├── classification.rst
|       |       ├── finite_diff_derivatives.rst
|       |       └── index.rst
|       ├── guides
|       |   ├── assumptions.rst
|       |   ├── booleans.rst
|       |   ├── contributing
|       |   |   ├── build-docs.rst
|       |   |   ├── debug.rst
|       |   |   ├── dev-setup.rst
|       |   |   ├── docstring.rst
|       |   |   ├── documentation-style-guide.rst
|       |   |   ├── index.rst
|       |   |   └── make-a-contribution.rst
|       |   ├── getting_started
|       |   |   ├── index.rst
|       |   |   └── install.md
|       |   └── index.rst
|       ├── index.rst
|       ├── logo
|       |   └── info.txt
|       ├── miscellaneous
|       |   └── index.rst
|       ├── modules
|       |   ├── abc.rst
|       |   ├── algebras.rst
|       |   ├── assumptions
|       |   |   ├── ask.rst
|       |   |   ├── assume.rst
|       |   |   ├── index.rst
|       |   |   ├── predicates.rst
|       |   |   └── refine.rst
|       |   ├── calculus
|       |   |   └── index.rst
|       |   ├── categories.rst
|       |   ├── codegen.rst
|       |   ├── combinatorics
|       |   |   ├── fp_groups.rst
|       |   |   ├── graycode.rst
|       |   |   ├── group_constructs.rst
|       |   |   ├── index.rst
|       |   |   ├── named_groups.rst
|       |   |   ├── partitions.rst
|       |   |   ├── pc_groups.rst
|       |   |   ├── perm_groups.rst
|       |   |   ├── permutations.rst
|       |   |   ├── polyhedron.rst
|       |   |   ├── prufer.rst
|       |   |   ├── subsets.rst
|       |   |   ├── tensor_can.rst
|       |   |   ├── testutil.rst
|       |   |   └── util.rst
|       |   ├── concrete.rst
|       |   ├── core.rst
|       |   ├── crypto.rst
|       |   ├── diffgeom.rst
|       |   ├── discrete.rst
|       |   ├── evalf.rst
|       |   ├── functions
|       |   |   ├── combinatorial.rst
|       |   |   ├── elementary.rst
|       |   |   ├── index.rst
|       |   |   └── special.rst
|       |   ├── geometry
|       |   |   ├── curves.rst
|       |   |   ├── ellipses.rst
|       |   |   ├── entities.rst
|       |   |   ├── index.rst
|       |   |   ├── lines.rst
|       |   |   ├── plane.rst
|       |   |   ├── points.rst
|       |   |   ├── polygons.rst
|       |   |   └── utils.rst
|       |   ├── holonomic
|       |   |   ├── about.rst
|       |   |   ├── convert.rst
|       |   |   ├── index.rst
|       |   |   ├── internal.rst
|       |   |   ├── operations.rst
|       |   |   ├── represent.rst
|       |   |   └── uses.rst
|       |   ├── integrals
|       |   |   ├── g-functions.rst
|       |   |   ├── index.rst
|       |   |   └── integrals.rst
|       |   ├── interactive.rst
|       |   ├── liealgebras
|       |   |   └── index.rst
|       |   ├── logic.rst
|       |   ├── matrices
|       |   |   ├── common.rst
|       |   |   ├── dense.rst
|       |   |   ├── expressions.rst
|       |   |   ├── immutablematrices.rst
|       |   |   ├── index.rst
|       |   |   ├── matrices.rst
|       |   |   ├── normalforms.rst
|       |   |   ├── sparse.rst
|       |   |   └── sparsetools.rst
|       |   ├── ntheory.rst
|       |   ├── numeric-computation.rst
|       |   ├── parsing.rst
|       |   ├── physics
|       |   |   ├── continuum_mechanics
|       |   |   ├── control
|       |   |   ├── hep
|       |   |   ├── hydrogen.rst
|       |   |   ├── matrices.rst
|       |   |   ├── mechanics
|       |   |   ├── optics
|       |   |   ├── paulialgebra.rst
|       |   |   ├── qho_1d.rst
|       |   |   ├── quantum
|       |   |   ├── secondquant.rst
|       |   |   ├── sho.rst
|       |   |   ├── units
|       |   |   ├── vector
|       |   |   └── wigner.rst
|       |   ├── plotting.rst
|       |   ├── polys
|       |   |   ├── agca.rst
|       |   |   ├── basics.rst
|       |   |   ├── domainmatrix.rst
|       |   |   ├── domainsintro.rst
|       |   |   ├── domainsref.rst
|       |   |   ├── index.rst
|       |   |   ├── internals.rst
|       |   |   ├── literature.rst
|       |   |   ├── numberfields.rst
|       |   |   ├── reference.rst
|       |   |   ├── ringseries.rst
|       |   |   ├── solvers.rst
|       |   |   └── wester.rst
|       |   ├── printing.rst
|       |   ├── rewriting.rst
|       |   ├── series
|       |   |   ├── formal.rst
|       |   |   ├── fourier.rst
|       |   |   ├── index.rst
|       |   |   ├── limitseq.rst
|       |   |   ├── sequences.rst
|       |   |   └── series.rst
|       |   ├── sets.rst
|       |   ├── simplify
|       |   |   ├── fu.rst
|       |   |   ├── hyperexpand.rst
|       |   |   ├── index.rst
|       |   |   └── simplify.rst
|       |   ├── solvers
|       |   |   ├── diophantine.rst
|       |   |   ├── index.rst
|       |   |   ├── inequalities.rst
|       |   |   ├── ode.rst
|       |   |   ├── pde.rst
|       |   |   ├── solvers.rst
|       |   |   └── solveset.rst
|       |   ├── stats.rst
|       |   ├── tensor
|       |   |   ├── array.rst
|       |   |   ├── index.rst
|       |   |   ├── index_methods.rst
|       |   |   ├── indexed.rst
|       |   |   ├── tensor.rst
|       |   |   └── toperators.rst
|       |   ├── testing
|       |   |   ├── index.rst
|       |   |   ├── pytest.rst
|       |   |   ├── randtest.rst
|       |   |   └── runtests.rst
|       |   ├── utilities
|       |   |   ├── autowrap.rst
|       |   |   ├── codegen.rst
|       |   |   ├── decorator.rst
|       |   |   ├── enumerative.rst
|       |   |   ├── index.rst
|       |   |   ├── iterables.rst
|       |   |   ├── lambdify.rst
|       |   |   ├── memoization.rst
|       |   |   ├── misc.rst
|       |   |   ├── pkgdata.rst
|       |   |   ├── source.rst
|       |   |   └── timeutils.rst
|       |   └── vector
|       |       ├── api
|       |       ├── basics.rst
|       |       ├── coordsys.rst
|       |       ├── examples.rst
|       |       ├── fields.rst
|       |       ├── index.rst
|       |       ├── intro.rst
|       |       └── vector_integration.rst
|       ├── outreach.rst
|       ├── pics
|       ├── reference
|       |   ├── index.rst
|       |   └── public
|       |       ├── basics
|       |       ├── codegeneration
|       |       ├── logic
|       |       ├── matrices
|       |       ├── numbertheory
|       |       ├── physics
|       |       ├── topics
|       |       └── utilities
|       ├── tutorial
|       |   ├── basic_operations.rst
|       |   ├── calculus.rst
|       |   ├── features.rst
|       |   ├── gotchas.rst
|       |   ├── index.rst
|       |   ├── intro.rst
|       |   ├── manipulation.rst
|       |   ├── matrices.rst
|       |   ├── preliminaries.rst
|       |   ├── printing.rst
|       |   ├── simplification.rst
|       |   └── solvers.rst
|       └── wiki.rst
├── examples
|   ├── advanced
|   |   ├── autowrap_integrators.py
|   |   ├── autowrap_ufuncify.py
|   |   ├── curvilinear_coordinates.py
|   |   ├── dense_coding_example.py
|   |   ├── fem.py
|   |   ├── gibbs_phenomenon.py
|   |   ├── grover_example.py
|   |   ├── hydrogen.py
|   |   ├── pidigits.py
|   |   ├── pyglet_plotting.py
|   |   ├── qft.py
|   |   └── relativity.py
|   ├── all.py
|   ├── beginner
|   |   ├── basic.py
|   |   ├── differentiation.py
|   |   ├── expansion.py
|   |   ├── functions.py
|   |   ├── limits_examples.py
|   |   ├── plot_examples.py
|   |   ├── plotting_nice_plot.py
|   |   ├── precision.py
|   |   ├── print_pretty.py
|   |   ├── series.py
|   |   └── substitution.py
|   ├── intermediate
|   |   ├── coupled_cluster.py
|   |   ├── differential_equations.py
|   |   ├── infinite_1d_box.py
|   |   ├── mplot2d.py
|   |   ├── mplot3d.py
|   |   ├── partial_differential_eqs.py
|   |   ├── print_gtk.py
|   |   ├── sample.py
|   |   ├── trees.py
|   |   └── vandermonde.py
|   └── notebooks
|       └── README.txt
├── isympy.py
├── release
|   ├── Dockerfile
|   ├── README.md
|   ├── aptinstall.sh
|   ├── authors.py
|   ├── build_docs.py
|   ├── compare_tar_against_git.py
|   ├── fabfile.py
|   ├── github_release.py
|   ├── helpers.py
|   ├── pull_and_run_rever.sh
|   ├── release.sh
|   ├── releasecheck.py
|   ├── requirements.txt
|   ├── sha256.py
|   ├── test_install.py
|   ├── update_docs.py
|   └── update_requirements.sh
├── setup.py
├── setupegg.py
└── sympy
    ├── __init__.py
    ├── abc.py
    ├── algebras
    |   ├── __init__.py
    |   ├── quaternion.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_quaternion.py
    ├── assumptions
    |   ├── __init__.py
    |   ├── ask.py
    |   ├── ask_generated.py
    |   ├── assume.py
    |   ├── cnf.py
    |   ├── facts.py
    |   ├── handlers
    |   |   ├── __init__.py
    |   |   ├── calculus.py
    |   |   ├── common.py
    |   |   ├── matrices.py
    |   |   ├── ntheory.py
    |   |   ├── order.py
    |   |   └── sets.py
    |   ├── predicates
    |   |   ├── __init__.py
    |   |   ├── calculus.py
    |   |   ├── common.py
    |   |   ├── matrices.py
    |   |   ├── ntheory.py
    |   |   ├── order.py
    |   |   └── sets.py
    |   ├── refine.py
    |   ├── relation
    |   |   ├── __init__.py
    |   |   ├── binrel.py
    |   |   └── equality.py
    |   ├── satask.py
    |   ├── sathandlers.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_assumptions_2.py
    |   |   ├── test_context.py
    |   |   ├── test_matrices.py
    |   |   ├── test_query.py
    |   |   ├── test_refine.py
    |   |   ├── test_satask.py
    |   |   ├── test_sathandlers.py
    |   |   └── test_wrapper.py
    |   └── wrapper.py
    ├── benchmarks
    |   ├── __init__.py
    |   ├── bench_discrete_log.py
    |   ├── bench_meijerint.py
    |   └── bench_symbench.py
    ├── calculus
    |   ├── __init__.py
    |   ├── accumulationbounds.py
    |   ├── euler.py
    |   ├── finite_diff.py
    |   ├── singularities.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_accumulationbounds.py
    |   |   ├── test_euler.py
    |   |   ├── test_finite_diff.py
    |   |   ├── test_singularities.py
    |   |   └── test_util.py
    |   └── util.py
    ├── categories
    |   ├── __init__.py
    |   ├── baseclasses.py
    |   ├── diagram_drawing.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_baseclasses.py
    |       └── test_drawing.py
    ├── codegen
    |   ├── __init__.py
    |   ├── abstract_nodes.py
    |   ├── algorithms.py
    |   ├── approximations.py
    |   ├── array_utils.py
    |   ├── ast.py
    |   ├── cfunctions.py
    |   ├── cnodes.py
    |   ├── cutils.py
    |   ├── cxxnodes.py
    |   ├── fnodes.py
    |   ├── futils.py
    |   ├── matrix_nodes.py
    |   ├── numpy_nodes.py
    |   ├── pynodes.py
    |   ├── pyutils.py
    |   ├── rewriting.py
    |   ├── scipy_nodes.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_algorithms.py
    |       ├── test_applications.py
    |       ├── test_approximations.py
    |       ├── test_ast.py
    |       ├── test_cfunctions.py
    |       ├── test_cnodes.py
    |       ├── test_cxxnodes.py
    |       ├── test_fnodes.py
    |       ├── test_numpy_nodes.py
    |       ├── test_pynodes.py
    |       ├── test_pyutils.py
    |       ├── test_rewriting.py
    |       └── test_scipy_nodes.py
    ├── combinatorics
    |   ├── __init__.py
    |   ├── coset_table.py
    |   ├── fp_groups.py
    |   ├── free_groups.py
    |   ├── generators.py
    |   ├── graycode.py
    |   ├── group_constructs.py
    |   ├── homomorphisms.py
    |   ├── named_groups.py
    |   ├── partitions.py
    |   ├── pc_groups.py
    |   ├── perm_groups.py
    |   ├── permutations.py
    |   ├── polyhedron.py
    |   ├── prufer.py
    |   ├── rewritingsystem.py
    |   ├── rewritingsystem_fsm.py
    |   ├── schur_number.py
    |   ├── subsets.py
    |   ├── tensor_can.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_coset_table.py
    |   |   ├── test_fp_groups.py
    |   |   ├── test_free_groups.py
    |   |   ├── test_generators.py
    |   |   ├── test_graycode.py
    |   |   ├── test_group_constructs.py
    |   |   ├── test_homomorphisms.py
    |   |   ├── test_named_groups.py
    |   |   ├── test_partitions.py
    |   |   ├── test_pc_groups.py
    |   |   ├── test_perm_groups.py
    |   |   ├── test_permutations.py
    |   |   ├── test_polyhedron.py
    |   |   ├── test_prufer.py
    |   |   ├── test_rewriting.py
    |   |   ├── test_schur_number.py
    |   |   ├── test_subsets.py
    |   |   ├── test_tensor_can.py
    |   |   ├── test_testutil.py
    |   |   └── test_util.py
    |   ├── testutil.py
    |   └── util.py
    ├── concrete
    |   ├── __init__.py
    |   ├── delta.py
    |   ├── expr_with_intlimits.py
    |   ├── expr_with_limits.py
    |   ├── gosper.py
    |   ├── guess.py
    |   ├── products.py
    |   ├── summations.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_delta.py
    |       ├── test_gosper.py
    |       ├── test_guess.py
    |       ├── test_products.py
    |       └── test_sums_products.py
    ├── conftest.py
    ├── core
    |   ├── __init__.py
    |   ├── _print_helpers.py
    |   ├── add.py
    |   ├── alphabets.py
    |   ├── assumptions.py
    |   ├── backend.py
    |   ├── basic.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_arit.py
    |   |   ├── bench_assumptions.py
    |   |   ├── bench_basic.py
    |   |   ├── bench_expand.py
    |   |   ├── bench_numbers.py
    |   |   └── bench_sympify.py
    |   ├── cache.py
    |   ├── compatibility.py
    |   ├── containers.py
    |   ├── core.py
    |   ├── coreerrors.py
    |   ├── decorators.py
    |   ├── evalf.py
    |   ├── expr.py
    |   ├── exprtools.py
    |   ├── facts.py
    |   ├── function.py
    |   ├── kind.py
    |   ├── logic.py
    |   ├── mod.py
    |   ├── mul.py
    |   ├── multidimensional.py
    |   ├── numbers.py
    |   ├── operations.py
    |   ├── parameters.py
    |   ├── power.py
    |   ├── random.py
    |   ├── relational.py
    |   ├── rules.py
    |   ├── singleton.py
    |   ├── sorting.py
    |   ├── symbol.py
    |   ├── sympify.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_args.py
    |   |   ├── test_arit.py
    |   |   ├── test_assumptions.py
    |   |   ├── test_basic.py
    |   |   ├── test_cache.py
    |   |   ├── test_complex.py
    |   |   ├── test_constructor_postprocessor.py
    |   |   ├── test_containers.py
    |   |   ├── test_count_ops.py
    |   |   ├── test_diff.py
    |   |   ├── test_equal.py
    |   |   ├── test_eval.py
    |   |   ├── test_evalf.py
    |   |   ├── test_expand.py
    |   |   ├── test_expr.py
    |   |   ├── test_exprtools.py
    |   |   ├── test_facts.py
    |   |   ├── test_function.py
    |   |   ├── test_kind.py
    |   |   ├── test_logic.py
    |   |   ├── test_match.py
    |   |   ├── test_multidimensional.py
    |   |   ├── test_noncommutative.py
    |   |   ├── test_numbers.py
    |   |   ├── test_operations.py
    |   |   ├── test_parameters.py
    |   |   ├── test_power.py
    |   |   ├── test_priority.py
    |   |   ├── test_random.py
    |   |   ├── test_relational.py
    |   |   ├── test_rules.py
    |   |   ├── test_singleton.py
    |   |   ├── test_sorting.py
    |   |   ├── test_subs.py
    |   |   ├── test_symbol.py
    |   |   ├── test_sympify.py
    |   |   ├── test_traversal.py
    |   |   ├── test_truediv.py
    |   |   └── test_var.py
    |   ├── trace.py
    |   └── traversal.py
    ├── crypto
    |   ├── __init__.py
    |   ├── crypto.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_crypto.py
    ├── diffgeom
    |   ├── __init__.py
    |   ├── diffgeom.py
    |   ├── rn.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_class_structure.py
    |       ├── test_diffgeom.py
    |       ├── test_function_diffgeom_book.py
    |       └── test_hyperbolic_space.py
    ├── discrete
    |   ├── __init__.py
    |   ├── convolutions.py
    |   ├── recurrences.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_convolutions.py
    |   |   ├── test_recurrences.py
    |   |   └── test_transforms.py
    |   └── transforms.py
    ├── external
    |   ├── __init__.py
    |   ├── gmpy.py
    |   ├── importtools.py
    |   ├── pythonmpq.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_autowrap.py
    |       ├── test_codegen.py
    |       ├── test_importtools.py
    |       ├── test_numpy.py
    |       ├── test_pythonmpq.py
    |       └── test_scipy.py
    ├── functions
    |   ├── __init__.py
    |   ├── combinatorial
    |   |   ├── __init__.py
    |   |   ├── factorials.py
    |   |   ├── numbers.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_comb_factorials.py
    |   |       └── test_comb_numbers.py
    |   ├── elementary
    |   |   ├── __init__.py
    |   |   ├── benchmarks
    |   |   |   ├── __init__.py
    |   |   |   └── bench_exp.py
    |   |   ├── complexes.py
    |   |   ├── exponential.py
    |   |   ├── hyperbolic.py
    |   |   ├── integers.py
    |   |   ├── miscellaneous.py
    |   |   ├── piecewise.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_complexes.py
    |   |   |   ├── test_exponential.py
    |   |   |   ├── test_hyperbolic.py
    |   |   |   ├── test_integers.py
    |   |   |   ├── test_interface.py
    |   |   |   ├── test_miscellaneous.py
    |   |   |   ├── test_piecewise.py
    |   |   |   └── test_trigonometric.py
    |   |   └── trigonometric.py
    |   └── special
    |       ├── __init__.py
    |       ├── benchmarks
    |       |   ├── __init__.py
    |       |   └── bench_special.py
    |       ├── bessel.py
    |       ├── beta_functions.py
    |       ├── bsplines.py
    |       ├── delta_functions.py
    |       ├── elliptic_integrals.py
    |       ├── error_functions.py
    |       ├── gamma_functions.py
    |       ├── hyper.py
    |       ├── mathieu_functions.py
    |       ├── polynomials.py
    |       ├── singularity_functions.py
    |       ├── spherical_harmonics.py
    |       ├── tensor_functions.py
    |       ├── tests
    |       |   ├── __init__.py
    |       |   ├── test_bessel.py
    |       |   ├── test_beta_functions.py
    |       |   ├── test_bsplines.py
    |       |   ├── test_delta_functions.py
    |       |   ├── test_elliptic_integrals.py
    |       |   ├── test_error_functions.py
    |       |   ├── test_gamma_functions.py
    |       |   ├── test_hyper.py
    |       |   ├── test_mathieu.py
    |       |   ├── test_singularity_functions.py
    |       |   ├── test_spec_polynomials.py
    |       |   ├── test_spherical_harmonics.py
    |       |   ├── test_tensor_functions.py
    |       |   └── test_zeta_functions.py
    |       └── zeta_functions.py
    ├── galgebra.py
    ├── geometry
    |   ├── __init__.py
    |   ├── curve.py
    |   ├── ellipse.py
    |   ├── entity.py
    |   ├── exceptions.py
    |   ├── line.py
    |   ├── parabola.py
    |   ├── plane.py
    |   ├── point.py
    |   ├── polygon.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_curve.py
    |   |   ├── test_ellipse.py
    |   |   ├── test_entity.py
    |   |   ├── test_geometrysets.py
    |   |   ├── test_line.py
    |   |   ├── test_parabola.py
    |   |   ├── test_plane.py
    |   |   ├── test_point.py
    |   |   ├── test_polygon.py
    |   |   └── test_util.py
    |   └── util.py
    ├── holonomic
    |   ├── __init__.py
    |   ├── holonomic.py
    |   ├── holonomicerrors.py
    |   ├── numerical.py
    |   ├── recurrence.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_holonomic.py
    |       └── test_recurrence.py
    ├── integrals
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_integrate.py
    |   |   └── bench_trigintegrate.py
    |   ├── deltafunctions.py
    |   ├── heurisch.py
    |   ├── integrals.py
    |   ├── intpoly.py
    |   ├── manualintegrate.py
    |   ├── meijerint.py
    |   ├── meijerint_doc.py
    |   ├── prde.py
    |   ├── quadrature.py
    |   ├── rationaltools.py
    |   ├── rde.py
    |   ├── risch.py
    |   ├── rubi
    |   |   ├── __init__.py
    |   |   ├── constraints.py
    |   |   ├── parsetools
    |   |   |   ├── __init__.py
    |   |   |   ├── generate_rules.py
    |   |   |   ├── generate_tests.py
    |   |   |   ├── header.py.txt
    |   |   |   ├── parse.py
    |   |   |   └── tests
    |   |   ├── rubi_tests
    |   |   |   ├── __init__.py
    |   |   |   └── tests
    |   |   ├── rubimain.py
    |   |   ├── rules
    |   |   |   ├── __init__.py
    |   |   |   ├── binomial_products.py
    |   |   |   ├── exponential.py
    |   |   |   ├── hyperbolic.py
    |   |   |   ├── integrand_simplification.py
    |   |   |   ├── inverse_hyperbolic.py
    |   |   |   ├── inverse_trig.py
    |   |   |   ├── linear_products.py
    |   |   |   ├── logarithms.py
    |   |   |   ├── miscellaneous_algebraic.py
    |   |   |   ├── miscellaneous_integration.py
    |   |   |   ├── miscellaneous_trig.py
    |   |   |   ├── piecewise_linear.py
    |   |   |   ├── quadratic_products.py
    |   |   |   ├── secant.py
    |   |   |   ├── sine.py
    |   |   |   ├── special_functions.py
    |   |   |   ├── tangent.py
    |   |   |   └── trinomial_products.py
    |   |   ├── symbol.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_rubi_integrate.py
    |   |   |   └── test_utility_function.py
    |   |   └── utility_function.py
    |   ├── singularityfunctions.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_deltafunctions.py
    |   |   ├── test_failing_integrals.py
    |   |   ├── test_heurisch.py
    |   |   ├── test_integrals.py
    |   |   ├── test_intpoly.py
    |   |   ├── test_lineintegrals.py
    |   |   ├── test_manual.py
    |   |   ├── test_meijerint.py
    |   |   ├── test_prde.py
    |   |   ├── test_quadrature.py
    |   |   ├── test_rationaltools.py
    |   |   ├── test_rde.py
    |   |   ├── test_risch.py
    |   |   ├── test_singularityfunctions.py
    |   |   ├── test_transforms.py
    |   |   └── test_trigonometry.py
    |   ├── transforms.py
    |   └── trigonometry.py
    ├── interactive
    |   ├── __init__.py
    |   ├── printing.py
    |   ├── session.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_interactive.py
    |   |   └── test_ipython.py
    |   └── traversal.py
    ├── liealgebras
    |   ├── __init__.py
    |   ├── cartan_matrix.py
    |   ├── cartan_type.py
    |   ├── dynkin_diagram.py
    |   ├── root_system.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_cartan_matrix.py
    |   |   ├── test_cartan_type.py
    |   |   ├── test_dynkin_diagram.py
    |   |   ├── test_root_system.py
    |   |   ├── test_type_A.py
    |   |   ├── test_type_B.py
    |   |   ├── test_type_C.py
    |   |   ├── test_type_D.py
    |   |   ├── test_type_E.py
    |   |   ├── test_type_F.py
    |   |   ├── test_type_G.py
    |   |   └── test_weyl_group.py
    |   ├── type_a.py
    |   ├── type_b.py
    |   ├── type_c.py
    |   ├── type_d.py
    |   ├── type_e.py
    |   ├── type_f.py
    |   ├── type_g.py
    |   └── weyl_group.py
    ├── logic
    |   ├── __init__.py
    |   ├── algorithms
    |   |   ├── __init__.py
    |   |   ├── dpll.py
    |   |   ├── dpll2.py
    |   |   ├── minisat22_wrapper.py
    |   |   └── pycosat_wrapper.py
    |   ├── boolalg.py
    |   ├── inference.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_boolalg.py
    |   |   ├── test_dimacs.py
    |   |   └── test_inference.py
    |   └── utilities
    |       ├── __init__.py
    |       └── dimacs.py
    ├── matrices
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   └── bench_matrix.py
    |   ├── common.py
    |   ├── decompositions.py
    |   ├── dense.py
    |   ├── densearith.py
    |   ├── densesolve.py
    |   ├── densetools.py
    |   ├── determinant.py
    |   ├── eigen.py
    |   ├── expressions
    |   |   ├── __init__.py
    |   |   ├── adjoint.py
    |   |   ├── applyfunc.py
    |   |   ├── blockmatrix.py
    |   |   ├── companion.py
    |   |   ├── determinant.py
    |   |   ├── diagonal.py
    |   |   ├── dotproduct.py
    |   |   ├── factorizations.py
    |   |   ├── fourier.py
    |   |   ├── funcmatrix.py
    |   |   ├── hadamard.py
    |   |   ├── inverse.py
    |   |   ├── kronecker.py
    |   |   ├── matadd.py
    |   |   ├── matexpr.py
    |   |   ├── matmul.py
    |   |   ├── matpow.py
    |   |   ├── permutation.py
    |   |   ├── sets.py
    |   |   ├── slice.py
    |   |   ├── special.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_adjoint.py
    |   |   |   ├── test_applyfunc.py
    |   |   |   ├── test_blockmatrix.py
    |   |   |   ├── test_companion.py
    |   |   |   ├── test_derivatives.py
    |   |   |   ├── test_determinant.py
    |   |   |   ├── test_diagonal.py
    |   |   |   ├── test_dotproduct.py
    |   |   |   ├── test_factorizations.py
    |   |   |   ├── test_fourier.py
    |   |   |   ├── test_funcmatrix.py
    |   |   |   ├── test_hadamard.py
    |   |   |   ├── test_indexing.py
    |   |   |   ├── test_inverse.py
    |   |   |   ├── test_kronecker.py
    |   |   |   ├── test_matadd.py
    |   |   |   ├── test_matexpr.py
    |   |   |   ├── test_matmul.py
    |   |   |   ├── test_matpow.py
    |   |   |   ├── test_permutation.py
    |   |   |   ├── test_sets.py
    |   |   |   ├── test_slice.py
    |   |   |   ├── test_special.py
    |   |   |   ├── test_trace.py
    |   |   |   └── test_transpose.py
    |   |   ├── trace.py
    |   |   └── transpose.py
    |   ├── graph.py
    |   ├── immutable.py
    |   ├── inverse.py
    |   ├── matrices.py
    |   ├── normalforms.py
    |   ├── reductions.py
    |   ├── repmatrix.py
    |   ├── solvers.py
    |   ├── sparse.py
    |   ├── sparsetools.py
    |   ├── subspaces.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_commonmatrix.py
    |   |   ├── test_decompositions.py
    |   |   ├── test_densearith.py
    |   |   ├── test_densesolve.py
    |   |   ├── test_densetools.py
    |   |   ├── test_determinant.py
    |   |   ├── test_eigen.py
    |   |   ├── test_graph.py
    |   |   ├── test_immutable.py
    |   |   ├── test_interactions.py
    |   |   ├── test_matrices.py
    |   |   ├── test_normalforms.py
    |   |   ├── test_reductions.py
    |   |   ├── test_solvers.py
    |   |   ├── test_sparse.py
    |   |   ├── test_sparsetools.py
    |   |   └── test_subspaces.py
    |   └── utilities.py
    ├── multipledispatch
    |   ├── __init__.py
    |   ├── conflict.py
    |   ├── core.py
    |   ├── dispatcher.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_conflict.py
    |   |   ├── test_core.py
    |   |   └── test_dispatcher.py
    |   └── utils.py
    ├── ntheory
    |   ├── __init__.py
    |   ├── bbp_pi.py
    |   ├── continued_fraction.py
    |   ├── digits.py
    |   ├── ecm.py
    |   ├── egyptian_fraction.py
    |   ├── elliptic_curve.py
    |   ├── factor_.py
    |   ├── generate.py
    |   ├── modular.py
    |   ├── multinomial.py
    |   ├── partitions_.py
    |   ├── primetest.py
    |   ├── qs.py
    |   ├── residue_ntheory.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_bbp_pi.py
    |       ├── test_continued_fraction.py
    |       ├── test_digits.py
    |       ├── test_ecm.py
    |       ├── test_egyptian_fraction.py
    |       ├── test_elliptic_curve.py
    |       ├── test_factor_.py
    |       ├── test_generate.py
    |       ├── test_modular.py
    |       ├── test_multinomial.py
    |       ├── test_partitions.py
    |       ├── test_primetest.py
    |       ├── test_qs.py
    |       └── test_residue.py
    ├── parsing
    |   ├── __init__.py
    |   ├── ast_parser.py
    |   ├── autolev
    |   |   ├── __init__.py
    |   |   ├── _antlr
    |   |   |   ├── __init__.py
    |   |   |   ├── autolevlexer.py
    |   |   |   ├── autolevlistener.py
    |   |   |   └── autolevparser.py
    |   |   ├── _listener_autolev_antlr.py
    |   |   ├── _parse_autolev_antlr.py
    |   |   └── test-examples
    |   |       ├── README.txt
    |   |       ├── pydy-example-repo
    |   |       ├── ruletest1.py
    |   |       ├── ruletest10.py
    |   |       ├── ruletest11.py
    |   |       ├── ruletest12.py
    |   |       ├── ruletest2.py
    |   |       ├── ruletest3.py
    |   |       ├── ruletest4.py
    |   |       ├── ruletest5.py
    |   |       ├── ruletest6.py
    |   |       ├── ruletest7.py
    |   |       ├── ruletest8.py
    |   |       └── ruletest9.py
    |   ├── c
    |   |   ├── __init__.py
    |   |   └── c_parser.py
    |   ├── fortran
    |   |   ├── __init__.py
    |   |   └── fortran_parser.py
    |   ├── latex
    |   |   ├── LICENSE.txt
    |   |   ├── __init__.py
    |   |   ├── _antlr
    |   |   |   ├── __init__.py
    |   |   |   ├── latexlexer.py
    |   |   |   └── latexparser.py
    |   |   ├── _build_latex_antlr.py
    |   |   ├── _parse_latex_antlr.py
    |   |   └── errors.py
    |   ├── mathematica.py
    |   ├── maxima.py
    |   ├── sym_expr.py
    |   ├── sympy_parser.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_ast_parser.py
    |       ├── test_autolev.py
    |       ├── test_c_parser.py
    |       ├── test_fortran_parser.py
    |       ├── test_implicit_multiplication_application.py
    |       ├── test_latex.py
    |       ├── test_latex_deps.py
    |       ├── test_mathematica.py
    |       ├── test_maxima.py
    |       ├── test_sym_expr.py
    |       └── test_sympy_parser.py
    ├── physics
    |   ├── __init__.py
    |   ├── continuum_mechanics
    |   |   ├── __init__.py
    |   |   ├── beam.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_beam.py
    |   ├── control
    |   |   ├── __init__.py
    |   |   ├── control_plots.py
    |   |   ├── lti.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_control_plots.py
    |   |       └── test_lti.py
    |   ├── hep
    |   |   ├── __init__.py
    |   |   ├── gamma_matrices.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_gamma_matrices.py
    |   ├── hydrogen.py
    |   ├── matrices.py
    |   ├── mechanics
    |   |   ├── __init__.py
    |   |   ├── body.py
    |   |   ├── functions.py
    |   |   ├── joint.py
    |   |   ├── jointsmethod.py
    |   |   ├── kane.py
    |   |   ├── lagrange.py
    |   |   ├── linearize.py
    |   |   ├── method.py
    |   |   ├── models.py
    |   |   ├── particle.py
    |   |   ├── rigidbody.py
    |   |   ├── system.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_body.py
    |   |       ├── test_functions.py
    |   |       ├── test_joint.py
    |   |       ├── test_jointsmethod.py
    |   |       ├── test_kane.py
    |   |       ├── test_kane2.py
    |   |       ├── test_kane3.py
    |   |       ├── test_kane4.py
    |   |       ├── test_lagrange.py
    |   |       ├── test_lagrange2.py
    |   |       ├── test_linearize.py
    |   |       ├── test_method.py
    |   |       ├── test_models.py
    |   |       ├── test_particle.py
    |   |       ├── test_rigidbody.py
    |   |       └── test_system.py
    |   ├── optics
    |   |   ├── __init__.py
    |   |   ├── gaussopt.py
    |   |   ├── medium.py
    |   |   ├── polarization.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_gaussopt.py
    |   |   |   ├── test_medium.py
    |   |   |   ├── test_polarization.py
    |   |   |   ├── test_utils.py
    |   |   |   └── test_waves.py
    |   |   ├── utils.py
    |   |   └── waves.py
    |   ├── paulialgebra.py
    |   ├── pring.py
    |   ├── qho_1d.py
    |   ├── quantum
    |   |   ├── __init__.py
    |   |   ├── anticommutator.py
    |   |   ├── boson.py
    |   |   ├── cartesian.py
    |   |   ├── cg.py
    |   |   ├── circuitplot.py
    |   |   ├── circuitutils.py
    |   |   ├── commutator.py
    |   |   ├── constants.py
    |   |   ├── dagger.py
    |   |   ├── density.py
    |   |   ├── fermion.py
    |   |   ├── gate.py
    |   |   ├── grover.py
    |   |   ├── hilbert.py
    |   |   ├── identitysearch.py
    |   |   ├── innerproduct.py
    |   |   ├── matrixcache.py
    |   |   ├── matrixutils.py
    |   |   ├── operator.py
    |   |   ├── operatorordering.py
    |   |   ├── operatorset.py
    |   |   ├── pauli.py
    |   |   ├── piab.py
    |   |   ├── qapply.py
    |   |   ├── qasm.py
    |   |   ├── qexpr.py
    |   |   ├── qft.py
    |   |   ├── qubit.py
    |   |   ├── represent.py
    |   |   ├── sho1d.py
    |   |   ├── shor.py
    |   |   ├── spin.py
    |   |   ├── state.py
    |   |   ├── tensorproduct.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_anticommutator.py
    |   |   |   ├── test_boson.py
    |   |   |   ├── test_cartesian.py
    |   |   |   ├── test_cg.py
    |   |   |   ├── test_circuitplot.py
    |   |   |   ├── test_circuitutils.py
    |   |   |   ├── test_commutator.py
    |   |   |   ├── test_constants.py
    |   |   |   ├── test_dagger.py
    |   |   |   ├── test_density.py
    |   |   |   ├── test_fermion.py
    |   |   |   ├── test_gate.py
    |   |   |   ├── test_grover.py
    |   |   |   ├── test_hilbert.py
    |   |   |   ├── test_identitysearch.py
    |   |   |   ├── test_innerproduct.py
    |   |   |   ├── test_matrixutils.py
    |   |   |   ├── test_operator.py
    |   |   |   ├── test_operatorordering.py
    |   |   |   ├── test_operatorset.py
    |   |   |   ├── test_pauli.py
    |   |   |   ├── test_piab.py
    |   |   |   ├── test_printing.py
    |   |   |   ├── test_qapply.py
    |   |   |   ├── test_qasm.py
    |   |   |   ├── test_qexpr.py
    |   |   |   ├── test_qft.py
    |   |   |   ├── test_qubit.py
    |   |   |   ├── test_represent.py
    |   |   |   ├── test_sho1d.py
    |   |   |   ├── test_shor.py
    |   |   |   ├── test_spin.py
    |   |   |   ├── test_state.py
    |   |   |   ├── test_tensorproduct.py
    |   |   |   └── test_trace.py
    |   |   └── trace.py
    |   ├── secondquant.py
    |   ├── sho.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_clebsch_gordan.py
    |   |   ├── test_hydrogen.py
    |   |   ├── test_paulialgebra.py
    |   |   ├── test_physics_matrices.py
    |   |   ├── test_pring.py
    |   |   ├── test_qho_1d.py
    |   |   ├── test_secondquant.py
    |   |   └── test_sho.py
    |   ├── units
    |   |   ├── __init__.py
    |   |   ├── definitions
    |   |   |   ├── __init__.py
    |   |   |   ├── dimension_definitions.py
    |   |   |   └── unit_definitions.py
    |   |   ├── dimensions.py
    |   |   ├── prefixes.py
    |   |   ├── quantities.py
    |   |   ├── systems
    |   |   |   ├── __init__.py
    |   |   |   ├── cgs.py
    |   |   |   ├── length_weight_time.py
    |   |   |   ├── mks.py
    |   |   |   ├── mksa.py
    |   |   |   ├── natural.py
    |   |   |   └── si.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_dimensions.py
    |   |   |   ├── test_dimensionsystem.py
    |   |   |   ├── test_prefixes.py
    |   |   |   ├── test_quantities.py
    |   |   |   ├── test_unit_system_cgs_gauss.py
    |   |   |   ├── test_unitsystem.py
    |   |   |   └── test_util.py
    |   |   ├── unitsystem.py
    |   |   └── util.py
    |   ├── vector
    |   |   ├── __init__.py
    |   |   ├── dyadic.py
    |   |   ├── fieldfunctions.py
    |   |   ├── frame.py
    |   |   ├── functions.py
    |   |   ├── point.py
    |   |   ├── printing.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_dyadic.py
    |   |   |   ├── test_fieldfunctions.py
    |   |   |   ├── test_frame.py
    |   |   |   ├── test_functions.py
    |   |   |   ├── test_output.py
    |   |   |   ├── test_point.py
    |   |   |   ├── test_printing.py
    |   |   |   └── test_vector.py
    |   |   └── vector.py
    |   └── wigner.py
    ├── plotting
    |   ├── __init__.py
    |   ├── experimental_lambdify.py
    |   ├── intervalmath
    |   |   ├── __init__.py
    |   |   ├── interval_arithmetic.py
    |   |   ├── interval_membership.py
    |   |   ├── lib_interval.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_interval_functions.py
    |   |       ├── test_interval_membership.py
    |   |       └── test_intervalmath.py
    |   ├── plot.py
    |   ├── plot_implicit.py
    |   ├── pygletplot
    |   |   ├── __init__.py
    |   |   ├── color_scheme.py
    |   |   ├── managed_window.py
    |   |   ├── plot.py
    |   |   ├── plot_axes.py
    |   |   ├── plot_camera.py
    |   |   ├── plot_controller.py
    |   |   ├── plot_curve.py
    |   |   ├── plot_interval.py
    |   |   ├── plot_mode.py
    |   |   ├── plot_mode_base.py
    |   |   ├── plot_modes.py
    |   |   ├── plot_object.py
    |   |   ├── plot_rotation.py
    |   |   ├── plot_surface.py
    |   |   ├── plot_window.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── test_plotting.py
    |   |   └── util.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_experimental_lambdify.py
    |   |   ├── test_plot.py
    |   |   ├── test_plot_implicit.py
    |   |   └── test_textplot.py
    |   └── textplot.py
    ├── polys
    |   ├── __init__.py
    |   ├── agca
    |   |   ├── __init__.py
    |   |   ├── extensions.py
    |   |   ├── homomorphisms.py
    |   |   ├── ideals.py
    |   |   ├── modules.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_extensions.py
    |   |       ├── test_homomorphisms.py
    |   |       ├── test_ideals.py
    |   |       └── test_modules.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_galoispolys.py
    |   |   ├── bench_groebnertools.py
    |   |   └── bench_solvers.py
    |   ├── compatibility.py
    |   ├── constructor.py
    |   ├── densearith.py
    |   ├── densebasic.py
    |   ├── densetools.py
    |   ├── dispersion.py
    |   ├── distributedmodules.py
    |   ├── domainmatrix.py
    |   ├── domains
    |   |   ├── __init__.py
    |   |   ├── algebraicfield.py
    |   |   ├── characteristiczero.py
    |   |   ├── complexfield.py
    |   |   ├── compositedomain.py
    |   |   ├── domain.py
    |   |   ├── domainelement.py
    |   |   ├── expressiondomain.py
    |   |   ├── expressionrawdomain.py
    |   |   ├── field.py
    |   |   ├── finitefield.py
    |   |   ├── fractionfield.py
    |   |   ├── gaussiandomains.py
    |   |   ├── gmpyfinitefield.py
    |   |   ├── gmpyintegerring.py
    |   |   ├── gmpyrationalfield.py
    |   |   ├── groundtypes.py
    |   |   ├── integerring.py
    |   |   ├── modularinteger.py
    |   |   ├── mpelements.py
    |   |   ├── old_fractionfield.py
    |   |   ├── old_polynomialring.py
    |   |   ├── polynomialring.py
    |   |   ├── pythonfinitefield.py
    |   |   ├── pythonintegerring.py
    |   |   ├── pythonrational.py
    |   |   ├── pythonrationalfield.py
    |   |   ├── quotientring.py
    |   |   ├── rationalfield.py
    |   |   ├── realfield.py
    |   |   ├── ring.py
    |   |   ├── simpledomain.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_domains.py
    |   |       ├── test_polynomialring.py
    |   |       └── test_quotientring.py
    |   ├── euclidtools.py
    |   ├── factortools.py
    |   ├── fglmtools.py
    |   ├── fields.py
    |   ├── galoistools.py
    |   ├── groebnertools.py
    |   ├── heuristicgcd.py
    |   ├── matrices
    |   |   ├── __init__.py
    |   |   ├── ddm.py
    |   |   ├── dense.py
    |   |   ├── domainmatrix.py
    |   |   ├── domainscalar.py
    |   |   ├── eigen.py
    |   |   ├── exceptions.py
    |   |   ├── linsolve.py
    |   |   ├── normalforms.py
    |   |   ├── sdm.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_ddm.py
    |   |       ├── test_dense.py
    |   |       ├── test_domainmatrix.py
    |   |       ├── test_domainscalar.py
    |   |       ├── test_eigen.py
    |   |       ├── test_linsolve.py
    |   |       ├── test_normalforms.py
    |   |       └── test_sdm.py
    |   ├── modulargcd.py
    |   ├── monomials.py
    |   ├── multivariate_resultants.py
    |   ├── numberfields
    |   |   ├── __init__.py
    |   |   ├── basis.py
    |   |   ├── exceptions.py
    |   |   ├── minpoly.py
    |   |   ├── modules.py
    |   |   ├── primes.py
    |   |   ├── subfield.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_basis.py
    |   |   |   ├── test_minpoly.py
    |   |   |   ├── test_modules.py
    |   |   |   ├── test_numbers.py
    |   |   |   ├── test_primes.py
    |   |   |   ├── test_subfield.py
    |   |   |   └── test_utilities.py
    |   |   └── utilities.py
    |   ├── orderings.py
    |   ├── orthopolys.py
    |   ├── partfrac.py
    |   ├── polyclasses.py
    |   ├── polyconfig.py
    |   ├── polyerrors.py
    |   ├── polyfuncs.py
    |   ├── polymatrix.py
    |   ├── polyoptions.py
    |   ├── polyquinticconst.py
    |   ├── polyroots.py
    |   ├── polytools.py
    |   ├── polyutils.py
    |   ├── rationaltools.py
    |   ├── ring_series.py
    |   ├── rings.py
    |   ├── rootisolation.py
    |   ├── rootoftools.py
    |   ├── solvers.py
    |   ├── specialpolys.py
    |   ├── sqfreetools.py
    |   ├── subresultants_qq_zz.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_constructor.py
    |       ├── test_densearith.py
    |       ├── test_densebasic.py
    |       ├── test_densetools.py
    |       ├── test_dispersion.py
    |       ├── test_distributedmodules.py
    |       ├── test_euclidtools.py
    |       ├── test_factortools.py
    |       ├── test_fields.py
    |       ├── test_galoistools.py
    |       ├── test_groebnertools.py
    |       ├── test_heuristicgcd.py
    |       ├── test_injections.py
    |       ├── test_modulargcd.py
    |       ├── test_monomials.py
    |       ├── test_multivariate_resultants.py
    |       ├── test_orderings.py
    |       ├── test_orthopolys.py
    |       ├── test_partfrac.py
    |       ├── test_polyclasses.py
    |       ├── test_polyfuncs.py
    |       ├── test_polymatrix.py
    |       ├── test_polyoptions.py
    |       ├── test_polyroots.py
    |       ├── test_polytools.py
    |       ├── test_polyutils.py
    |       ├── test_pythonrational.py
    |       ├── test_rationaltools.py
    |       ├── test_ring_series.py
    |       ├── test_rings.py
    |       ├── test_rootisolation.py
    |       ├── test_rootoftools.py
    |       ├── test_solvers.py
    |       ├── test_specialpolys.py
    |       ├── test_sqfreetools.py
    |       └── test_subresultants_qq_zz.py
    ├── printing
    |   ├── __init__.py
    |   ├── aesaracode.py
    |   ├── c.py
    |   ├── ccode.py
    |   ├── codeprinter.py
    |   ├── conventions.py
    |   ├── cxx.py
    |   ├── cxxcode.py
    |   ├── defaults.py
    |   ├── dot.py
    |   ├── fcode.py
    |   ├── fortran.py
    |   ├── glsl.py
    |   ├── gtk.py
    |   ├── jscode.py
    |   ├── julia.py
    |   ├── lambdarepr.py
    |   ├── latex.py
    |   ├── llvmjitcode.py
    |   ├── maple.py
    |   ├── mathematica.py
    |   ├── mathml.py
    |   ├── numpy.py
    |   ├── octave.py
    |   ├── precedence.py
    |   ├── pretty
    |   |   ├── __init__.py
    |   |   ├── pretty.py
    |   |   ├── pretty_symbology.py
    |   |   ├── stringpict.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_pretty.py
    |   ├── preview.py
    |   ├── printer.py
    |   ├── pycode.py
    |   ├── python.py
    |   ├── rcode.py
    |   ├── repr.py
    |   ├── rust.py
    |   ├── str.py
    |   ├── tableform.py
    |   ├── tensorflow.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_aesaracode.py
    |   |   ├── test_c.py
    |   |   ├── test_codeprinter.py
    |   |   ├── test_conventions.py
    |   |   ├── test_cupy.py
    |   |   ├── test_cxx.py
    |   |   ├── test_dot.py
    |   |   ├── test_fortran.py
    |   |   ├── test_glsl.py
    |   |   ├── test_gtk.py
    |   |   ├── test_jscode.py
    |   |   ├── test_julia.py
    |   |   ├── test_lambdarepr.py
    |   |   ├── test_latex.py
    |   |   ├── test_llvmjit.py
    |   |   ├── test_maple.py
    |   |   ├── test_mathematica.py
    |   |   ├── test_mathml.py
    |   |   ├── test_numpy.py
    |   |   ├── test_octave.py
    |   |   ├── test_precedence.py
    |   |   ├── test_preview.py
    |   |   ├── test_pycode.py
    |   |   ├── test_python.py
    |   |   ├── test_rcode.py
    |   |   ├── test_repr.py
    |   |   ├── test_rust.py
    |   |   ├── test_str.py
    |   |   ├── test_tableform.py
    |   |   ├── test_tensorflow.py
    |   |   ├── test_theanocode.py
    |   |   └── test_tree.py
    |   ├── theanocode.py
    |   └── tree.py
    ├── release.py
    ├── sandbox
    |   ├── __init__.py
    |   ├── indexed_integrals.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_indexed_integrals.py
    ├── series
    |   ├── __init__.py
    |   ├── acceleration.py
    |   ├── approximants.py
    |   ├── aseries.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_limit.py
    |   |   └── bench_order.py
    |   ├── formal.py
    |   ├── fourier.py
    |   ├── gruntz.py
    |   ├── kauers.py
    |   ├── limits.py
    |   ├── limitseq.py
    |   ├── order.py
    |   ├── residues.py
    |   ├── sequences.py
    |   ├── series.py
    |   ├── series_class.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_approximants.py
    |       ├── test_aseries.py
    |       ├── test_demidovich.py
    |       ├── test_formal.py
    |       ├── test_fourier.py
    |       ├── test_gruntz.py
    |       ├── test_kauers.py
    |       ├── test_limits.py
    |       ├── test_limitseq.py
    |       ├── test_lseries.py
    |       ├── test_nseries.py
    |       ├── test_order.py
    |       ├── test_residues.py
    |       ├── test_sequences.py
    |       └── test_series.py
    ├── sets
    |   ├── __init__.py
    |   ├── conditionset.py
    |   ├── contains.py
    |   ├── fancysets.py
    |   ├── handlers
    |   |   ├── __init__.py
    |   |   ├── add.py
    |   |   ├── comparison.py
    |   |   ├── functions.py
    |   |   ├── intersection.py
    |   |   ├── issubset.py
    |   |   ├── mul.py
    |   |   ├── power.py
    |   |   └── union.py
    |   ├── ordinals.py
    |   ├── powerset.py
    |   ├── setexpr.py
    |   ├── sets.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_conditionset.py
    |       ├── test_contains.py
    |       ├── test_fancysets.py
    |       ├── test_ordinals.py
    |       ├── test_powerset.py
    |       ├── test_setexpr.py
    |       └── test_sets.py
    ├── simplify
    |   ├── __init__.py
    |   ├── combsimp.py
    |   ├── cse_main.py
    |   ├── cse_opts.py
    |   ├── epathtools.py
    |   ├── fu.py
    |   ├── gammasimp.py
    |   ├── hyperexpand.py
    |   ├── hyperexpand_doc.py
    |   ├── powsimp.py
    |   ├── radsimp.py
    |   ├── ratsimp.py
    |   ├── simplify.py
    |   ├── sqrtdenest.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_combsimp.py
    |   |   ├── test_cse.py
    |   |   ├── test_epathtools.py
    |   |   ├── test_fu.py
    |   |   ├── test_function.py
    |   |   ├── test_gammasimp.py
    |   |   ├── test_hyperexpand.py
    |   |   ├── test_powsimp.py
    |   |   ├── test_radsimp.py
    |   |   ├── test_ratsimp.py
    |   |   ├── test_rewrite.py
    |   |   ├── test_simplify.py
    |   |   ├── test_sqrtdenest.py
    |   |   └── test_trigsimp.py
    |   ├── traversaltools.py
    |   └── trigsimp.py
    ├── solvers
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   └── bench_solvers.py
    |   ├── bivariate.py
    |   ├── decompogen.py
    |   ├── deutils.py
    |   ├── diophantine
    |   |   ├── __init__.py
    |   |   ├── diophantine.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_diophantine.py
    |   ├── inequalities.py
    |   ├── ode
    |   |   ├── __init__.py
    |   |   ├── hypergeometric.py
    |   |   ├── lie_group.py
    |   |   ├── nonhomogeneous.py
    |   |   ├── ode.py
    |   |   ├── riccati.py
    |   |   ├── single.py
    |   |   ├── subscheck.py
    |   |   ├── systems.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_lie_group.py
    |   |       ├── test_ode.py
    |   |       ├── test_riccati.py
    |   |       ├── test_single.py
    |   |       ├── test_subscheck.py
    |   |       └── test_systems.py
    |   ├── pde.py
    |   ├── polysys.py
    |   ├── recurr.py
    |   ├── solvers.py
    |   ├── solveset.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_constantsimp.py
    |       ├── test_decompogen.py
    |       ├── test_inequalities.py
    |       ├── test_numeric.py
    |       ├── test_pde.py
    |       ├── test_polysys.py
    |       ├── test_recurr.py
    |       ├── test_solvers.py
    |       └── test_solveset.py
    ├── stats
    |   ├── __init__.py
    |   ├── compound_rv.py
    |   ├── crv.py
    |   ├── crv_types.py
    |   ├── drv.py
    |   ├── drv_types.py
    |   ├── error_prop.py
    |   ├── frv.py
    |   ├── frv_types.py
    |   ├── joint_rv.py
    |   ├── joint_rv_types.py
    |   ├── matrix_distributions.py
    |   ├── random_matrix.py
    |   ├── random_matrix_models.py
    |   ├── rv.py
    |   ├── rv_interface.py
    |   ├── sampling
    |   |   ├── __init__.py
    |   |   ├── sample_numpy.py
    |   |   ├── sample_pymc3.py
    |   |   ├── sample_scipy.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_sample_continuous_rv.py
    |   |       ├── test_sample_discrete_rv.py
    |   |       └── test_sample_finite_rv.py
    |   ├── stochastic_process.py
    |   ├── stochastic_process_types.py
    |   ├── symbolic_multivariate_probability.py
    |   ├── symbolic_probability.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_compound_rv.py
    |       ├── test_continuous_rv.py
    |       ├── test_discrete_rv.py
    |       ├── test_error_prop.py
    |       ├── test_finite_rv.py
    |       ├── test_joint_rv.py
    |       ├── test_matrix_distributions.py
    |       ├── test_mix.py
    |       ├── test_random_matrix.py
    |       ├── test_rv.py
    |       ├── test_stochastic_process.py
    |       ├── test_symbolic_multivariate.py
    |       └── test_symbolic_probability.py
    ├── strategies
    |   ├── __init__.py
    |   ├── branch
    |   |   ├── __init__.py
    |   |   ├── core.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_core.py
    |   |   |   ├── test_tools.py
    |   |   |   └── test_traverse.py
    |   |   ├── tools.py
    |   |   └── traverse.py
    |   ├── core.py
    |   ├── rl.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_core.py
    |   |   ├── test_rl.py
    |   |   ├── test_strat.py
    |   |   ├── test_tools.py
    |   |   ├── test_traverse.py
    |   |   └── test_tree.py
    |   ├── tools.py
    |   ├── traverse.py
    |   ├── tree.py
    |   └── util.py
    ├── tensor
    |   ├── __init__.py
    |   ├── array
    |   |   ├── __init__.py
    |   |   ├── array_comprehension.py
    |   |   ├── array_derivatives.py
    |   |   ├── arrayop.py
    |   |   ├── dense_ndim_array.py
    |   |   ├── expressions
    |   |   |   ├── __init__.py
    |   |   |   ├── array_expressions.py
    |   |   |   ├── arrayexpr_derivatives.py
    |   |   |   ├── conv_array_to_matrix.py
    |   |   |   ├── conv_indexed_to_array.py
    |   |   |   ├── conv_matrix_to_array.py
    |   |   |   ├── tests
    |   |   |   └── utils.py
    |   |   ├── mutable_ndim_array.py
    |   |   ├── ndim_array.py
    |   |   ├── sparse_ndim_array.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_array_comprehension.py
    |   |       ├── test_array_derivatives.py
    |   |       ├── test_arrayop.py
    |   |       ├── test_immutable_ndim_array.py
    |   |       ├── test_mutable_ndim_array.py
    |   |       ├── test_ndim_array.py
    |   |       └── test_ndim_array_conversions.py
    |   ├── functions.py
    |   ├── index_methods.py
    |   ├── indexed.py
    |   ├── tensor.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_functions.py
    |   |   ├── test_index_methods.py
    |   |   ├── test_indexed.py
    |   |   ├── test_tensor.py
    |   |   ├── test_tensor_element.py
    |   |   └── test_tensor_operators.py
    |   └── toperators.py
    ├── testing
    |   ├── __init__.py
    |   ├── benchmarking.py
    |   ├── matrices.py
    |   ├── pytest.py
    |   ├── quality_unicode.py
    |   ├── randtest.py
    |   ├── runtests.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── diagnose_imports.py
    |   |   ├── test_code_quality.py
    |   |   ├── test_module_imports.py
    |   |   └── test_pytest.py
    |   └── tmpfiles.py
    ├── this.py
    ├── unify
    |   ├── __init__.py
    |   ├── core.py
    |   ├── rewrite.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_rewrite.py
    |   |   ├── test_sympy.py
    |   |   └── test_unify.py
    |   └── usympy.py
    ├── utilities
    |   ├── __init__.py
    |   ├── _compilation
    |   |   ├── __init__.py
    |   |   ├── availability.py
    |   |   ├── compilation.py
    |   |   ├── runners.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── test_compilation.py
    |   |   └── util.py
    |   ├── autowrap.py
    |   ├── benchmarking.py
    |   ├── codegen.py
    |   ├── decorator.py
    |   ├── enumerative.py
    |   ├── exceptions.py
    |   ├── iterables.py
    |   ├── lambdify.py
    |   ├── magic.py
    |   ├── matchpy_connector.py
    |   ├── mathml
    |   |   ├── __init__.py
    |   |   └── data
    |   ├── memoization.py
    |   ├── misc.py
    |   ├── pkgdata.py
    |   ├── pytest.py
    |   ├── quality_unicode.py
    |   ├── randtest.py
    |   ├── runtests.py
    |   ├── source.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_autowrap.py
    |   |   ├── test_codegen.py
    |   |   ├── test_codegen_julia.py
    |   |   ├── test_codegen_octave.py
    |   |   ├── test_codegen_rust.py
    |   |   ├── test_decorator.py
    |   |   ├── test_deprecated.py
    |   |   ├── test_enumerative.py
    |   |   ├── test_iterables.py
    |   |   ├── test_lambdify.py
    |   |   ├── test_matchpy_connector.py
    |   |   ├── test_misc.py
    |   |   ├── test_pickling.py
    |   |   ├── test_source.py
    |   |   ├── test_timeutils.py
    |   |   └── test_wester.py
    |   ├── timeutils.py
    |   └── tmpfiles.py
    └── vector
        ├── __init__.py
        ├── basisdependent.py
        ├── coordsysrect.py
        ├── deloperator.py
        ├── dyadic.py
        ├── functions.py
        ├── implicitregion.py
        ├── integrals.py
        ├── operators.py
        ├── orienters.py
        ├── parametricregion.py
        ├── point.py
        ├── scalar.py
        ├── tests
        |   ├── __init__.py
        |   ├── test_coordsysrect.py
        |   ├── test_dyadic.py
        |   ├── test_field_functions.py
        |   ├── test_functions.py
        |   ├── test_implicitregion.py
        |   ├── test_integrals.py
        |   ├── test_operators.py
        |   ├── test_parametricregion.py
        |   ├── test_printing.py
        |   └── test_vector.py
        └── vector.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: simpify gives `Imaginary coordinates are not permitted.` with evaluate(False)

Description: ## Issue
`with evaluate(False)` crashes unexpectedly with `Point2D`

## Code
```python
import sympy as sp
with sp.evaluate(False):
  sp.S('Point2D(Integer(1),Integer(2))')
```

## Error
```
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/core/sympify.py", line 472, in sympify
    expr = parse_expr(a, local_dict=locals, transformations=transformations, evaluate=evaluate)
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/parsing/sympy_parser.py", line 1026, in parse_expr
    raise e from ValueError(f"Error from parse_expr with transformed code: {code!r}")
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/parsing/sympy_parser.py", line 1017, in parse_expr
    rv = eval_expr(code, local_dict, global_dict)
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/parsing/sympy_parser.py", line 911, in eval_expr
    expr = eval(
  File "<string>", line 1, in <module>
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/geometry/point.py", line 912, in __new__
    args = Point(*args, **kwargs)
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/geometry/point.py", line 153, in __new__
    raise ValueError('Imaginary coordinates are not permitted.')
ValueError: Imaginary coordinates are not permitted.
```

However, it works without `with evaluate(False)`. Both of following commands work
```python
sp.S('Point2D(Integer(1),Integer(2))')
sp.S('Point2D(Integer(1),Integer(2))', evaluate=False)
```

Patch information:
diff --git a/sympy/geometry/point.py b/sympy/geometry/point.py
index 73c20334d0..c145e1ba58 100644
--- a/sympy/geometry/point.py
+++ b/sympy/geometry/point.py
@@ -152,7 +152,7 @@ def __new__(cls, *args, **kwargs):
                         'warn' or 'ignore'.'''))
         if any(coords[dim:]):
             raise ValueError('Nonzero coordinates cannot be removed.')
-        if any(a.is_number and im(a) for a in coords):
+        if any(a.is_number and not a.is_extended_real for a in coords):
             raise ValueError('Imaginary coordinates are not permitted.')
         if not all(isinstance(a, Expr) for a in coords):
             raise TypeError('Coordinates must be valid SymPy expressions.')


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-21 05:02:01,202 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find 3 relevant test cases for a bug related to `Point2D` creation with `evaluate(False)`. The bug is in `sympy/geometry/point.py`. The most relevant tests are expected to be in the corresponding test file, `sympy/geometry/tests/test_point.py`. I need the content of this file to find tests that create `Point` or `Point2D` with various coordinates, especially non-real ones, to identify the most similar existing tests.' query='Please provide the full content of the file sympy/geometry/tests/test_point.py.' extra_requirements='' purpose='I need this file to find relevant test cases for the reported bug concerning `Point2D` and imaginary coordinates.'
2025-12-21 05:02:01,203 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of the file sympy/geometry/tests/test_point.py.
2025-12-21 05:02:01,203 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-21 05:02:01,204 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-21 05:02:01,204 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-21 05:02:01,204 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of the file sympy/geometry/tests/test_point.py.
Purpose: I need this file to find relevant test cases for the reported bug concerning `Point2D` and imaginary coordinates.
2025-12-21 05:02:03,404 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "sympy/geometry/tests/test_point.py"}'}, '__gemini_function_call_thought_signatures__': {'0d472617-60aa-4d0c-a72b-69d647aea377': 'CtgFAY89a1+oKyQtAGQXcUTHGYmClOncMqxKydwyKfKSb7uU6kzEHeewhuHyeFJN1XN/JUAMbfnNb7kyoh8iAElEku+CrChbLbRiYym4fRPrbW5mJg+PoosylJW6K7ZwdsjGXLFYHE/ce6dXV3RFlP+dq+vmA+2KoHmFtteZJiu8Ba6Q7omVyapTwPYR6wY7Dl6J90d/hbOw87w7IV8gfDeJBuSvaeOWrrfj80phBCgYwZKiGEa2eQ+06mJ5WkXXODVwJ0GXF48NjjVjpsQ25o6r3xMZMATxvFzyhLFGbUA9e+F7X2zqOVM7condz+FHREQ8Q8UXPLHVKIo0luBioTATpMI0AefO3SXR7DY/Hl7lQa3JYtE6f8V4SQ8FZ1nBmmt/CA+kJYTndlpZBhUr6QmErXl2+juUdjvE8mL7s+AO2rL+Ys1JutiTMYctsejouBulAFEbqsUZVHHO4eVD1yVRYSp8Zst1uaRcx5Dx2bq209cj4wKCIfBxPIUgsWmress7du1r56+fZNhHqt7HgOtIkO+6JQQO4hGq+gSi3ODQ4XRww2n3VR9EC4AHgH5914Up1Pwjk82uvs09uE9dHfVqTs749LGvk066iJ5QKPDonseXEo9hlwk5xlxnTcw/5xR6xb89Gc8wvTXUg6F8nsjSAo+KErytLOYfuVQp6tWmhSamIMK+Ovc2WzZVG19dTkkXoMGhLxUxHqnCKUjOH4uqE23oe1G+1xpZCNgCwhbbIq7gvf4jkCKKH3ewshlS2OiSZ43VCEU8RsoVRfA6bmk6MZ7O6Z/F/fX8QH92h9Bq3Yn3vsL9605mFxZqxhwU2Kxj2X+ABBQNA7+HpVtD7eowYWSRwrUD1yJS+HDBcOaQ8k1N9yk3BNI58iyhDmPLQwyfr8dfxXpt7TjmnfYSc3KeQGQoQAoOujHGqCNV0VIVxnZ4yqoreC5rhOVfjWuTk8BUsWg0Mc2QGNg='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2107, 'candidates_token_count': 25, 'total_token_count': 2313, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2107}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 25}], 'thoughts_token_count': 181, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2662174606323242, 'model_name': 'gemini-2.5-pro'} id='run--cd8a13d4-6a94-482a-8fba-0befcd4bb23b-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'sympy/geometry/tests/test_point.py'}, 'id': '0d472617-60aa-4d0c-a72b-69d647aea377', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2107, 'output_tokens': 25, 'total_tokens': 2313, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 181}}
2025-12-21 05:02:14,883 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have successfully retrieved the entire content of the file `sympy/geometry/tests/test_point.py`. The next step is to pinpoint the most relevant sections that deal with `Point2D` and the use of imaginary coordinates, as this will directly address the user's purpose of finding test cases for the reported bug. I will now proceed with a more targeted search within the file's content to isolate these specific test cases." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": "test_Point2D", "relative_path": "sympy/geometry/tests/test_point.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11212, 'candidates_token_count': 128, 'total_token_count': 12217, 'cached_content_token_count': 1890, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11393}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1890}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 128}], 'thoughts_token_count': 877}, 'finish_reason': 'STOP', 'avg_logprobs': -0.8619603514671326, 'model_name': 'gemini-2.5-pro'} id='run--04883cab-e0d8-40e3-8583-f454cdfb0322-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': 'test_Point2D', 'relative_path': 'sympy/geometry/tests/test_point.py'}, 'id': '77b8c647-ecd7-42a6-8ece-0cc2e3b69e05', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11212, 'output_tokens': 128, 'total_tokens': 12217, 'input_token_details': {'cache_read': 1890}, 'output_token_details': {'reasoning': 877}}
2025-12-21 05:02:26,354 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of `sympy/geometry/tests/test_point.py` as requested. I then located the `test_Point2D` function and searched for test cases involving imaginary coordinates. I found relevant tests in the `test_point` function that check for `ValueError` when creating a `Point` with imaginary coordinates, which should be helpful for your bug investigation.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11668, 'candidates_token_count': 81, 'total_token_count': 12817, 'cached_content_token_count': 11336, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11849}], 'cache_tokens_details': [{'modality': 1, 'token_count': 11336}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 81}], 'thoughts_token_count': 1068}, 'finish_reason': 'STOP', 'avg_logprobs': -1.741978586455922, 'model_name': 'gemini-2.5-pro'} id='run--718b04d5-78d6-4fcb-bda7-5a6e79b75a93-0' usage_metadata={'input_tokens': 11668, 'output_tokens': 81, 'total_tokens': 12817, 'input_token_details': {'cache_read': 11336}, 'output_token_details': {'reasoning': 1068}}
2025-12-21 05:02:26,356 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of the file sympy/geometry/tests/test_point.py.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need this file to find relevant test cases for the reported bug concerning `Point2D` and imaginary coordinates.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: sympy/geometry/tests/test_point.py
Line number range: 1 - 473
Content:
1. from sympy.core.basic import Basic
2. from sympy.core.numbers import (I, Rational, pi)
3. from sympy.core.singleton import S
4. from sympy.core.symbol import Symbol
5. from sympy.core.sympify import sympify
6. from sympy.functions.elementary.miscellaneous import sqrt
7. from sympy.geometry import Line, Point, Point2D, Point3D, Line3D, Plane
8. from sympy.geometry.entity import rotate, scale, translate, GeometryEntity
9. from sympy.matrices import Matrix
10. from sympy.utilities.iterables import subsets, permutations, cartes
11. from sympy.utilities.misc import Undecidable
12. from sympy.testing.pytest import raises, warns
13. 
14. 
15. def test_point():
16.     x = Symbol('x', real=True)
17.     y = Symbol('y', real=True)
18.     x1 = Symbol('x1', real=True)
19.     x2 = Symbol('x2', real=True)
20.     y1 = Symbol('y1', real=True)
21.     y2 = Symbol('y2', real=True)
22.     half = S.Half
23.     p1 = Point(x1, x2)
24.     p2 = Point(y1, y2)
25.     p3 = Point(0, 0)
26.     p4 = Point(1, 1)
27.     p5 = Point(0, 1)
28.     line = Line(Point(1, 0), slope=1)
29. 
30.     assert p1 in p1
31.     assert p1 not in p2
32.     assert p2.y == y2
33.     assert (p3 + p4) == p4
34.     assert (p2 - p1) == Point(y1 - x1, y2 - x2)
35.     assert -p2 == Point(-y1, -y2)
36.     raises(TypeError, lambda: Point(1))
37.     raises(ValueError, lambda: Point([1]))
38.     raises(ValueError, lambda: Point(3, I))
39.     raises(ValueError, lambda: Point(2*I, I))
40.     raises(ValueError, lambda: Point(3 + I, I))
41. 
42.     assert Point(34.05, sqrt(3)) == Point(Rational(681, 20), sqrt(3))
43.     assert Point.midpoint(p3, p4) == Point(half, half)
44.     assert Point.midpoint(p1, p4) == Point(half + half*x1, half + half*x2)
45.     assert Point.midpoint(p2, p2) == p2
46.     assert p2.midpoint(p2) == p2
47.     assert p1.origin == Point(0, 0)
48. 
49.     assert Point.distance(p3, p4) == sqrt(2)
50.     assert Point.distance(p1, p1) == 0
51.     assert Point.distance(p3, p2) == sqrt(p2.x**2 + p2.y**2)
52.     raises(TypeError, lambda: Point.distance(p1, 0))
53.     raises(TypeError, lambda: Point.distance(p1, GeometryEntity()))
54. 
55.     # distance should be symmetric
56.     assert p1.distance(line) == line.distance(p1)
57.     assert p4.distance(line) == line.distance(p4)
58. 
59.     assert Point.taxicab_distance(p4, p3) == 2
60. 
61.     assert Point.canberra_distance(p4, p5) == 1
62.     raises(ValueError, lambda: Point.canberra_distance(p3, p3))
63. 
64.     p1_1 = Point(x1, x1)
65.     p1_2 = Point(y2, y2)
66.     p1_3 = Point(x1 + 1, x1)
67.     assert Point.is_collinear(p3)
68. 
69.     with warns(UserWarning):
70.         assert Point.is_collinear(p3, Point(p3, dim=4))
71.     assert p3.is_collinear()
72.     assert Point.is_collinear(p3, p4)
73.     assert Point.is_collinear(p3, p4, p1_1, p1_2)
74.     assert Point.is_collinear(p3, p4, p1_1, p1_3) is False
75.     assert Point.is_collinear(p3, p3, p4, p5) is False
76. 
77.     raises(TypeError, lambda: Point.is_collinear(line))
78.     raises(TypeError, lambda: p1_1.is_collinear(line))
79. 
80.     assert p3.intersection(Point(0, 0)) == [p3]
81.     assert p3.intersection(p4) == []
82.     assert p3.intersection(line) == []
83.     assert Point.intersection(Point(0, 0, 0), Point(0, 0)) == [Point(0, 0, 0)]
84. 
85.     x_pos = Symbol('x', positive=True)
86.     p2_1 = Point(x_pos, 0)
87.     p2_2 = Point(0, x_pos)
88.     p2_3 = Point(-x_pos, 0)
89.     p2_4 = Point(0, -x_pos)
90.     p2_5 = Point(x_pos, 5)
91.     assert Point.is_concyclic(p2_1)
92.     assert Point.is_concyclic(p2_1, p2_2)
93.     assert Point.is_concyclic(p2_1, p2_2, p2_3, p2_4)
94.     for pts in permutations((p2_1, p2_2, p2_3, p2_5)):
95.         assert Point.is_concyclic(*pts) is False
96.     assert Point.is_concyclic(p4, p4 * 2, p4 * 3) is False
97.     assert Point(0, 0).is_concyclic((1, 1), (2, 2), (2, 1)) is False
98.     assert Point.is_concyclic(Point(0, 0, 0, 0), Point(1, 0, 0, 0), Point(1, 1, 0, 0), Point(1, 1, 1, 0)) is False
99. 
100.     assert p1.is_scalar_multiple(p1)
101.     assert p1.is_scalar_multiple(2*p1)
102.     assert not p1.is_scalar_multiple(p2)
103.     assert Point.is_scalar_multiple(Point(1, 1), (-1, -1))
104.     assert Point.is_scalar_multiple(Point(0, 0), (0, -1))
105.     # test when is_scalar_multiple can't be determined
106.     raises(Undecidable, lambda: Point.is_scalar_multiple(Point(sympify("x1%y1"), sympify("x2%y2")), Point(0, 1)))
107. 
108.     assert Point(0, 1).orthogonal_direction == Point(1, 0)
109.     assert Point(1, 0).orthogonal_direction == Point(0, 1)
110. 
111.     assert p1.is_zero is None
112.     assert p3.is_zero
113.     assert p4.is_zero is False
114.     assert p1.is_nonzero is None
115.     assert p3.is_nonzero is False
116.     assert p4.is_nonzero
117. 
118.     assert p4.scale(2, 3) == Point(2, 3)
119.     assert p3.scale(2, 3) == p3
120. 
121.     assert p4.rotate(pi, Point(0.5, 0.5)) == p3
122.     assert p1.__radd__(p2) == p1.midpoint(p2).scale(2, 2)
123.     assert (-p3).__rsub__(p4) == p3.midpoint(p4).scale(2, 2)
124. 
125.     assert p4 * 5 == Point(5, 5)
126.     assert p4 / 5 == Point(0.2, 0.2)
127.     assert 5 * p4 == Point(5, 5)
128. 
129.     raises(ValueError, lambda: Point(0, 0) + 10)
130. 
131.     # Point differences should be simplified
132.     assert Point(x*(x - 1), y) - Point(x**2 - x, y + 1) == Point(0, -1)
133. 
134.     a, b = S.Half, Rational(1, 3)
135.     assert Point(a, b).evalf(2) == \
136.         Point(a.n(2), b.n(2), evaluate=False)
137.     raises(ValueError, lambda: Point(1, 2) + 1)
138. 
139.     # test project
140.     assert Point.project((0, 1), (1, 0)) == Point(0, 0)
141.     assert Point.project((1, 1), (1, 0)) == Point(1, 0)
142.     raises(ValueError, lambda: Point.project(p1, Point(0, 0)))
143. 
144.     # test transformations
145.     p = Point(1, 0)
146.     assert p.rotate(pi/2) == Point(0, 1)
147.     assert p.rotate(pi/2, p) == p
148.     p = Point(1, 1)
149.     assert p.scale(2, 3) == Point(2, 3)
150.     assert p.translate(1, 2) == Point(2, 3)
151.     assert p.translate(1) == Point(2, 1)
152.     assert p.translate(y=1) == Point(1, 2)
153.     assert p.translate(*p.args) == Point(2, 2)
154. 
155.     # Check invalid input for transform
156.     raises(ValueError, lambda: p3.transform(p3))
157.     raises(ValueError, lambda: p.transform(Matrix([[1, 0], [0, 1]])))
158. 
159.     # test __contains__
160.     assert 0 in Point(0, 0, 0, 0)
161.     assert 1 not in Point(0, 0, 0, 0)
162. 
163.     # test affine_rank
164.     assert Point.affine_rank() == -1
165. 
166. 
167. def test_point3D():
168.     x = Symbol('x', real=True)
169.     y = Symbol('y', real=True)
170.     x1 = Symbol('x1', real=True)
171.     x2 = Symbol('x2', real=True)
172.     x3 = Symbol('x3', real=True)
173.     y1 = Symbol('y1', real=True)
174.     y2 = Symbol('y2', real=True)
175.     y3 = Symbol('y3', real=True)
176.     half = S.Half
177.     p1 = Point3D(x1, x2, x3)
178.     p2 = Point3D(y1, y2, y3)
179.     p3 = Point3D(0, 0, 0)
180.     p4 = Point3D(1, 1, 1)
181.     p5 = Point3D(0, 1, 2)
182. 
183.     assert p1 in p1
184.     assert p1 not in p2
185.     assert p2.y == y2
186.     assert (p3 + p4) == p4
187.     assert (p2 - p1) == Point3D(y1 - x1, y2 - x2, y3 - x3)
188.     assert -p2 == Point3D(-y1, -y2, -y3)
189. 
190.     assert Point(34.05, sqrt(3)) == Point(Rational(681, 20), sqrt(3))
191.     assert Point3D.midpoint(p3, p4) == Point3D(half, half, half)
192.     assert Point3D.midpoint(p1, p4) == Point3D(half + half*x1, half + half*x2,
193.                                          half + half*x3)
194.     assert Point3D.midpoint(p2, p2) == p2
195.     assert p2.midpoint(p2) == p2
196. 
197.     assert Point3D.distance(p3, p4) == sqrt(3)
198.     assert Point3D.distance(p1, p1) == 0
199.     assert Point3D.distance(p3, p2) == sqrt(p2.x**2 + p2.y**2 + p2.z**2)
200. 
201.     p1_1 = Point3D(x1, x1, x1)
202.     p1_2 = Point3D(y2, y2, y2)
203.     p1_3 = Point3D(x1 + 1, x1, x1)
204.     Point3D.are_collinear(p3)
205.     assert Point3D.are_collinear(p3, p4)
206.     assert Point3D.are_collinear(p3, p4, p1_1, p1_2)
207.     assert Point3D.are_collinear(p3, p4, p1_1, p1_3) is False
208.     assert Point3D.are_collinear(p3, p3, p4, p5) is False
209. 
210.     assert p3.intersection(Point3D(0, 0, 0)) == [p3]
211.     assert p3.intersection(p4) == []
212. 
213. 
214.     assert p4 * 5 == Point3D(5, 5, 5)
215.     assert p4 / 5 == Point3D(0.2, 0.2, 0.2)
216.     assert 5 * p4 == Point3D(5, 5, 5)
217. 
218.     raises(ValueError, lambda: Point3D(0, 0, 0) + 10)
219. 
220.     # Test coordinate properties
221.     assert p1.coordinates == (x1, x2, x3)
222.     assert p2.coordinates == (y1, y2, y3)
223.     assert p3.coordinates == (0, 0, 0)
224.     assert p4.coordinates == (1, 1, 1)
225.     assert p5.coordinates == (0, 1, 2)
226.     assert p5.x == 0
227.     assert p5.y == 1
228.     assert p5.z == 2
229. 
230.     # Point differences should be simplified
231.     assert Point3D(x*(x - 1), y, 2) - Point3D(x**2 - x, y + 1, 1) == \
232.         Point3D(0, -1, 1)
233. 
234.     a, b, c = S.Half, Rational(1, 3), Rational(1, 4)
235.     assert Point3D(a, b, c).evalf(2) == \
236.         Point(a.n(2), b.n(2), c.n(2), evaluate=False)
237.     raises(ValueError, lambda: Point3D(1, 2, 3) + 1)
238. 
239.     # test transformations
240.     p = Point3D(1, 1, 1)
241.     assert p.scale(2, 3) == Point3D(2, 3, 1)
242.     assert p.translate(1, 2) == Point3D(2, 3, 1)
243.     assert p.translate(1) == Point3D(2, 1, 1)
244.     assert p.translate(z=1) == Point3D(1, 1, 2)
245.     assert p.translate(*p.args) == Point3D(2, 2, 2)
246. 
247.     # Test __new__
248.     assert Point3D(0.1, 0.2, evaluate=False, on_morph='ignore').args[0].is_Float
249. 
250.     # Test length property returns correctly
251.     assert p.length == 0
252.     assert p1_1.length == 0
253.     assert p1_2.length == 0
254. 
255.     # Test are_colinear type error
256.     raises(TypeError, lambda: Point3D.are_collinear(p, x))
257. 
258.     # Test are_coplanar
259.     assert Point.are_coplanar()
260.     assert Point.are_coplanar((1, 2, 0), (1, 2, 0), (1, 3, 0))
261.     assert Point.are_coplanar((1, 2, 0), (1, 2, 3))
262.     with warns(UserWarning):
263.         raises(ValueError, lambda: Point2D.are_coplanar((1, 2), (1, 2, 3)))
264.     assert Point3D.are_coplanar((1, 2, 0), (1, 2, 3))
265.     assert Point.are_coplanar((0, 0, 0), (1, 1, 0), (1, 1, 1), (1, 2, 1)) is False
266.     planar2 = Point3D(1, -1, 1)
267.     planar3 = Point3D(-1, 1, 1)
268.     assert Point3D.are_coplanar(p, planar2, planar3) == True
269.     assert Point3D.are_coplanar(p, planar2, planar3, p3) == False
270.     assert Point.are_coplanar(p, planar2)
271.     planar2 = Point3D(1, 1, 2)
272.     planar3 = Point3D(1, 1, 3)
273.     assert Point3D.are_coplanar(p, planar2, planar3)  # line, not plane
274.     plane = Plane((1, 2, 1), (2, 1, 0), (3, 1, 2))
275.     assert Point.are_coplanar(*[plane.projection(((-1)**i, i)) for i in range(4)])
276. 
277.     # all 2D points are coplanar
278.     assert Point.are_coplanar(Point(x, y), Point(x, x + y), Point(y, x + 2)) is True
279. 
280.     # Test Intersection
281.     assert planar2.intersection(Line3D(p, planar3)) == [Point3D(1, 1, 2)]
282. 
283.     # Test Scale
284.     assert planar2.scale(1, 1, 1) == planar2
285.     assert planar2.scale(2, 2, 2, planar3) == Point3D(1, 1, 1)
286.     assert planar2.scale(1, 1, 1, p3) == planar2
287. 
288.     # Test Transform
289.     identity = Matrix([[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]])
290.     assert p.transform(identity) == p
291.     trans = Matrix([[1, 0, 0, 1], [0, 1, 0, 1], [0, 0, 1, 1], [0, 0, 0, 1]])
292.     assert p.transform(trans) == Point3D(2, 2, 2)
293.     raises(ValueError, lambda: p.transform(p))
294.     raises(ValueError, lambda: p.transform(Matrix([[1, 0], [0, 1]])))
295. 
296.     # Test Equals
297.     assert p.equals(x1) == False
298. 
299.     # Test __sub__
300.     p_4d = Point(0, 0, 0, 1)
301.     with warns(UserWarning):
302.         assert p - p_4d == Point(1, 1, 1, -1)
303.     p_4d3d = Point(0, 0, 1, 0)
304.     with warns(UserWarning):
305.         assert p - p_4d3d == Point(1, 1, 0, 0)
306. 
307. 
308. def test_Point2D():
309. 
310.     # Test Distance
311.     p1 = Point2D(1, 5)
312.     p2 = Point2D(4, 2.5)
313.     p3 = (6, 3)
314.     assert p1.distance(p2) == sqrt(61)/2
315.     assert p2.distance(p3) == sqrt(17)/2
316. 
317.     # Test coordinates
318.     assert p1.x == 1
319.     assert p1.y == 5
320.     assert p2.x == 4
321.     assert p2.y == 2.5
322.     assert p1.coordinates == (1, 5)
323.     assert p2.coordinates == (4, 2.5)
324. 
325.     # test bounds
326.     assert p1.bounds == (1, 5, 1, 5)
327. 
328. def test_issue_9214():
329.     p1 = Point3D(4, -2, 6)
330.     p2 = Point3D(1, 2, 3)
331.     p3 = Point3D(7, 2, 3)
332. 
333.     assert Point3D.are_collinear(p1, p2, p3) is False
334. 
335. 
336. def test_issue_11617():
337.     p1 = Point3D(1,0,2)
338.     p2 = Point2D(2,0)
339. 
340.     with warns(UserWarning):
341.         assert p1.distance(p2) == sqrt(5)
342. 
343. 
344. def test_transform():
345.     p = Point(1, 1)
346.     assert p.transform(rotate(pi/2)) == Point(-1, 1)
347.     assert p.transform(scale(3, 2)) == Point(3, 2)
348.     assert p.transform(translate(1, 2)) == Point(2, 3)
349.     assert Point(1, 1).scale(2, 3, (4, 5)) == \
350.         Point(-2, -7)
351.     assert Point(1, 1).translate(4, 5) == \
352.         Point(5, 6)
353. 
354. 
355. def test_concyclic_doctest_bug():
356.     p1, p2 = Point(-1, 0), Point(1, 0)
357.     p3, p4 = Point(0, 1), Point(-1, 2)
358.     assert Point.is_concyclic(p1, p2, p3)
359.     assert not Point.is_concyclic(p1, p2, p3, p4)
360. 
361. 
362. def test_arguments():
363.     """Functions accepting `Point` objects in `geometry`
364.     should also accept tuples and lists and
365.     automatically convert them to points."""
366. 
367.     singles2d = ((1,2), [1,2], Point(1,2))
368.     singles2d2 = ((1,3), [1,3], Point(1,3))
369.     doubles2d = cartes(singles2d, singles2d2)
370.     p2d = Point2D(1,2)
371.     singles3d = ((1,2,3), [1,2,3], Point(1,2,3))
372.     doubles3d = subsets(singles3d, 2)
373.     p3d = Point3D(1,2,3)
374.     singles4d = ((1,2,3,4), [1,2,3,4], Point(1,2,3,4))
375.     doubles4d = subsets(singles4d, 2)
376.     p4d = Point(1,2,3,4)
377. 
378.     # test 2D
379.     test_single = ['distance', 'is_scalar_multiple', 'taxicab_distance', 'midpoint', 'intersection', 'dot', 'equals', '__add__', '__sub__']
380.     test_double = ['is_concyclic', 'is_collinear']
381.     for p in singles2d:
382.         Point2D(p)
383.     for func in test_single:
384.         for p in singles2d:
385.             getattr(p2d, func)(p)
386.     for func in test_double:
387.         for p in doubles2d:
388.             getattr(p2d, func)(*p)
389. 
390.     # test 3D
391.     test_double = ['is_collinear']
392.     for p in singles3d:
393.         Point3D(p)
394.     for func in test_single:
395.         for p in singles3d:
396.             getattr(p3d, func)(p)
397.     for func in test_double:
398.         for p in doubles3d:
399.             getattr(p3d, func)(*p)
400. 
401.     # test 4D
402.     test_double = ['is_collinear']
403.     for p in singles4d:
404.         Point(p)
405.     for func in test_single:
406.         for p in singles4d:
407.             getattr(p4d, func)(p)
408.     for func in test_double:
409.         for p in doubles4d:
410.             getattr(p4d, func)(*p)
411. 
412.     # test evaluate=False for ops
413.     x = Symbol('x')
414.     a = Point(0, 1)
415.     assert a + (0.1, x) == Point(0.1, 1 + x, evaluate=False)
416.     a = Point(0, 1)
417.     assert a/10.0 == Point(0, 0.1, evaluate=False)
418.     a = Point(0, 1)
419.     assert a*10.0 == Point(0.0, 10.0, evaluate=False)
420. 
421.     # test evaluate=False when changing dimensions
422.     u = Point(.1, .2, evaluate=False)
423.     u4 = Point(u, dim=4, on_morph='ignore')
424.     assert u4.args == (.1, .2, 0, 0)
425.     assert all(i.is_Float for i in u4.args[:2])
426.     # and even when *not* changing dimensions
427.     assert all(i.is_Float for i in Point(u).args)
428. 
429.     # never raise error if creating an origin
430.     assert Point(dim=3, on_morph='error')
431. 
432.     # raise error with unmatched dimension
433.     raises(ValueError, lambda: Point(1, 1, dim=3, on_morph='error'))
434.     # test unknown on_morph
435.     raises(ValueError, lambda: Point(1, 1, dim=3, on_morph='unknown'))
436.     # test invalid expressions
437.     raises(TypeError, lambda: Point(Basic(), Basic()))
438. 
439. def test_unit():
440.     assert Point(1, 1).unit == Point(sqrt(2)/2, sqrt(2)/2)
441. 
442. 
443. def test_dot():
444.     raises(TypeError, lambda: Point(1, 2).dot(Line((0, 0), (1, 1))))
445. 
446. 
447. def test__normalize_dimension():
448.     assert Point._normalize_dimension(Point(1, 2), Point(3, 4)) == [
449.         Point(1, 2), Point(3, 4)]
450.     assert Point._normalize_dimension(
451.         Point(1, 2), Point(3, 4, 0), on_morph='ignore') == [
452.         Point(1, 2, 0), Point(3, 4, 0)]
453. 
454. 
455. def test_direction_cosine():
456.     p1 = Point3D(0, 0, 0)
457.     p2 = Point3D(1, 1, 1)
458. 
459.     assert p1.direction_cosine(Point3D(1, 0, 0)) == [1, 0, 0]
460.     assert p1.direction_cosine(Point3D(0, 1, 0)) == [0, 1, 0]
461.     assert p1.direction_cosine(Point3D(0, 0, pi)) == [0, 0, 1]
462. 
463.     assert p1.direction_cosine(Point3D(5, 0, 0)) == [1, 0, 0]
464.     assert p1.direction_cosine(Point3D(0, sqrt(3), 0)) == [0, 1, 0]
465.     assert p1.direction_cosine(Point3D(0, 0, 5)) == [0, 0, 1]
466. 
467.     assert p1.direction_cosine(Point3D(2.4, 2.4, 0)) == [sqrt(2)/2, sqrt(2)/2, 0]
468.     assert p1.direction_cosine(Point3D(1, 1, 1)) == [sqrt(3) / 3, sqrt(3) / 3, sqrt(3) / 3]
469.     assert p1.direction_cosine(Point3D(-12, 0 -15)) == [-4*sqrt(41)/41, -5*sqrt(41)/41, 0]
470. 
471.     assert p2.direction_cosine(Point3D(0, 0, 0)) == [-sqrt(3) / 3, -sqrt(3) / 3, -sqrt(3) / 3]
472.     assert p2.direction_cosine(Point3D(1, 1, 12)) == [0, 0, 1]
473.     assert p2.direction_cosine(Point3D(12, 1, 12)) == [sqrt(2) / 2, 0, sqrt(2) / 2]

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-21 05:02:30,568 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly asks for the full content of the file `sympy/geometry/tests/test_point.py`.\n\n2. Extended relevance:\n   - The provided context contains the entire content of the requested file, from line 1 to line 473. Therefore, the whole file is relevant to fulfill the user's request.", relative_path='sympy/geometry/tests/test_point.py', start_line=1, end_line=473)]
2025-12-21 05:02:30,569 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of the file sympy/geometry/tests/test_point.py.
2025-12-21 05:02:30,569 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-21 05:02:30,569 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-21 05:02:30,570 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 0 existing contexts
2025-12-21 05:02:30,570 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 1 total contexts (removed 0 duplicates)
2025-12-21 05:02:30,571 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sympy
├── .ci
|   ├── README.rst
|   ├── generate_durations_log.sh
|   └── parse_durations_log.py
├── .github
|   └── workflows
|       ├── ci-sage.yml
|       ├── comment-on-pr.yml
|       └── runtests.yml
├── .travis.yml
├── CODE_OF_CONDUCT.md
├── CONTRIBUTING.md
├── PULL_REQUEST_TEMPLATE.md
├── README.md
├── bin
|   ├── ask_update.py
|   ├── authors_update.py
|   ├── coverage_doctest.py
|   ├── coverage_report.py
|   ├── generate_module_list.py
|   ├── generate_test_list.py
|   ├── get_sympy.py
|   ├── mailmap_update.py
|   ├── sympy_time.py
|   ├── sympy_time_cache.py
|   ├── test_executable.py
|   ├── test_external_imports.py
|   ├── test_import.py
|   ├── test_optional_dependencies.py
|   ├── test_py2_import.py
|   ├── test_setup.py
|   ├── test_sphinx.sh
|   ├── test_submodule_imports.py
|   ├── test_symengine.py
|   ├── test_tensorflow.py
|   └── test_travis.sh
├── codecov.yml
├── conftest.py
├── data
|   └── TeXmacs
|       ├── bin
|       └── progs
├── doc
|   ├── README.rst
|   ├── api
|   |   ├── conf.py
|   |   └── index.rst
|   ├── cheatsheet
|   ├── convert-svg-to-pdf.sh
|   ├── ext
|   |   ├── docscrape.py
|   |   ├── docscrape_sphinx.py
|   |   ├── numpydoc.py
|   |   └── sympylive.py
|   ├── generate_logos.py
|   ├── man
|   |   └── isympy.xml
|   ├── requirements.txt
|   └── src
|       ├── _static
|       ├── _templates
|       |   └── layout.html
|       ├── aboutus.rst
|       ├── citing.rst
|       ├── conf.py
|       ├── explanation
|       |   ├── gotchas.rst
|       |   ├── index.rst
|       |   └── special_topics
|       |       ├── classification.rst
|       |       ├── finite_diff_derivatives.rst
|       |       └── index.rst
|       ├── guides
|       |   ├── assumptions.rst
|       |   ├── booleans.rst
|       |   ├── contributing
|       |   |   ├── build-docs.rst
|       |   |   ├── debug.rst
|       |   |   ├── dev-setup.rst
|       |   |   ├── docstring.rst
|       |   |   ├── documentation-style-guide.rst
|       |   |   ├── index.rst
|       |   |   └── make-a-contribution.rst
|       |   ├── getting_started
|       |   |   ├── index.rst
|       |   |   └── install.md
|       |   └── index.rst
|       ├── index.rst
|       ├── logo
|       |   └── info.txt
|       ├── miscellaneous
|       |   └── index.rst
|       ├── modules
|       |   ├── abc.rst
|       |   ├── algebras.rst
|       |   ├── assumptions
|       |   |   ├── ask.rst
|       |   |   ├── assume.rst
|       |   |   ├── index.rst
|       |   |   ├── predicates.rst
|       |   |   └── refine.rst
|       |   ├── calculus
|       |   |   └── index.rst
|       |   ├── categories.rst
|       |   ├── codegen.rst
|       |   ├── combinatorics
|       |   |   ├── fp_groups.rst
|       |   |   ├── graycode.rst
|       |   |   ├── group_constructs.rst
|       |   |   ├── index.rst
|       |   |   ├── named_groups.rst
|       |   |   ├── partitions.rst
|       |   |   ├── pc_groups.rst
|       |   |   ├── perm_groups.rst
|       |   |   ├── permutations.rst
|       |   |   ├── polyhedron.rst
|       |   |   ├── prufer.rst
|       |   |   ├── subsets.rst
|       |   |   ├── tensor_can.rst
|       |   |   ├── testutil.rst
|       |   |   └── util.rst
|       |   ├── concrete.rst
|       |   ├── core.rst
|       |   ├── crypto.rst
|       |   ├── diffgeom.rst
|       |   ├── discrete.rst
|       |   ├── evalf.rst
|       |   ├── functions
|       |   |   ├── combinatorial.rst
|       |   |   ├── elementary.rst
|       |   |   ├── index.rst
|       |   |   └── special.rst
|       |   ├── geometry
|       |   |   ├── curves.rst
|       |   |   ├── ellipses.rst
|       |   |   ├── entities.rst
|       |   |   ├── index.rst
|       |   |   ├── lines.rst
|       |   |   ├── plane.rst
|       |   |   ├── points.rst
|       |   |   ├── polygons.rst
|       |   |   └── utils.rst
|       |   ├── holonomic
|       |   |   ├── about.rst
|       |   |   ├── convert.rst
|       |   |   ├── index.rst
|       |   |   ├── internal.rst
|       |   |   ├── operations.rst
|       |   |   ├── represent.rst
|       |   |   └── uses.rst
|       |   ├── integrals
|       |   |   ├── g-functions.rst
|       |   |   ├── index.rst
|       |   |   └── integrals.rst
|       |   ├── interactive.rst
|       |   ├── liealgebras
|       |   |   └── index.rst
|       |   ├── logic.rst
|       |   ├── matrices
|       |   |   ├── common.rst
|       |   |   ├── dense.rst
|       |   |   ├── expressions.rst
|       |   |   ├── immutablematrices.rst
|       |   |   ├── index.rst
|       |   |   ├── matrices.rst
|       |   |   ├── normalforms.rst
|       |   |   ├── sparse.rst
|       |   |   └── sparsetools.rst
|       |   ├── ntheory.rst
|       |   ├── numeric-computation.rst
|       |   ├── parsing.rst
|       |   ├── physics
|       |   |   ├── continuum_mechanics
|       |   |   ├── control
|       |   |   ├── hep
|       |   |   ├── hydrogen.rst
|       |   |   ├── matrices.rst
|       |   |   ├── mechanics
|       |   |   ├── optics
|       |   |   ├── paulialgebra.rst
|       |   |   ├── qho_1d.rst
|       |   |   ├── quantum
|       |   |   ├── secondquant.rst
|       |   |   ├── sho.rst
|       |   |   ├── units
|       |   |   ├── vector
|       |   |   └── wigner.rst
|       |   ├── plotting.rst
|       |   ├── polys
|       |   |   ├── agca.rst
|       |   |   ├── basics.rst
|       |   |   ├── domainmatrix.rst
|       |   |   ├── domainsintro.rst
|       |   |   ├── domainsref.rst
|       |   |   ├── index.rst
|       |   |   ├── internals.rst
|       |   |   ├── literature.rst
|       |   |   ├── numberfields.rst
|       |   |   ├── reference.rst
|       |   |   ├── ringseries.rst
|       |   |   ├── solvers.rst
|       |   |   └── wester.rst
|       |   ├── printing.rst
|       |   ├── rewriting.rst
|       |   ├── series
|       |   |   ├── formal.rst
|       |   |   ├── fourier.rst
|       |   |   ├── index.rst
|       |   |   ├── limitseq.rst
|       |   |   ├── sequences.rst
|       |   |   └── series.rst
|       |   ├── sets.rst
|       |   ├── simplify
|       |   |   ├── fu.rst
|       |   |   ├── hyperexpand.rst
|       |   |   ├── index.rst
|       |   |   └── simplify.rst
|       |   ├── solvers
|       |   |   ├── diophantine.rst
|       |   |   ├── index.rst
|       |   |   ├── inequalities.rst
|       |   |   ├── ode.rst
|       |   |   ├── pde.rst
|       |   |   ├── solvers.rst
|       |   |   └── solveset.rst
|       |   ├── stats.rst
|       |   ├── tensor
|       |   |   ├── array.rst
|       |   |   ├── index.rst
|       |   |   ├── index_methods.rst
|       |   |   ├── indexed.rst
|       |   |   ├── tensor.rst
|       |   |   └── toperators.rst
|       |   ├── testing
|       |   |   ├── index.rst
|       |   |   ├── pytest.rst
|       |   |   ├── randtest.rst
|       |   |   └── runtests.rst
|       |   ├── utilities
|       |   |   ├── autowrap.rst
|       |   |   ├── codegen.rst
|       |   |   ├── decorator.rst
|       |   |   ├── enumerative.rst
|       |   |   ├── index.rst
|       |   |   ├── iterables.rst
|       |   |   ├── lambdify.rst
|       |   |   ├── memoization.rst
|       |   |   ├── misc.rst
|       |   |   ├── pkgdata.rst
|       |   |   ├── source.rst
|       |   |   └── timeutils.rst
|       |   └── vector
|       |       ├── api
|       |       ├── basics.rst
|       |       ├── coordsys.rst
|       |       ├── examples.rst
|       |       ├── fields.rst
|       |       ├── index.rst
|       |       ├── intro.rst
|       |       └── vector_integration.rst
|       ├── outreach.rst
|       ├── pics
|       ├── reference
|       |   ├── index.rst
|       |   └── public
|       |       ├── basics
|       |       ├── codegeneration
|       |       ├── logic
|       |       ├── matrices
|       |       ├── numbertheory
|       |       ├── physics
|       |       ├── topics
|       |       └── utilities
|       ├── tutorial
|       |   ├── basic_operations.rst
|       |   ├── calculus.rst
|       |   ├── features.rst
|       |   ├── gotchas.rst
|       |   ├── index.rst
|       |   ├── intro.rst
|       |   ├── manipulation.rst
|       |   ├── matrices.rst
|       |   ├── preliminaries.rst
|       |   ├── printing.rst
|       |   ├── simplification.rst
|       |   └── solvers.rst
|       └── wiki.rst
├── examples
|   ├── advanced
|   |   ├── autowrap_integrators.py
|   |   ├── autowrap_ufuncify.py
|   |   ├── curvilinear_coordinates.py
|   |   ├── dense_coding_example.py
|   |   ├── fem.py
|   |   ├── gibbs_phenomenon.py
|   |   ├── grover_example.py
|   |   ├── hydrogen.py
|   |   ├── pidigits.py
|   |   ├── pyglet_plotting.py
|   |   ├── qft.py
|   |   └── relativity.py
|   ├── all.py
|   ├── beginner
|   |   ├── basic.py
|   |   ├── differentiation.py
|   |   ├── expansion.py
|   |   ├── functions.py
|   |   ├── limits_examples.py
|   |   ├── plot_examples.py
|   |   ├── plotting_nice_plot.py
|   |   ├── precision.py
|   |   ├── print_pretty.py
|   |   ├── series.py
|   |   └── substitution.py
|   ├── intermediate
|   |   ├── coupled_cluster.py
|   |   ├── differential_equations.py
|   |   ├── infinite_1d_box.py
|   |   ├── mplot2d.py
|   |   ├── mplot3d.py
|   |   ├── partial_differential_eqs.py
|   |   ├── print_gtk.py
|   |   ├── sample.py
|   |   ├── trees.py
|   |   └── vandermonde.py
|   └── notebooks
|       └── README.txt
├── isympy.py
├── release
|   ├── Dockerfile
|   ├── README.md
|   ├── aptinstall.sh
|   ├── authors.py
|   ├── build_docs.py
|   ├── compare_tar_against_git.py
|   ├── fabfile.py
|   ├── github_release.py
|   ├── helpers.py
|   ├── pull_and_run_rever.sh
|   ├── release.sh
|   ├── releasecheck.py
|   ├── requirements.txt
|   ├── sha256.py
|   ├── test_install.py
|   ├── update_docs.py
|   └── update_requirements.sh
├── setup.py
├── setupegg.py
└── sympy
    ├── __init__.py
    ├── abc.py
    ├── algebras
    |   ├── __init__.py
    |   ├── quaternion.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_quaternion.py
    ├── assumptions
    |   ├── __init__.py
    |   ├── ask.py
    |   ├── ask_generated.py
    |   ├── assume.py
    |   ├── cnf.py
    |   ├── facts.py
    |   ├── handlers
    |   |   ├── __init__.py
    |   |   ├── calculus.py
    |   |   ├── common.py
    |   |   ├── matrices.py
    |   |   ├── ntheory.py
    |   |   ├── order.py
    |   |   └── sets.py
    |   ├── predicates
    |   |   ├── __init__.py
    |   |   ├── calculus.py
    |   |   ├── common.py
    |   |   ├── matrices.py
    |   |   ├── ntheory.py
    |   |   ├── order.py
    |   |   └── sets.py
    |   ├── refine.py
    |   ├── relation
    |   |   ├── __init__.py
    |   |   ├── binrel.py
    |   |   └── equality.py
    |   ├── satask.py
    |   ├── sathandlers.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_assumptions_2.py
    |   |   ├── test_context.py
    |   |   ├── test_matrices.py
    |   |   ├── test_query.py
    |   |   ├── test_refine.py
    |   |   ├── test_satask.py
    |   |   ├── test_sathandlers.py
    |   |   └── test_wrapper.py
    |   └── wrapper.py
    ├── benchmarks
    |   ├── __init__.py
    |   ├── bench_discrete_log.py
    |   ├── bench_meijerint.py
    |   └── bench_symbench.py
    ├── calculus
    |   ├── __init__.py
    |   ├── accumulationbounds.py
    |   ├── euler.py
    |   ├── finite_diff.py
    |   ├── singularities.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_accumulationbounds.py
    |   |   ├── test_euler.py
    |   |   ├── test_finite_diff.py
    |   |   ├── test_singularities.py
    |   |   └── test_util.py
    |   └── util.py
    ├── categories
    |   ├── __init__.py
    |   ├── baseclasses.py
    |   ├── diagram_drawing.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_baseclasses.py
    |       └── test_drawing.py
    ├── codegen
    |   ├── __init__.py
    |   ├── abstract_nodes.py
    |   ├── algorithms.py
    |   ├── approximations.py
    |   ├── array_utils.py
    |   ├── ast.py
    |   ├── cfunctions.py
    |   ├── cnodes.py
    |   ├── cutils.py
    |   ├── cxxnodes.py
    |   ├── fnodes.py
    |   ├── futils.py
    |   ├── matrix_nodes.py
    |   ├── numpy_nodes.py
    |   ├── pynodes.py
    |   ├── pyutils.py
    |   ├── rewriting.py
    |   ├── scipy_nodes.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_algorithms.py
    |       ├── test_applications.py
    |       ├── test_approximations.py
    |       ├── test_ast.py
    |       ├── test_cfunctions.py
    |       ├── test_cnodes.py
    |       ├── test_cxxnodes.py
    |       ├── test_fnodes.py
    |       ├── test_numpy_nodes.py
    |       ├── test_pynodes.py
    |       ├── test_pyutils.py
    |       ├── test_rewriting.py
    |       └── test_scipy_nodes.py
    ├── combinatorics
    |   ├── __init__.py
    |   ├── coset_table.py
    |   ├── fp_groups.py
    |   ├── free_groups.py
    |   ├── generators.py
    |   ├── graycode.py
    |   ├── group_constructs.py
    |   ├── homomorphisms.py
    |   ├── named_groups.py
    |   ├── partitions.py
    |   ├── pc_groups.py
    |   ├── perm_groups.py
    |   ├── permutations.py
    |   ├── polyhedron.py
    |   ├── prufer.py
    |   ├── rewritingsystem.py
    |   ├── rewritingsystem_fsm.py
    |   ├── schur_number.py
    |   ├── subsets.py
    |   ├── tensor_can.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_coset_table.py
    |   |   ├── test_fp_groups.py
    |   |   ├── test_free_groups.py
    |   |   ├── test_generators.py
    |   |   ├── test_graycode.py
    |   |   ├── test_group_constructs.py
    |   |   ├── test_homomorphisms.py
    |   |   ├── test_named_groups.py
    |   |   ├── test_partitions.py
    |   |   ├── test_pc_groups.py
    |   |   ├── test_perm_groups.py
    |   |   ├── test_permutations.py
    |   |   ├── test_polyhedron.py
    |   |   ├── test_prufer.py
    |   |   ├── test_rewriting.py
    |   |   ├── test_schur_number.py
    |   |   ├── test_subsets.py
    |   |   ├── test_tensor_can.py
    |   |   ├── test_testutil.py
    |   |   └── test_util.py
    |   ├── testutil.py
    |   └── util.py
    ├── concrete
    |   ├── __init__.py
    |   ├── delta.py
    |   ├── expr_with_intlimits.py
    |   ├── expr_with_limits.py
    |   ├── gosper.py
    |   ├── guess.py
    |   ├── products.py
    |   ├── summations.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_delta.py
    |       ├── test_gosper.py
    |       ├── test_guess.py
    |       ├── test_products.py
    |       └── test_sums_products.py
    ├── conftest.py
    ├── core
    |   ├── __init__.py
    |   ├── _print_helpers.py
    |   ├── add.py
    |   ├── alphabets.py
    |   ├── assumptions.py
    |   ├── backend.py
    |   ├── basic.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_arit.py
    |   |   ├── bench_assumptions.py
    |   |   ├── bench_basic.py
    |   |   ├── bench_expand.py
    |   |   ├── bench_numbers.py
    |   |   └── bench_sympify.py
    |   ├── cache.py
    |   ├── compatibility.py
    |   ├── containers.py
    |   ├── core.py
    |   ├── coreerrors.py
    |   ├── decorators.py
    |   ├── evalf.py
    |   ├── expr.py
    |   ├── exprtools.py
    |   ├── facts.py
    |   ├── function.py
    |   ├── kind.py
    |   ├── logic.py
    |   ├── mod.py
    |   ├── mul.py
    |   ├── multidimensional.py
    |   ├── numbers.py
    |   ├── operations.py
    |   ├── parameters.py
    |   ├── power.py
    |   ├── random.py
    |   ├── relational.py
    |   ├── rules.py
    |   ├── singleton.py
    |   ├── sorting.py
    |   ├── symbol.py
    |   ├── sympify.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_args.py
    |   |   ├── test_arit.py
    |   |   ├── test_assumptions.py
    |   |   ├── test_basic.py
    |   |   ├── test_cache.py
    |   |   ├── test_complex.py
    |   |   ├── test_constructor_postprocessor.py
    |   |   ├── test_containers.py
    |   |   ├── test_count_ops.py
    |   |   ├── test_diff.py
    |   |   ├── test_equal.py
    |   |   ├── test_eval.py
    |   |   ├── test_evalf.py
    |   |   ├── test_expand.py
    |   |   ├── test_expr.py
    |   |   ├── test_exprtools.py
    |   |   ├── test_facts.py
    |   |   ├── test_function.py
    |   |   ├── test_kind.py
    |   |   ├── test_logic.py
    |   |   ├── test_match.py
    |   |   ├── test_multidimensional.py
    |   |   ├── test_noncommutative.py
    |   |   ├── test_numbers.py
    |   |   ├── test_operations.py
    |   |   ├── test_parameters.py
    |   |   ├── test_power.py
    |   |   ├── test_priority.py
    |   |   ├── test_random.py
    |   |   ├── test_relational.py
    |   |   ├── test_rules.py
    |   |   ├── test_singleton.py
    |   |   ├── test_sorting.py
    |   |   ├── test_subs.py
    |   |   ├── test_symbol.py
    |   |   ├── test_sympify.py
    |   |   ├── test_traversal.py
    |   |   ├── test_truediv.py
    |   |   └── test_var.py
    |   ├── trace.py
    |   └── traversal.py
    ├── crypto
    |   ├── __init__.py
    |   ├── crypto.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_crypto.py
    ├── diffgeom
    |   ├── __init__.py
    |   ├── diffgeom.py
    |   ├── rn.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_class_structure.py
    |       ├── test_diffgeom.py
    |       ├── test_function_diffgeom_book.py
    |       └── test_hyperbolic_space.py
    ├── discrete
    |   ├── __init__.py
    |   ├── convolutions.py
    |   ├── recurrences.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_convolutions.py
    |   |   ├── test_recurrences.py
    |   |   └── test_transforms.py
    |   └── transforms.py
    ├── external
    |   ├── __init__.py
    |   ├── gmpy.py
    |   ├── importtools.py
    |   ├── pythonmpq.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_autowrap.py
    |       ├── test_codegen.py
    |       ├── test_importtools.py
    |       ├── test_numpy.py
    |       ├── test_pythonmpq.py
    |       └── test_scipy.py
    ├── functions
    |   ├── __init__.py
    |   ├── combinatorial
    |   |   ├── __init__.py
    |   |   ├── factorials.py
    |   |   ├── numbers.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_comb_factorials.py
    |   |       └── test_comb_numbers.py
    |   ├── elementary
    |   |   ├── __init__.py
    |   |   ├── benchmarks
    |   |   |   ├── __init__.py
    |   |   |   └── bench_exp.py
    |   |   ├── complexes.py
    |   |   ├── exponential.py
    |   |   ├── hyperbolic.py
    |   |   ├── integers.py
    |   |   ├── miscellaneous.py
    |   |   ├── piecewise.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_complexes.py
    |   |   |   ├── test_exponential.py
    |   |   |   ├── test_hyperbolic.py
    |   |   |   ├── test_integers.py
    |   |   |   ├── test_interface.py
    |   |   |   ├── test_miscellaneous.py
    |   |   |   ├── test_piecewise.py
    |   |   |   └── test_trigonometric.py
    |   |   └── trigonometric.py
    |   └── special
    |       ├── __init__.py
    |       ├── benchmarks
    |       |   ├── __init__.py
    |       |   └── bench_special.py
    |       ├── bessel.py
    |       ├── beta_functions.py
    |       ├── bsplines.py
    |       ├── delta_functions.py
    |       ├── elliptic_integrals.py
    |       ├── error_functions.py
    |       ├── gamma_functions.py
    |       ├── hyper.py
    |       ├── mathieu_functions.py
    |       ├── polynomials.py
    |       ├── singularity_functions.py
    |       ├── spherical_harmonics.py
    |       ├── tensor_functions.py
    |       ├── tests
    |       |   ├── __init__.py
    |       |   ├── test_bessel.py
    |       |   ├── test_beta_functions.py
    |       |   ├── test_bsplines.py
    |       |   ├── test_delta_functions.py
    |       |   ├── test_elliptic_integrals.py
    |       |   ├── test_error_functions.py
    |       |   ├── test_gamma_functions.py
    |       |   ├── test_hyper.py
    |       |   ├── test_mathieu.py
    |       |   ├── test_singularity_functions.py
    |       |   ├── test_spec_polynomials.py
    |       |   ├── test_spherical_harmonics.py
    |       |   ├── test_tensor_functions.py
    |       |   └── test_zeta_functions.py
    |       └── zeta_functions.py
    ├── galgebra.py
    ├── geometry
    |   ├── __init__.py
    |   ├── curve.py
    |   ├── ellipse.py
    |   ├── entity.py
    |   ├── exceptions.py
    |   ├── line.py
    |   ├── parabola.py
    |   ├── plane.py
    |   ├── point.py
    |   ├── polygon.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_curve.py
    |   |   ├── test_ellipse.py
    |   |   ├── test_entity.py
    |   |   ├── test_geometrysets.py
    |   |   ├── test_line.py
    |   |   ├── test_parabola.py
    |   |   ├── test_plane.py
    |   |   ├── test_point.py
    |   |   ├── test_polygon.py
    |   |   └── test_util.py
    |   └── util.py
    ├── holonomic
    |   ├── __init__.py
    |   ├── holonomic.py
    |   ├── holonomicerrors.py
    |   ├── numerical.py
    |   ├── recurrence.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_holonomic.py
    |       └── test_recurrence.py
    ├── integrals
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_integrate.py
    |   |   └── bench_trigintegrate.py
    |   ├── deltafunctions.py
    |   ├── heurisch.py
    |   ├── integrals.py
    |   ├── intpoly.py
    |   ├── manualintegrate.py
    |   ├── meijerint.py
    |   ├── meijerint_doc.py
    |   ├── prde.py
    |   ├── quadrature.py
    |   ├── rationaltools.py
    |   ├── rde.py
    |   ├── risch.py
    |   ├── rubi
    |   |   ├── __init__.py
    |   |   ├── constraints.py
    |   |   ├── parsetools
    |   |   |   ├── __init__.py
    |   |   |   ├── generate_rules.py
    |   |   |   ├── generate_tests.py
    |   |   |   ├── header.py.txt
    |   |   |   ├── parse.py
    |   |   |   └── tests
    |   |   ├── rubi_tests
    |   |   |   ├── __init__.py
    |   |   |   └── tests
    |   |   ├── rubimain.py
    |   |   ├── rules
    |   |   |   ├── __init__.py
    |   |   |   ├── binomial_products.py
    |   |   |   ├── exponential.py
    |   |   |   ├── hyperbolic.py
    |   |   |   ├── integrand_simplification.py
    |   |   |   ├── inverse_hyperbolic.py
    |   |   |   ├── inverse_trig.py
    |   |   |   ├── linear_products.py
    |   |   |   ├── logarithms.py
    |   |   |   ├── miscellaneous_algebraic.py
    |   |   |   ├── miscellaneous_integration.py
    |   |   |   ├── miscellaneous_trig.py
    |   |   |   ├── piecewise_linear.py
    |   |   |   ├── quadratic_products.py
    |   |   |   ├── secant.py
    |   |   |   ├── sine.py
    |   |   |   ├── special_functions.py
    |   |   |   ├── tangent.py
    |   |   |   └── trinomial_products.py
    |   |   ├── symbol.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_rubi_integrate.py
    |   |   |   └── test_utility_function.py
    |   |   └── utility_function.py
    |   ├── singularityfunctions.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_deltafunctions.py
    |   |   ├── test_failing_integrals.py
    |   |   ├── test_heurisch.py
    |   |   ├── test_integrals.py
    |   |   ├── test_intpoly.py
    |   |   ├── test_lineintegrals.py
    |   |   ├── test_manual.py
    |   |   ├── test_meijerint.py
    |   |   ├── test_prde.py
    |   |   ├── test_quadrature.py
    |   |   ├── test_rationaltools.py
    |   |   ├── test_rde.py
    |   |   ├── test_risch.py
    |   |   ├── test_singularityfunctions.py
    |   |   ├── test_transforms.py
    |   |   └── test_trigonometry.py
    |   ├── transforms.py
    |   └── trigonometry.py
    ├── interactive
    |   ├── __init__.py
    |   ├── printing.py
    |   ├── session.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_interactive.py
    |   |   └── test_ipython.py
    |   └── traversal.py
    ├── liealgebras
    |   ├── __init__.py
    |   ├── cartan_matrix.py
    |   ├── cartan_type.py
    |   ├── dynkin_diagram.py
    |   ├── root_system.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_cartan_matrix.py
    |   |   ├── test_cartan_type.py
    |   |   ├── test_dynkin_diagram.py
    |   |   ├── test_root_system.py
    |   |   ├── test_type_A.py
    |   |   ├── test_type_B.py
    |   |   ├── test_type_C.py
    |   |   ├── test_type_D.py
    |   |   ├── test_type_E.py
    |   |   ├── test_type_F.py
    |   |   ├── test_type_G.py
    |   |   └── test_weyl_group.py
    |   ├── type_a.py
    |   ├── type_b.py
    |   ├── type_c.py
    |   ├── type_d.py
    |   ├── type_e.py
    |   ├── type_f.py
    |   ├── type_g.py
    |   └── weyl_group.py
    ├── logic
    |   ├── __init__.py
    |   ├── algorithms
    |   |   ├── __init__.py
    |   |   ├── dpll.py
    |   |   ├── dpll2.py
    |   |   ├── minisat22_wrapper.py
    |   |   └── pycosat_wrapper.py
    |   ├── boolalg.py
    |   ├── inference.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_boolalg.py
    |   |   ├── test_dimacs.py
    |   |   └── test_inference.py
    |   └── utilities
    |       ├── __init__.py
    |       └── dimacs.py
    ├── matrices
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   └── bench_matrix.py
    |   ├── common.py
    |   ├── decompositions.py
    |   ├── dense.py
    |   ├── densearith.py
    |   ├── densesolve.py
    |   ├── densetools.py
    |   ├── determinant.py
    |   ├── eigen.py
    |   ├── expressions
    |   |   ├── __init__.py
    |   |   ├── adjoint.py
    |   |   ├── applyfunc.py
    |   |   ├── blockmatrix.py
    |   |   ├── companion.py
    |   |   ├── determinant.py
    |   |   ├── diagonal.py
    |   |   ├── dotproduct.py
    |   |   ├── factorizations.py
    |   |   ├── fourier.py
    |   |   ├── funcmatrix.py
    |   |   ├── hadamard.py
    |   |   ├── inverse.py
    |   |   ├── kronecker.py
    |   |   ├── matadd.py
    |   |   ├── matexpr.py
    |   |   ├── matmul.py
    |   |   ├── matpow.py
    |   |   ├── permutation.py
    |   |   ├── sets.py
    |   |   ├── slice.py
    |   |   ├── special.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_adjoint.py
    |   |   |   ├── test_applyfunc.py
    |   |   |   ├── test_blockmatrix.py
    |   |   |   ├── test_companion.py
    |   |   |   ├── test_derivatives.py
    |   |   |   ├── test_determinant.py
    |   |   |   ├── test_diagonal.py
    |   |   |   ├── test_dotproduct.py
    |   |   |   ├── test_factorizations.py
    |   |   |   ├── test_fourier.py
    |   |   |   ├── test_funcmatrix.py
    |   |   |   ├── test_hadamard.py
    |   |   |   ├── test_indexing.py
    |   |   |   ├── test_inverse.py
    |   |   |   ├── test_kronecker.py
    |   |   |   ├── test_matadd.py
    |   |   |   ├── test_matexpr.py
    |   |   |   ├── test_matmul.py
    |   |   |   ├── test_matpow.py
    |   |   |   ├── test_permutation.py
    |   |   |   ├── test_sets.py
    |   |   |   ├── test_slice.py
    |   |   |   ├── test_special.py
    |   |   |   ├── test_trace.py
    |   |   |   └── test_transpose.py
    |   |   ├── trace.py
    |   |   └── transpose.py
    |   ├── graph.py
    |   ├── immutable.py
    |   ├── inverse.py
    |   ├── matrices.py
    |   ├── normalforms.py
    |   ├── reductions.py
    |   ├── repmatrix.py
    |   ├── solvers.py
    |   ├── sparse.py
    |   ├── sparsetools.py
    |   ├── subspaces.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_commonmatrix.py
    |   |   ├── test_decompositions.py
    |   |   ├── test_densearith.py
    |   |   ├── test_densesolve.py
    |   |   ├── test_densetools.py
    |   |   ├── test_determinant.py
    |   |   ├── test_eigen.py
    |   |   ├── test_graph.py
    |   |   ├── test_immutable.py
    |   |   ├── test_interactions.py
    |   |   ├── test_matrices.py
    |   |   ├── test_normalforms.py
    |   |   ├── test_reductions.py
    |   |   ├── test_solvers.py
    |   |   ├── test_sparse.py
    |   |   ├── test_sparsetools.py
    |   |   └── test_subspaces.py
    |   └── utilities.py
    ├── multipledispatch
    |   ├── __init__.py
    |   ├── conflict.py
    |   ├── core.py
    |   ├── dispatcher.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_conflict.py
    |   |   ├── test_core.py
    |   |   └── test_dispatcher.py
    |   └── utils.py
    ├── ntheory
    |   ├── __init__.py
    |   ├── bbp_pi.py
    |   ├── continued_fraction.py
    |   ├── digits.py
    |   ├── ecm.py
    |   ├── egyptian_fraction.py
    |   ├── elliptic_curve.py
    |   ├── factor_.py
    |   ├── generate.py
    |   ├── modular.py
    |   ├── multinomial.py
    |   ├── partitions_.py
    |   ├── primetest.py
    |   ├── qs.py
    |   ├── residue_ntheory.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_bbp_pi.py
    |       ├── test_continued_fraction.py
    |       ├── test_digits.py
    |       ├── test_ecm.py
    |       ├── test_egyptian_fraction.py
    |       ├── test_elliptic_curve.py
    |       ├── test_factor_.py
    |       ├── test_generate.py
    |       ├── test_modular.py
    |       ├── test_multinomial.py
    |       ├── test_partitions.py
    |       ├── test_primetest.py
    |       ├── test_qs.py
    |       └── test_residue.py
    ├── parsing
    |   ├── __init__.py
    |   ├── ast_parser.py
    |   ├── autolev
    |   |   ├── __init__.py
    |   |   ├── _antlr
    |   |   |   ├── __init__.py
    |   |   |   ├── autolevlexer.py
    |   |   |   ├── autolevlistener.py
    |   |   |   └── autolevparser.py
    |   |   ├── _listener_autolev_antlr.py
    |   |   ├── _parse_autolev_antlr.py
    |   |   └── test-examples
    |   |       ├── README.txt
    |   |       ├── pydy-example-repo
    |   |       ├── ruletest1.py
    |   |       ├── ruletest10.py
    |   |       ├── ruletest11.py
    |   |       ├── ruletest12.py
    |   |       ├── ruletest2.py
    |   |       ├── ruletest3.py
    |   |       ├── ruletest4.py
    |   |       ├── ruletest5.py
    |   |       ├── ruletest6.py
    |   |       ├── ruletest7.py
    |   |       ├── ruletest8.py
    |   |       └── ruletest9.py
    |   ├── c
    |   |   ├── __init__.py
    |   |   └── c_parser.py
    |   ├── fortran
    |   |   ├── __init__.py
    |   |   └── fortran_parser.py
    |   ├── latex
    |   |   ├── LICENSE.txt
    |   |   ├── __init__.py
    |   |   ├── _antlr
    |   |   |   ├── __init__.py
    |   |   |   ├── latexlexer.py
    |   |   |   └── latexparser.py
    |   |   ├── _build_latex_antlr.py
    |   |   ├── _parse_latex_antlr.py
    |   |   └── errors.py
    |   ├── mathematica.py
    |   ├── maxima.py
    |   ├── sym_expr.py
    |   ├── sympy_parser.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_ast_parser.py
    |       ├── test_autolev.py
    |       ├── test_c_parser.py
    |       ├── test_fortran_parser.py
    |       ├── test_implicit_multiplication_application.py
    |       ├── test_latex.py
    |       ├── test_latex_deps.py
    |       ├── test_mathematica.py
    |       ├── test_maxima.py
    |       ├── test_sym_expr.py
    |       └── test_sympy_parser.py
    ├── physics
    |   ├── __init__.py
    |   ├── continuum_mechanics
    |   |   ├── __init__.py
    |   |   ├── beam.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_beam.py
    |   ├── control
    |   |   ├── __init__.py
    |   |   ├── control_plots.py
    |   |   ├── lti.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_control_plots.py
    |   |       └── test_lti.py
    |   ├── hep
    |   |   ├── __init__.py
    |   |   ├── gamma_matrices.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_gamma_matrices.py
    |   ├── hydrogen.py
    |   ├── matrices.py
    |   ├── mechanics
    |   |   ├── __init__.py
    |   |   ├── body.py
    |   |   ├── functions.py
    |   |   ├── joint.py
    |   |   ├── jointsmethod.py
    |   |   ├── kane.py
    |   |   ├── lagrange.py
    |   |   ├── linearize.py
    |   |   ├── method.py
    |   |   ├── models.py
    |   |   ├── particle.py
    |   |   ├── rigidbody.py
    |   |   ├── system.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_body.py
    |   |       ├── test_functions.py
    |   |       ├── test_joint.py
    |   |       ├── test_jointsmethod.py
    |   |       ├── test_kane.py
    |   |       ├── test_kane2.py
    |   |       ├── test_kane3.py
    |   |       ├── test_kane4.py
    |   |       ├── test_lagrange.py
    |   |       ├── test_lagrange2.py
    |   |       ├── test_linearize.py
    |   |       ├── test_method.py
    |   |       ├── test_models.py
    |   |       ├── test_particle.py
    |   |       ├── test_rigidbody.py
    |   |       └── test_system.py
    |   ├── optics
    |   |   ├── __init__.py
    |   |   ├── gaussopt.py
    |   |   ├── medium.py
    |   |   ├── polarization.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_gaussopt.py
    |   |   |   ├── test_medium.py
    |   |   |   ├── test_polarization.py
    |   |   |   ├── test_utils.py
    |   |   |   └── test_waves.py
    |   |   ├── utils.py
    |   |   └── waves.py
    |   ├── paulialgebra.py
    |   ├── pring.py
    |   ├── qho_1d.py
    |   ├── quantum
    |   |   ├── __init__.py
    |   |   ├── anticommutator.py
    |   |   ├── boson.py
    |   |   ├── cartesian.py
    |   |   ├── cg.py
    |   |   ├── circuitplot.py
    |   |   ├── circuitutils.py
    |   |   ├── commutator.py
    |   |   ├── constants.py
    |   |   ├── dagger.py
    |   |   ├── density.py
    |   |   ├── fermion.py
    |   |   ├── gate.py
    |   |   ├── grover.py
    |   |   ├── hilbert.py
    |   |   ├── identitysearch.py
    |   |   ├── innerproduct.py
    |   |   ├── matrixcache.py
    |   |   ├── matrixutils.py
    |   |   ├── operator.py
    |   |   ├── operatorordering.py
    |   |   ├── operatorset.py
    |   |   ├── pauli.py
    |   |   ├── piab.py
    |   |   ├── qapply.py
    |   |   ├── qasm.py
    |   |   ├── qexpr.py
    |   |   ├── qft.py
    |   |   ├── qubit.py
    |   |   ├── represent.py
    |   |   ├── sho1d.py
    |   |   ├── shor.py
    |   |   ├── spin.py
    |   |   ├── state.py
    |   |   ├── tensorproduct.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_anticommutator.py
    |   |   |   ├── test_boson.py
    |   |   |   ├── test_cartesian.py
    |   |   |   ├── test_cg.py
    |   |   |   ├── test_circuitplot.py
    |   |   |   ├── test_circuitutils.py
    |   |   |   ├── test_commutator.py
    |   |   |   ├── test_constants.py
    |   |   |   ├── test_dagger.py
    |   |   |   ├── test_density.py
    |   |   |   ├── test_fermion.py
    |   |   |   ├── test_gate.py
    |   |   |   ├── test_grover.py
    |   |   |   ├── test_hilbert.py
    |   |   |   ├── test_identitysearch.py
    |   |   |   ├── test_innerproduct.py
    |   |   |   ├── test_matrixutils.py
    |   |   |   ├── test_operator.py
    |   |   |   ├── test_operatorordering.py
    |   |   |   ├── test_operatorset.py
    |   |   |   ├── test_pauli.py
    |   |   |   ├── test_piab.py
    |   |   |   ├── test_printing.py
    |   |   |   ├── test_qapply.py
    |   |   |   ├── test_qasm.py
    |   |   |   ├── test_qexpr.py
    |   |   |   ├── test_qft.py
    |   |   |   ├── test_qubit.py
    |   |   |   ├── test_represent.py
    |   |   |   ├── test_sho1d.py
    |   |   |   ├── test_shor.py
    |   |   |   ├── test_spin.py
    |   |   |   ├── test_state.py
    |   |   |   ├── test_tensorproduct.py
    |   |   |   └── test_trace.py
    |   |   └── trace.py
    |   ├── secondquant.py
    |   ├── sho.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_clebsch_gordan.py
    |   |   ├── test_hydrogen.py
    |   |   ├── test_paulialgebra.py
    |   |   ├── test_physics_matrices.py
    |   |   ├── test_pring.py
    |   |   ├── test_qho_1d.py
    |   |   ├── test_secondquant.py
    |   |   └── test_sho.py
    |   ├── units
    |   |   ├── __init__.py
    |   |   ├── definitions
    |   |   |   ├── __init__.py
    |   |   |   ├── dimension_definitions.py
    |   |   |   └── unit_definitions.py
    |   |   ├── dimensions.py
    |   |   ├── prefixes.py
    |   |   ├── quantities.py
    |   |   ├── systems
    |   |   |   ├── __init__.py
    |   |   |   ├── cgs.py
    |   |   |   ├── length_weight_time.py
    |   |   |   ├── mks.py
    |   |   |   ├── mksa.py
    |   |   |   ├── natural.py
    |   |   |   └── si.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_dimensions.py
    |   |   |   ├── test_dimensionsystem.py
    |   |   |   ├── test_prefixes.py
    |   |   |   ├── test_quantities.py
    |   |   |   ├── test_unit_system_cgs_gauss.py
    |   |   |   ├── test_unitsystem.py
    |   |   |   └── test_util.py
    |   |   ├── unitsystem.py
    |   |   └── util.py
    |   ├── vector
    |   |   ├── __init__.py
    |   |   ├── dyadic.py
    |   |   ├── fieldfunctions.py
    |   |   ├── frame.py
    |   |   ├── functions.py
    |   |   ├── point.py
    |   |   ├── printing.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_dyadic.py
    |   |   |   ├── test_fieldfunctions.py
    |   |   |   ├── test_frame.py
    |   |   |   ├── test_functions.py
    |   |   |   ├── test_output.py
    |   |   |   ├── test_point.py
    |   |   |   ├── test_printing.py
    |   |   |   └── test_vector.py
    |   |   └── vector.py
    |   └── wigner.py
    ├── plotting
    |   ├── __init__.py
    |   ├── experimental_lambdify.py
    |   ├── intervalmath
    |   |   ├── __init__.py
    |   |   ├── interval_arithmetic.py
    |   |   ├── interval_membership.py
    |   |   ├── lib_interval.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_interval_functions.py
    |   |       ├── test_interval_membership.py
    |   |       └── test_intervalmath.py
    |   ├── plot.py
    |   ├── plot_implicit.py
    |   ├── pygletplot
    |   |   ├── __init__.py
    |   |   ├── color_scheme.py
    |   |   ├── managed_window.py
    |   |   ├── plot.py
    |   |   ├── plot_axes.py
    |   |   ├── plot_camera.py
    |   |   ├── plot_controller.py
    |   |   ├── plot_curve.py
    |   |   ├── plot_interval.py
    |   |   ├── plot_mode.py
    |   |   ├── plot_mode_base.py
    |   |   ├── plot_modes.py
    |   |   ├── plot_object.py
    |   |   ├── plot_rotation.py
    |   |   ├── plot_surface.py
    |   |   ├── plot_window.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── test_plotting.py
    |   |   └── util.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_experimental_lambdify.py
    |   |   ├── test_plot.py
    |   |   ├── test_plot_implicit.py
    |   |   └── test_textplot.py
    |   └── textplot.py
    ├── polys
    |   ├── __init__.py
    |   ├── agca
    |   |   ├── __init__.py
    |   |   ├── extensions.py
    |   |   ├── homomorphisms.py
    |   |   ├── ideals.py
    |   |   ├── modules.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_extensions.py
    |   |       ├── test_homomorphisms.py
    |   |       ├── test_ideals.py
    |   |       └── test_modules.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_galoispolys.py
    |   |   ├── bench_groebnertools.py
    |   |   └── bench_solvers.py
    |   ├── compatibility.py
    |   ├── constructor.py
    |   ├── densearith.py
    |   ├── densebasic.py
    |   ├── densetools.py
    |   ├── dispersion.py
    |   ├── distributedmodules.py
    |   ├── domainmatrix.py
    |   ├── domains
    |   |   ├── __init__.py
    |   |   ├── algebraicfield.py
    |   |   ├── characteristiczero.py
    |   |   ├── complexfield.py
    |   |   ├── compositedomain.py
    |   |   ├── domain.py
    |   |   ├── domainelement.py
    |   |   ├── expressiondomain.py
    |   |   ├── expressionrawdomain.py
    |   |   ├── field.py
    |   |   ├── finitefield.py
    |   |   ├── fractionfield.py
    |   |   ├── gaussiandomains.py
    |   |   ├── gmpyfinitefield.py
    |   |   ├── gmpyintegerring.py
    |   |   ├── gmpyrationalfield.py
    |   |   ├── groundtypes.py
    |   |   ├── integerring.py
    |   |   ├── modularinteger.py
    |   |   ├── mpelements.py
    |   |   ├── old_fractionfield.py
    |   |   ├── old_polynomialring.py
    |   |   ├── polynomialring.py
    |   |   ├── pythonfinitefield.py
    |   |   ├── pythonintegerring.py
    |   |   ├── pythonrational.py
    |   |   ├── pythonrationalfield.py
    |   |   ├── quotientring.py
    |   |   ├── rationalfield.py
    |   |   ├── realfield.py
    |   |   ├── ring.py
    |   |   ├── simpledomain.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_domains.py
    |   |       ├── test_polynomialring.py
    |   |       └── test_quotientring.py
    |   ├── euclidtools.py
    |   ├── factortools.py
    |   ├── fglmtools.py
    |   ├── fields.py
    |   ├── galoistools.py
    |   ├── groebnertools.py
    |   ├── heuristicgcd.py
    |   ├── matrices
    |   |   ├── __init__.py
    |   |   ├── ddm.py
    |   |   ├── dense.py
    |   |   ├── domainmatrix.py
    |   |   ├── domainscalar.py
    |   |   ├── eigen.py
    |   |   ├── exceptions.py
    |   |   ├── linsolve.py
    |   |   ├── normalforms.py
    |   |   ├── sdm.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_ddm.py
    |   |       ├── test_dense.py
    |   |       ├── test_domainmatrix.py
    |   |       ├── test_domainscalar.py
    |   |       ├── test_eigen.py
    |   |       ├── test_linsolve.py
    |   |       ├── test_normalforms.py
    |   |       └── test_sdm.py
    |   ├── modulargcd.py
    |   ├── monomials.py
    |   ├── multivariate_resultants.py
    |   ├── numberfields
    |   |   ├── __init__.py
    |   |   ├── basis.py
    |   |   ├── exceptions.py
    |   |   ├── minpoly.py
    |   |   ├── modules.py
    |   |   ├── primes.py
    |   |   ├── subfield.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_basis.py
    |   |   |   ├── test_minpoly.py
    |   |   |   ├── test_modules.py
    |   |   |   ├── test_numbers.py
    |   |   |   ├── test_primes.py
    |   |   |   ├── test_subfield.py
    |   |   |   └── test_utilities.py
    |   |   └── utilities.py
    |   ├── orderings.py
    |   ├── orthopolys.py
    |   ├── partfrac.py
    |   ├── polyclasses.py
    |   ├── polyconfig.py
    |   ├── polyerrors.py
    |   ├── polyfuncs.py
    |   ├── polymatrix.py
    |   ├── polyoptions.py
    |   ├── polyquinticconst.py
    |   ├── polyroots.py
    |   ├── polytools.py
    |   ├── polyutils.py
    |   ├── rationaltools.py
    |   ├── ring_series.py
    |   ├── rings.py
    |   ├── rootisolation.py
    |   ├── rootoftools.py
    |   ├── solvers.py
    |   ├── specialpolys.py
    |   ├── sqfreetools.py
    |   ├── subresultants_qq_zz.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_constructor.py
    |       ├── test_densearith.py
    |       ├── test_densebasic.py
    |       ├── test_densetools.py
    |       ├── test_dispersion.py
    |       ├── test_distributedmodules.py
    |       ├── test_euclidtools.py
    |       ├── test_factortools.py
    |       ├── test_fields.py
    |       ├── test_galoistools.py
    |       ├── test_groebnertools.py
    |       ├── test_heuristicgcd.py
    |       ├── test_injections.py
    |       ├── test_modulargcd.py
    |       ├── test_monomials.py
    |       ├── test_multivariate_resultants.py
    |       ├── test_orderings.py
    |       ├── test_orthopolys.py
    |       ├── test_partfrac.py
    |       ├── test_polyclasses.py
    |       ├── test_polyfuncs.py
    |       ├── test_polymatrix.py
    |       ├── test_polyoptions.py
    |       ├── test_polyroots.py
    |       ├── test_polytools.py
    |       ├── test_polyutils.py
    |       ├── test_pythonrational.py
    |       ├── test_rationaltools.py
    |       ├── test_ring_series.py
    |       ├── test_rings.py
    |       ├── test_rootisolation.py
    |       ├── test_rootoftools.py
    |       ├── test_solvers.py
    |       ├── test_specialpolys.py
    |       ├── test_sqfreetools.py
    |       └── test_subresultants_qq_zz.py
    ├── printing
    |   ├── __init__.py
    |   ├── aesaracode.py
    |   ├── c.py
    |   ├── ccode.py
    |   ├── codeprinter.py
    |   ├── conventions.py
    |   ├── cxx.py
    |   ├── cxxcode.py
    |   ├── defaults.py
    |   ├── dot.py
    |   ├── fcode.py
    |   ├── fortran.py
    |   ├── glsl.py
    |   ├── gtk.py
    |   ├── jscode.py
    |   ├── julia.py
    |   ├── lambdarepr.py
    |   ├── latex.py
    |   ├── llvmjitcode.py
    |   ├── maple.py
    |   ├── mathematica.py
    |   ├── mathml.py
    |   ├── numpy.py
    |   ├── octave.py
    |   ├── precedence.py
    |   ├── pretty
    |   |   ├── __init__.py
    |   |   ├── pretty.py
    |   |   ├── pretty_symbology.py
    |   |   ├── stringpict.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_pretty.py
    |   ├── preview.py
    |   ├── printer.py
    |   ├── pycode.py
    |   ├── python.py
    |   ├── rcode.py
    |   ├── repr.py
    |   ├── rust.py
    |   ├── str.py
    |   ├── tableform.py
    |   ├── tensorflow.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_aesaracode.py
    |   |   ├── test_c.py
    |   |   ├── test_codeprinter.py
    |   |   ├── test_conventions.py
    |   |   ├── test_cupy.py
    |   |   ├── test_cxx.py
    |   |   ├── test_dot.py
    |   |   ├── test_fortran.py
    |   |   ├── test_glsl.py
    |   |   ├── test_gtk.py
    |   |   ├── test_jscode.py
    |   |   ├── test_julia.py
    |   |   ├── test_lambdarepr.py
    |   |   ├── test_latex.py
    |   |   ├── test_llvmjit.py
    |   |   ├── test_maple.py
    |   |   ├── test_mathematica.py
    |   |   ├── test_mathml.py
    |   |   ├── test_numpy.py
    |   |   ├── test_octave.py
    |   |   ├── test_precedence.py
    |   |   ├── test_preview.py
    |   |   ├── test_pycode.py
    |   |   ├── test_python.py
    |   |   ├── test_rcode.py
    |   |   ├── test_repr.py
    |   |   ├── test_rust.py
    |   |   ├── test_str.py
    |   |   ├── test_tableform.py
    |   |   ├── test_tensorflow.py
    |   |   ├── test_theanocode.py
    |   |   └── test_tree.py
    |   ├── theanocode.py
    |   └── tree.py
    ├── release.py
    ├── sandbox
    |   ├── __init__.py
    |   ├── indexed_integrals.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_indexed_integrals.py
    ├── series
    |   ├── __init__.py
    |   ├── acceleration.py
    |   ├── approximants.py
    |   ├── aseries.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_limit.py
    |   |   └── bench_order.py
    |   ├── formal.py
    |   ├── fourier.py
    |   ├── gruntz.py
    |   ├── kauers.py
    |   ├── limits.py
    |   ├── limitseq.py
    |   ├── order.py
    |   ├── residues.py
    |   ├── sequences.py
    |   ├── series.py
    |   ├── series_class.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_approximants.py
    |       ├── test_aseries.py
    |       ├── test_demidovich.py
    |       ├── test_formal.py
    |       ├── test_fourier.py
    |       ├── test_gruntz.py
    |       ├── test_kauers.py
    |       ├── test_limits.py
    |       ├── test_limitseq.py
    |       ├── test_lseries.py
    |       ├── test_nseries.py
    |       ├── test_order.py
    |       ├── test_residues.py
    |       ├── test_sequences.py
    |       └── test_series.py
    ├── sets
    |   ├── __init__.py
    |   ├── conditionset.py
    |   ├── contains.py
    |   ├── fancysets.py
    |   ├── handlers
    |   |   ├── __init__.py
    |   |   ├── add.py
    |   |   ├── comparison.py
    |   |   ├── functions.py
    |   |   ├── intersection.py
    |   |   ├── issubset.py
    |   |   ├── mul.py
    |   |   ├── power.py
    |   |   └── union.py
    |   ├── ordinals.py
    |   ├── powerset.py
    |   ├── setexpr.py
    |   ├── sets.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_conditionset.py
    |       ├── test_contains.py
    |       ├── test_fancysets.py
    |       ├── test_ordinals.py
    |       ├── test_powerset.py
    |       ├── test_setexpr.py
    |       └── test_sets.py
    ├── simplify
    |   ├── __init__.py
    |   ├── combsimp.py
    |   ├── cse_main.py
    |   ├── cse_opts.py
    |   ├── epathtools.py
    |   ├── fu.py
    |   ├── gammasimp.py
    |   ├── hyperexpand.py
    |   ├── hyperexpand_doc.py
    |   ├── powsimp.py
    |   ├── radsimp.py
    |   ├── ratsimp.py
    |   ├── simplify.py
    |   ├── sqrtdenest.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_combsimp.py
    |   |   ├── test_cse.py
    |   |   ├── test_epathtools.py
    |   |   ├── test_fu.py
    |   |   ├── test_function.py
    |   |   ├── test_gammasimp.py
    |   |   ├── test_hyperexpand.py
    |   |   ├── test_powsimp.py
    |   |   ├── test_radsimp.py
    |   |   ├── test_ratsimp.py
    |   |   ├── test_rewrite.py
    |   |   ├── test_simplify.py
    |   |   ├── test_sqrtdenest.py
    |   |   └── test_trigsimp.py
    |   ├── traversaltools.py
    |   └── trigsimp.py
    ├── solvers
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   └── bench_solvers.py
    |   ├── bivariate.py
    |   ├── decompogen.py
    |   ├── deutils.py
    |   ├── diophantine
    |   |   ├── __init__.py
    |   |   ├── diophantine.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_diophantine.py
    |   ├── inequalities.py
    |   ├── ode
    |   |   ├── __init__.py
    |   |   ├── hypergeometric.py
    |   |   ├── lie_group.py
    |   |   ├── nonhomogeneous.py
    |   |   ├── ode.py
    |   |   ├── riccati.py
    |   |   ├── single.py
    |   |   ├── subscheck.py
    |   |   ├── systems.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_lie_group.py
    |   |       ├── test_ode.py
    |   |       ├── test_riccati.py
    |   |       ├── test_single.py
    |   |       ├── test_subscheck.py
    |   |       └── test_systems.py
    |   ├── pde.py
    |   ├── polysys.py
    |   ├── recurr.py
    |   ├── solvers.py
    |   ├── solveset.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_constantsimp.py
    |       ├── test_decompogen.py
    |       ├── test_inequalities.py
    |       ├── test_numeric.py
    |       ├── test_pde.py
    |       ├── test_polysys.py
    |       ├── test_recurr.py
    |       ├── test_solvers.py
    |       └── test_solveset.py
    ├── stats
    |   ├── __init__.py
    |   ├── compound_rv.py
    |   ├── crv.py
    |   ├── crv_types.py
    |   ├── drv.py
    |   ├── drv_types.py
    |   ├── error_prop.py
    |   ├── frv.py
    |   ├── frv_types.py
    |   ├── joint_rv.py
    |   ├── joint_rv_types.py
    |   ├── matrix_distributions.py
    |   ├── random_matrix.py
    |   ├── random_matrix_models.py
    |   ├── rv.py
    |   ├── rv_interface.py
    |   ├── sampling
    |   |   ├── __init__.py
    |   |   ├── sample_numpy.py
    |   |   ├── sample_pymc3.py
    |   |   ├── sample_scipy.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_sample_continuous_rv.py
    |   |       ├── test_sample_discrete_rv.py
    |   |       └── test_sample_finite_rv.py
    |   ├── stochastic_process.py
    |   ├── stochastic_process_types.py
    |   ├── symbolic_multivariate_probability.py
    |   ├── symbolic_probability.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_compound_rv.py
    |       ├── test_continuous_rv.py
    |       ├── test_discrete_rv.py
    |       ├── test_error_prop.py
    |       ├── test_finite_rv.py
    |       ├── test_joint_rv.py
    |       ├── test_matrix_distributions.py
    |       ├── test_mix.py
    |       ├── test_random_matrix.py
    |       ├── test_rv.py
    |       ├── test_stochastic_process.py
    |       ├── test_symbolic_multivariate.py
    |       └── test_symbolic_probability.py
    ├── strategies
    |   ├── __init__.py
    |   ├── branch
    |   |   ├── __init__.py
    |   |   ├── core.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_core.py
    |   |   |   ├── test_tools.py
    |   |   |   └── test_traverse.py
    |   |   ├── tools.py
    |   |   └── traverse.py
    |   ├── core.py
    |   ├── rl.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_core.py
    |   |   ├── test_rl.py
    |   |   ├── test_strat.py
    |   |   ├── test_tools.py
    |   |   ├── test_traverse.py
    |   |   └── test_tree.py
    |   ├── tools.py
    |   ├── traverse.py
    |   ├── tree.py
    |   └── util.py
    ├── tensor
    |   ├── __init__.py
    |   ├── array
    |   |   ├── __init__.py
    |   |   ├── array_comprehension.py
    |   |   ├── array_derivatives.py
    |   |   ├── arrayop.py
    |   |   ├── dense_ndim_array.py
    |   |   ├── expressions
    |   |   |   ├── __init__.py
    |   |   |   ├── array_expressions.py
    |   |   |   ├── arrayexpr_derivatives.py
    |   |   |   ├── conv_array_to_matrix.py
    |   |   |   ├── conv_indexed_to_array.py
    |   |   |   ├── conv_matrix_to_array.py
    |   |   |   ├── tests
    |   |   |   └── utils.py
    |   |   ├── mutable_ndim_array.py
    |   |   ├── ndim_array.py
    |   |   ├── sparse_ndim_array.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_array_comprehension.py
    |   |       ├── test_array_derivatives.py
    |   |       ├── test_arrayop.py
    |   |       ├── test_immutable_ndim_array.py
    |   |       ├── test_mutable_ndim_array.py
    |   |       ├── test_ndim_array.py
    |   |       └── test_ndim_array_conversions.py
    |   ├── functions.py
    |   ├── index_methods.py
    |   ├── indexed.py
    |   ├── tensor.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_functions.py
    |   |   ├── test_index_methods.py
    |   |   ├── test_indexed.py
    |   |   ├── test_tensor.py
    |   |   ├── test_tensor_element.py
    |   |   └── test_tensor_operators.py
    |   └── toperators.py
    ├── testing
    |   ├── __init__.py
    |   ├── benchmarking.py
    |   ├── matrices.py
    |   ├── pytest.py
    |   ├── quality_unicode.py
    |   ├── randtest.py
    |   ├── runtests.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── diagnose_imports.py
    |   |   ├── test_code_quality.py
    |   |   ├── test_module_imports.py
    |   |   └── test_pytest.py
    |   └── tmpfiles.py
    ├── this.py
    ├── unify
    |   ├── __init__.py
    |   ├── core.py
    |   ├── rewrite.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_rewrite.py
    |   |   ├── test_sympy.py
    |   |   └── test_unify.py
    |   └── usympy.py
    ├── utilities
    |   ├── __init__.py
    |   ├── _compilation
    |   |   ├── __init__.py
    |   |   ├── availability.py
    |   |   ├── compilation.py
    |   |   ├── runners.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── test_compilation.py
    |   |   └── util.py
    |   ├── autowrap.py
    |   ├── benchmarking.py
    |   ├── codegen.py
    |   ├── decorator.py
    |   ├── enumerative.py
    |   ├── exceptions.py
    |   ├── iterables.py
    |   ├── lambdify.py
    |   ├── magic.py
    |   ├── matchpy_connector.py
    |   ├── mathml
    |   |   ├── __init__.py
    |   |   └── data
    |   ├── memoization.py
    |   ├── misc.py
    |   ├── pkgdata.py
    |   ├── pytest.py
    |   ├── quality_unicode.py
    |   ├── randtest.py
    |   ├── runtests.py
    |   ├── source.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_autowrap.py
    |   |   ├── test_codegen.py
    |   |   ├── test_codegen_julia.py
    |   |   ├── test_codegen_octave.py
    |   |   ├── test_codegen_rust.py
    |   |   ├── test_decorator.py
    |   |   ├── test_deprecated.py
    |   |   ├── test_enumerative.py
    |   |   ├── test_iterables.py
    |   |   ├── test_lambdify.py
    |   |   ├── test_matchpy_connector.py
    |   |   ├── test_misc.py
    |   |   ├── test_pickling.py
    |   |   ├── test_source.py
    |   |   ├── test_timeutils.py
    |   |   └── test_wester.py
    |   ├── timeutils.py
    |   └── tmpfiles.py
    └── vector
        ├── __init__.py
        ├── basisdependent.py
        ├── coordsysrect.py
        ├── deloperator.py
        ├── dyadic.py
        ├── functions.py
        ├── implicitregion.py
        ├── integrals.py
        ├── operators.py
        ├── orienters.py
        ├── parametricregion.py
        ├── point.py
        ├── scalar.py
        ├── tests
        |   ├── __init__.py
        |   ├── test_coordsysrect.py
        |   ├── test_dyadic.py
        |   ├── test_field_functions.py
        |   ├── test_functions.py
        |   ├── test_implicitregion.py
        |   ├── test_integrals.py
        |   ├── test_operators.py
        |   ├── test_parametricregion.py
        |   ├── test_printing.py
        |   └── test_vector.py
        └── vector.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: simpify gives `Imaginary coordinates are not permitted.` with evaluate(False)

Description: ## Issue
`with evaluate(False)` crashes unexpectedly with `Point2D`

## Code
```python
import sympy as sp
with sp.evaluate(False):
  sp.S('Point2D(Integer(1),Integer(2))')
```

## Error
```
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/core/sympify.py", line 472, in sympify
    expr = parse_expr(a, local_dict=locals, transformations=transformations, evaluate=evaluate)
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/parsing/sympy_parser.py", line 1026, in parse_expr
    raise e from ValueError(f"Error from parse_expr with transformed code: {code!r}")
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/parsing/sympy_parser.py", line 1017, in parse_expr
    rv = eval_expr(code, local_dict, global_dict)
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/parsing/sympy_parser.py", line 911, in eval_expr
    expr = eval(
  File "<string>", line 1, in <module>
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/geometry/point.py", line 912, in __new__
    args = Point(*args, **kwargs)
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/geometry/point.py", line 153, in __new__
    raise ValueError('Imaginary coordinates are not permitted.')
ValueError: Imaginary coordinates are not permitted.
```

However, it works without `with evaluate(False)`. Both of following commands work
```python
sp.S('Point2D(Integer(1),Integer(2))')
sp.S('Point2D(Integer(1),Integer(2))', evaluate=False)
```

Patch information:
diff --git a/sympy/geometry/point.py b/sympy/geometry/point.py
index 73c20334d0..c145e1ba58 100644
--- a/sympy/geometry/point.py
+++ b/sympy/geometry/point.py
@@ -152,7 +152,7 @@ def __new__(cls, *args, **kwargs):
                         'warn' or 'ignore'.'''))
         if any(coords[dim:]):
             raise ValueError('Nonzero coordinates cannot be removed.')
-        if any(a.is_number and im(a) for a in coords):
+        if any(a.is_number and not a.is_extended_real for a in coords):
             raise ValueError('Imaginary coordinates are not permitted.')
         if not all(isinstance(a, Expr) for a in coords):
             raise TypeError('Coordinates must be valid SymPy expressions.')


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of the file sympy/geometry/tests/test_point.py.
Extra Requirements: 
Purpose: I need this file to find relevant test cases for the reported bug concerning `Point2D` and imaginary coordinates.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: sympy/geometry/tests/test_point.py
Line number range: 1 - 473
Content:
1. from sympy.core.basic import Basic
2. from sympy.core.numbers import (I, Rational, pi)
3. from sympy.core.singleton import S
4. from sympy.core.symbol import Symbol
5. from sympy.core.sympify import sympify
6. from sympy.functions.elementary.miscellaneous import sqrt
7. from sympy.geometry import Line, Point, Point2D, Point3D, Line3D, Plane
8. from sympy.geometry.entity import rotate, scale, translate, GeometryEntity
9. from sympy.matrices import Matrix
10. from sympy.utilities.iterables import subsets, permutations, cartes
11. from sympy.utilities.misc import Undecidable
12. from sympy.testing.pytest import raises, warns
13. 
14. 
15. def test_point():
16.     x = Symbol('x', real=True)
17.     y = Symbol('y', real=True)
18.     x1 = Symbol('x1', real=True)
19.     x2 = Symbol('x2', real=True)
20.     y1 = Symbol('y1', real=True)
21.     y2 = Symbol('y2', real=True)
22.     half = S.Half
23.     p1 = Point(x1, x2)
24.     p2 = Point(y1, y2)
25.     p3 = Point(0, 0)
26.     p4 = Point(1, 1)
27.     p5 = Point(0, 1)
28.     line = Line(Point(1, 0), slope=1)
29. 
30.     assert p1 in p1
31.     assert p1 not in p2
32.     assert p2.y == y2
33.     assert (p3 + p4) == p4
34.     assert (p2 - p1) == Point(y1 - x1, y2 - x2)
35.     assert -p2 == Point(-y1, -y2)
36.     raises(TypeError, lambda: Point(1))
37.     raises(ValueError, lambda: Point([1]))
38.     raises(ValueError, lambda: Point(3, I))
39.     raises(ValueError, lambda: Point(2*I, I))
40.     raises(ValueError, lambda: Point(3 + I, I))
41. 
42.     assert Point(34.05, sqrt(3)) == Point(Rational(681, 20), sqrt(3))
43.     assert Point.midpoint(p3, p4) == Point(half, half)
44.     assert Point.midpoint(p1, p4) == Point(half + half*x1, half + half*x2)
45.     assert Point.midpoint(p2, p2) == p2
46.     assert p2.midpoint(p2) == p2
47.     assert p1.origin == Point(0, 0)
48. 
49.     assert Point.distance(p3, p4) == sqrt(2)
50.     assert Point.distance(p1, p1) == 0
51.     assert Point.distance(p3, p2) == sqrt(p2.x**2 + p2.y**2)
52.     raises(TypeError, lambda: Point.distance(p1, 0))
53.     raises(TypeError, lambda: Point.distance(p1, GeometryEntity()))
54. 
55.     # distance should be symmetric
56.     assert p1.distance(line) == line.distance(p1)
57.     assert p4.distance(line) == line.distance(p4)
58. 
59.     assert Point.taxicab_distance(p4, p3) == 2
60. 
61.     assert Point.canberra_distance(p4, p5) == 1
62.     raises(ValueError, lambda: Point.canberra_distance(p3, p3))
63. 
64.     p1_1 = Point(x1, x1)
65.     p1_2 = Point(y2, y2)
66.     p1_3 = Point(x1 + 1, x1)
67.     assert Point.is_collinear(p3)
68. 
69.     with warns(UserWarning):
70.         assert Point.is_collinear(p3, Point(p3, dim=4))
71.     assert p3.is_collinear()
72.     assert Point.is_collinear(p3, p4)
73.     assert Point.is_collinear(p3, p4, p1_1, p1_2)
74.     assert Point.is_collinear(p3, p4, p1_1, p1_3) is False
75.     assert Point.is_collinear(p3, p3, p4, p5) is False
76. 
77.     raises(TypeError, lambda: Point.is_collinear(line))
78.     raises(TypeError, lambda: p1_1.is_collinear(line))
79. 
80.     assert p3.intersection(Point(0, 0)) == [p3]
81.     assert p3.intersection(p4) == []
82.     assert p3.intersection(line) == []
83.     assert Point.intersection(Point(0, 0, 0), Point(0, 0)) == [Point(0, 0, 0)]
84. 
85.     x_pos = Symbol('x', positive=True)
86.     p2_1 = Point(x_pos, 0)
87.     p2_2 = Point(0, x_pos)
88.     p2_3 = Point(-x_pos, 0)
89.     p2_4 = Point(0, -x_pos)
90.     p2_5 = Point(x_pos, 5)
91.     assert Point.is_concyclic(p2_1)
92.     assert Point.is_concyclic(p2_1, p2_2)
93.     assert Point.is_concyclic(p2_1, p2_2, p2_3, p2_4)
94.     for pts in permutations((p2_1, p2_2, p2_3, p2_5)):
95.         assert Point.is_concyclic(*pts) is False
96.     assert Point.is_concyclic(p4, p4 * 2, p4 * 3) is False
97.     assert Point(0, 0).is_concyclic((1, 1), (2, 2), (2, 1)) is False
98.     assert Point.is_concyclic(Point(0, 0, 0, 0), Point(1, 0, 0, 0), Point(1, 1, 0, 0), Point(1, 1, 1, 0)) is False
99. 
100.     assert p1.is_scalar_multiple(p1)
101.     assert p1.is_scalar_multiple(2*p1)
102.     assert not p1.is_scalar_multiple(p2)
103.     assert Point.is_scalar_multiple(Point(1, 1), (-1, -1))
104.     assert Point.is_scalar_multiple(Point(0, 0), (0, -1))
105.     # test when is_scalar_multiple can't be determined
106.     raises(Undecidable, lambda: Point.is_scalar_multiple(Point(sympify("x1%y1"), sympify("x2%y2")), Point(0, 1)))
107. 
108.     assert Point(0, 1).orthogonal_direction == Point(1, 0)
109.     assert Point(1, 0).orthogonal_direction == Point(0, 1)
110. 
111.     assert p1.is_zero is None
112.     assert p3.is_zero
113.     assert p4.is_zero is False
114.     assert p1.is_nonzero is None
115.     assert p3.is_nonzero is False
116.     assert p4.is_nonzero
117. 
118.     assert p4.scale(2, 3) == Point(2, 3)
119.     assert p3.scale(2, 3) == p3
120. 
121.     assert p4.rotate(pi, Point(0.5, 0.5)) == p3
122.     assert p1.__radd__(p2) == p1.midpoint(p2).scale(2, 2)
123.     assert (-p3).__rsub__(p4) == p3.midpoint(p4).scale(2, 2)
124. 
125.     assert p4 * 5 == Point(5, 5)
126.     assert p4 / 5 == Point(0.2, 0.2)
127.     assert 5 * p4 == Point(5, 5)
128. 
129.     raises(ValueError, lambda: Point(0, 0) + 10)
130. 
131.     # Point differences should be simplified
132.     assert Point(x*(x - 1), y) - Point(x**2 - x, y + 1) == Point(0, -1)
133. 
134.     a, b = S.Half, Rational(1, 3)
135.     assert Point(a, b).evalf(2) == \
136.         Point(a.n(2), b.n(2), evaluate=False)
137.     raises(ValueError, lambda: Point(1, 2) + 1)
138. 
139.     # test project
140.     assert Point.project((0, 1), (1, 0)) == Point(0, 0)
141.     assert Point.project((1, 1), (1, 0)) == Point(1, 0)
142.     raises(ValueError, lambda: Point.project(p1, Point(0, 0)))
143. 
144.     # test transformations
145.     p = Point(1, 0)
146.     assert p.rotate(pi/2) == Point(0, 1)
147.     assert p.rotate(pi/2, p) == p
148.     p = Point(1, 1)
149.     assert p.scale(2, 3) == Point(2, 3)
150.     assert p.translate(1, 2) == Point(2, 3)
151.     assert p.translate(1) == Point(2, 1)
152.     assert p.translate(y=1) == Point(1, 2)
153.     assert p.translate(*p.args) == Point(2, 2)
154. 
155.     # Check invalid input for transform
156.     raises(ValueError, lambda: p3.transform(p3))
157.     raises(ValueError, lambda: p.transform(Matrix([[1, 0], [0, 1]])))
158. 
159.     # test __contains__
160.     assert 0 in Point(0, 0, 0, 0)
161.     assert 1 not in Point(0, 0, 0, 0)
162. 
163.     # test affine_rank
164.     assert Point.affine_rank() == -1
165. 
166. 
167. def test_point3D():
168.     x = Symbol('x', real=True)
169.     y = Symbol('y', real=True)
170.     x1 = Symbol('x1', real=True)
171.     x2 = Symbol('x2', real=True)
172.     x3 = Symbol('x3', real=True)
173.     y1 = Symbol('y1', real=True)
174.     y2 = Symbol('y2', real=True)
175.     y3 = Symbol('y3', real=True)
176.     half = S.Half
177.     p1 = Point3D(x1, x2, x3)
178.     p2 = Point3D(y1, y2, y3)
179.     p3 = Point3D(0, 0, 0)
180.     p4 = Point3D(1, 1, 1)
181.     p5 = Point3D(0, 1, 2)
182. 
183.     assert p1 in p1
184.     assert p1 not in p2
185.     assert p2.y == y2
186.     assert (p3 + p4) == p4
187.     assert (p2 - p1) == Point3D(y1 - x1, y2 - x2, y3 - x3)
188.     assert -p2 == Point3D(-y1, -y2, -y3)
189. 
190.     assert Point(34.05, sqrt(3)) == Point(Rational(681, 20), sqrt(3))
191.     assert Point3D.midpoint(p3, p4) == Point3D(half, half, half)
192.     assert Point3D.midpoint(p1, p4) == Point3D(half + half*x1, half + half*x2,
193.                                          half + half*x3)
194.     assert Point3D.midpoint(p2, p2) == p2
195.     assert p2.midpoint(p2) == p2
196. 
197.     assert Point3D.distance(p3, p4) == sqrt(3)
198.     assert Point3D.distance(p1, p1) == 0
199.     assert Point3D.distance(p3, p2) == sqrt(p2.x**2 + p2.y**2 + p2.z**2)
200. 
201.     p1_1 = Point3D(x1, x1, x1)
202.     p1_2 = Point3D(y2, y2, y2)
203.     p1_3 = Point3D(x1 + 1, x1, x1)
204.     Point3D.are_collinear(p3)
205.     assert Point3D.are_collinear(p3, p4)
206.     assert Point3D.are_collinear(p3, p4, p1_1, p1_2)
207.     assert Point3D.are_collinear(p3, p4, p1_1, p1_3) is False
208.     assert Point3D.are_collinear(p3, p3, p4, p5) is False
209. 
210.     assert p3.intersection(Point3D(0, 0, 0)) == [p3]
211.     assert p3.intersection(p4) == []
212. 
213. 
214.     assert p4 * 5 == Point3D(5, 5, 5)
215.     assert p4 / 5 == Point3D(0.2, 0.2, 0.2)
216.     assert 5 * p4 == Point3D(5, 5, 5)
217. 
218.     raises(ValueError, lambda: Point3D(0, 0, 0) + 10)
219. 
220.     # Test coordinate properties
221.     assert p1.coordinates == (x1, x2, x3)
222.     assert p2.coordinates == (y1, y2, y3)
223.     assert p3.coordinates == (0, 0, 0)
224.     assert p4.coordinates == (1, 1, 1)
225.     assert p5.coordinates == (0, 1, 2)
226.     assert p5.x == 0
227.     assert p5.y == 1
228.     assert p5.z == 2
229. 
230.     # Point differences should be simplified
231.     assert Point3D(x*(x - 1), y, 2) - Point3D(x**2 - x, y + 1, 1) == \
232.         Point3D(0, -1, 1)
233. 
234.     a, b, c = S.Half, Rational(1, 3), Rational(1, 4)
235.     assert Point3D(a, b, c).evalf(2) == \
236.         Point(a.n(2), b.n(2), c.n(2), evaluate=False)
237.     raises(ValueError, lambda: Point3D(1, 2, 3) + 1)
238. 
239.     # test transformations
240.     p = Point3D(1, 1, 1)
241.     assert p.scale(2, 3) == Point3D(2, 3, 1)
242.     assert p.translate(1, 2) == Point3D(2, 3, 1)
243.     assert p.translate(1) == Point3D(2, 1, 1)
244.     assert p.translate(z=1) == Point3D(1, 1, 2)
245.     assert p.translate(*p.args) == Point3D(2, 2, 2)
246. 
247.     # Test __new__
248.     assert Point3D(0.1, 0.2, evaluate=False, on_morph='ignore').args[0].is_Float
249. 
250.     # Test length property returns correctly
251.     assert p.length == 0
252.     assert p1_1.length == 0
253.     assert p1_2.length == 0
254. 
255.     # Test are_colinear type error
256.     raises(TypeError, lambda: Point3D.are_collinear(p, x))
257. 
258.     # Test are_coplanar
259.     assert Point.are_coplanar()
260.     assert Point.are_coplanar((1, 2, 0), (1, 2, 0), (1, 3, 0))
261.     assert Point.are_coplanar((1, 2, 0), (1, 2, 3))
262.     with warns(UserWarning):
263.         raises(ValueError, lambda: Point2D.are_coplanar((1, 2), (1, 2, 3)))
264.     assert Point3D.are_coplanar((1, 2, 0), (1, 2, 3))
265.     assert Point.are_coplanar((0, 0, 0), (1, 1, 0), (1, 1, 1), (1, 2, 1)) is False
266.     planar2 = Point3D(1, -1, 1)
267.     planar3 = Point3D(-1, 1, 1)
268.     assert Point3D.are_coplanar(p, planar2, planar3) == True
269.     assert Point3D.are_coplanar(p, planar2, planar3, p3) == False
270.     assert Point.are_coplanar(p, planar2)
271.     planar2 = Point3D(1, 1, 2)
272.     planar3 = Point3D(1, 1, 3)
273.     assert Point3D.are_coplanar(p, planar2, planar3)  # line, not plane
274.     plane = Plane((1, 2, 1), (2, 1, 0), (3, 1, 2))
275.     assert Point.are_coplanar(*[plane.projection(((-1)**i, i)) for i in range(4)])
276. 
277.     # all 2D points are coplanar
278.     assert Point.are_coplanar(Point(x, y), Point(x, x + y), Point(y, x + 2)) is True
279. 
280.     # Test Intersection
281.     assert planar2.intersection(Line3D(p, planar3)) == [Point3D(1, 1, 2)]
282. 
283.     # Test Scale
284.     assert planar2.scale(1, 1, 1) == planar2
285.     assert planar2.scale(2, 2, 2, planar3) == Point3D(1, 1, 1)
286.     assert planar2.scale(1, 1, 1, p3) == planar2
287. 
288.     # Test Transform
289.     identity = Matrix([[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]])
290.     assert p.transform(identity) == p
291.     trans = Matrix([[1, 0, 0, 1], [0, 1, 0, 1], [0, 0, 1, 1], [0, 0, 0, 1]])
292.     assert p.transform(trans) == Point3D(2, 2, 2)
293.     raises(ValueError, lambda: p.transform(p))
294.     raises(ValueError, lambda: p.transform(Matrix([[1, 0], [0, 1]])))
295. 
296.     # Test Equals
297.     assert p.equals(x1) == False
298. 
299.     # Test __sub__
300.     p_4d = Point(0, 0, 0, 1)
301.     with warns(UserWarning):
302.         assert p - p_4d == Point(1, 1, 1, -1)
303.     p_4d3d = Point(0, 0, 1, 0)
304.     with warns(UserWarning):
305.         assert p - p_4d3d == Point(1, 1, 0, 0)
306. 
307. 
308. def test_Point2D():
309. 
310.     # Test Distance
311.     p1 = Point2D(1, 5)
312.     p2 = Point2D(4, 2.5)
313.     p3 = (6, 3)
314.     assert p1.distance(p2) == sqrt(61)/2
315.     assert p2.distance(p3) == sqrt(17)/2
316. 
317.     # Test coordinates
318.     assert p1.x == 1
319.     assert p1.y == 5
320.     assert p2.x == 4
321.     assert p2.y == 2.5
322.     assert p1.coordinates == (1, 5)
323.     assert p2.coordinates == (4, 2.5)
324. 
325.     # test bounds
326.     assert p1.bounds == (1, 5, 1, 5)
327. 
328. def test_issue_9214():
329.     p1 = Point3D(4, -2, 6)
330.     p2 = Point3D(1, 2, 3)
331.     p3 = Point3D(7, 2, 3)
332. 
333.     assert Point3D.are_collinear(p1, p2, p3) is False
334. 
335. 
336. def test_issue_11617():
337.     p1 = Point3D(1,0,2)
338.     p2 = Point2D(2,0)
339. 
340.     with warns(UserWarning):
341.         assert p1.distance(p2) == sqrt(5)
342. 
343. 
344. def test_transform():
345.     p = Point(1, 1)
346.     assert p.transform(rotate(pi/2)) == Point(-1, 1)
347.     assert p.transform(scale(3, 2)) == Point(3, 2)
348.     assert p.transform(translate(1, 2)) == Point(2, 3)
349.     assert Point(1, 1).scale(2, 3, (4, 5)) == \
350.         Point(-2, -7)
351.     assert Point(1, 1).translate(4, 5) == \
352.         Point(5, 6)
353. 
354. 
355. def test_concyclic_doctest_bug():
356.     p1, p2 = Point(-1, 0), Point(1, 0)
357.     p3, p4 = Point(0, 1), Point(-1, 2)
358.     assert Point.is_concyclic(p1, p2, p3)
359.     assert not Point.is_concyclic(p1, p2, p3, p4)
360. 
361. 
362. def test_arguments():
363.     """Functions accepting `Point` objects in `geometry`
364.     should also accept tuples and lists and
365.     automatically convert them to points."""
366. 
367.     singles2d = ((1,2), [1,2], Point(1,2))
368.     singles2d2 = ((1,3), [1,3], Point(1,3))
369.     doubles2d = cartes(singles2d, singles2d2)
370.     p2d = Point2D(1,2)
371.     singles3d = ((1,2,3), [1,2,3], Point(1,2,3))
372.     doubles3d = subsets(singles3d, 2)
373.     p3d = Point3D(1,2,3)
374.     singles4d = ((1,2,3,4), [1,2,3,4], Point(1,2,3,4))
375.     doubles4d = subsets(singles4d, 2)
376.     p4d = Point(1,2,3,4)
377. 
378.     # test 2D
379.     test_single = ['distance', 'is_scalar_multiple', 'taxicab_distance', 'midpoint', 'intersection', 'dot', 'equals', '__add__', '__sub__']
380.     test_double = ['is_concyclic', 'is_collinear']
381.     for p in singles2d:
382.         Point2D(p)
383.     for func in test_single:
384.         for p in singles2d:
385.             getattr(p2d, func)(p)
386.     for func in test_double:
387.         for p in doubles2d:
388.             getattr(p2d, func)(*p)
389. 
390.     # test 3D
391.     test_double = ['is_collinear']
392.     for p in singles3d:
393.         Point3D(p)
394.     for func in test_single:
395.         for p in singles3d:
396.             getattr(p3d, func)(p)
397.     for func in test_double:
398.         for p in doubles3d:
399.             getattr(p3d, func)(*p)
400. 
401.     # test 4D
402.     test_double = ['is_collinear']
403.     for p in singles4d:
404.         Point(p)
405.     for func in test_single:
406.         for p in singles4d:
407.             getattr(p4d, func)(p)
408.     for func in test_double:
409.         for p in doubles4d:
410.             getattr(p4d, func)(*p)
411. 
412.     # test evaluate=False for ops
413.     x = Symbol('x')
414.     a = Point(0, 1)
415.     assert a + (0.1, x) == Point(0.1, 1 + x, evaluate=False)
416.     a = Point(0, 1)
417.     assert a/10.0 == Point(0, 0.1, evaluate=False)
418.     a = Point(0, 1)
419.     assert a*10.0 == Point(0.0, 10.0, evaluate=False)
420. 
421.     # test evaluate=False when changing dimensions
422.     u = Point(.1, .2, evaluate=False)
423.     u4 = Point(u, dim=4, on_morph='ignore')
424.     assert u4.args == (.1, .2, 0, 0)
425.     assert all(i.is_Float for i in u4.args[:2])
426.     # and even when *not* changing dimensions
427.     assert all(i.is_Float for i in Point(u).args)
428. 
429.     # never raise error if creating an origin
430.     assert Point(dim=3, on_morph='error')
431. 
432.     # raise error with unmatched dimension
433.     raises(ValueError, lambda: Point(1, 1, dim=3, on_morph='error'))
434.     # test unknown on_morph
435.     raises(ValueError, lambda: Point(1, 1, dim=3, on_morph='unknown'))
436.     # test invalid expressions
437.     raises(TypeError, lambda: Point(Basic(), Basic()))
438. 
439. def test_unit():
440.     assert Point(1, 1).unit == Point(sqrt(2)/2, sqrt(2)/2)
441. 
442. 
443. def test_dot():
444.     raises(TypeError, lambda: Point(1, 2).dot(Line((0, 0), (1, 1))))
445. 
446. 
447. def test__normalize_dimension():
448.     assert Point._normalize_dimension(Point(1, 2), Point(3, 4)) == [
449.         Point(1, 2), Point(3, 4)]
450.     assert Point._normalize_dimension(
451.         Point(1, 2), Point(3, 4, 0), on_morph='ignore') == [
452.         Point(1, 2, 0), Point(3, 4, 0)]
453. 
454. 
455. def test_direction_cosine():
456.     p1 = Point3D(0, 0, 0)
457.     p2 = Point3D(1, 1, 1)
458. 
459.     assert p1.direction_cosine(Point3D(1, 0, 0)) == [1, 0, 0]
460.     assert p1.direction_cosine(Point3D(0, 1, 0)) == [0, 1, 0]
461.     assert p1.direction_cosine(Point3D(0, 0, pi)) == [0, 0, 1]
462. 
463.     assert p1.direction_cosine(Point3D(5, 0, 0)) == [1, 0, 0]
464.     assert p1.direction_cosine(Point3D(0, sqrt(3), 0)) == [0, 1, 0]
465.     assert p1.direction_cosine(Point3D(0, 0, 5)) == [0, 0, 1]
466. 
467.     assert p1.direction_cosine(Point3D(2.4, 2.4, 0)) == [sqrt(2)/2, sqrt(2)/2, 0]
468.     assert p1.direction_cosine(Point3D(1, 1, 1)) == [sqrt(3) / 3, sqrt(3) / 3, sqrt(3) / 3]
469.     assert p1.direction_cosine(Point3D(-12, 0 -15)) == [-4*sqrt(41)/41, -5*sqrt(41)/41, 0]
470. 
471.     assert p2.direction_cosine(Point3D(0, 0, 0)) == [-sqrt(3) / 3, -sqrt(3) / 3, -sqrt(3) / 3]
472.     assert p2.direction_cosine(Point3D(1, 1, 12)) == [0, 0, 1]
473.     assert p2.direction_cosine(Point3D(12, 1, 12)) == [sqrt(2) / 2, 0, sqrt(2) / 2]

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-21 05:03:12,931 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user's bug is triggered by `sympify` parsing a string with `evaluate=False`. The provided test file `sympy/geometry/tests/test_point.py` only contains tests that instantiate `Point` objects directly, not through string parsing. To find relevant test cases that match the bug's conditions, I need to examine the tests for SymPy's parser." query='Please provide the full content of the file sympy/parsing/tests/test_sympy_parser.py.' extra_requirements='' purpose='I need this file to find test cases that involve string parsing to create SymPy objects with `evaluate=False`, which is the scenario described in the bug report.'
2025-12-21 05:03:12,932 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of the file sympy/parsing/tests/test_sympy_parser.py.
2025-12-21 05:03:12,932 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-21 05:03:12,933 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-21 05:03:12,933 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-21 05:03:12,933 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of the file sympy/parsing/tests/test_sympy_parser.py.
Purpose: I need this file to find test cases that involve string parsing to create SymPy objects with `evaluate=False`, which is the scenario described in the bug report.
2025-12-21 05:03:15,964 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the entire content of the `sympy/parsing/tests/test_sympy_parser.py` file. This will allow me to examine the test cases for string parsing and identify those relevant to the `evaluate=False` scenario mentioned in the bug report.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "sympy/parsing/tests/test_sympy_parser.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2119, 'candidates_token_count': 82, 'total_token_count': 2402, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2119}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 82}], 'thoughts_token_count': 201, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.11971715601479135, 'model_name': 'gemini-2.5-pro'} id='run--8d28e1e2-1c04-4fb9-a9e9-2845ed61eb87-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'sympy/parsing/tests/test_sympy_parser.py'}, 'id': '1ea1ef29-2ef0-47ed-8b41-de2c2ad9d1d1', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2119, 'output_tokens': 82, 'total_tokens': 2402, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 201}}
2025-12-21 05:03:22,416 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have located the relevant test cases in `sympy/parsing/tests/test_sympy_parser.py` that use the `evaluate=False` parameter. Specifically, I have identified the tests `test_issue_7663`, `test_recursive_evaluate_false_10560`, `test_function_evaluate_false`, and `test_issue_10773` as pertinent examples of string parsing to create unevaluated SymPy objects. These findings will help in understanding and addressing the bug report concerning this functionality.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"text": "evaluate=False", "relative_path": "sympy/parsing/tests/test_sympy_parser.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 7822, 'candidates_token_count': 155, 'total_token_count': 8416, 'cached_content_token_count': 1785, 'prompt_tokens_details': [{'modality': 1, 'token_count': 7822}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1785}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 155}], 'thoughts_token_count': 439}, 'finish_reason': 'STOP', 'avg_logprobs': -0.32406109225365426, 'model_name': 'gemini-2.5-pro'} id='run--ce9cab25-b5f2-4271-a928-acdba6ec7b81-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'text': 'evaluate=False', 'relative_path': 'sympy/parsing/tests/test_sympy_parser.py'}, 'id': '39b657a7-e4c4-4c03-9df4-57918a3df2bf', 'type': 'tool_call'}] usage_metadata={'input_tokens': 7822, 'output_tokens': 155, 'total_tokens': 8416, 'input_token_details': {'cache_read': 1785}, 'output_token_details': {'reasoning': 439}}
2025-12-21 05:03:26,647 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the entire content of the `sympy/parsing/tests/test_sympy_parser.py` file as requested. I then located all instances of the `evaluate=False` parameter within the file, identifying the specific test functions that utilize this parameter. This provides the necessary context to analyze the test cases related to the bug report.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 9869, 'candidates_token_count': 71, 'total_token_count': 10197, 'cached_content_token_count': 7185, 'prompt_tokens_details': [{'modality': 1, 'token_count': 9869}], 'cache_tokens_details': [{'modality': 1, 'token_count': 7185}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 71}], 'thoughts_token_count': 257}, 'finish_reason': 'STOP', 'avg_logprobs': -0.3656648716456454, 'model_name': 'gemini-2.5-pro'} id='run--58d215c3-9251-41ae-8d05-3f8ba4736e86-0' usage_metadata={'input_tokens': 9869, 'output_tokens': 71, 'total_tokens': 10197, 'input_token_details': {'cache_read': 7185}, 'output_token_details': {'reasoning': 257}}
2025-12-21 05:03:26,649 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of the file sympy/parsing/tests/test_sympy_parser.py.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need this file to find test cases that involve string parsing to create SymPy objects with `evaluate=False`, which is the scenario described in the bug report.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: sympy/parsing/tests/test_sympy_parser.py
Line number range: 1 - 332
Content:
1. # -*- coding: utf-8 -*-
2. 
3. 
4. import sys
5. 
6. from sympy.assumptions import Q
7. from sympy.core import Symbol, Function, Float, Rational, Integer, I, Mul, Pow, Eq
8. from sympy.functions import exp, factorial, factorial2, sin
9. from sympy.logic import And
10. from sympy.series import Limit
11. from sympy.testing.pytest import raises, skip
12. 
13. from sympy.parsing.sympy_parser import (
14.     parse_expr, standard_transformations, rationalize, TokenError,
15.     split_symbols, implicit_multiplication, convert_equals_signs,
16.     convert_xor, function_exponentiation, lambda_notation, auto_symbol,
17.     repeated_decimals, implicit_multiplication_application,
18.     auto_number, factorial_notation, implicit_application,
19.     _transformation, T
20.     )
21. 
22. 
23. def test_sympy_parser():
24.     x = Symbol('x')
25.     inputs = {
26.         '2*x': 2 * x,
27.         '3.00': Float(3),
28.         '22/7': Rational(22, 7),
29.         '2+3j': 2 + 3*I,
30.         'exp(x)': exp(x),
31.         'x!': factorial(x),
32.         'x!!': factorial2(x),
33.         '(x + 1)! - 1': factorial(x + 1) - 1,
34.         '3.[3]': Rational(10, 3),
35.         '.0[3]': Rational(1, 30),
36.         '3.2[3]': Rational(97, 30),
37.         '1.3[12]': Rational(433, 330),
38.         '1 + 3.[3]': Rational(13, 3),
39.         '1 + .0[3]': Rational(31, 30),
40.         '1 + 3.2[3]': Rational(127, 30),
41.         '.[0011]': Rational(1, 909),
42.         '0.1[00102] + 1': Rational(366697, 333330),
43.         '1.[0191]': Rational(10190, 9999),
44.         '10!': 3628800,
45.         '-(2)': -Integer(2),
46.         '[-1, -2, 3]': [Integer(-1), Integer(-2), Integer(3)],
47.         'Symbol("x").free_symbols': x.free_symbols,
48.         "S('S(3).n(n=3)')": 3.00,
49.         'factorint(12, visual=True)': Mul(
50.             Pow(2, 2, evaluate=False),
51.             Pow(3, 1, evaluate=False),
52.             evaluate=False),
53.         'Limit(sin(x), x, 0, dir="-")': Limit(sin(x), x, 0, dir='-'),
54.         'Q.even(x)': Q.even(x),
55. 
56. 
57.     }
58.     for text, result in inputs.items():
59.         assert parse_expr(text) == result
60. 
61.     raises(TypeError, lambda:
62.         parse_expr('x', standard_transformations))
63.     raises(TypeError, lambda:
64.         parse_expr('x', transformations=lambda x,y: 1))
65.     raises(TypeError, lambda:
66.         parse_expr('x', transformations=(lambda x,y: 1,)))
67.     raises(TypeError, lambda: parse_expr('x', transformations=((),)))
68.     raises(TypeError, lambda: parse_expr('x', {}, [], []))
69.     raises(TypeError, lambda: parse_expr('x', [], [], {}))
70.     raises(TypeError, lambda: parse_expr('x', [], [], {}))
71. 
72. 
73. def test_rationalize():
74.     inputs = {
75.         '0.123': Rational(123, 1000)
76.     }
77.     transformations = standard_transformations + (rationalize,)
78.     for text, result in inputs.items():
79.         assert parse_expr(text, transformations=transformations) == result
80. 
81. 
82. def test_factorial_fail():
83.     inputs = ['x!!!', 'x!!!!', '(!)']
84. 
85. 
86.     for text in inputs:
87.         try:
88.             parse_expr(text)
89.             assert False
90.         except TokenError:
91.             assert True
92. 
93. 
94. def test_repeated_fail():
95.     inputs = ['1[1]', '.1e1[1]', '0x1[1]', '1.1j[1]', '1.1[1 + 1]',
96.         '0.1[[1]]', '0x1.1[1]']
97. 
98. 
99.     # All are valid Python, so only raise TypeError for invalid indexing
100.     for text in inputs:
101.         raises(TypeError, lambda: parse_expr(text))
102. 
103. 
104.     inputs = ['0.1[', '0.1[1', '0.1[]']
105.     for text in inputs:
106.         raises((TokenError, SyntaxError), lambda: parse_expr(text))
107. 
108. 
109. def test_repeated_dot_only():
110.     assert parse_expr('.[1]') == Rational(1, 9)
111.     assert parse_expr('1 + .[1]') == Rational(10, 9)
112. 
113. 
114. def test_local_dict():
115.     local_dict = {
116.         'my_function': lambda x: x + 2
117.     }
118.     inputs = {
119.         'my_function(2)': Integer(4)
120.     }
121.     for text, result in inputs.items():
122.         assert parse_expr(text, local_dict=local_dict) == result
123. 
124. 
125. def test_local_dict_split_implmult():
126.     t = standard_transformations + (split_symbols, implicit_multiplication,)
127.     w = Symbol('w', real=True)
128.     y = Symbol('y')
129.     assert parse_expr('yx', local_dict={'x':w}, transformations=t) == y*w
130. 
131. 
132. def test_local_dict_symbol_to_fcn():
133.     x = Symbol('x')
134.     d = {'foo': Function('bar')}
135.     assert parse_expr('foo(x)', local_dict=d) == d['foo'](x)
136.     d = {'foo': Symbol('baz')}
137.     raises(TypeError, lambda: parse_expr('foo(x)', local_dict=d))
138. 
139. 
140. def test_global_dict():
141.     global_dict = {
142.         'Symbol': Symbol
143.     }
144.     inputs = {
145.         'Q & S': And(Symbol('Q'), Symbol('S'))
146.     }
147.     for text, result in inputs.items():
148.         assert parse_expr(text, global_dict=global_dict) == result
149. 
150. 
151. def test_issue_2515():
152.     raises(TokenError, lambda: parse_expr('(()'))
153.     raises(TokenError, lambda: parse_expr('"""'))
154. 
155. 
156. def test_issue_7663():
157.     x = Symbol('x')
158.     e = '2*(x+1)'
159.     assert parse_expr(e, evaluate=0) == parse_expr(e, evaluate=False)
160.     assert parse_expr(e, evaluate=0).equals(2*(x+1))
161. 
162. def test_recursive_evaluate_false_10560():
163.     inputs = {
164.         '4*-3' : '4*-3',
165.         '-4*3' : '(-4)*3',
166.         "-2*x*y": '(-2)*x*y',
167.         "x*-4*x": "x*(-4)*x"
168.     }
169.     for text, result in inputs.items():
170.         assert parse_expr(text, evaluate=False) == parse_expr(result, evaluate=False)
171. 
172. 
173. def test_function_evaluate_false():
174.     inputs = [
175.         'Abs(0)', 'im(0)', 're(0)', 'sign(0)', 'arg(0)', 'conjugate(0)',
176.         'acos(0)', 'acot(0)', 'acsc(0)', 'asec(0)', 'asin(0)', 'atan(0)',
177.         'acosh(0)', 'acoth(0)', 'acsch(0)', 'asech(0)', 'asinh(0)', 'atanh(0)',
178.         'cos(0)', 'cot(0)', 'csc(0)', 'sec(0)', 'sin(0)', 'tan(0)',
179.         'cosh(0)', 'coth(0)', 'csch(0)', 'sech(0)', 'sinh(0)', 'tanh(0)',
180.         'exp(0)', 'log(0)', 'sqrt(0)',
181.     ]
182.     for case in inputs:
183.         expr = parse_expr(case, evaluate=False)
184.         assert case == str(expr) != str(expr.doit())
185.     assert str(parse_expr('ln(0)', evaluate=False)) == 'log(0)'
186.     assert str(parse_expr('cbrt(0)', evaluate=False)) == '0**(1/3)'
187. 
188. 
189. def test_issue_10773():
190.     inputs = {
191.     '-10/5': '(-10)/5',
192.     '-10/-5' : '(-10)/(-5)',
193.     }
194.     for text, result in inputs.items():
195.         assert parse_expr(text, evaluate=False) == parse_expr(result, evaluate=False)
196. 
197. 
198. def test_split_symbols():
199.     transformations = standard_transformations + \
200.                       (split_symbols, implicit_multiplication,)
201.     x = Symbol('x')
202.     y = Symbol('y')
203.     xy = Symbol('xy')
204. 
205. 
206.     assert parse_expr("xy") == xy
207.     assert parse_expr("xy", transformations=transformations) == x*y
208. 
209. 
210. def test_split_symbols_function():
211.     transformations = standard_transformations + \
212.                       (split_symbols, implicit_multiplication,)
213.     x = Symbol('x')
214.     y = Symbol('y')
215.     a = Symbol('a')
216.     f = Function('f')
217. 
218. 
219.     assert parse_expr("ay(x+1)", transformations=transformations) == a*y*(x+1)
220.     assert parse_expr("af(x+1)", transformations=transformations,
221.                       local_dict={'f':f}) == a*f(x+1)
222. 
223. 
224. def test_functional_exponent():
225.     t = standard_transformations + (convert_xor, function_exponentiation)
226.     x = Symbol('x')
227.     y = Symbol('y')
228.     a = Symbol('a')
229.     yfcn = Function('y')
230.     assert parse_expr("sin^2(x)", transformations=t) == (sin(x))**2
231.     assert parse_expr("sin^y(x)", transformations=t) == (sin(x))**y
232.     assert parse_expr("exp^y(x)", transformations=t) == (exp(x))**y
233.     assert parse_expr("E^y(x)", transformations=t) == exp(yfcn(x))
234.     assert parse_expr("a^y(x)", transformations=t) == a**(yfcn(x))
235. 
236. 
237. def test_match_parentheses_implicit_multiplication():
238.     transformations = standard_transformations + \
239.                       (implicit_multiplication,)
240.     raises(TokenError, lambda: parse_expr('(1,2),(3,4]',transformations=transformations))
241. 
242. 
243. def test_convert_equals_signs():
244.     transformations = standard_transformations + \
245.                         (convert_equals_signs, )
246.     x = Symbol('x')
247.     y = Symbol('y')
248.     assert parse_expr("1*2=x", transformations=transformations) == Eq(2, x)
249.     assert parse_expr("y = x", transformations=transformations) == Eq(y, x)
250.     assert parse_expr("(2*y = x) = False",
251.         transformations=transformations) == Eq(Eq(2*y, x), False)
252. 
253. 
254. def test_parse_function_issue_3539():
255.     x = Symbol('x')
256.     f = Function('f')
257.     assert parse_expr('f(x)') == f(x)
258. 
259. 
260. def test_split_symbols_numeric():
261.     transformations = (
262.         standard_transformations +
263.         (implicit_multiplication_application,))
264. 
265.     n = Symbol('n')
266.     expr1 = parse_expr('2**n * 3**n')
267.     expr2 = parse_expr('2**n3**n', transformations=transformations)
268.     assert expr1 == expr2 == 2**n*3**n
269. 
270.     expr1 = parse_expr('n12n34', transformations=transformations)
271.     assert expr1 == n*12*n*34
272. 
273. 
274. def test_unicode_names():
275.     assert parse_expr('α') == Symbol('α')
276. 
277. 
278. def test_python3_features():
279.     # Make sure the tokenizer can handle Python 3-only features
280.     if sys.version_info < (3, 7):
281.         skip("test_python3_features requires Python 3.7 or newer")
282. 
283. 
284.     assert parse_expr("123_456") == 123456
285.     assert parse_expr("1.2[3_4]") == parse_expr("1.2[34]") == Rational(611, 495)
286.     assert parse_expr("1.2[012_012]") == parse_expr("1.2[012012]") == Rational(400, 333)
287.     assert parse_expr('.[3_4]') == parse_expr('.[34]') == Rational(34, 99)
288.     assert parse_expr('.1[3_4]') == parse_expr('.1[34]') == Rational(133, 990)
289.     assert parse_expr('123_123.123_123[3_4]') == parse_expr('123123.123123[34]') == Rational(12189189189211, 99000000)
290. 
291. 
292. def test_issue_19501():
293.     x = Symbol('x')
294.     eq = parse_expr('E**x(1+x)', local_dict={'x': x}, transformations=(
295.         standard_transformations +
296.         (implicit_multiplication_application,)))
297.     assert eq.free_symbols == {x}
298. 
299. 
300. def test_parsing_definitions():
301.     from sympy.abc import x
302.     assert len(_transformation) == 12  # if this changes, extend below
303.     assert _transformation[0] == lambda_notation
304.     assert _transformation[1] == auto_symbol
305.     assert _transformation[2] == repeated_decimals
306.     assert _transformation[3] == auto_number
307.     assert _transformation[4] == factorial_notation
308.     assert _transformation[5] == implicit_multiplication_application
309.     assert _transformation[6] == convert_xor
310.     assert _transformation[7] == implicit_application
311.     assert _transformation[8] == implicit_multiplication
312.     assert _transformation[9] == convert_equals_signs
313.     assert _transformation[10] == function_exponentiation
314.     assert _transformation[11] == rationalize
315.     assert T[:5] == T[0,1,2,3,4] == standard_transformations
316.     t = _transformation
317.     assert T[-1, 0] == (t[len(t) - 1], t[0])
318.     assert T[:5, 8] == standard_transformations + (t[8],)
319.     assert parse_expr('0.3x^2', transformations='all') == 3*x**2/10
320.     assert parse_expr('sin 3x', transformations='implicit') == sin(3*x)
321. 
322. 
323. def test_builtins():
324.     cases = [
325.         ('abs(x)', 'Abs(x)'),
326.         ('max(x, y)', 'Max(x, y)'),
327.         ('min(x, y)', 'Min(x, y)'),
328.         ('pow(x, y)', 'Pow(x, y)'),
329.     ]
330.     for built_in_func_call, sympy_func_call in cases:
331.         assert parse_expr(built_in_func_call) == parse_expr(sympy_func_call)
332.     assert str(parse_expr('pow(38, -1, 97)')) == '23'

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-21 05:03:31,249 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly asks for the full content of the file `sympy/parsing/tests/test_sympy_parser.py`.\n\n2. Extended relevance:\n   - The provided context contains the entire content of the requested file, from line 1 to 332. Therefore, the whole file is relevant to fulfill the user's request.", relative_path='sympy/parsing/tests/test_sympy_parser.py', start_line=1, end_line=332)]
2025-12-21 05:03:31,251 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of the file sympy/parsing/tests/test_sympy_parser.py.
2025-12-21 05:03:31,251 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-21 05:03:31,251 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-21 05:03:31,251 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 1 existing contexts
2025-12-21 05:03:31,251 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 2 total contexts (removed 0 duplicates)
2025-12-21 05:03:31,252 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
sympy
├── .ci
|   ├── README.rst
|   ├── generate_durations_log.sh
|   └── parse_durations_log.py
├── .github
|   └── workflows
|       ├── ci-sage.yml
|       ├── comment-on-pr.yml
|       └── runtests.yml
├── .travis.yml
├── CODE_OF_CONDUCT.md
├── CONTRIBUTING.md
├── PULL_REQUEST_TEMPLATE.md
├── README.md
├── bin
|   ├── ask_update.py
|   ├── authors_update.py
|   ├── coverage_doctest.py
|   ├── coverage_report.py
|   ├── generate_module_list.py
|   ├── generate_test_list.py
|   ├── get_sympy.py
|   ├── mailmap_update.py
|   ├── sympy_time.py
|   ├── sympy_time_cache.py
|   ├── test_executable.py
|   ├── test_external_imports.py
|   ├── test_import.py
|   ├── test_optional_dependencies.py
|   ├── test_py2_import.py
|   ├── test_setup.py
|   ├── test_sphinx.sh
|   ├── test_submodule_imports.py
|   ├── test_symengine.py
|   ├── test_tensorflow.py
|   └── test_travis.sh
├── codecov.yml
├── conftest.py
├── data
|   └── TeXmacs
|       ├── bin
|       └── progs
├── doc
|   ├── README.rst
|   ├── api
|   |   ├── conf.py
|   |   └── index.rst
|   ├── cheatsheet
|   ├── convert-svg-to-pdf.sh
|   ├── ext
|   |   ├── docscrape.py
|   |   ├── docscrape_sphinx.py
|   |   ├── numpydoc.py
|   |   └── sympylive.py
|   ├── generate_logos.py
|   ├── man
|   |   └── isympy.xml
|   ├── requirements.txt
|   └── src
|       ├── _static
|       ├── _templates
|       |   └── layout.html
|       ├── aboutus.rst
|       ├── citing.rst
|       ├── conf.py
|       ├── explanation
|       |   ├── gotchas.rst
|       |   ├── index.rst
|       |   └── special_topics
|       |       ├── classification.rst
|       |       ├── finite_diff_derivatives.rst
|       |       └── index.rst
|       ├── guides
|       |   ├── assumptions.rst
|       |   ├── booleans.rst
|       |   ├── contributing
|       |   |   ├── build-docs.rst
|       |   |   ├── debug.rst
|       |   |   ├── dev-setup.rst
|       |   |   ├── docstring.rst
|       |   |   ├── documentation-style-guide.rst
|       |   |   ├── index.rst
|       |   |   └── make-a-contribution.rst
|       |   ├── getting_started
|       |   |   ├── index.rst
|       |   |   └── install.md
|       |   └── index.rst
|       ├── index.rst
|       ├── logo
|       |   └── info.txt
|       ├── miscellaneous
|       |   └── index.rst
|       ├── modules
|       |   ├── abc.rst
|       |   ├── algebras.rst
|       |   ├── assumptions
|       |   |   ├── ask.rst
|       |   |   ├── assume.rst
|       |   |   ├── index.rst
|       |   |   ├── predicates.rst
|       |   |   └── refine.rst
|       |   ├── calculus
|       |   |   └── index.rst
|       |   ├── categories.rst
|       |   ├── codegen.rst
|       |   ├── combinatorics
|       |   |   ├── fp_groups.rst
|       |   |   ├── graycode.rst
|       |   |   ├── group_constructs.rst
|       |   |   ├── index.rst
|       |   |   ├── named_groups.rst
|       |   |   ├── partitions.rst
|       |   |   ├── pc_groups.rst
|       |   |   ├── perm_groups.rst
|       |   |   ├── permutations.rst
|       |   |   ├── polyhedron.rst
|       |   |   ├── prufer.rst
|       |   |   ├── subsets.rst
|       |   |   ├── tensor_can.rst
|       |   |   ├── testutil.rst
|       |   |   └── util.rst
|       |   ├── concrete.rst
|       |   ├── core.rst
|       |   ├── crypto.rst
|       |   ├── diffgeom.rst
|       |   ├── discrete.rst
|       |   ├── evalf.rst
|       |   ├── functions
|       |   |   ├── combinatorial.rst
|       |   |   ├── elementary.rst
|       |   |   ├── index.rst
|       |   |   └── special.rst
|       |   ├── geometry
|       |   |   ├── curves.rst
|       |   |   ├── ellipses.rst
|       |   |   ├── entities.rst
|       |   |   ├── index.rst
|       |   |   ├── lines.rst
|       |   |   ├── plane.rst
|       |   |   ├── points.rst
|       |   |   ├── polygons.rst
|       |   |   └── utils.rst
|       |   ├── holonomic
|       |   |   ├── about.rst
|       |   |   ├── convert.rst
|       |   |   ├── index.rst
|       |   |   ├── internal.rst
|       |   |   ├── operations.rst
|       |   |   ├── represent.rst
|       |   |   └── uses.rst
|       |   ├── integrals
|       |   |   ├── g-functions.rst
|       |   |   ├── index.rst
|       |   |   └── integrals.rst
|       |   ├── interactive.rst
|       |   ├── liealgebras
|       |   |   └── index.rst
|       |   ├── logic.rst
|       |   ├── matrices
|       |   |   ├── common.rst
|       |   |   ├── dense.rst
|       |   |   ├── expressions.rst
|       |   |   ├── immutablematrices.rst
|       |   |   ├── index.rst
|       |   |   ├── matrices.rst
|       |   |   ├── normalforms.rst
|       |   |   ├── sparse.rst
|       |   |   └── sparsetools.rst
|       |   ├── ntheory.rst
|       |   ├── numeric-computation.rst
|       |   ├── parsing.rst
|       |   ├── physics
|       |   |   ├── continuum_mechanics
|       |   |   ├── control
|       |   |   ├── hep
|       |   |   ├── hydrogen.rst
|       |   |   ├── matrices.rst
|       |   |   ├── mechanics
|       |   |   ├── optics
|       |   |   ├── paulialgebra.rst
|       |   |   ├── qho_1d.rst
|       |   |   ├── quantum
|       |   |   ├── secondquant.rst
|       |   |   ├── sho.rst
|       |   |   ├── units
|       |   |   ├── vector
|       |   |   └── wigner.rst
|       |   ├── plotting.rst
|       |   ├── polys
|       |   |   ├── agca.rst
|       |   |   ├── basics.rst
|       |   |   ├── domainmatrix.rst
|       |   |   ├── domainsintro.rst
|       |   |   ├── domainsref.rst
|       |   |   ├── index.rst
|       |   |   ├── internals.rst
|       |   |   ├── literature.rst
|       |   |   ├── numberfields.rst
|       |   |   ├── reference.rst
|       |   |   ├── ringseries.rst
|       |   |   ├── solvers.rst
|       |   |   └── wester.rst
|       |   ├── printing.rst
|       |   ├── rewriting.rst
|       |   ├── series
|       |   |   ├── formal.rst
|       |   |   ├── fourier.rst
|       |   |   ├── index.rst
|       |   |   ├── limitseq.rst
|       |   |   ├── sequences.rst
|       |   |   └── series.rst
|       |   ├── sets.rst
|       |   ├── simplify
|       |   |   ├── fu.rst
|       |   |   ├── hyperexpand.rst
|       |   |   ├── index.rst
|       |   |   └── simplify.rst
|       |   ├── solvers
|       |   |   ├── diophantine.rst
|       |   |   ├── index.rst
|       |   |   ├── inequalities.rst
|       |   |   ├── ode.rst
|       |   |   ├── pde.rst
|       |   |   ├── solvers.rst
|       |   |   └── solveset.rst
|       |   ├── stats.rst
|       |   ├── tensor
|       |   |   ├── array.rst
|       |   |   ├── index.rst
|       |   |   ├── index_methods.rst
|       |   |   ├── indexed.rst
|       |   |   ├── tensor.rst
|       |   |   └── toperators.rst
|       |   ├── testing
|       |   |   ├── index.rst
|       |   |   ├── pytest.rst
|       |   |   ├── randtest.rst
|       |   |   └── runtests.rst
|       |   ├── utilities
|       |   |   ├── autowrap.rst
|       |   |   ├── codegen.rst
|       |   |   ├── decorator.rst
|       |   |   ├── enumerative.rst
|       |   |   ├── index.rst
|       |   |   ├── iterables.rst
|       |   |   ├── lambdify.rst
|       |   |   ├── memoization.rst
|       |   |   ├── misc.rst
|       |   |   ├── pkgdata.rst
|       |   |   ├── source.rst
|       |   |   └── timeutils.rst
|       |   └── vector
|       |       ├── api
|       |       ├── basics.rst
|       |       ├── coordsys.rst
|       |       ├── examples.rst
|       |       ├── fields.rst
|       |       ├── index.rst
|       |       ├── intro.rst
|       |       └── vector_integration.rst
|       ├── outreach.rst
|       ├── pics
|       ├── reference
|       |   ├── index.rst
|       |   └── public
|       |       ├── basics
|       |       ├── codegeneration
|       |       ├── logic
|       |       ├── matrices
|       |       ├── numbertheory
|       |       ├── physics
|       |       ├── topics
|       |       └── utilities
|       ├── tutorial
|       |   ├── basic_operations.rst
|       |   ├── calculus.rst
|       |   ├── features.rst
|       |   ├── gotchas.rst
|       |   ├── index.rst
|       |   ├── intro.rst
|       |   ├── manipulation.rst
|       |   ├── matrices.rst
|       |   ├── preliminaries.rst
|       |   ├── printing.rst
|       |   ├── simplification.rst
|       |   └── solvers.rst
|       └── wiki.rst
├── examples
|   ├── advanced
|   |   ├── autowrap_integrators.py
|   |   ├── autowrap_ufuncify.py
|   |   ├── curvilinear_coordinates.py
|   |   ├── dense_coding_example.py
|   |   ├── fem.py
|   |   ├── gibbs_phenomenon.py
|   |   ├── grover_example.py
|   |   ├── hydrogen.py
|   |   ├── pidigits.py
|   |   ├── pyglet_plotting.py
|   |   ├── qft.py
|   |   └── relativity.py
|   ├── all.py
|   ├── beginner
|   |   ├── basic.py
|   |   ├── differentiation.py
|   |   ├── expansion.py
|   |   ├── functions.py
|   |   ├── limits_examples.py
|   |   ├── plot_examples.py
|   |   ├── plotting_nice_plot.py
|   |   ├── precision.py
|   |   ├── print_pretty.py
|   |   ├── series.py
|   |   └── substitution.py
|   ├── intermediate
|   |   ├── coupled_cluster.py
|   |   ├── differential_equations.py
|   |   ├── infinite_1d_box.py
|   |   ├── mplot2d.py
|   |   ├── mplot3d.py
|   |   ├── partial_differential_eqs.py
|   |   ├── print_gtk.py
|   |   ├── sample.py
|   |   ├── trees.py
|   |   └── vandermonde.py
|   └── notebooks
|       └── README.txt
├── isympy.py
├── release
|   ├── Dockerfile
|   ├── README.md
|   ├── aptinstall.sh
|   ├── authors.py
|   ├── build_docs.py
|   ├── compare_tar_against_git.py
|   ├── fabfile.py
|   ├── github_release.py
|   ├── helpers.py
|   ├── pull_and_run_rever.sh
|   ├── release.sh
|   ├── releasecheck.py
|   ├── requirements.txt
|   ├── sha256.py
|   ├── test_install.py
|   ├── update_docs.py
|   └── update_requirements.sh
├── setup.py
├── setupegg.py
└── sympy
    ├── __init__.py
    ├── abc.py
    ├── algebras
    |   ├── __init__.py
    |   ├── quaternion.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_quaternion.py
    ├── assumptions
    |   ├── __init__.py
    |   ├── ask.py
    |   ├── ask_generated.py
    |   ├── assume.py
    |   ├── cnf.py
    |   ├── facts.py
    |   ├── handlers
    |   |   ├── __init__.py
    |   |   ├── calculus.py
    |   |   ├── common.py
    |   |   ├── matrices.py
    |   |   ├── ntheory.py
    |   |   ├── order.py
    |   |   └── sets.py
    |   ├── predicates
    |   |   ├── __init__.py
    |   |   ├── calculus.py
    |   |   ├── common.py
    |   |   ├── matrices.py
    |   |   ├── ntheory.py
    |   |   ├── order.py
    |   |   └── sets.py
    |   ├── refine.py
    |   ├── relation
    |   |   ├── __init__.py
    |   |   ├── binrel.py
    |   |   └── equality.py
    |   ├── satask.py
    |   ├── sathandlers.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_assumptions_2.py
    |   |   ├── test_context.py
    |   |   ├── test_matrices.py
    |   |   ├── test_query.py
    |   |   ├── test_refine.py
    |   |   ├── test_satask.py
    |   |   ├── test_sathandlers.py
    |   |   └── test_wrapper.py
    |   └── wrapper.py
    ├── benchmarks
    |   ├── __init__.py
    |   ├── bench_discrete_log.py
    |   ├── bench_meijerint.py
    |   └── bench_symbench.py
    ├── calculus
    |   ├── __init__.py
    |   ├── accumulationbounds.py
    |   ├── euler.py
    |   ├── finite_diff.py
    |   ├── singularities.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_accumulationbounds.py
    |   |   ├── test_euler.py
    |   |   ├── test_finite_diff.py
    |   |   ├── test_singularities.py
    |   |   └── test_util.py
    |   └── util.py
    ├── categories
    |   ├── __init__.py
    |   ├── baseclasses.py
    |   ├── diagram_drawing.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_baseclasses.py
    |       └── test_drawing.py
    ├── codegen
    |   ├── __init__.py
    |   ├── abstract_nodes.py
    |   ├── algorithms.py
    |   ├── approximations.py
    |   ├── array_utils.py
    |   ├── ast.py
    |   ├── cfunctions.py
    |   ├── cnodes.py
    |   ├── cutils.py
    |   ├── cxxnodes.py
    |   ├── fnodes.py
    |   ├── futils.py
    |   ├── matrix_nodes.py
    |   ├── numpy_nodes.py
    |   ├── pynodes.py
    |   ├── pyutils.py
    |   ├── rewriting.py
    |   ├── scipy_nodes.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_algorithms.py
    |       ├── test_applications.py
    |       ├── test_approximations.py
    |       ├── test_ast.py
    |       ├── test_cfunctions.py
    |       ├── test_cnodes.py
    |       ├── test_cxxnodes.py
    |       ├── test_fnodes.py
    |       ├── test_numpy_nodes.py
    |       ├── test_pynodes.py
    |       ├── test_pyutils.py
    |       ├── test_rewriting.py
    |       └── test_scipy_nodes.py
    ├── combinatorics
    |   ├── __init__.py
    |   ├── coset_table.py
    |   ├── fp_groups.py
    |   ├── free_groups.py
    |   ├── generators.py
    |   ├── graycode.py
    |   ├── group_constructs.py
    |   ├── homomorphisms.py
    |   ├── named_groups.py
    |   ├── partitions.py
    |   ├── pc_groups.py
    |   ├── perm_groups.py
    |   ├── permutations.py
    |   ├── polyhedron.py
    |   ├── prufer.py
    |   ├── rewritingsystem.py
    |   ├── rewritingsystem_fsm.py
    |   ├── schur_number.py
    |   ├── subsets.py
    |   ├── tensor_can.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_coset_table.py
    |   |   ├── test_fp_groups.py
    |   |   ├── test_free_groups.py
    |   |   ├── test_generators.py
    |   |   ├── test_graycode.py
    |   |   ├── test_group_constructs.py
    |   |   ├── test_homomorphisms.py
    |   |   ├── test_named_groups.py
    |   |   ├── test_partitions.py
    |   |   ├── test_pc_groups.py
    |   |   ├── test_perm_groups.py
    |   |   ├── test_permutations.py
    |   |   ├── test_polyhedron.py
    |   |   ├── test_prufer.py
    |   |   ├── test_rewriting.py
    |   |   ├── test_schur_number.py
    |   |   ├── test_subsets.py
    |   |   ├── test_tensor_can.py
    |   |   ├── test_testutil.py
    |   |   └── test_util.py
    |   ├── testutil.py
    |   └── util.py
    ├── concrete
    |   ├── __init__.py
    |   ├── delta.py
    |   ├── expr_with_intlimits.py
    |   ├── expr_with_limits.py
    |   ├── gosper.py
    |   ├── guess.py
    |   ├── products.py
    |   ├── summations.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_delta.py
    |       ├── test_gosper.py
    |       ├── test_guess.py
    |       ├── test_products.py
    |       └── test_sums_products.py
    ├── conftest.py
    ├── core
    |   ├── __init__.py
    |   ├── _print_helpers.py
    |   ├── add.py
    |   ├── alphabets.py
    |   ├── assumptions.py
    |   ├── backend.py
    |   ├── basic.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_arit.py
    |   |   ├── bench_assumptions.py
    |   |   ├── bench_basic.py
    |   |   ├── bench_expand.py
    |   |   ├── bench_numbers.py
    |   |   └── bench_sympify.py
    |   ├── cache.py
    |   ├── compatibility.py
    |   ├── containers.py
    |   ├── core.py
    |   ├── coreerrors.py
    |   ├── decorators.py
    |   ├── evalf.py
    |   ├── expr.py
    |   ├── exprtools.py
    |   ├── facts.py
    |   ├── function.py
    |   ├── kind.py
    |   ├── logic.py
    |   ├── mod.py
    |   ├── mul.py
    |   ├── multidimensional.py
    |   ├── numbers.py
    |   ├── operations.py
    |   ├── parameters.py
    |   ├── power.py
    |   ├── random.py
    |   ├── relational.py
    |   ├── rules.py
    |   ├── singleton.py
    |   ├── sorting.py
    |   ├── symbol.py
    |   ├── sympify.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_args.py
    |   |   ├── test_arit.py
    |   |   ├── test_assumptions.py
    |   |   ├── test_basic.py
    |   |   ├── test_cache.py
    |   |   ├── test_complex.py
    |   |   ├── test_constructor_postprocessor.py
    |   |   ├── test_containers.py
    |   |   ├── test_count_ops.py
    |   |   ├── test_diff.py
    |   |   ├── test_equal.py
    |   |   ├── test_eval.py
    |   |   ├── test_evalf.py
    |   |   ├── test_expand.py
    |   |   ├── test_expr.py
    |   |   ├── test_exprtools.py
    |   |   ├── test_facts.py
    |   |   ├── test_function.py
    |   |   ├── test_kind.py
    |   |   ├── test_logic.py
    |   |   ├── test_match.py
    |   |   ├── test_multidimensional.py
    |   |   ├── test_noncommutative.py
    |   |   ├── test_numbers.py
    |   |   ├── test_operations.py
    |   |   ├── test_parameters.py
    |   |   ├── test_power.py
    |   |   ├── test_priority.py
    |   |   ├── test_random.py
    |   |   ├── test_relational.py
    |   |   ├── test_rules.py
    |   |   ├── test_singleton.py
    |   |   ├── test_sorting.py
    |   |   ├── test_subs.py
    |   |   ├── test_symbol.py
    |   |   ├── test_sympify.py
    |   |   ├── test_traversal.py
    |   |   ├── test_truediv.py
    |   |   └── test_var.py
    |   ├── trace.py
    |   └── traversal.py
    ├── crypto
    |   ├── __init__.py
    |   ├── crypto.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_crypto.py
    ├── diffgeom
    |   ├── __init__.py
    |   ├── diffgeom.py
    |   ├── rn.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_class_structure.py
    |       ├── test_diffgeom.py
    |       ├── test_function_diffgeom_book.py
    |       └── test_hyperbolic_space.py
    ├── discrete
    |   ├── __init__.py
    |   ├── convolutions.py
    |   ├── recurrences.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_convolutions.py
    |   |   ├── test_recurrences.py
    |   |   └── test_transforms.py
    |   └── transforms.py
    ├── external
    |   ├── __init__.py
    |   ├── gmpy.py
    |   ├── importtools.py
    |   ├── pythonmpq.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_autowrap.py
    |       ├── test_codegen.py
    |       ├── test_importtools.py
    |       ├── test_numpy.py
    |       ├── test_pythonmpq.py
    |       └── test_scipy.py
    ├── functions
    |   ├── __init__.py
    |   ├── combinatorial
    |   |   ├── __init__.py
    |   |   ├── factorials.py
    |   |   ├── numbers.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_comb_factorials.py
    |   |       └── test_comb_numbers.py
    |   ├── elementary
    |   |   ├── __init__.py
    |   |   ├── benchmarks
    |   |   |   ├── __init__.py
    |   |   |   └── bench_exp.py
    |   |   ├── complexes.py
    |   |   ├── exponential.py
    |   |   ├── hyperbolic.py
    |   |   ├── integers.py
    |   |   ├── miscellaneous.py
    |   |   ├── piecewise.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_complexes.py
    |   |   |   ├── test_exponential.py
    |   |   |   ├── test_hyperbolic.py
    |   |   |   ├── test_integers.py
    |   |   |   ├── test_interface.py
    |   |   |   ├── test_miscellaneous.py
    |   |   |   ├── test_piecewise.py
    |   |   |   └── test_trigonometric.py
    |   |   └── trigonometric.py
    |   └── special
    |       ├── __init__.py
    |       ├── benchmarks
    |       |   ├── __init__.py
    |       |   └── bench_special.py
    |       ├── bessel.py
    |       ├── beta_functions.py
    |       ├── bsplines.py
    |       ├── delta_functions.py
    |       ├── elliptic_integrals.py
    |       ├── error_functions.py
    |       ├── gamma_functions.py
    |       ├── hyper.py
    |       ├── mathieu_functions.py
    |       ├── polynomials.py
    |       ├── singularity_functions.py
    |       ├── spherical_harmonics.py
    |       ├── tensor_functions.py
    |       ├── tests
    |       |   ├── __init__.py
    |       |   ├── test_bessel.py
    |       |   ├── test_beta_functions.py
    |       |   ├── test_bsplines.py
    |       |   ├── test_delta_functions.py
    |       |   ├── test_elliptic_integrals.py
    |       |   ├── test_error_functions.py
    |       |   ├── test_gamma_functions.py
    |       |   ├── test_hyper.py
    |       |   ├── test_mathieu.py
    |       |   ├── test_singularity_functions.py
    |       |   ├── test_spec_polynomials.py
    |       |   ├── test_spherical_harmonics.py
    |       |   ├── test_tensor_functions.py
    |       |   └── test_zeta_functions.py
    |       └── zeta_functions.py
    ├── galgebra.py
    ├── geometry
    |   ├── __init__.py
    |   ├── curve.py
    |   ├── ellipse.py
    |   ├── entity.py
    |   ├── exceptions.py
    |   ├── line.py
    |   ├── parabola.py
    |   ├── plane.py
    |   ├── point.py
    |   ├── polygon.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_curve.py
    |   |   ├── test_ellipse.py
    |   |   ├── test_entity.py
    |   |   ├── test_geometrysets.py
    |   |   ├── test_line.py
    |   |   ├── test_parabola.py
    |   |   ├── test_plane.py
    |   |   ├── test_point.py
    |   |   ├── test_polygon.py
    |   |   └── test_util.py
    |   └── util.py
    ├── holonomic
    |   ├── __init__.py
    |   ├── holonomic.py
    |   ├── holonomicerrors.py
    |   ├── numerical.py
    |   ├── recurrence.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_holonomic.py
    |       └── test_recurrence.py
    ├── integrals
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_integrate.py
    |   |   └── bench_trigintegrate.py
    |   ├── deltafunctions.py
    |   ├── heurisch.py
    |   ├── integrals.py
    |   ├── intpoly.py
    |   ├── manualintegrate.py
    |   ├── meijerint.py
    |   ├── meijerint_doc.py
    |   ├── prde.py
    |   ├── quadrature.py
    |   ├── rationaltools.py
    |   ├── rde.py
    |   ├── risch.py
    |   ├── rubi
    |   |   ├── __init__.py
    |   |   ├── constraints.py
    |   |   ├── parsetools
    |   |   |   ├── __init__.py
    |   |   |   ├── generate_rules.py
    |   |   |   ├── generate_tests.py
    |   |   |   ├── header.py.txt
    |   |   |   ├── parse.py
    |   |   |   └── tests
    |   |   ├── rubi_tests
    |   |   |   ├── __init__.py
    |   |   |   └── tests
    |   |   ├── rubimain.py
    |   |   ├── rules
    |   |   |   ├── __init__.py
    |   |   |   ├── binomial_products.py
    |   |   |   ├── exponential.py
    |   |   |   ├── hyperbolic.py
    |   |   |   ├── integrand_simplification.py
    |   |   |   ├── inverse_hyperbolic.py
    |   |   |   ├── inverse_trig.py
    |   |   |   ├── linear_products.py
    |   |   |   ├── logarithms.py
    |   |   |   ├── miscellaneous_algebraic.py
    |   |   |   ├── miscellaneous_integration.py
    |   |   |   ├── miscellaneous_trig.py
    |   |   |   ├── piecewise_linear.py
    |   |   |   ├── quadratic_products.py
    |   |   |   ├── secant.py
    |   |   |   ├── sine.py
    |   |   |   ├── special_functions.py
    |   |   |   ├── tangent.py
    |   |   |   └── trinomial_products.py
    |   |   ├── symbol.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_rubi_integrate.py
    |   |   |   └── test_utility_function.py
    |   |   └── utility_function.py
    |   ├── singularityfunctions.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_deltafunctions.py
    |   |   ├── test_failing_integrals.py
    |   |   ├── test_heurisch.py
    |   |   ├── test_integrals.py
    |   |   ├── test_intpoly.py
    |   |   ├── test_lineintegrals.py
    |   |   ├── test_manual.py
    |   |   ├── test_meijerint.py
    |   |   ├── test_prde.py
    |   |   ├── test_quadrature.py
    |   |   ├── test_rationaltools.py
    |   |   ├── test_rde.py
    |   |   ├── test_risch.py
    |   |   ├── test_singularityfunctions.py
    |   |   ├── test_transforms.py
    |   |   └── test_trigonometry.py
    |   ├── transforms.py
    |   └── trigonometry.py
    ├── interactive
    |   ├── __init__.py
    |   ├── printing.py
    |   ├── session.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_interactive.py
    |   |   └── test_ipython.py
    |   └── traversal.py
    ├── liealgebras
    |   ├── __init__.py
    |   ├── cartan_matrix.py
    |   ├── cartan_type.py
    |   ├── dynkin_diagram.py
    |   ├── root_system.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_cartan_matrix.py
    |   |   ├── test_cartan_type.py
    |   |   ├── test_dynkin_diagram.py
    |   |   ├── test_root_system.py
    |   |   ├── test_type_A.py
    |   |   ├── test_type_B.py
    |   |   ├── test_type_C.py
    |   |   ├── test_type_D.py
    |   |   ├── test_type_E.py
    |   |   ├── test_type_F.py
    |   |   ├── test_type_G.py
    |   |   └── test_weyl_group.py
    |   ├── type_a.py
    |   ├── type_b.py
    |   ├── type_c.py
    |   ├── type_d.py
    |   ├── type_e.py
    |   ├── type_f.py
    |   ├── type_g.py
    |   └── weyl_group.py
    ├── logic
    |   ├── __init__.py
    |   ├── algorithms
    |   |   ├── __init__.py
    |   |   ├── dpll.py
    |   |   ├── dpll2.py
    |   |   ├── minisat22_wrapper.py
    |   |   └── pycosat_wrapper.py
    |   ├── boolalg.py
    |   ├── inference.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_boolalg.py
    |   |   ├── test_dimacs.py
    |   |   └── test_inference.py
    |   └── utilities
    |       ├── __init__.py
    |       └── dimacs.py
    ├── matrices
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   └── bench_matrix.py
    |   ├── common.py
    |   ├── decompositions.py
    |   ├── dense.py
    |   ├── densearith.py
    |   ├── densesolve.py
    |   ├── densetools.py
    |   ├── determinant.py
    |   ├── eigen.py
    |   ├── expressions
    |   |   ├── __init__.py
    |   |   ├── adjoint.py
    |   |   ├── applyfunc.py
    |   |   ├── blockmatrix.py
    |   |   ├── companion.py
    |   |   ├── determinant.py
    |   |   ├── diagonal.py
    |   |   ├── dotproduct.py
    |   |   ├── factorizations.py
    |   |   ├── fourier.py
    |   |   ├── funcmatrix.py
    |   |   ├── hadamard.py
    |   |   ├── inverse.py
    |   |   ├── kronecker.py
    |   |   ├── matadd.py
    |   |   ├── matexpr.py
    |   |   ├── matmul.py
    |   |   ├── matpow.py
    |   |   ├── permutation.py
    |   |   ├── sets.py
    |   |   ├── slice.py
    |   |   ├── special.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_adjoint.py
    |   |   |   ├── test_applyfunc.py
    |   |   |   ├── test_blockmatrix.py
    |   |   |   ├── test_companion.py
    |   |   |   ├── test_derivatives.py
    |   |   |   ├── test_determinant.py
    |   |   |   ├── test_diagonal.py
    |   |   |   ├── test_dotproduct.py
    |   |   |   ├── test_factorizations.py
    |   |   |   ├── test_fourier.py
    |   |   |   ├── test_funcmatrix.py
    |   |   |   ├── test_hadamard.py
    |   |   |   ├── test_indexing.py
    |   |   |   ├── test_inverse.py
    |   |   |   ├── test_kronecker.py
    |   |   |   ├── test_matadd.py
    |   |   |   ├── test_matexpr.py
    |   |   |   ├── test_matmul.py
    |   |   |   ├── test_matpow.py
    |   |   |   ├── test_permutation.py
    |   |   |   ├── test_sets.py
    |   |   |   ├── test_slice.py
    |   |   |   ├── test_special.py
    |   |   |   ├── test_trace.py
    |   |   |   └── test_transpose.py
    |   |   ├── trace.py
    |   |   └── transpose.py
    |   ├── graph.py
    |   ├── immutable.py
    |   ├── inverse.py
    |   ├── matrices.py
    |   ├── normalforms.py
    |   ├── reductions.py
    |   ├── repmatrix.py
    |   ├── solvers.py
    |   ├── sparse.py
    |   ├── sparsetools.py
    |   ├── subspaces.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_commonmatrix.py
    |   |   ├── test_decompositions.py
    |   |   ├── test_densearith.py
    |   |   ├── test_densesolve.py
    |   |   ├── test_densetools.py
    |   |   ├── test_determinant.py
    |   |   ├── test_eigen.py
    |   |   ├── test_graph.py
    |   |   ├── test_immutable.py
    |   |   ├── test_interactions.py
    |   |   ├── test_matrices.py
    |   |   ├── test_normalforms.py
    |   |   ├── test_reductions.py
    |   |   ├── test_solvers.py
    |   |   ├── test_sparse.py
    |   |   ├── test_sparsetools.py
    |   |   └── test_subspaces.py
    |   └── utilities.py
    ├── multipledispatch
    |   ├── __init__.py
    |   ├── conflict.py
    |   ├── core.py
    |   ├── dispatcher.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_conflict.py
    |   |   ├── test_core.py
    |   |   └── test_dispatcher.py
    |   └── utils.py
    ├── ntheory
    |   ├── __init__.py
    |   ├── bbp_pi.py
    |   ├── continued_fraction.py
    |   ├── digits.py
    |   ├── ecm.py
    |   ├── egyptian_fraction.py
    |   ├── elliptic_curve.py
    |   ├── factor_.py
    |   ├── generate.py
    |   ├── modular.py
    |   ├── multinomial.py
    |   ├── partitions_.py
    |   ├── primetest.py
    |   ├── qs.py
    |   ├── residue_ntheory.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_bbp_pi.py
    |       ├── test_continued_fraction.py
    |       ├── test_digits.py
    |       ├── test_ecm.py
    |       ├── test_egyptian_fraction.py
    |       ├── test_elliptic_curve.py
    |       ├── test_factor_.py
    |       ├── test_generate.py
    |       ├── test_modular.py
    |       ├── test_multinomial.py
    |       ├── test_partitions.py
    |       ├── test_primetest.py
    |       ├── test_qs.py
    |       └── test_residue.py
    ├── parsing
    |   ├── __init__.py
    |   ├── ast_parser.py
    |   ├── autolev
    |   |   ├── __init__.py
    |   |   ├── _antlr
    |   |   |   ├── __init__.py
    |   |   |   ├── autolevlexer.py
    |   |   |   ├── autolevlistener.py
    |   |   |   └── autolevparser.py
    |   |   ├── _listener_autolev_antlr.py
    |   |   ├── _parse_autolev_antlr.py
    |   |   └── test-examples
    |   |       ├── README.txt
    |   |       ├── pydy-example-repo
    |   |       ├── ruletest1.py
    |   |       ├── ruletest10.py
    |   |       ├── ruletest11.py
    |   |       ├── ruletest12.py
    |   |       ├── ruletest2.py
    |   |       ├── ruletest3.py
    |   |       ├── ruletest4.py
    |   |       ├── ruletest5.py
    |   |       ├── ruletest6.py
    |   |       ├── ruletest7.py
    |   |       ├── ruletest8.py
    |   |       └── ruletest9.py
    |   ├── c
    |   |   ├── __init__.py
    |   |   └── c_parser.py
    |   ├── fortran
    |   |   ├── __init__.py
    |   |   └── fortran_parser.py
    |   ├── latex
    |   |   ├── LICENSE.txt
    |   |   ├── __init__.py
    |   |   ├── _antlr
    |   |   |   ├── __init__.py
    |   |   |   ├── latexlexer.py
    |   |   |   └── latexparser.py
    |   |   ├── _build_latex_antlr.py
    |   |   ├── _parse_latex_antlr.py
    |   |   └── errors.py
    |   ├── mathematica.py
    |   ├── maxima.py
    |   ├── sym_expr.py
    |   ├── sympy_parser.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_ast_parser.py
    |       ├── test_autolev.py
    |       ├── test_c_parser.py
    |       ├── test_fortran_parser.py
    |       ├── test_implicit_multiplication_application.py
    |       ├── test_latex.py
    |       ├── test_latex_deps.py
    |       ├── test_mathematica.py
    |       ├── test_maxima.py
    |       ├── test_sym_expr.py
    |       └── test_sympy_parser.py
    ├── physics
    |   ├── __init__.py
    |   ├── continuum_mechanics
    |   |   ├── __init__.py
    |   |   ├── beam.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_beam.py
    |   ├── control
    |   |   ├── __init__.py
    |   |   ├── control_plots.py
    |   |   ├── lti.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_control_plots.py
    |   |       └── test_lti.py
    |   ├── hep
    |   |   ├── __init__.py
    |   |   ├── gamma_matrices.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_gamma_matrices.py
    |   ├── hydrogen.py
    |   ├── matrices.py
    |   ├── mechanics
    |   |   ├── __init__.py
    |   |   ├── body.py
    |   |   ├── functions.py
    |   |   ├── joint.py
    |   |   ├── jointsmethod.py
    |   |   ├── kane.py
    |   |   ├── lagrange.py
    |   |   ├── linearize.py
    |   |   ├── method.py
    |   |   ├── models.py
    |   |   ├── particle.py
    |   |   ├── rigidbody.py
    |   |   ├── system.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_body.py
    |   |       ├── test_functions.py
    |   |       ├── test_joint.py
    |   |       ├── test_jointsmethod.py
    |   |       ├── test_kane.py
    |   |       ├── test_kane2.py
    |   |       ├── test_kane3.py
    |   |       ├── test_kane4.py
    |   |       ├── test_lagrange.py
    |   |       ├── test_lagrange2.py
    |   |       ├── test_linearize.py
    |   |       ├── test_method.py
    |   |       ├── test_models.py
    |   |       ├── test_particle.py
    |   |       ├── test_rigidbody.py
    |   |       └── test_system.py
    |   ├── optics
    |   |   ├── __init__.py
    |   |   ├── gaussopt.py
    |   |   ├── medium.py
    |   |   ├── polarization.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_gaussopt.py
    |   |   |   ├── test_medium.py
    |   |   |   ├── test_polarization.py
    |   |   |   ├── test_utils.py
    |   |   |   └── test_waves.py
    |   |   ├── utils.py
    |   |   └── waves.py
    |   ├── paulialgebra.py
    |   ├── pring.py
    |   ├── qho_1d.py
    |   ├── quantum
    |   |   ├── __init__.py
    |   |   ├── anticommutator.py
    |   |   ├── boson.py
    |   |   ├── cartesian.py
    |   |   ├── cg.py
    |   |   ├── circuitplot.py
    |   |   ├── circuitutils.py
    |   |   ├── commutator.py
    |   |   ├── constants.py
    |   |   ├── dagger.py
    |   |   ├── density.py
    |   |   ├── fermion.py
    |   |   ├── gate.py
    |   |   ├── grover.py
    |   |   ├── hilbert.py
    |   |   ├── identitysearch.py
    |   |   ├── innerproduct.py
    |   |   ├── matrixcache.py
    |   |   ├── matrixutils.py
    |   |   ├── operator.py
    |   |   ├── operatorordering.py
    |   |   ├── operatorset.py
    |   |   ├── pauli.py
    |   |   ├── piab.py
    |   |   ├── qapply.py
    |   |   ├── qasm.py
    |   |   ├── qexpr.py
    |   |   ├── qft.py
    |   |   ├── qubit.py
    |   |   ├── represent.py
    |   |   ├── sho1d.py
    |   |   ├── shor.py
    |   |   ├── spin.py
    |   |   ├── state.py
    |   |   ├── tensorproduct.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_anticommutator.py
    |   |   |   ├── test_boson.py
    |   |   |   ├── test_cartesian.py
    |   |   |   ├── test_cg.py
    |   |   |   ├── test_circuitplot.py
    |   |   |   ├── test_circuitutils.py
    |   |   |   ├── test_commutator.py
    |   |   |   ├── test_constants.py
    |   |   |   ├── test_dagger.py
    |   |   |   ├── test_density.py
    |   |   |   ├── test_fermion.py
    |   |   |   ├── test_gate.py
    |   |   |   ├── test_grover.py
    |   |   |   ├── test_hilbert.py
    |   |   |   ├── test_identitysearch.py
    |   |   |   ├── test_innerproduct.py
    |   |   |   ├── test_matrixutils.py
    |   |   |   ├── test_operator.py
    |   |   |   ├── test_operatorordering.py
    |   |   |   ├── test_operatorset.py
    |   |   |   ├── test_pauli.py
    |   |   |   ├── test_piab.py
    |   |   |   ├── test_printing.py
    |   |   |   ├── test_qapply.py
    |   |   |   ├── test_qasm.py
    |   |   |   ├── test_qexpr.py
    |   |   |   ├── test_qft.py
    |   |   |   ├── test_qubit.py
    |   |   |   ├── test_represent.py
    |   |   |   ├── test_sho1d.py
    |   |   |   ├── test_shor.py
    |   |   |   ├── test_spin.py
    |   |   |   ├── test_state.py
    |   |   |   ├── test_tensorproduct.py
    |   |   |   └── test_trace.py
    |   |   └── trace.py
    |   ├── secondquant.py
    |   ├── sho.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_clebsch_gordan.py
    |   |   ├── test_hydrogen.py
    |   |   ├── test_paulialgebra.py
    |   |   ├── test_physics_matrices.py
    |   |   ├── test_pring.py
    |   |   ├── test_qho_1d.py
    |   |   ├── test_secondquant.py
    |   |   └── test_sho.py
    |   ├── units
    |   |   ├── __init__.py
    |   |   ├── definitions
    |   |   |   ├── __init__.py
    |   |   |   ├── dimension_definitions.py
    |   |   |   └── unit_definitions.py
    |   |   ├── dimensions.py
    |   |   ├── prefixes.py
    |   |   ├── quantities.py
    |   |   ├── systems
    |   |   |   ├── __init__.py
    |   |   |   ├── cgs.py
    |   |   |   ├── length_weight_time.py
    |   |   |   ├── mks.py
    |   |   |   ├── mksa.py
    |   |   |   ├── natural.py
    |   |   |   └── si.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_dimensions.py
    |   |   |   ├── test_dimensionsystem.py
    |   |   |   ├── test_prefixes.py
    |   |   |   ├── test_quantities.py
    |   |   |   ├── test_unit_system_cgs_gauss.py
    |   |   |   ├── test_unitsystem.py
    |   |   |   └── test_util.py
    |   |   ├── unitsystem.py
    |   |   └── util.py
    |   ├── vector
    |   |   ├── __init__.py
    |   |   ├── dyadic.py
    |   |   ├── fieldfunctions.py
    |   |   ├── frame.py
    |   |   ├── functions.py
    |   |   ├── point.py
    |   |   ├── printing.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_dyadic.py
    |   |   |   ├── test_fieldfunctions.py
    |   |   |   ├── test_frame.py
    |   |   |   ├── test_functions.py
    |   |   |   ├── test_output.py
    |   |   |   ├── test_point.py
    |   |   |   ├── test_printing.py
    |   |   |   └── test_vector.py
    |   |   └── vector.py
    |   └── wigner.py
    ├── plotting
    |   ├── __init__.py
    |   ├── experimental_lambdify.py
    |   ├── intervalmath
    |   |   ├── __init__.py
    |   |   ├── interval_arithmetic.py
    |   |   ├── interval_membership.py
    |   |   ├── lib_interval.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_interval_functions.py
    |   |       ├── test_interval_membership.py
    |   |       └── test_intervalmath.py
    |   ├── plot.py
    |   ├── plot_implicit.py
    |   ├── pygletplot
    |   |   ├── __init__.py
    |   |   ├── color_scheme.py
    |   |   ├── managed_window.py
    |   |   ├── plot.py
    |   |   ├── plot_axes.py
    |   |   ├── plot_camera.py
    |   |   ├── plot_controller.py
    |   |   ├── plot_curve.py
    |   |   ├── plot_interval.py
    |   |   ├── plot_mode.py
    |   |   ├── plot_mode_base.py
    |   |   ├── plot_modes.py
    |   |   ├── plot_object.py
    |   |   ├── plot_rotation.py
    |   |   ├── plot_surface.py
    |   |   ├── plot_window.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── test_plotting.py
    |   |   └── util.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_experimental_lambdify.py
    |   |   ├── test_plot.py
    |   |   ├── test_plot_implicit.py
    |   |   └── test_textplot.py
    |   └── textplot.py
    ├── polys
    |   ├── __init__.py
    |   ├── agca
    |   |   ├── __init__.py
    |   |   ├── extensions.py
    |   |   ├── homomorphisms.py
    |   |   ├── ideals.py
    |   |   ├── modules.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_extensions.py
    |   |       ├── test_homomorphisms.py
    |   |       ├── test_ideals.py
    |   |       └── test_modules.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_galoispolys.py
    |   |   ├── bench_groebnertools.py
    |   |   └── bench_solvers.py
    |   ├── compatibility.py
    |   ├── constructor.py
    |   ├── densearith.py
    |   ├── densebasic.py
    |   ├── densetools.py
    |   ├── dispersion.py
    |   ├── distributedmodules.py
    |   ├── domainmatrix.py
    |   ├── domains
    |   |   ├── __init__.py
    |   |   ├── algebraicfield.py
    |   |   ├── characteristiczero.py
    |   |   ├── complexfield.py
    |   |   ├── compositedomain.py
    |   |   ├── domain.py
    |   |   ├── domainelement.py
    |   |   ├── expressiondomain.py
    |   |   ├── expressionrawdomain.py
    |   |   ├── field.py
    |   |   ├── finitefield.py
    |   |   ├── fractionfield.py
    |   |   ├── gaussiandomains.py
    |   |   ├── gmpyfinitefield.py
    |   |   ├── gmpyintegerring.py
    |   |   ├── gmpyrationalfield.py
    |   |   ├── groundtypes.py
    |   |   ├── integerring.py
    |   |   ├── modularinteger.py
    |   |   ├── mpelements.py
    |   |   ├── old_fractionfield.py
    |   |   ├── old_polynomialring.py
    |   |   ├── polynomialring.py
    |   |   ├── pythonfinitefield.py
    |   |   ├── pythonintegerring.py
    |   |   ├── pythonrational.py
    |   |   ├── pythonrationalfield.py
    |   |   ├── quotientring.py
    |   |   ├── rationalfield.py
    |   |   ├── realfield.py
    |   |   ├── ring.py
    |   |   ├── simpledomain.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_domains.py
    |   |       ├── test_polynomialring.py
    |   |       └── test_quotientring.py
    |   ├── euclidtools.py
    |   ├── factortools.py
    |   ├── fglmtools.py
    |   ├── fields.py
    |   ├── galoistools.py
    |   ├── groebnertools.py
    |   ├── heuristicgcd.py
    |   ├── matrices
    |   |   ├── __init__.py
    |   |   ├── ddm.py
    |   |   ├── dense.py
    |   |   ├── domainmatrix.py
    |   |   ├── domainscalar.py
    |   |   ├── eigen.py
    |   |   ├── exceptions.py
    |   |   ├── linsolve.py
    |   |   ├── normalforms.py
    |   |   ├── sdm.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_ddm.py
    |   |       ├── test_dense.py
    |   |       ├── test_domainmatrix.py
    |   |       ├── test_domainscalar.py
    |   |       ├── test_eigen.py
    |   |       ├── test_linsolve.py
    |   |       ├── test_normalforms.py
    |   |       └── test_sdm.py
    |   ├── modulargcd.py
    |   ├── monomials.py
    |   ├── multivariate_resultants.py
    |   ├── numberfields
    |   |   ├── __init__.py
    |   |   ├── basis.py
    |   |   ├── exceptions.py
    |   |   ├── minpoly.py
    |   |   ├── modules.py
    |   |   ├── primes.py
    |   |   ├── subfield.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_basis.py
    |   |   |   ├── test_minpoly.py
    |   |   |   ├── test_modules.py
    |   |   |   ├── test_numbers.py
    |   |   |   ├── test_primes.py
    |   |   |   ├── test_subfield.py
    |   |   |   └── test_utilities.py
    |   |   └── utilities.py
    |   ├── orderings.py
    |   ├── orthopolys.py
    |   ├── partfrac.py
    |   ├── polyclasses.py
    |   ├── polyconfig.py
    |   ├── polyerrors.py
    |   ├── polyfuncs.py
    |   ├── polymatrix.py
    |   ├── polyoptions.py
    |   ├── polyquinticconst.py
    |   ├── polyroots.py
    |   ├── polytools.py
    |   ├── polyutils.py
    |   ├── rationaltools.py
    |   ├── ring_series.py
    |   ├── rings.py
    |   ├── rootisolation.py
    |   ├── rootoftools.py
    |   ├── solvers.py
    |   ├── specialpolys.py
    |   ├── sqfreetools.py
    |   ├── subresultants_qq_zz.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_constructor.py
    |       ├── test_densearith.py
    |       ├── test_densebasic.py
    |       ├── test_densetools.py
    |       ├── test_dispersion.py
    |       ├── test_distributedmodules.py
    |       ├── test_euclidtools.py
    |       ├── test_factortools.py
    |       ├── test_fields.py
    |       ├── test_galoistools.py
    |       ├── test_groebnertools.py
    |       ├── test_heuristicgcd.py
    |       ├── test_injections.py
    |       ├── test_modulargcd.py
    |       ├── test_monomials.py
    |       ├── test_multivariate_resultants.py
    |       ├── test_orderings.py
    |       ├── test_orthopolys.py
    |       ├── test_partfrac.py
    |       ├── test_polyclasses.py
    |       ├── test_polyfuncs.py
    |       ├── test_polymatrix.py
    |       ├── test_polyoptions.py
    |       ├── test_polyroots.py
    |       ├── test_polytools.py
    |       ├── test_polyutils.py
    |       ├── test_pythonrational.py
    |       ├── test_rationaltools.py
    |       ├── test_ring_series.py
    |       ├── test_rings.py
    |       ├── test_rootisolation.py
    |       ├── test_rootoftools.py
    |       ├── test_solvers.py
    |       ├── test_specialpolys.py
    |       ├── test_sqfreetools.py
    |       └── test_subresultants_qq_zz.py
    ├── printing
    |   ├── __init__.py
    |   ├── aesaracode.py
    |   ├── c.py
    |   ├── ccode.py
    |   ├── codeprinter.py
    |   ├── conventions.py
    |   ├── cxx.py
    |   ├── cxxcode.py
    |   ├── defaults.py
    |   ├── dot.py
    |   ├── fcode.py
    |   ├── fortran.py
    |   ├── glsl.py
    |   ├── gtk.py
    |   ├── jscode.py
    |   ├── julia.py
    |   ├── lambdarepr.py
    |   ├── latex.py
    |   ├── llvmjitcode.py
    |   ├── maple.py
    |   ├── mathematica.py
    |   ├── mathml.py
    |   ├── numpy.py
    |   ├── octave.py
    |   ├── precedence.py
    |   ├── pretty
    |   |   ├── __init__.py
    |   |   ├── pretty.py
    |   |   ├── pretty_symbology.py
    |   |   ├── stringpict.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_pretty.py
    |   ├── preview.py
    |   ├── printer.py
    |   ├── pycode.py
    |   ├── python.py
    |   ├── rcode.py
    |   ├── repr.py
    |   ├── rust.py
    |   ├── str.py
    |   ├── tableform.py
    |   ├── tensorflow.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_aesaracode.py
    |   |   ├── test_c.py
    |   |   ├── test_codeprinter.py
    |   |   ├── test_conventions.py
    |   |   ├── test_cupy.py
    |   |   ├── test_cxx.py
    |   |   ├── test_dot.py
    |   |   ├── test_fortran.py
    |   |   ├── test_glsl.py
    |   |   ├── test_gtk.py
    |   |   ├── test_jscode.py
    |   |   ├── test_julia.py
    |   |   ├── test_lambdarepr.py
    |   |   ├── test_latex.py
    |   |   ├── test_llvmjit.py
    |   |   ├── test_maple.py
    |   |   ├── test_mathematica.py
    |   |   ├── test_mathml.py
    |   |   ├── test_numpy.py
    |   |   ├── test_octave.py
    |   |   ├── test_precedence.py
    |   |   ├── test_preview.py
    |   |   ├── test_pycode.py
    |   |   ├── test_python.py
    |   |   ├── test_rcode.py
    |   |   ├── test_repr.py
    |   |   ├── test_rust.py
    |   |   ├── test_str.py
    |   |   ├── test_tableform.py
    |   |   ├── test_tensorflow.py
    |   |   ├── test_theanocode.py
    |   |   └── test_tree.py
    |   ├── theanocode.py
    |   └── tree.py
    ├── release.py
    ├── sandbox
    |   ├── __init__.py
    |   ├── indexed_integrals.py
    |   └── tests
    |       ├── __init__.py
    |       └── test_indexed_integrals.py
    ├── series
    |   ├── __init__.py
    |   ├── acceleration.py
    |   ├── approximants.py
    |   ├── aseries.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   ├── bench_limit.py
    |   |   └── bench_order.py
    |   ├── formal.py
    |   ├── fourier.py
    |   ├── gruntz.py
    |   ├── kauers.py
    |   ├── limits.py
    |   ├── limitseq.py
    |   ├── order.py
    |   ├── residues.py
    |   ├── sequences.py
    |   ├── series.py
    |   ├── series_class.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_approximants.py
    |       ├── test_aseries.py
    |       ├── test_demidovich.py
    |       ├── test_formal.py
    |       ├── test_fourier.py
    |       ├── test_gruntz.py
    |       ├── test_kauers.py
    |       ├── test_limits.py
    |       ├── test_limitseq.py
    |       ├── test_lseries.py
    |       ├── test_nseries.py
    |       ├── test_order.py
    |       ├── test_residues.py
    |       ├── test_sequences.py
    |       └── test_series.py
    ├── sets
    |   ├── __init__.py
    |   ├── conditionset.py
    |   ├── contains.py
    |   ├── fancysets.py
    |   ├── handlers
    |   |   ├── __init__.py
    |   |   ├── add.py
    |   |   ├── comparison.py
    |   |   ├── functions.py
    |   |   ├── intersection.py
    |   |   ├── issubset.py
    |   |   ├── mul.py
    |   |   ├── power.py
    |   |   └── union.py
    |   ├── ordinals.py
    |   ├── powerset.py
    |   ├── setexpr.py
    |   ├── sets.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_conditionset.py
    |       ├── test_contains.py
    |       ├── test_fancysets.py
    |       ├── test_ordinals.py
    |       ├── test_powerset.py
    |       ├── test_setexpr.py
    |       └── test_sets.py
    ├── simplify
    |   ├── __init__.py
    |   ├── combsimp.py
    |   ├── cse_main.py
    |   ├── cse_opts.py
    |   ├── epathtools.py
    |   ├── fu.py
    |   ├── gammasimp.py
    |   ├── hyperexpand.py
    |   ├── hyperexpand_doc.py
    |   ├── powsimp.py
    |   ├── radsimp.py
    |   ├── ratsimp.py
    |   ├── simplify.py
    |   ├── sqrtdenest.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_combsimp.py
    |   |   ├── test_cse.py
    |   |   ├── test_epathtools.py
    |   |   ├── test_fu.py
    |   |   ├── test_function.py
    |   |   ├── test_gammasimp.py
    |   |   ├── test_hyperexpand.py
    |   |   ├── test_powsimp.py
    |   |   ├── test_radsimp.py
    |   |   ├── test_ratsimp.py
    |   |   ├── test_rewrite.py
    |   |   ├── test_simplify.py
    |   |   ├── test_sqrtdenest.py
    |   |   └── test_trigsimp.py
    |   ├── traversaltools.py
    |   └── trigsimp.py
    ├── solvers
    |   ├── __init__.py
    |   ├── benchmarks
    |   |   ├── __init__.py
    |   |   └── bench_solvers.py
    |   ├── bivariate.py
    |   ├── decompogen.py
    |   ├── deutils.py
    |   ├── diophantine
    |   |   ├── __init__.py
    |   |   ├── diophantine.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       └── test_diophantine.py
    |   ├── inequalities.py
    |   ├── ode
    |   |   ├── __init__.py
    |   |   ├── hypergeometric.py
    |   |   ├── lie_group.py
    |   |   ├── nonhomogeneous.py
    |   |   ├── ode.py
    |   |   ├── riccati.py
    |   |   ├── single.py
    |   |   ├── subscheck.py
    |   |   ├── systems.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_lie_group.py
    |   |       ├── test_ode.py
    |   |       ├── test_riccati.py
    |   |       ├── test_single.py
    |   |       ├── test_subscheck.py
    |   |       └── test_systems.py
    |   ├── pde.py
    |   ├── polysys.py
    |   ├── recurr.py
    |   ├── solvers.py
    |   ├── solveset.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_constantsimp.py
    |       ├── test_decompogen.py
    |       ├── test_inequalities.py
    |       ├── test_numeric.py
    |       ├── test_pde.py
    |       ├── test_polysys.py
    |       ├── test_recurr.py
    |       ├── test_solvers.py
    |       └── test_solveset.py
    ├── stats
    |   ├── __init__.py
    |   ├── compound_rv.py
    |   ├── crv.py
    |   ├── crv_types.py
    |   ├── drv.py
    |   ├── drv_types.py
    |   ├── error_prop.py
    |   ├── frv.py
    |   ├── frv_types.py
    |   ├── joint_rv.py
    |   ├── joint_rv_types.py
    |   ├── matrix_distributions.py
    |   ├── random_matrix.py
    |   ├── random_matrix_models.py
    |   ├── rv.py
    |   ├── rv_interface.py
    |   ├── sampling
    |   |   ├── __init__.py
    |   |   ├── sample_numpy.py
    |   |   ├── sample_pymc3.py
    |   |   ├── sample_scipy.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_sample_continuous_rv.py
    |   |       ├── test_sample_discrete_rv.py
    |   |       └── test_sample_finite_rv.py
    |   ├── stochastic_process.py
    |   ├── stochastic_process_types.py
    |   ├── symbolic_multivariate_probability.py
    |   ├── symbolic_probability.py
    |   └── tests
    |       ├── __init__.py
    |       ├── test_compound_rv.py
    |       ├── test_continuous_rv.py
    |       ├── test_discrete_rv.py
    |       ├── test_error_prop.py
    |       ├── test_finite_rv.py
    |       ├── test_joint_rv.py
    |       ├── test_matrix_distributions.py
    |       ├── test_mix.py
    |       ├── test_random_matrix.py
    |       ├── test_rv.py
    |       ├── test_stochastic_process.py
    |       ├── test_symbolic_multivariate.py
    |       └── test_symbolic_probability.py
    ├── strategies
    |   ├── __init__.py
    |   ├── branch
    |   |   ├── __init__.py
    |   |   ├── core.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   ├── test_core.py
    |   |   |   ├── test_tools.py
    |   |   |   └── test_traverse.py
    |   |   ├── tools.py
    |   |   └── traverse.py
    |   ├── core.py
    |   ├── rl.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_core.py
    |   |   ├── test_rl.py
    |   |   ├── test_strat.py
    |   |   ├── test_tools.py
    |   |   ├── test_traverse.py
    |   |   └── test_tree.py
    |   ├── tools.py
    |   ├── traverse.py
    |   ├── tree.py
    |   └── util.py
    ├── tensor
    |   ├── __init__.py
    |   ├── array
    |   |   ├── __init__.py
    |   |   ├── array_comprehension.py
    |   |   ├── array_derivatives.py
    |   |   ├── arrayop.py
    |   |   ├── dense_ndim_array.py
    |   |   ├── expressions
    |   |   |   ├── __init__.py
    |   |   |   ├── array_expressions.py
    |   |   |   ├── arrayexpr_derivatives.py
    |   |   |   ├── conv_array_to_matrix.py
    |   |   |   ├── conv_indexed_to_array.py
    |   |   |   ├── conv_matrix_to_array.py
    |   |   |   ├── tests
    |   |   |   └── utils.py
    |   |   ├── mutable_ndim_array.py
    |   |   ├── ndim_array.py
    |   |   ├── sparse_ndim_array.py
    |   |   └── tests
    |   |       ├── __init__.py
    |   |       ├── test_array_comprehension.py
    |   |       ├── test_array_derivatives.py
    |   |       ├── test_arrayop.py
    |   |       ├── test_immutable_ndim_array.py
    |   |       ├── test_mutable_ndim_array.py
    |   |       ├── test_ndim_array.py
    |   |       └── test_ndim_array_conversions.py
    |   ├── functions.py
    |   ├── index_methods.py
    |   ├── indexed.py
    |   ├── tensor.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_functions.py
    |   |   ├── test_index_methods.py
    |   |   ├── test_indexed.py
    |   |   ├── test_tensor.py
    |   |   ├── test_tensor_element.py
    |   |   └── test_tensor_operators.py
    |   └── toperators.py
    ├── testing
    |   ├── __init__.py
    |   ├── benchmarking.py
    |   ├── matrices.py
    |   ├── pytest.py
    |   ├── quality_unicode.py
    |   ├── randtest.py
    |   ├── runtests.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── diagnose_imports.py
    |   |   ├── test_code_quality.py
    |   |   ├── test_module_imports.py
    |   |   └── test_pytest.py
    |   └── tmpfiles.py
    ├── this.py
    ├── unify
    |   ├── __init__.py
    |   ├── core.py
    |   ├── rewrite.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_rewrite.py
    |   |   ├── test_sympy.py
    |   |   └── test_unify.py
    |   └── usympy.py
    ├── utilities
    |   ├── __init__.py
    |   ├── _compilation
    |   |   ├── __init__.py
    |   |   ├── availability.py
    |   |   ├── compilation.py
    |   |   ├── runners.py
    |   |   ├── tests
    |   |   |   ├── __init__.py
    |   |   |   └── test_compilation.py
    |   |   └── util.py
    |   ├── autowrap.py
    |   ├── benchmarking.py
    |   ├── codegen.py
    |   ├── decorator.py
    |   ├── enumerative.py
    |   ├── exceptions.py
    |   ├── iterables.py
    |   ├── lambdify.py
    |   ├── magic.py
    |   ├── matchpy_connector.py
    |   ├── mathml
    |   |   ├── __init__.py
    |   |   └── data
    |   ├── memoization.py
    |   ├── misc.py
    |   ├── pkgdata.py
    |   ├── pytest.py
    |   ├── quality_unicode.py
    |   ├── randtest.py
    |   ├── runtests.py
    |   ├── source.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── test_autowrap.py
    |   |   ├── test_codegen.py
    |   |   ├── test_codegen_julia.py
    |   |   ├── test_codegen_octave.py
    |   |   ├── test_codegen_rust.py
    |   |   ├── test_decorator.py
    |   |   ├── test_deprecated.py
    |   |   ├── test_enumerative.py
    |   |   ├── test_iterables.py
    |   |   ├── test_lambdify.py
    |   |   ├── test_matchpy_connector.py
    |   |   ├── test_misc.py
    |   |   ├── test_pickling.py
    |   |   ├── test_source.py
    |   |   ├── test_timeutils.py
    |   |   └── test_wester.py
    |   ├── timeutils.py
    |   └── tmpfiles.py
    └── vector
        ├── __init__.py
        ├── basisdependent.py
        ├── coordsysrect.py
        ├── deloperator.py
        ├── dyadic.py
        ├── functions.py
        ├── implicitregion.py
        ├── integrals.py
        ├── operators.py
        ├── orienters.py
        ├── parametricregion.py
        ├── point.py
        ├── scalar.py
        ├── tests
        |   ├── __init__.py
        |   ├── test_coordsysrect.py
        |   ├── test_dyadic.py
        |   ├── test_field_functions.py
        |   ├── test_functions.py
        |   ├── test_implicitregion.py
        |   ├── test_integrals.py
        |   ├── test_operators.py
        |   ├── test_parametricregion.py
        |   ├── test_printing.py
        |   └── test_vector.py
        └── vector.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: simpify gives `Imaginary coordinates are not permitted.` with evaluate(False)

Description: ## Issue
`with evaluate(False)` crashes unexpectedly with `Point2D`

## Code
```python
import sympy as sp
with sp.evaluate(False):
  sp.S('Point2D(Integer(1),Integer(2))')
```

## Error
```
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/core/sympify.py", line 472, in sympify
    expr = parse_expr(a, local_dict=locals, transformations=transformations, evaluate=evaluate)
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/parsing/sympy_parser.py", line 1026, in parse_expr
    raise e from ValueError(f"Error from parse_expr with transformed code: {code!r}")
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/parsing/sympy_parser.py", line 1017, in parse_expr
    rv = eval_expr(code, local_dict, global_dict)
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/parsing/sympy_parser.py", line 911, in eval_expr
    expr = eval(
  File "<string>", line 1, in <module>
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/geometry/point.py", line 912, in __new__
    args = Point(*args, **kwargs)
  File "/home/avinash/.local/lib/python3.8/site-packages/sympy/geometry/point.py", line 153, in __new__
    raise ValueError('Imaginary coordinates are not permitted.')
ValueError: Imaginary coordinates are not permitted.
```

However, it works without `with evaluate(False)`. Both of following commands work
```python
sp.S('Point2D(Integer(1),Integer(2))')
sp.S('Point2D(Integer(1),Integer(2))', evaluate=False)
```

Patch information:
diff --git a/sympy/geometry/point.py b/sympy/geometry/point.py
index 73c20334d0..c145e1ba58 100644
--- a/sympy/geometry/point.py
+++ b/sympy/geometry/point.py
@@ -152,7 +152,7 @@ def __new__(cls, *args, **kwargs):
                         'warn' or 'ignore'.'''))
         if any(coords[dim:]):
             raise ValueError('Nonzero coordinates cannot be removed.')
-        if any(a.is_number and im(a) for a in coords):
+        if any(a.is_number and not a.is_extended_real for a in coords):
             raise ValueError('Imaginary coordinates are not permitted.')
         if not all(isinstance(a, Expr) for a in coords):
             raise TypeError('Coordinates must be valid SymPy expressions.')


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of the file sympy/geometry/tests/test_point.py.
Extra Requirements: 
Purpose: I need this file to find relevant test cases for the reported bug concerning `Point2D` and imaginary coordinates.

Previous refined query 2:
Essential Query: Please provide the full content of the file sympy/parsing/tests/test_sympy_parser.py.
Extra Requirements: 
Purpose: I need this file to find test cases that involve string parsing to create SymPy objects with `evaluate=False`, which is the scenario described in the bug report.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: sympy/geometry/tests/test_point.py
Line number range: 1 - 473
Content:
1. from sympy.core.basic import Basic
2. from sympy.core.numbers import (I, Rational, pi)
3. from sympy.core.singleton import S
4. from sympy.core.symbol import Symbol
5. from sympy.core.sympify import sympify
6. from sympy.functions.elementary.miscellaneous import sqrt
7. from sympy.geometry import Line, Point, Point2D, Point3D, Line3D, Plane
8. from sympy.geometry.entity import rotate, scale, translate, GeometryEntity
9. from sympy.matrices import Matrix
10. from sympy.utilities.iterables import subsets, permutations, cartes
11. from sympy.utilities.misc import Undecidable
12. from sympy.testing.pytest import raises, warns
13. 
14. 
15. def test_point():
16.     x = Symbol('x', real=True)
17.     y = Symbol('y', real=True)
18.     x1 = Symbol('x1', real=True)
19.     x2 = Symbol('x2', real=True)
20.     y1 = Symbol('y1', real=True)
21.     y2 = Symbol('y2', real=True)
22.     half = S.Half
23.     p1 = Point(x1, x2)
24.     p2 = Point(y1, y2)
25.     p3 = Point(0, 0)
26.     p4 = Point(1, 1)
27.     p5 = Point(0, 1)
28.     line = Line(Point(1, 0), slope=1)
29. 
30.     assert p1 in p1
31.     assert p1 not in p2
32.     assert p2.y == y2
33.     assert (p3 + p4) == p4
34.     assert (p2 - p1) == Point(y1 - x1, y2 - x2)
35.     assert -p2 == Point(-y1, -y2)
36.     raises(TypeError, lambda: Point(1))
37.     raises(ValueError, lambda: Point([1]))
38.     raises(ValueError, lambda: Point(3, I))
39.     raises(ValueError, lambda: Point(2*I, I))
40.     raises(ValueError, lambda: Point(3 + I, I))
41. 
42.     assert Point(34.05, sqrt(3)) == Point(Rational(681, 20), sqrt(3))
43.     assert Point.midpoint(p3, p4) == Point(half, half)
44.     assert Point.midpoint(p1, p4) == Point(half + half*x1, half + half*x2)
45.     assert Point.midpoint(p2, p2) == p2
46.     assert p2.midpoint(p2) == p2
47.     assert p1.origin == Point(0, 0)
48. 
49.     assert Point.distance(p3, p4) == sqrt(2)
50.     assert Point.distance(p1, p1) == 0
51.     assert Point.distance(p3, p2) == sqrt(p2.x**2 + p2.y**2)
52.     raises(TypeError, lambda: Point.distance(p1, 0))
53.     raises(TypeError, lambda: Point.distance(p1, GeometryEntity()))
54. 
55.     # distance should be symmetric
56.     assert p1.distance(line) == line.distance(p1)
57.     assert p4.distance(line) == line.distance(p4)
58. 
59.     assert Point.taxicab_distance(p4, p3) == 2
60. 
61.     assert Point.canberra_distance(p4, p5) == 1
62.     raises(ValueError, lambda: Point.canberra_distance(p3, p3))
63. 
64.     p1_1 = Point(x1, x1)
65.     p1_2 = Point(y2, y2)
66.     p1_3 = Point(x1 + 1, x1)
67.     assert Point.is_collinear(p3)
68. 
69.     with warns(UserWarning):
70.         assert Point.is_collinear(p3, Point(p3, dim=4))
71.     assert p3.is_collinear()
72.     assert Point.is_collinear(p3, p4)
73.     assert Point.is_collinear(p3, p4, p1_1, p1_2)
74.     assert Point.is_collinear(p3, p4, p1_1, p1_3) is False
75.     assert Point.is_collinear(p3, p3, p4, p5) is False
76. 
77.     raises(TypeError, lambda: Point.is_collinear(line))
78.     raises(TypeError, lambda: p1_1.is_collinear(line))
79. 
80.     assert p3.intersection(Point(0, 0)) == [p3]
81.     assert p3.intersection(p4) == []
82.     assert p3.intersection(line) == []
83.     assert Point.intersection(Point(0, 0, 0), Point(0, 0)) == [Point(0, 0, 0)]
84. 
85.     x_pos = Symbol('x', positive=True)
86.     p2_1 = Point(x_pos, 0)
87.     p2_2 = Point(0, x_pos)
88.     p2_3 = Point(-x_pos, 0)
89.     p2_4 = Point(0, -x_pos)
90.     p2_5 = Point(x_pos, 5)
91.     assert Point.is_concyclic(p2_1)
92.     assert Point.is_concyclic(p2_1, p2_2)
93.     assert Point.is_concyclic(p2_1, p2_2, p2_3, p2_4)
94.     for pts in permutations((p2_1, p2_2, p2_3, p2_5)):
95.         assert Point.is_concyclic(*pts) is False
96.     assert Point.is_concyclic(p4, p4 * 2, p4 * 3) is False
97.     assert Point(0, 0).is_concyclic((1, 1), (2, 2), (2, 1)) is False
98.     assert Point.is_concyclic(Point(0, 0, 0, 0), Point(1, 0, 0, 0), Point(1, 1, 0, 0), Point(1, 1, 1, 0)) is False
99. 
100.     assert p1.is_scalar_multiple(p1)
101.     assert p1.is_scalar_multiple(2*p1)
102.     assert not p1.is_scalar_multiple(p2)
103.     assert Point.is_scalar_multiple(Point(1, 1), (-1, -1))
104.     assert Point.is_scalar_multiple(Point(0, 0), (0, -1))
105.     # test when is_scalar_multiple can't be determined
106.     raises(Undecidable, lambda: Point.is_scalar_multiple(Point(sympify("x1%y1"), sympify("x2%y2")), Point(0, 1)))
107. 
108.     assert Point(0, 1).orthogonal_direction == Point(1, 0)
109.     assert Point(1, 0).orthogonal_direction == Point(0, 1)
110. 
111.     assert p1.is_zero is None
112.     assert p3.is_zero
113.     assert p4.is_zero is False
114.     assert p1.is_nonzero is None
115.     assert p3.is_nonzero is False
116.     assert p4.is_nonzero
117. 
118.     assert p4.scale(2, 3) == Point(2, 3)
119.     assert p3.scale(2, 3) == p3
120. 
121.     assert p4.rotate(pi, Point(0.5, 0.5)) == p3
122.     assert p1.__radd__(p2) == p1.midpoint(p2).scale(2, 2)
123.     assert (-p3).__rsub__(p4) == p3.midpoint(p4).scale(2, 2)
124. 
125.     assert p4 * 5 == Point(5, 5)
126.     assert p4 / 5 == Point(0.2, 0.2)
127.     assert 5 * p4 == Point(5, 5)
128. 
129.     raises(ValueError, lambda: Point(0, 0) + 10)
130. 
131.     # Point differences should be simplified
132.     assert Point(x*(x - 1), y) - Point(x**2 - x, y + 1) == Point(0, -1)
133. 
134.     a, b = S.Half, Rational(1, 3)
135.     assert Point(a, b).evalf(2) == \
136.         Point(a.n(2), b.n(2), evaluate=False)
137.     raises(ValueError, lambda: Point(1, 2) + 1)
138. 
139.     # test project
140.     assert Point.project((0, 1), (1, 0)) == Point(0, 0)
141.     assert Point.project((1, 1), (1, 0)) == Point(1, 0)
142.     raises(ValueError, lambda: Point.project(p1, Point(0, 0)))
143. 
144.     # test transformations
145.     p = Point(1, 0)
146.     assert p.rotate(pi/2) == Point(0, 1)
147.     assert p.rotate(pi/2, p) == p
148.     p = Point(1, 1)
149.     assert p.scale(2, 3) == Point(2, 3)
150.     assert p.translate(1, 2) == Point(2, 3)
151.     assert p.translate(1) == Point(2, 1)
152.     assert p.translate(y=1) == Point(1, 2)
153.     assert p.translate(*p.args) == Point(2, 2)
154. 
155.     # Check invalid input for transform
156.     raises(ValueError, lambda: p3.transform(p3))
157.     raises(ValueError, lambda: p.transform(Matrix([[1, 0], [0, 1]])))
158. 
159.     # test __contains__
160.     assert 0 in Point(0, 0, 0, 0)
161.     assert 1 not in Point(0, 0, 0, 0)
162. 
163.     # test affine_rank
164.     assert Point.affine_rank() == -1
165. 
166. 
167. def test_point3D():
168.     x = Symbol('x', real=True)
169.     y = Symbol('y', real=True)
170.     x1 = Symbol('x1', real=True)
171.     x2 = Symbol('x2', real=True)
172.     x3 = Symbol('x3', real=True)
173.     y1 = Symbol('y1', real=True)
174.     y2 = Symbol('y2', real=True)
175.     y3 = Symbol('y3', real=True)
176.     half = S.Half
177.     p1 = Point3D(x1, x2, x3)
178.     p2 = Point3D(y1, y2, y3)
179.     p3 = Point3D(0, 0, 0)
180.     p4 = Point3D(1, 1, 1)
181.     p5 = Point3D(0, 1, 2)
182. 
183.     assert p1 in p1
184.     assert p1 not in p2
185.     assert p2.y == y2
186.     assert (p3 + p4) == p4
187.     assert (p2 - p1) == Point3D(y1 - x1, y2 - x2, y3 - x3)
188.     assert -p2 == Point3D(-y1, -y2, -y3)
189. 
190.     assert Point(34.05, sqrt(3)) == Point(Rational(681, 20), sqrt(3))
191.     assert Point3D.midpoint(p3, p4) == Point3D(half, half, half)
192.     assert Point3D.midpoint(p1, p4) == Point3D(half + half*x1, half + half*x2,
193.                                          half + half*x3)
194.     assert Point3D.midpoint(p2, p2) == p2
195.     assert p2.midpoint(p2) == p2
196. 
197.     assert Point3D.distance(p3, p4) == sqrt(3)
198.     assert Point3D.distance(p1, p1) == 0
199.     assert Point3D.distance(p3, p2) == sqrt(p2.x**2 + p2.y**2 + p2.z**2)
200. 
201.     p1_1 = Point3D(x1, x1, x1)
202.     p1_2 = Point3D(y2, y2, y2)
203.     p1_3 = Point3D(x1 + 1, x1, x1)
204.     Point3D.are_collinear(p3)
205.     assert Point3D.are_collinear(p3, p4)
206.     assert Point3D.are_collinear(p3, p4, p1_1, p1_2)
207.     assert Point3D.are_collinear(p3, p4, p1_1, p1_3) is False
208.     assert Point3D.are_collinear(p3, p3, p4, p5) is False
209. 
210.     assert p3.intersection(Point3D(0, 0, 0)) == [p3]
211.     assert p3.intersection(p4) == []
212. 
213. 
214.     assert p4 * 5 == Point3D(5, 5, 5)
215.     assert p4 / 5 == Point3D(0.2, 0.2, 0.2)
216.     assert 5 * p4 == Point3D(5, 5, 5)
217. 
218.     raises(ValueError, lambda: Point3D(0, 0, 0) + 10)
219. 
220.     # Test coordinate properties
221.     assert p1.coordinates == (x1, x2, x3)
222.     assert p2.coordinates == (y1, y2, y3)
223.     assert p3.coordinates == (0, 0, 0)
224.     assert p4.coordinates == (1, 1, 1)
225.     assert p5.coordinates == (0, 1, 2)
226.     assert p5.x == 0
227.     assert p5.y == 1
228.     assert p5.z == 2
229. 
230.     # Point differences should be simplified
231.     assert Point3D(x*(x - 1), y, 2) - Point3D(x**2 - x, y + 1, 1) == \
232.         Point3D(0, -1, 1)
233. 
234.     a, b, c = S.Half, Rational(1, 3), Rational(1, 4)
235.     assert Point3D(a, b, c).evalf(2) == \
236.         Point(a.n(2), b.n(2), c.n(2), evaluate=False)
237.     raises(ValueError, lambda: Point3D(1, 2, 3) + 1)
238. 
239.     # test transformations
240.     p = Point3D(1, 1, 1)
241.     assert p.scale(2, 3) == Point3D(2, 3, 1)
242.     assert p.translate(1, 2) == Point3D(2, 3, 1)
243.     assert p.translate(1) == Point3D(2, 1, 1)
244.     assert p.translate(z=1) == Point3D(1, 1, 2)
245.     assert p.translate(*p.args) == Point3D(2, 2, 2)
246. 
247.     # Test __new__
248.     assert Point3D(0.1, 0.2, evaluate=False, on_morph='ignore').args[0].is_Float
249. 
250.     # Test length property returns correctly
251.     assert p.length == 0
252.     assert p1_1.length == 0
253.     assert p1_2.length == 0
254. 
255.     # Test are_colinear type error
256.     raises(TypeError, lambda: Point3D.are_collinear(p, x))
257. 
258.     # Test are_coplanar
259.     assert Point.are_coplanar()
260.     assert Point.are_coplanar((1, 2, 0), (1, 2, 0), (1, 3, 0))
261.     assert Point.are_coplanar((1, 2, 0), (1, 2, 3))
262.     with warns(UserWarning):
263.         raises(ValueError, lambda: Point2D.are_coplanar((1, 2), (1, 2, 3)))
264.     assert Point3D.are_coplanar((1, 2, 0), (1, 2, 3))
265.     assert Point.are_coplanar((0, 0, 0), (1, 1, 0), (1, 1, 1), (1, 2, 1)) is False
266.     planar2 = Point3D(1, -1, 1)
267.     planar3 = Point3D(-1, 1, 1)
268.     assert Point3D.are_coplanar(p, planar2, planar3) == True
269.     assert Point3D.are_coplanar(p, planar2, planar3, p3) == False
270.     assert Point.are_coplanar(p, planar2)
271.     planar2 = Point3D(1, 1, 2)
272.     planar3 = Point3D(1, 1, 3)
273.     assert Point3D.are_coplanar(p, planar2, planar3)  # line, not plane
274.     plane = Plane((1, 2, 1), (2, 1, 0), (3, 1, 2))
275.     assert Point.are_coplanar(*[plane.projection(((-1)**i, i)) for i in range(4)])
276. 
277.     # all 2D points are coplanar
278.     assert Point.are_coplanar(Point(x, y), Point(x, x + y), Point(y, x + 2)) is True
279. 
280.     # Test Intersection
281.     assert planar2.intersection(Line3D(p, planar3)) == [Point3D(1, 1, 2)]
282. 
283.     # Test Scale
284.     assert planar2.scale(1, 1, 1) == planar2
285.     assert planar2.scale(2, 2, 2, planar3) == Point3D(1, 1, 1)
286.     assert planar2.scale(1, 1, 1, p3) == planar2
287. 
288.     # Test Transform
289.     identity = Matrix([[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]])
290.     assert p.transform(identity) == p
291.     trans = Matrix([[1, 0, 0, 1], [0, 1, 0, 1], [0, 0, 1, 1], [0, 0, 0, 1]])
292.     assert p.transform(trans) == Point3D(2, 2, 2)
293.     raises(ValueError, lambda: p.transform(p))
294.     raises(ValueError, lambda: p.transform(Matrix([[1, 0], [0, 1]])))
295. 
296.     # Test Equals
297.     assert p.equals(x1) == False
298. 
299.     # Test __sub__
300.     p_4d = Point(0, 0, 0, 1)
301.     with warns(UserWarning):
302.         assert p - p_4d == Point(1, 1, 1, -1)
303.     p_4d3d = Point(0, 0, 1, 0)
304.     with warns(UserWarning):
305.         assert p - p_4d3d == Point(1, 1, 0, 0)
306. 
307. 
308. def test_Point2D():
309. 
310.     # Test Distance
311.     p1 = Point2D(1, 5)
312.     p2 = Point2D(4, 2.5)
313.     p3 = (6, 3)
314.     assert p1.distance(p2) == sqrt(61)/2
315.     assert p2.distance(p3) == sqrt(17)/2
316. 
317.     # Test coordinates
318.     assert p1.x == 1
319.     assert p1.y == 5
320.     assert p2.x == 4
321.     assert p2.y == 2.5
322.     assert p1.coordinates == (1, 5)
323.     assert p2.coordinates == (4, 2.5)
324. 
325.     # test bounds
326.     assert p1.bounds == (1, 5, 1, 5)
327. 
328. def test_issue_9214():
329.     p1 = Point3D(4, -2, 6)
330.     p2 = Point3D(1, 2, 3)
331.     p3 = Point3D(7, 2, 3)
332. 
333.     assert Point3D.are_collinear(p1, p2, p3) is False
334. 
335. 
336. def test_issue_11617():
337.     p1 = Point3D(1,0,2)
338.     p2 = Point2D(2,0)
339. 
340.     with warns(UserWarning):
341.         assert p1.distance(p2) == sqrt(5)
342. 
343. 
344. def test_transform():
345.     p = Point(1, 1)
346.     assert p.transform(rotate(pi/2)) == Point(-1, 1)
347.     assert p.transform(scale(3, 2)) == Point(3, 2)
348.     assert p.transform(translate(1, 2)) == Point(2, 3)
349.     assert Point(1, 1).scale(2, 3, (4, 5)) == \
350.         Point(-2, -7)
351.     assert Point(1, 1).translate(4, 5) == \
352.         Point(5, 6)
353. 
354. 
355. def test_concyclic_doctest_bug():
356.     p1, p2 = Point(-1, 0), Point(1, 0)
357.     p3, p4 = Point(0, 1), Point(-1, 2)
358.     assert Point.is_concyclic(p1, p2, p3)
359.     assert not Point.is_concyclic(p1, p2, p3, p4)
360. 
361. 
362. def test_arguments():
363.     """Functions accepting `Point` objects in `geometry`
364.     should also accept tuples and lists and
365.     automatically convert them to points."""
366. 
367.     singles2d = ((1,2), [1,2], Point(1,2))
368.     singles2d2 = ((1,3), [1,3], Point(1,3))
369.     doubles2d = cartes(singles2d, singles2d2)
370.     p2d = Point2D(1,2)
371.     singles3d = ((1,2,3), [1,2,3], Point(1,2,3))
372.     doubles3d = subsets(singles3d, 2)
373.     p3d = Point3D(1,2,3)
374.     singles4d = ((1,2,3,4), [1,2,3,4], Point(1,2,3,4))
375.     doubles4d = subsets(singles4d, 2)
376.     p4d = Point(1,2,3,4)
377. 
378.     # test 2D
379.     test_single = ['distance', 'is_scalar_multiple', 'taxicab_distance', 'midpoint', 'intersection', 'dot', 'equals', '__add__', '__sub__']
380.     test_double = ['is_concyclic', 'is_collinear']
381.     for p in singles2d:
382.         Point2D(p)
383.     for func in test_single:
384.         for p in singles2d:
385.             getattr(p2d, func)(p)
386.     for func in test_double:
387.         for p in doubles2d:
388.             getattr(p2d, func)(*p)
389. 
390.     # test 3D
391.     test_double = ['is_collinear']
392.     for p in singles3d:
393.         Point3D(p)
394.     for func in test_single:
395.         for p in singles3d:
396.             getattr(p3d, func)(p)
397.     for func in test_double:
398.         for p in doubles3d:
399.             getattr(p3d, func)(*p)
400. 
401.     # test 4D
402.     test_double = ['is_collinear']
403.     for p in singles4d:
404.         Point(p)
405.     for func in test_single:
406.         for p in singles4d:
407.             getattr(p4d, func)(p)
408.     for func in test_double:
409.         for p in doubles4d:
410.             getattr(p4d, func)(*p)
411. 
412.     # test evaluate=False for ops
413.     x = Symbol('x')
414.     a = Point(0, 1)
415.     assert a + (0.1, x) == Point(0.1, 1 + x, evaluate=False)
416.     a = Point(0, 1)
417.     assert a/10.0 == Point(0, 0.1, evaluate=False)
418.     a = Point(0, 1)
419.     assert a*10.0 == Point(0.0, 10.0, evaluate=False)
420. 
421.     # test evaluate=False when changing dimensions
422.     u = Point(.1, .2, evaluate=False)
423.     u4 = Point(u, dim=4, on_morph='ignore')
424.     assert u4.args == (.1, .2, 0, 0)
425.     assert all(i.is_Float for i in u4.args[:2])
426.     # and even when *not* changing dimensions
427.     assert all(i.is_Float for i in Point(u).args)
428. 
429.     # never raise error if creating an origin
430.     assert Point(dim=3, on_morph='error')
431. 
432.     # raise error with unmatched dimension
433.     raises(ValueError, lambda: Point(1, 1, dim=3, on_morph='error'))
434.     # test unknown on_morph
435.     raises(ValueError, lambda: Point(1, 1, dim=3, on_morph='unknown'))
436.     # test invalid expressions
437.     raises(TypeError, lambda: Point(Basic(), Basic()))
438. 
439. def test_unit():
440.     assert Point(1, 1).unit == Point(sqrt(2)/2, sqrt(2)/2)
441. 
442. 
443. def test_dot():
444.     raises(TypeError, lambda: Point(1, 2).dot(Line((0, 0), (1, 1))))
445. 
446. 
447. def test__normalize_dimension():
448.     assert Point._normalize_dimension(Point(1, 2), Point(3, 4)) == [
449.         Point(1, 2), Point(3, 4)]
450.     assert Point._normalize_dimension(
451.         Point(1, 2), Point(3, 4, 0), on_morph='ignore') == [
452.         Point(1, 2, 0), Point(3, 4, 0)]
453. 
454. 
455. def test_direction_cosine():
456.     p1 = Point3D(0, 0, 0)
457.     p2 = Point3D(1, 1, 1)
458. 
459.     assert p1.direction_cosine(Point3D(1, 0, 0)) == [1, 0, 0]
460.     assert p1.direction_cosine(Point3D(0, 1, 0)) == [0, 1, 0]
461.     assert p1.direction_cosine(Point3D(0, 0, pi)) == [0, 0, 1]
462. 
463.     assert p1.direction_cosine(Point3D(5, 0, 0)) == [1, 0, 0]
464.     assert p1.direction_cosine(Point3D(0, sqrt(3), 0)) == [0, 1, 0]
465.     assert p1.direction_cosine(Point3D(0, 0, 5)) == [0, 0, 1]
466. 
467.     assert p1.direction_cosine(Point3D(2.4, 2.4, 0)) == [sqrt(2)/2, sqrt(2)/2, 0]
468.     assert p1.direction_cosine(Point3D(1, 1, 1)) == [sqrt(3) / 3, sqrt(3) / 3, sqrt(3) / 3]
469.     assert p1.direction_cosine(Point3D(-12, 0 -15)) == [-4*sqrt(41)/41, -5*sqrt(41)/41, 0]
470. 
471.     assert p2.direction_cosine(Point3D(0, 0, 0)) == [-sqrt(3) / 3, -sqrt(3) / 3, -sqrt(3) / 3]
472.     assert p2.direction_cosine(Point3D(1, 1, 12)) == [0, 0, 1]
473.     assert p2.direction_cosine(Point3D(12, 1, 12)) == [sqrt(2) / 2, 0, sqrt(2) / 2]


File: sympy/parsing/tests/test_sympy_parser.py
Line number range: 1 - 332
Content:
1. # -*- coding: utf-8 -*-
2. 
3. 
4. import sys
5. 
6. from sympy.assumptions import Q
7. from sympy.core import Symbol, Function, Float, Rational, Integer, I, Mul, Pow, Eq
8. from sympy.functions import exp, factorial, factorial2, sin
9. from sympy.logic import And
10. from sympy.series import Limit
11. from sympy.testing.pytest import raises, skip
12. 
13. from sympy.parsing.sympy_parser import (
14.     parse_expr, standard_transformations, rationalize, TokenError,
15.     split_symbols, implicit_multiplication, convert_equals_signs,
16.     convert_xor, function_exponentiation, lambda_notation, auto_symbol,
17.     repeated_decimals, implicit_multiplication_application,
18.     auto_number, factorial_notation, implicit_application,
19.     _transformation, T
20.     )
21. 
22. 
23. def test_sympy_parser():
24.     x = Symbol('x')
25.     inputs = {
26.         '2*x': 2 * x,
27.         '3.00': Float(3),
28.         '22/7': Rational(22, 7),
29.         '2+3j': 2 + 3*I,
30.         'exp(x)': exp(x),
31.         'x!': factorial(x),
32.         'x!!': factorial2(x),
33.         '(x + 1)! - 1': factorial(x + 1) - 1,
34.         '3.[3]': Rational(10, 3),
35.         '.0[3]': Rational(1, 30),
36.         '3.2[3]': Rational(97, 30),
37.         '1.3[12]': Rational(433, 330),
38.         '1 + 3.[3]': Rational(13, 3),
39.         '1 + .0[3]': Rational(31, 30),
40.         '1 + 3.2[3]': Rational(127, 30),
41.         '.[0011]': Rational(1, 909),
42.         '0.1[00102] + 1': Rational(366697, 333330),
43.         '1.[0191]': Rational(10190, 9999),
44.         '10!': 3628800,
45.         '-(2)': -Integer(2),
46.         '[-1, -2, 3]': [Integer(-1), Integer(-2), Integer(3)],
47.         'Symbol("x").free_symbols': x.free_symbols,
48.         "S('S(3).n(n=3)')": 3.00,
49.         'factorint(12, visual=True)': Mul(
50.             Pow(2, 2, evaluate=False),
51.             Pow(3, 1, evaluate=False),
52.             evaluate=False),
53.         'Limit(sin(x), x, 0, dir="-")': Limit(sin(x), x, 0, dir='-'),
54.         'Q.even(x)': Q.even(x),
55. 
56. 
57.     }
58.     for text, result in inputs.items():
59.         assert parse_expr(text) == result
60. 
61.     raises(TypeError, lambda:
62.         parse_expr('x', standard_transformations))
63.     raises(TypeError, lambda:
64.         parse_expr('x', transformations=lambda x,y: 1))
65.     raises(TypeError, lambda:
66.         parse_expr('x', transformations=(lambda x,y: 1,)))
67.     raises(TypeError, lambda: parse_expr('x', transformations=((),)))
68.     raises(TypeError, lambda: parse_expr('x', {}, [], []))
69.     raises(TypeError, lambda: parse_expr('x', [], [], {}))
70.     raises(TypeError, lambda: parse_expr('x', [], [], {}))
71. 
72. 
73. def test_rationalize():
74.     inputs = {
75.         '0.123': Rational(123, 1000)
76.     }
77.     transformations = standard_transformations + (rationalize,)
78.     for text, result in inputs.items():
79.         assert parse_expr(text, transformations=transformations) == result
80. 
81. 
82. def test_factorial_fail():
83.     inputs = ['x!!!', 'x!!!!', '(!)']
84. 
85. 
86.     for text in inputs:
87.         try:
88.             parse_expr(text)
89.             assert False
90.         except TokenError:
91.             assert True
92. 
93. 
94. def test_repeated_fail():
95.     inputs = ['1[1]', '.1e1[1]', '0x1[1]', '1.1j[1]', '1.1[1 + 1]',
96.         '0.1[[1]]', '0x1.1[1]']
97. 
98. 
99.     # All are valid Python, so only raise TypeError for invalid indexing
100.     for text in inputs:
101.         raises(TypeError, lambda: parse_expr(text))
102. 
103. 
104.     inputs = ['0.1[', '0.1[1', '0.1[]']
105.     for text in inputs:
106.         raises((TokenError, SyntaxError), lambda: parse_expr(text))
107. 
108. 
109. def test_repeated_dot_only():
110.     assert parse_expr('.[1]') == Rational(1, 9)
111.     assert parse_expr('1 + .[1]') == Rational(10, 9)
112. 
113. 
114. def test_local_dict():
115.     local_dict = {
116.         'my_function': lambda x: x + 2
117.     }
118.     inputs = {
119.         'my_function(2)': Integer(4)
120.     }
121.     for text, result in inputs.items():
122.         assert parse_expr(text, local_dict=local_dict) == result
123. 
124. 
125. def test_local_dict_split_implmult():
126.     t = standard_transformations + (split_symbols, implicit_multiplication,)
127.     w = Symbol('w', real=True)
128.     y = Symbol('y')
129.     assert parse_expr('yx', local_dict={'x':w}, transformations=t) == y*w
130. 
131. 
132. def test_local_dict_symbol_to_fcn():
133.     x = Symbol('x')
134.     d = {'foo': Function('bar')}
135.     assert parse_expr('foo(x)', local_dict=d) == d['foo'](x)
136.     d = {'foo': Symbol('baz')}
137.     raises(TypeError, lambda: parse_expr('foo(x)', local_dict=d))
138. 
139. 
140. def test_global_dict():
141.     global_dict = {
142.         'Symbol': Symbol
143.     }
144.     inputs = {
145.         'Q & S': And(Symbol('Q'), Symbol('S'))
146.     }
147.     for text, result in inputs.items():
148.         assert parse_expr(text, global_dict=global_dict) == result
149. 
150. 
151. def test_issue_2515():
152.     raises(TokenError, lambda: parse_expr('(()'))
153.     raises(TokenError, lambda: parse_expr('"""'))
154. 
155. 
156. def test_issue_7663():
157.     x = Symbol('x')
158.     e = '2*(x+1)'
159.     assert parse_expr(e, evaluate=0) == parse_expr(e, evaluate=False)
160.     assert parse_expr(e, evaluate=0).equals(2*(x+1))
161. 
162. def test_recursive_evaluate_false_10560():
163.     inputs = {
164.         '4*-3' : '4*-3',
165.         '-4*3' : '(-4)*3',
166.         "-2*x*y": '(-2)*x*y',
167.         "x*-4*x": "x*(-4)*x"
168.     }
169.     for text, result in inputs.items():
170.         assert parse_expr(text, evaluate=False) == parse_expr(result, evaluate=False)
171. 
172. 
173. def test_function_evaluate_false():
174.     inputs = [
175.         'Abs(0)', 'im(0)', 're(0)', 'sign(0)', 'arg(0)', 'conjugate(0)',
176.         'acos(0)', 'acot(0)', 'acsc(0)', 'asec(0)', 'asin(0)', 'atan(0)',
177.         'acosh(0)', 'acoth(0)', 'acsch(0)', 'asech(0)', 'asinh(0)', 'atanh(0)',
178.         'cos(0)', 'cot(0)', 'csc(0)', 'sec(0)', 'sin(0)', 'tan(0)',
179.         'cosh(0)', 'coth(0)', 'csch(0)', 'sech(0)', 'sinh(0)', 'tanh(0)',
180.         'exp(0)', 'log(0)', 'sqrt(0)',
181.     ]
182.     for case in inputs:
183.         expr = parse_expr(case, evaluate=False)
184.         assert case == str(expr) != str(expr.doit())
185.     assert str(parse_expr('ln(0)', evaluate=False)) == 'log(0)'
186.     assert str(parse_expr('cbrt(0)', evaluate=False)) == '0**(1/3)'
187. 
188. 
189. def test_issue_10773():
190.     inputs = {
191.     '-10/5': '(-10)/5',
192.     '-10/-5' : '(-10)/(-5)',
193.     }
194.     for text, result in inputs.items():
195.         assert parse_expr(text, evaluate=False) == parse_expr(result, evaluate=False)
196. 
197. 
198. def test_split_symbols():
199.     transformations = standard_transformations + \
200.                       (split_symbols, implicit_multiplication,)
201.     x = Symbol('x')
202.     y = Symbol('y')
203.     xy = Symbol('xy')
204. 
205. 
206.     assert parse_expr("xy") == xy
207.     assert parse_expr("xy", transformations=transformations) == x*y
208. 
209. 
210. def test_split_symbols_function():
211.     transformations = standard_transformations + \
212.                       (split_symbols, implicit_multiplication,)
213.     x = Symbol('x')
214.     y = Symbol('y')
215.     a = Symbol('a')
216.     f = Function('f')
217. 
218. 
219.     assert parse_expr("ay(x+1)", transformations=transformations) == a*y*(x+1)
220.     assert parse_expr("af(x+1)", transformations=transformations,
221.                       local_dict={'f':f}) == a*f(x+1)
222. 
223. 
224. def test_functional_exponent():
225.     t = standard_transformations + (convert_xor, function_exponentiation)
226.     x = Symbol('x')
227.     y = Symbol('y')
228.     a = Symbol('a')
229.     yfcn = Function('y')
230.     assert parse_expr("sin^2(x)", transformations=t) == (sin(x))**2
231.     assert parse_expr("sin^y(x)", transformations=t) == (sin(x))**y
232.     assert parse_expr("exp^y(x)", transformations=t) == (exp(x))**y
233.     assert parse_expr("E^y(x)", transformations=t) == exp(yfcn(x))
234.     assert parse_expr("a^y(x)", transformations=t) == a**(yfcn(x))
235. 
236. 
237. def test_match_parentheses_implicit_multiplication():
238.     transformations = standard_transformations + \
239.                       (implicit_multiplication,)
240.     raises(TokenError, lambda: parse_expr('(1,2),(3,4]',transformations=transformations))
241. 
242. 
243. def test_convert_equals_signs():
244.     transformations = standard_transformations + \
245.                         (convert_equals_signs, )
246.     x = Symbol('x')
247.     y = Symbol('y')
248.     assert parse_expr("1*2=x", transformations=transformations) == Eq(2, x)
249.     assert parse_expr("y = x", transformations=transformations) == Eq(y, x)
250.     assert parse_expr("(2*y = x) = False",
251.         transformations=transformations) == Eq(Eq(2*y, x), False)
252. 
253. 
254. def test_parse_function_issue_3539():
255.     x = Symbol('x')
256.     f = Function('f')
257.     assert parse_expr('f(x)') == f(x)
258. 
259. 
260. def test_split_symbols_numeric():
261.     transformations = (
262.         standard_transformations +
263.         (implicit_multiplication_application,))
264. 
265.     n = Symbol('n')
266.     expr1 = parse_expr('2**n * 3**n')
267.     expr2 = parse_expr('2**n3**n', transformations=transformations)
268.     assert expr1 == expr2 == 2**n*3**n
269. 
270.     expr1 = parse_expr('n12n34', transformations=transformations)
271.     assert expr1 == n*12*n*34
272. 
273. 
274. def test_unicode_names():
275.     assert parse_expr('α') == Symbol('α')
276. 
277. 
278. def test_python3_features():
279.     # Make sure the tokenizer can handle Python 3-only features
280.     if sys.version_info < (3, 7):
281.         skip("test_python3_features requires Python 3.7 or newer")
282. 
283. 
284.     assert parse_expr("123_456") == 123456
285.     assert parse_expr("1.2[3_4]") == parse_expr("1.2[34]") == Rational(611, 495)
286.     assert parse_expr("1.2[012_012]") == parse_expr("1.2[012012]") == Rational(400, 333)
287.     assert parse_expr('.[3_4]') == parse_expr('.[34]') == Rational(34, 99)
288.     assert parse_expr('.1[3_4]') == parse_expr('.1[34]') == Rational(133, 990)
289.     assert parse_expr('123_123.123_123[3_4]') == parse_expr('123123.123123[34]') == Rational(12189189189211, 99000000)
290. 
291. 
292. def test_issue_19501():
293.     x = Symbol('x')
294.     eq = parse_expr('E**x(1+x)', local_dict={'x': x}, transformations=(
295.         standard_transformations +
296.         (implicit_multiplication_application,)))
297.     assert eq.free_symbols == {x}
298. 
299. 
300. def test_parsing_definitions():
301.     from sympy.abc import x
302.     assert len(_transformation) == 12  # if this changes, extend below
303.     assert _transformation[0] == lambda_notation
304.     assert _transformation[1] == auto_symbol
305.     assert _transformation[2] == repeated_decimals
306.     assert _transformation[3] == auto_number
307.     assert _transformation[4] == factorial_notation
308.     assert _transformation[5] == implicit_multiplication_application
309.     assert _transformation[6] == convert_xor
310.     assert _transformation[7] == implicit_application
311.     assert _transformation[8] == implicit_multiplication
312.     assert _transformation[9] == convert_equals_signs
313.     assert _transformation[10] == function_exponentiation
314.     assert _transformation[11] == rationalize
315.     assert T[:5] == T[0,1,2,3,4] == standard_transformations
316.     t = _transformation
317.     assert T[-1, 0] == (t[len(t) - 1], t[0])
318.     assert T[:5, 8] == standard_transformations + (t[8],)
319.     assert parse_expr('0.3x^2', transformations='all') == 3*x**2/10
320.     assert parse_expr('sin 3x', transformations='implicit') == sin(3*x)
321. 
322. 
323. def test_builtins():
324.     cases = [
325.         ('abs(x)', 'Abs(x)'),
326.         ('max(x, y)', 'Max(x, y)'),
327.         ('min(x, y)', 'Min(x, y)'),
328.         ('pow(x, y)', 'Pow(x, y)'),
329.     ]
330.     for built_in_func_call, sympy_func_call in cases:
331.         assert parse_expr(built_in_func_call) == parse_expr(sympy_func_call)
332.     assert str(parse_expr('pow(38, -1, 97)')) == '23'

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-21 05:04:47,254 - thread-133746456004288.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The provided context is sufficient. I have analyzed the two files, `sympy/geometry/tests/test_point.py` and `sympy/parsing/tests/test_sympy_parser.py`, and I have found three relevant existing test cases that cover the different facets of the reported bug. One test case covers the `ValueError` for imaginary coordinates, another covers the use of `evaluate=False` in the parser, and the third covers the interaction of `Point` objects with `evaluate=False`. Therefore, I have enough information to select and present the three most relevant test cases as requested.' query='' extra_requirements='' purpose=''
2025-12-21 05:04:47,261 - thread-133746456004288.prometheus_context_collector - INFO - Successfully retrieved 2 context snippets
