2025-12-23 19:16:46,128 - thread-127432167241408.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: Use simplified paths for deconstruct of expressions

Description: Description
	
Previously F() deconstructed to: django.db.models.expressions.F(). But since it can also be imported from django.db.models, ​PR #14047 changed it to deconstruct to django.db.models.F(). This simplifies generated migration code where it will be referenced only as from django.db import models / models.F().
As Mariusz pointed out on the PR, the same technique can be applied to other expressions, further simplifying generated migrations.

Patch information:
diff --git a/django/db/models/expressions.py b/django/db/models/expressions.py
index 8642e1f151..9705863917 100644
--- a/django/db/models/expressions.py
+++ b/django/db/models/expressions.py
@@ -390,7 +390,7 @@ class BaseExpression:
         return sql, params
 
 
-@deconstructible
+@deconstructible(path='django.db.models.Expression')
 class Expression(BaseExpression, Combinable):
     """An expression that can be combined with other expressions."""
 
@@ -639,6 +639,7 @@ class ResolvedOuterRef(F):
         return []
 
 
+@deconstructible(path='django.db.models.OuterRef')
 class OuterRef(F):
     contains_aggregate = False
 
@@ -651,6 +652,7 @@ class OuterRef(F):
         return self
 
 
+@deconstructible(path='django.db.models.Func')
 class Func(SQLiteNumericMixin, Expression):
     """An SQL function call."""
     function = None
@@ -731,6 +733,7 @@ class Func(SQLiteNumericMixin, Expression):
         return copy
 
 
+@deconstructible(path='django.db.models.Value')
 class Value(SQLiteNumericMixin, Expression):
     """Represent a wrapped value as a node within an expression."""
     # Provide a default value for `for_save` in order to allow unresolved
@@ -912,6 +915,7 @@ class Ref(Expression):
         return [self]
 
 
+@deconstructible(path='django.db.models.ExpressionList')
 class ExpressionList(Func):
     """
     An expression containing multiple expressions. Can be used to provide a
@@ -953,6 +957,7 @@ class OrderByList(Func):
         return super().as_sql(*args, **kwargs)
 
 
+@deconstructible(path='django.db.models.ExpressionWrapper')
 class ExpressionWrapper(SQLiteNumericMixin, Expression):
     """
     An expression that can wrap another expression so that it can provide
@@ -985,6 +990,7 @@ class ExpressionWrapper(SQLiteNumericMixin, Expression):
         return "{}({})".format(self.__class__.__name__, self.expression)
 
 
+@deconstructible(path='django.db.models.When')
 class When(Expression):
     template = 'WHEN %(condition)s THEN %(result)s'
     # This isn't a complete conditional expression, must be used in Case().
@@ -1052,6 +1058,7 @@ class When(Expression):
         return cols
 
 
+@deconstructible(path='django.db.models.Case')
 class Case(SQLiteNumericMixin, Expression):
     """
     An SQL searched CASE expression:
@@ -1133,6 +1140,7 @@ class Case(SQLiteNumericMixin, Expression):
         return super().get_group_by_cols(alias)
 
 
+@deconstructible(path='django.db.models.Subquery')
 class Subquery(BaseExpression, Combinable):
     """
     An explicit subquery. It may contain OuterRef() references to the outer
@@ -1190,6 +1198,7 @@ class Subquery(BaseExpression, Combinable):
         return self.query.get_group_by_cols()
 
 
+@deconstructible(path='django.db.models.Exists')
 class Exists(Subquery):
     template = 'EXISTS(%(subquery)s)'
     output_field = fields.BooleanField()
@@ -1225,6 +1234,7 @@ class Exists(Subquery):
         return sql, params
 
 
+@deconstructible(path='django.db.models.OrderBy')
 class OrderBy(Expression):
     template = '%(expression)s %(ordering)s'
     conditional = False
@@ -1307,6 +1317,7 @@ class OrderBy(Expression):
         self.descending = True
 
 
+@deconstructible(path='django.db.models.Window')
 class Window(SQLiteNumericMixin, Expression):
     template = '%(expression)s OVER (%(window)s)'
     # Although the main expression may either be an aggregate or an
@@ -1412,6 +1423,7 @@ class Window(SQLiteNumericMixin, Expression):
         return []
 
 
+@deconstructible(path='django.db.models.WindowFrame')
 class WindowFrame(Expression):
     """
     Model the frame clause in window expressions. There are two types of frame
@@ -1471,6 +1483,7 @@ class WindowFrame(Expression):
         raise NotImplementedError('Subclasses must implement window_frame_start_end().')
 
 
+@deconstructible(path='django.db.models.RowRange')
 class RowRange(WindowFrame):
     frame_type = 'ROWS'
 
@@ -1478,6 +1491,7 @@ class RowRange(WindowFrame):
         return connection.ops.window_frame_rows_start_end(start, end)
 
 
+@deconstructible(path='django.db.models.ValueRange')
 class ValueRange(WindowFrame):
     frame_type = 'RANGE'
 


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-12-23 19:16:46,545 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       └── legend_test.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Use simplified paths for deconstruct of expressions

Description: Description
	
Previously F() deconstructed to: django.db.models.expressions.F(). But since it can also be imported from django.db.models, ​PR #14047 changed it to deconstruct to django.db.models.F(). This simplifies generated migration code where it will be referenced only as from django.db import models / models.F().
As Mariusz pointed out on the PR, the same technique can be applied to other expressions, further simplifying generated migrations.

Patch information:
diff --git a/django/db/models/expressions.py b/django/db/models/expressions.py
index 8642e1f151..9705863917 100644
--- a/django/db/models/expressions.py
+++ b/django/db/models/expressions.py
@@ -390,7 +390,7 @@ class BaseExpression:
         return sql, params
 
 
-@deconstructible
+@deconstructible(path='django.db.models.Expression')
 class Expression(BaseExpression, Combinable):
     """An expression that can be combined with other expressions."""
 
@@ -639,6 +639,7 @@ class ResolvedOuterRef(F):
         return []
 
 
+@deconstructible(path='django.db.models.OuterRef')
 class OuterRef(F):
     contains_aggregate = False
 
@@ -651,6 +652,7 @@ class OuterRef(F):
         return self
 
 
+@deconstructible(path='django.db.models.Func')
 class Func(SQLiteNumericMixin, Expression):
     """An SQL function call."""
     function = None
@@ -731,6 +733,7 @@ class Func(SQLiteNumericMixin, Expression):
         return copy
 
 
+@deconstructible(path='django.db.models.Value')
 class Value(SQLiteNumericMixin, Expression):
     """Represent a wrapped value as a node within an expression."""
     # Provide a default value for `for_save` in order to allow unresolved
@@ -912,6 +915,7 @@ class Ref(Expression):
         return [self]
 
 
+@deconstructible(path='django.db.models.ExpressionList')
 class ExpressionList(Func):
     """
     An expression containing multiple expressions. Can be used to provide a
@@ -953,6 +957,7 @@ class OrderByList(Func):
         return super().as_sql(*args, **kwargs)
 
 
+@deconstructible(path='django.db.models.ExpressionWrapper')
 class ExpressionWrapper(SQLiteNumericMixin, Expression):
     """
     An expression that can wrap another expression so that it can provide
@@ -985,6 +990,7 @@ class ExpressionWrapper(SQLiteNumericMixin, Expression):
         return "{}({})".format(self.__class__.__name__, self.expression)
 
 
+@deconstructible(path='django.db.models.When')
 class When(Expression):
     template = 'WHEN %(condition)s THEN %(result)s'
     # This isn't a complete conditional expression, must be used in Case().
@@ -1052,6 +1058,7 @@ class When(Expression):
         return cols
 
 
+@deconstructible(path='django.db.models.Case')
 class Case(SQLiteNumericMixin, Expression):
     """
     An SQL searched CASE expression:
@@ -1133,6 +1140,7 @@ class Case(SQLiteNumericMixin, Expression):
         return super().get_group_by_cols(alias)
 
 
+@deconstructible(path='django.db.models.Subquery')
 class Subquery(BaseExpression, Combinable):
     """
     An explicit subquery. It may contain OuterRef() references to the outer
@@ -1190,6 +1198,7 @@ class Subquery(BaseExpression, Combinable):
         return self.query.get_group_by_cols()
 
 
+@deconstructible(path='django.db.models.Exists')
 class Exists(Subquery):
     template = 'EXISTS(%(subquery)s)'
     output_field = fields.BooleanField()
@@ -1225,6 +1234,7 @@ class Exists(Subquery):
         return sql, params
 
 
+@deconstructible(path='django.db.models.OrderBy')
 class OrderBy(Expression):
     template = '%(expression)s %(ordering)s'
     conditional = False
@@ -1307,6 +1317,7 @@ class OrderBy(Expression):
         self.descending = True
 
 
+@deconstructible(path='django.db.models.Window')
 class Window(SQLiteNumericMixin, Expression):
     template = '%(expression)s OVER (%(window)s)'
     # Although the main expression may either be an aggregate or an
@@ -1412,6 +1423,7 @@ class Window(SQLiteNumericMixin, Expression):
         return []
 
 
+@deconstructible(path='django.db.models.WindowFrame')
 class WindowFrame(Expression):
     """
     Model the frame clause in window expressions. There are two types of frame
@@ -1471,6 +1483,7 @@ class WindowFrame(Expression):
         raise NotImplementedError('Subclasses must implement window_frame_start_end().')
 
 
+@deconstructible(path='django.db.models.RowRange')
 class RowRange(WindowFrame):
     frame_type = 'ROWS'
 
@@ -1478,6 +1491,7 @@ class RowRange(WindowFrame):
         return connection.ops.window_frame_rows_start_end(start, end)
 
 
+@deconstructible(path='django.db.models.ValueRange')
 class ValueRange(WindowFrame):
     frame_type = 'RANGE'
 


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 19:17:12,058 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find test cases related to the deconstruction of model expressions for migration files. The provided patch simplifies the deconstruction path of these expressions. The migration writer is responsible for serializing migration operations, including deconstructed expressions, into migration files. Therefore, `tests/migrations/test_writer.py` is the most relevant place to find tests that verify the output format of deconstructed expressions.' query='Please provide the full content of tests/migrations/test_writer.py' extra_requirements='' purpose="This file is expected to contain test cases that assert the string representation of deconstructed expression objects, which is directly related to the user's change."
2025-12-23 19:17:12,059 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of tests/migrations/test_writer.py
2025-12-23 19:17:12,059 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 19:17:12,059 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 19:17:12,060 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 19:17:12,060 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of tests/migrations/test_writer.py
Purpose: This file is expected to contain test cases that assert the string representation of deconstructed expression objects, which is directly related to the user's change.
2025-12-23 19:17:13,906 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/migrations/test_writer.py"}'}, '__gemini_function_call_thought_signatures__': {'f02589ba-1a87-45a3-b825-0c6854f1d668': 'CvYCAY89a1+3j9byAgAi7yWp8qwsLY6iC5Ean15TJSKL1Z26QtLSZTV0syxRXOjzSmbOPXsiMhuCM5cGHgyqlBJZNgarvPszz2O3PHpUwAtjE8mw5q2nemNZJ/ytdOR0BKWw3SYJPgRP0asxGp8MYwMPrhhyL2Ref+LLCyxWTBN6kd2XdgtZ7fiXc4RZkERIHKWYJOpZ8NEzsk5H4uhHujrcOItCyjUAJ3fOdLTFBBXC9fXg58nE2k18psGh1+z48PS0zpflDK95zT1z5B96/f7oAxhuG7bVuZK4TtxIE8FmAga8cVdwZADNjPCKxbn6+QmW7fXvvMtkB5UEFoEtI4vj20mIZcBl6D5e5TB01DJIMl99Y2bOlsD+5UlBjcDzmhXpNVJbwT2LK3tnxOsRgsrF7UWim8KPO6MsDzh3gorvqo3o3TyNgAiBWSfVQBuAyP9/l9VfGSrTJ6j1tcqbLS1kOX+5Mt6+RtjFKIJNd7bNg2rflHpTSqE='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2101, 'candidates_token_count': 23, 'total_token_count': 2213, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2101}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 23}], 'thoughts_token_count': 89, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1712531214175017, 'model_name': 'gemini-2.5-pro'} id='run--f76fb950-5664-4405-ac46-c2e84756dbfe-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_writer.py'}, 'id': 'f02589ba-1a87-45a3-b825-0c6854f1d668', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2101, 'output_tokens': 23, 'total_tokens': 2213, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 89}}
2025-12-23 19:17:18,413 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"relative_path": "tests/migrations/test_writer.py", "start_line": 501.0, "end_line": 1000.0}'}, '__gemini_function_call_thought_signatures__': {'7ad9de6f-a1d3-4539-9c98-5eaf08f12f1b': 'CtYDAY89a1/bfyh7I2OyJF7NKPiq2aP9xasTYpEXhtUAmO1IjdGMJ1Ie5SKlY6IFpW3pi5Zb1rFNfqW1BBJmQeZ7iElbRpImubSdO+Zwci+7rGaBi/KHL9cgExRGbRsX7oS/bXwzV5CWMosfL60PTRcr+EI7MBqQ39PlVNFftg6kkenjLo963XoVd+6uuh3D6rYqV7DZ5oLdu70H+O7NBGK7ZO9OQf2cG08IIrvOF5g511fC+eT0CgoJEtE/4iOx1+wWJkYETXTMV8L3tooC2NkCKjW3FRpN0AyiLUebVDQklrCu5S9S/JniP1Z3G8WSTygyKdvlRipMLixK66Eg53YndBEiMNgWN8/jFPT19SInyWQKt9J26XKJiHBT5I56dOneVYFVbxqp9ywxpZVLHkWLtZSMk67/j1iOyAs44SR4geJ0S3gFgOHhHBdgBzbMgy50NBNBpmYrFDIsJkPZN26wrHinYxP8xD2Fquhb2AJG/xz/QEQCKg1x/etqONYpiwcqZfbo0apvq9KP29g555BPGbxDFdTHW6GK7xpUsQYp+SFujo2O6mM83mlrmmr6xV9dhyWtxn2xPFvNGmJpuvjwpq+k10k/moEeIKJkUw7sLQJuqcT+uM8='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 9972, 'candidates_token_count': 29, 'total_token_count': 10295, 'cached_content_token_count': 1813, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10061}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1813}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 29}], 'thoughts_token_count': 294}, 'finish_reason': 'STOP', 'avg_logprobs': -1.074276430853482, 'model_name': 'gemini-2.5-pro'} id='run--9922fdca-0081-42ff-8457-dc6204bca7d5-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/migrations/test_writer.py', 'start_line': 501.0, 'end_line': 1000.0}, 'id': '7ad9de6f-a1d3-4539-9c98-5eaf08f12f1b', 'type': 'tool_call'}] usage_metadata={'input_tokens': 9972, 'output_tokens': 29, 'total_tokens': 10295, 'input_token_details': {'cache_read': 1813}, 'output_token_details': {'reasoning': 294}}
2025-12-23 19:17:21,859 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the full content of the `tests/migrations/test_writer.py` file. This was done in two parts, first fetching the initial 500 lines and then retrieving the remaining content to ensure the entire file was read. The file contains various test cases for the migration writer, covering serialization of different data types, custom operations, and model fields, among other functionalities.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 15657, 'candidates_token_count': 81, 'total_token_count': 15875, 'cached_content_token_count': 9293, 'prompt_tokens_details': [{'modality': 1, 'token_count': 15879}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9293}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 81}], 'thoughts_token_count': 137}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2867431640625, 'model_name': 'gemini-2.5-pro'} id='run--586ebbbb-9809-44c8-b8a8-b462073e4c85-0' usage_metadata={'input_tokens': 15657, 'output_tokens': 81, 'total_tokens': 15875, 'input_token_details': {'cache_read': 9293}, 'output_token_details': {'reasoning': 137}}
2025-12-23 19:17:21,861 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of tests/migrations/test_writer.py
--- END QUERY ---



--- BEGIN PURPOSE ---
This file is expected to contain test cases that assert the string representation of deconstructed expression objects, which is directly related to the user's change.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/migrations/test_writer.py
Line number range: 1 - 500
Content:
1. import datetime
2. import decimal
3. import enum
4. import functools
5. import math
6. import os
7. import pathlib
8. import re
9. import sys
10. import uuid
11. from unittest import mock
12. 
13. try:
14.     import zoneinfo
15. except ImportError:
16.     from backports import zoneinfo
17. 
18. try:
19.     import pytz
20. except ImportError:
21.     pytz = None
22. 
23. import custom_migration_operations.more_operations
24. import custom_migration_operations.operations
25. 
26. from django import get_version
27. from django.conf import SettingsReference, settings
28. from django.core.validators import EmailValidator, RegexValidator
29. from django.db import migrations, models
30. from django.db.migrations.serializer import BaseSerializer
31. from django.db.migrations.writer import MigrationWriter, OperationWriter
32. from django.test import SimpleTestCase
33. from django.utils.deconstruct import deconstructible
34. from django.utils.functional import SimpleLazyObject
35. from django.utils.timezone import get_default_timezone, get_fixed_timezone, utc
36. from django.utils.translation import gettext_lazy as _
37. 
38. from .models import FoodManager, FoodQuerySet
39. 
40. 
41. class DeconstructibleInstances:
42.     def deconstruct(self):
43.         return ('DeconstructibleInstances', [], {})
44. 
45. 
46. class Money(decimal.Decimal):
47.     def deconstruct(self):
48.         return (
49.             '%s.%s' % (self.__class__.__module__, self.__class__.__name__),
50.             [str(self)],
51.             {}
52.         )
53. 
54. 
55. class TestModel1:
56.     def upload_to(self):
57.         return '/somewhere/dynamic/'
58.     thing = models.FileField(upload_to=upload_to)
59. 
60. 
61. class TextEnum(enum.Enum):
62.     A = 'a-value'
63.     B = 'value-b'
64. 
65. 
66. class TextTranslatedEnum(enum.Enum):
67.     A = _('a-value')
68.     B = _('value-b')
69. 
70. 
71. class BinaryEnum(enum.Enum):
72.     A = b'a-value'
73.     B = b'value-b'
74. 
75. 
76. class IntEnum(enum.IntEnum):
77.     A = 1
78.     B = 2
79. 
80. 
81. class OperationWriterTests(SimpleTestCase):
82. 
83.     def test_empty_signature(self):
84.         operation = custom_migration_operations.operations.TestOperation()
85.         buff, imports = OperationWriter(operation, indentation=0).serialize()
86.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
87.         self.assertEqual(
88.             buff,
89.             'custom_migration_operations.operations.TestOperation(\n'
90.             '),'
91.         )
92. 
93.     def test_args_signature(self):
94.         operation = custom_migration_operations.operations.ArgsOperation(1, 2)
95.         buff, imports = OperationWriter(operation, indentation=0).serialize()
96.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
97.         self.assertEqual(
98.             buff,
99.             'custom_migration_operations.operations.ArgsOperation(\n'
100.             '    arg1=1,\n'
101.             '    arg2=2,\n'
102.             '),'
103.         )
104. 
105.     def test_kwargs_signature(self):
106.         operation = custom_migration_operations.operations.KwargsOperation(kwarg1=1)
107.         buff, imports = OperationWriter(operation, indentation=0).serialize()
108.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
109.         self.assertEqual(
110.             buff,
111.             'custom_migration_operations.operations.KwargsOperation(\n'
112.             '    kwarg1=1,\n'
113.             '),'
114.         )
115. 
116.     def test_args_kwargs_signature(self):
117.         operation = custom_migration_operations.operations.ArgsKwargsOperation(1, 2, kwarg2=4)
118.         buff, imports = OperationWriter(operation, indentation=0).serialize()
119.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
120.         self.assertEqual(
121.             buff,
122.             'custom_migration_operations.operations.ArgsKwargsOperation(\n'
123.             '    arg1=1,\n'
124.             '    arg2=2,\n'
125.             '    kwarg2=4,\n'
126.             '),'
127.         )
128. 
129.     def test_nested_args_signature(self):
130.         operation = custom_migration_operations.operations.ArgsOperation(
131.             custom_migration_operations.operations.ArgsOperation(1, 2),
132.             custom_migration_operations.operations.KwargsOperation(kwarg1=3, kwarg2=4)
133.         )
134.         buff, imports = OperationWriter(operation, indentation=0).serialize()
135.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
136.         self.assertEqual(
137.             buff,
138.             'custom_migration_operations.operations.ArgsOperation(\n'
139.             '    arg1=custom_migration_operations.operations.ArgsOperation(\n'
140.             '        arg1=1,\n'
141.             '        arg2=2,\n'
142.             '    ),\n'
143.             '    arg2=custom_migration_operations.operations.KwargsOperation(\n'
144.             '        kwarg1=3,\n'
145.             '        kwarg2=4,\n'
146.             '    ),\n'
147.             '),'
148.         )
149. 
150.     def test_multiline_args_signature(self):
151.         operation = custom_migration_operations.operations.ArgsOperation("test\n    arg1", "test\narg2")
152.         buff, imports = OperationWriter(operation, indentation=0).serialize()
153.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
154.         self.assertEqual(
155.             buff,
156.             "custom_migration_operations.operations.ArgsOperation(\n"
157.             "    arg1='test\\n    arg1',\n"
158.             "    arg2='test\\narg2',\n"
159.             "),"
160.         )
161. 
162.     def test_expand_args_signature(self):
163.         operation = custom_migration_operations.operations.ExpandArgsOperation([1, 2])
164.         buff, imports = OperationWriter(operation, indentation=0).serialize()
165.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
166.         self.assertEqual(
167.             buff,
168.             'custom_migration_operations.operations.ExpandArgsOperation(\n'
169.             '    arg=[\n'
170.             '        1,\n'
171.             '        2,\n'
172.             '    ],\n'
173.             '),'
174.         )
175. 
176.     def test_nested_operation_expand_args_signature(self):
177.         operation = custom_migration_operations.operations.ExpandArgsOperation(
178.             arg=[
179.                 custom_migration_operations.operations.KwargsOperation(
180.                     kwarg1=1,
181.                     kwarg2=2,
182.                 ),
183.             ]
184.         )
185.         buff, imports = OperationWriter(operation, indentation=0).serialize()
186.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
187.         self.assertEqual(
188.             buff,
189.             'custom_migration_operations.operations.ExpandArgsOperation(\n'
190.             '    arg=[\n'
191.             '        custom_migration_operations.operations.KwargsOperation(\n'
192.             '            kwarg1=1,\n'
193.             '            kwarg2=2,\n'
194.             '        ),\n'
195.             '    ],\n'
196.             '),'
197.         )
198. 
199. 
200. class WriterTests(SimpleTestCase):
201.     """
202.     Tests the migration writer (makes migration files from Migration instances)
203.     """
204.     class NestedEnum(enum.IntEnum):
205.         A = 1
206.         B = 2
207. 
208.     class NestedChoices(models.TextChoices):
209.         X = 'X', 'X value'
210.         Y = 'Y', 'Y value'
211. 
212.     def safe_exec(self, string, value=None):
213.         d = {}
214.         try:
215.             exec(string, globals(), d)
216.         except Exception as e:
217.             if value:
218.                 self.fail("Could not exec %r (from value %r): %s" % (string.strip(), value, e))
219.             else:
220.                 self.fail("Could not exec %r: %s" % (string.strip(), e))
221.         return d
222. 
223.     def serialize_round_trip(self, value):
224.         string, imports = MigrationWriter.serialize(value)
225.         return self.safe_exec("%s\ntest_value_result = %s" % ("\n".join(imports), string), value)['test_value_result']
226. 
227.     def assertSerializedEqual(self, value):
228.         self.assertEqual(self.serialize_round_trip(value), value)
229. 
230.     def assertSerializedResultEqual(self, value, target):
231.         self.assertEqual(MigrationWriter.serialize(value), target)
232. 
233.     def assertSerializedFieldEqual(self, value):
234.         new_value = self.serialize_round_trip(value)
235.         self.assertEqual(value.__class__, new_value.__class__)
236.         self.assertEqual(value.max_length, new_value.max_length)
237.         self.assertEqual(value.null, new_value.null)
238.         self.assertEqual(value.unique, new_value.unique)
239. 
240.     def test_serialize_numbers(self):
241.         self.assertSerializedEqual(1)
242.         self.assertSerializedEqual(1.2)
243.         self.assertTrue(math.isinf(self.serialize_round_trip(float("inf"))))
244.         self.assertTrue(math.isinf(self.serialize_round_trip(float("-inf"))))
245.         self.assertTrue(math.isnan(self.serialize_round_trip(float("nan"))))
246. 
247.         self.assertSerializedEqual(decimal.Decimal('1.3'))
248.         self.assertSerializedResultEqual(
249.             decimal.Decimal('1.3'),
250.             ("Decimal('1.3')", {'from decimal import Decimal'})
251.         )
252. 
253.         self.assertSerializedEqual(Money('1.3'))
254.         self.assertSerializedResultEqual(
255.             Money('1.3'),
256.             ("migrations.test_writer.Money('1.3')", {'import migrations.test_writer'})
257.         )
258. 
259.     def test_serialize_constants(self):
260.         self.assertSerializedEqual(None)
261.         self.assertSerializedEqual(True)
262.         self.assertSerializedEqual(False)
263. 
264.     def test_serialize_strings(self):
265.         self.assertSerializedEqual(b"foobar")
266.         string, imports = MigrationWriter.serialize(b"foobar")
267.         self.assertEqual(string, "b'foobar'")
268.         self.assertSerializedEqual("föobár")
269.         string, imports = MigrationWriter.serialize("foobar")
270.         self.assertEqual(string, "'foobar'")
271. 
272.     def test_serialize_multiline_strings(self):
273.         self.assertSerializedEqual(b"foo\nbar")
274.         string, imports = MigrationWriter.serialize(b"foo\nbar")
275.         self.assertEqual(string, "b'foo\\nbar'")
276.         self.assertSerializedEqual("föo\nbár")
277.         string, imports = MigrationWriter.serialize("foo\nbar")
278.         self.assertEqual(string, "'foo\\nbar'")
279. 
280.     def test_serialize_collections(self):
281.         self.assertSerializedEqual({1: 2})
282.         self.assertSerializedEqual(["a", 2, True, None])
283.         self.assertSerializedEqual({2, 3, "eighty"})
284.         self.assertSerializedEqual({"lalalala": ["yeah", "no", "maybe"]})
285.         self.assertSerializedEqual(_('Hello'))
286. 
287.     def test_serialize_builtin_types(self):
288.         self.assertSerializedEqual([list, tuple, dict, set, frozenset])
289.         self.assertSerializedResultEqual(
290.             [list, tuple, dict, set, frozenset],
291.             ("[list, tuple, dict, set, frozenset]", set())
292.         )
293. 
294.     def test_serialize_lazy_objects(self):
295.         pattern = re.compile(r'^foo$')
296.         lazy_pattern = SimpleLazyObject(lambda: pattern)
297.         self.assertEqual(self.serialize_round_trip(lazy_pattern), pattern)
298. 
299.     def test_serialize_enums(self):
300.         self.assertSerializedResultEqual(
301.             TextEnum.A,
302.             ("migrations.test_writer.TextEnum['A']", {'import migrations.test_writer'})
303.         )
304.         self.assertSerializedResultEqual(
305.             TextTranslatedEnum.A,
306.             ("migrations.test_writer.TextTranslatedEnum['A']", {'import migrations.test_writer'})
307.         )
308.         self.assertSerializedResultEqual(
309.             BinaryEnum.A,
310.             ("migrations.test_writer.BinaryEnum['A']", {'import migrations.test_writer'})
311.         )
312.         self.assertSerializedResultEqual(
313.             IntEnum.B,
314.             ("migrations.test_writer.IntEnum['B']", {'import migrations.test_writer'})
315.         )
316.         self.assertSerializedResultEqual(
317.             self.NestedEnum.A,
318.             (
319.                 "migrations.test_writer.WriterTests.NestedEnum['A']",
320.                 {'import migrations.test_writer'},
321.             ),
322.         )
323.         self.assertSerializedEqual(self.NestedEnum.A)
324. 
325.         field = models.CharField(default=TextEnum.B, choices=[(m.value, m) for m in TextEnum])
326.         string = MigrationWriter.serialize(field)[0]
327.         self.assertEqual(
328.             string,
329.             "models.CharField(choices=["
330.             "('a-value', migrations.test_writer.TextEnum['A']), "
331.             "('value-b', migrations.test_writer.TextEnum['B'])], "
332.             "default=migrations.test_writer.TextEnum['B'])"
333.         )
334.         field = models.CharField(
335.             default=TextTranslatedEnum.A,
336.             choices=[(m.value, m) for m in TextTranslatedEnum],
337.         )
338.         string = MigrationWriter.serialize(field)[0]
339.         self.assertEqual(
340.             string,
341.             "models.CharField(choices=["
342.             "('a-value', migrations.test_writer.TextTranslatedEnum['A']), "
343.             "('value-b', migrations.test_writer.TextTranslatedEnum['B'])], "
344.             "default=migrations.test_writer.TextTranslatedEnum['A'])"
345.         )
346.         field = models.CharField(default=BinaryEnum.B, choices=[(m.value, m) for m in BinaryEnum])
347.         string = MigrationWriter.serialize(field)[0]
348.         self.assertEqual(
349.             string,
350.             "models.CharField(choices=["
351.             "(b'a-value', migrations.test_writer.BinaryEnum['A']), "
352.             "(b'value-b', migrations.test_writer.BinaryEnum['B'])], "
353.             "default=migrations.test_writer.BinaryEnum['B'])"
354.         )
355.         field = models.IntegerField(default=IntEnum.A, choices=[(m.value, m) for m in IntEnum])
356.         string = MigrationWriter.serialize(field)[0]
357.         self.assertEqual(
358.             string,
359.             "models.IntegerField(choices=["
360.             "(1, migrations.test_writer.IntEnum['A']), "
361.             "(2, migrations.test_writer.IntEnum['B'])], "
362.             "default=migrations.test_writer.IntEnum['A'])"
363.         )
364. 
365.     def test_serialize_choices(self):
366.         class TextChoices(models.TextChoices):
367.             A = 'A', 'A value'
368.             B = 'B', 'B value'
369. 
370.         class IntegerChoices(models.IntegerChoices):
371.             A = 1, 'One'
372.             B = 2, 'Two'
373. 
374.         class DateChoices(datetime.date, models.Choices):
375.             DATE_1 = 1969, 7, 20, 'First date'
376.             DATE_2 = 1969, 11, 19, 'Second date'
377. 
378.         self.assertSerializedResultEqual(TextChoices.A, ("'A'", set()))
379.         self.assertSerializedResultEqual(IntegerChoices.A, ('1', set()))
380.         self.assertSerializedResultEqual(
381.             DateChoices.DATE_1,
382.             ('datetime.date(1969, 7, 20)', {'import datetime'}),
383.         )
384.         field = models.CharField(default=TextChoices.B, choices=TextChoices.choices)
385.         string = MigrationWriter.serialize(field)[0]
386.         self.assertEqual(
387.             string,
388.             "models.CharField(choices=[('A', 'A value'), ('B', 'B value')], "
389.             "default='B')",
390.         )
391.         field = models.IntegerField(default=IntegerChoices.B, choices=IntegerChoices.choices)
392.         string = MigrationWriter.serialize(field)[0]
393.         self.assertEqual(
394.             string,
395.             "models.IntegerField(choices=[(1, 'One'), (2, 'Two')], default=2)",
396.         )
397.         field = models.DateField(default=DateChoices.DATE_2, choices=DateChoices.choices)
398.         string = MigrationWriter.serialize(field)[0]
399.         self.assertEqual(
400.             string,
401.             "models.DateField(choices=["
402.             "(datetime.date(1969, 7, 20), 'First date'), "
403.             "(datetime.date(1969, 11, 19), 'Second date')], "
404.             "default=datetime.date(1969, 11, 19))"
405.         )
406. 
407.     def test_serialize_nested_class(self):
408.         for nested_cls in [self.NestedEnum, self.NestedChoices]:
409.             cls_name = nested_cls.__name__
410.             with self.subTest(cls_name):
411.                 self.assertSerializedResultEqual(
412.                     nested_cls,
413.                     (
414.                         "migrations.test_writer.WriterTests.%s" % cls_name,
415.                         {'import migrations.test_writer'},
416.                     ),
417.                 )
418. 
419.     def test_serialize_uuid(self):
420.         self.assertSerializedEqual(uuid.uuid1())
421.         self.assertSerializedEqual(uuid.uuid4())
422. 
423.         uuid_a = uuid.UUID('5c859437-d061-4847-b3f7-e6b78852f8c8')
424.         uuid_b = uuid.UUID('c7853ec1-2ea3-4359-b02d-b54e8f1bcee2')
425.         self.assertSerializedResultEqual(
426.             uuid_a,
427.             ("uuid.UUID('5c859437-d061-4847-b3f7-e6b78852f8c8')", {'import uuid'})
428.         )
429.         self.assertSerializedResultEqual(
430.             uuid_b,
431.             ("uuid.UUID('c7853ec1-2ea3-4359-b02d-b54e8f1bcee2')", {'import uuid'})
432.         )
433. 
434.         field = models.UUIDField(choices=((uuid_a, 'UUID A'), (uuid_b, 'UUID B')), default=uuid_a)
435.         string = MigrationWriter.serialize(field)[0]
436.         self.assertEqual(
437.             string,
438.             "models.UUIDField(choices=["
439.             "(uuid.UUID('5c859437-d061-4847-b3f7-e6b78852f8c8'), 'UUID A'), "
440.             "(uuid.UUID('c7853ec1-2ea3-4359-b02d-b54e8f1bcee2'), 'UUID B')], "
441.             "default=uuid.UUID('5c859437-d061-4847-b3f7-e6b78852f8c8'))"
442.         )
443. 
444.     def test_serialize_pathlib(self):
445.         # Pure path objects work in all platforms.
446.         self.assertSerializedEqual(pathlib.PurePosixPath())
447.         self.assertSerializedEqual(pathlib.PureWindowsPath())
448.         path = pathlib.PurePosixPath('/path/file.txt')
449.         expected = ("pathlib.PurePosixPath('/path/file.txt')", {'import pathlib'})
450.         self.assertSerializedResultEqual(path, expected)
451.         path = pathlib.PureWindowsPath('A:\\File.txt')
452.         expected = ("pathlib.PureWindowsPath('A:/File.txt')", {'import pathlib'})
453.         self.assertSerializedResultEqual(path, expected)
454.         # Concrete path objects work on supported platforms.
455.         if sys.platform == 'win32':
456.             self.assertSerializedEqual(pathlib.WindowsPath.cwd())
457.             path = pathlib.WindowsPath('A:\\File.txt')
458.             expected = ("pathlib.PureWindowsPath('A:/File.txt')", {'import pathlib'})
459.             self.assertSerializedResultEqual(path, expected)
460.         else:
461.             self.assertSerializedEqual(pathlib.PosixPath.cwd())
462.             path = pathlib.PosixPath('/path/file.txt')
463.             expected = ("pathlib.PurePosixPath('/path/file.txt')", {'import pathlib'})
464.             self.assertSerializedResultEqual(path, expected)
465. 
466.         field = models.FilePathField(path=pathlib.PurePosixPath('/home/user'))
467.         string, imports = MigrationWriter.serialize(field)
468.         self.assertEqual(
469.             string,
470.             "models.FilePathField(path=pathlib.PurePosixPath('/home/user'))",
471.         )
472.         self.assertIn('import pathlib', imports)
473. 
474.     def test_serialize_path_like(self):
475.         with os.scandir(os.path.dirname(__file__)) as entries:
476.             path_like = list(entries)[0]
477.         expected = (repr(path_like.path), {})
478.         self.assertSerializedResultEqual(path_like, expected)
479. 
480.         field = models.FilePathField(path=path_like)
481.         string = MigrationWriter.serialize(field)[0]
482.         self.assertEqual(string, 'models.FilePathField(path=%r)' % path_like.path)
483. 
484.     def test_serialize_functions(self):
485.         with self.assertRaisesMessage(ValueError, 'Cannot serialize function: lambda'):
486.             self.assertSerializedEqual(lambda x: 42)
487.         self.assertSerializedEqual(models.SET_NULL)
488.         string, imports = MigrationWriter.serialize(models.SET(42))
489.         self.assertEqual(string, 'models.SET(42)')
490.         self.serialize_round_trip(models.SET(42))
491. 
492.     def test_serialize_datetime(self):
493.         self.assertSerializedEqual(datetime.datetime.now())
494.         self.assertSerializedEqual(datetime.datetime.now)
495.         self.assertSerializedEqual(datetime.datetime.today())
496.         self.assertSerializedEqual(datetime.datetime.today)
497.         self.assertSerializedEqual(datetime.date.today())
498.         self.assertSerializedEqual(datetime.date.today)
499.         self.assertSerializedEqual(datetime.datetime.now().time())
500.         self.assertSerializedEqual(datetime.datetime(2014, 1, 1, 1, 1, tzinfo=get_default_timezone()))


File: tests/migrations/test_writer.py
Line number range: 501 - 1000
Content:
501.         self.assertSerializedEqual(datetime.datetime(2013, 12, 31, 22, 1, tzinfo=get_fixed_timezone(180)))
502.         self.assertSerializedResultEqual(
503.             datetime.datetime(2014, 1, 1, 1, 1),
504.             ("datetime.datetime(2014, 1, 1, 1, 1)", {'import datetime'})
505.         )
506.         for tzinfo in (utc, datetime.timezone.utc):
507.             with self.subTest(tzinfo=tzinfo):
508.                 self.assertSerializedResultEqual(
509.                     datetime.datetime(2012, 1, 1, 1, 1, tzinfo=tzinfo),
510.                     (
511.                         "datetime.datetime(2012, 1, 1, 1, 1, tzinfo=utc)",
512.                         {'import datetime', 'from django.utils.timezone import utc'},
513.                     )
514.                 )
515. 
516.         self.assertSerializedResultEqual(
517.             datetime.datetime(2012, 1, 1, 2, 1, tzinfo=zoneinfo.ZoneInfo('Europe/Paris')),
518.             (
519.                 "datetime.datetime(2012, 1, 1, 1, 1, tzinfo=utc)",
520.                 {'import datetime', 'from django.utils.timezone import utc'},
521.             )
522.         )
523.         if pytz:
524.             self.assertSerializedResultEqual(
525.                 pytz.timezone('Europe/Paris').localize(datetime.datetime(2012, 1, 1, 2, 1)),
526.                 (
527.                     "datetime.datetime(2012, 1, 1, 1, 1, tzinfo=utc)",
528.                     {'import datetime', 'from django.utils.timezone import utc'},
529.                 )
530.             )
531. 
532.     def test_serialize_fields(self):
533.         self.assertSerializedFieldEqual(models.CharField(max_length=255))
534.         self.assertSerializedResultEqual(
535.             models.CharField(max_length=255),
536.             ("models.CharField(max_length=255)", {"from django.db import models"})
537.         )
538.         self.assertSerializedFieldEqual(models.TextField(null=True, blank=True))
539.         self.assertSerializedResultEqual(
540.             models.TextField(null=True, blank=True),
541.             ("models.TextField(blank=True, null=True)", {'from django.db import models'})
542.         )
543. 
544.     def test_serialize_settings(self):
545.         self.assertSerializedEqual(SettingsReference(settings.AUTH_USER_MODEL, "AUTH_USER_MODEL"))
546.         self.assertSerializedResultEqual(
547.             SettingsReference("someapp.model", "AUTH_USER_MODEL"),
548.             ("settings.AUTH_USER_MODEL", {"from django.conf import settings"})
549.         )
550. 
551.     def test_serialize_iterators(self):
552.         self.assertSerializedResultEqual(
553.             ((x, x * x) for x in range(3)),
554.             ("((0, 0), (1, 1), (2, 4))", set())
555.         )
556. 
557.     def test_serialize_compiled_regex(self):
558.         """
559.         Make sure compiled regex can be serialized.
560.         """
561.         regex = re.compile(r'^\w+$')
562.         self.assertSerializedEqual(regex)
563. 
564.     def test_serialize_class_based_validators(self):
565.         """
566.         Ticket #22943: Test serialization of class-based validators, including
567.         compiled regexes.
568.         """
569.         validator = RegexValidator(message="hello")
570.         string = MigrationWriter.serialize(validator)[0]
571.         self.assertEqual(string, "django.core.validators.RegexValidator(message='hello')")
572.         self.serialize_round_trip(validator)
573. 
574.         # Test with a compiled regex.
575.         validator = RegexValidator(regex=re.compile(r'^\w+$'))
576.         string = MigrationWriter.serialize(validator)[0]
577.         self.assertEqual(string, "django.core.validators.RegexValidator(regex=re.compile('^\\\\w+$'))")
578.         self.serialize_round_trip(validator)
579. 
580.         # Test a string regex with flag
581.         validator = RegexValidator(r'^[0-9]+$', flags=re.S)
582.         string = MigrationWriter.serialize(validator)[0]
583.         self.assertEqual(string, "django.core.validators.RegexValidator('^[0-9]+$', flags=re.RegexFlag['DOTALL'])")
584.         self.serialize_round_trip(validator)
585. 
586.         # Test message and code
587.         validator = RegexValidator('^[-a-zA-Z0-9_]+$', 'Invalid', 'invalid')
588.         string = MigrationWriter.serialize(validator)[0]
589.         self.assertEqual(string, "django.core.validators.RegexValidator('^[-a-zA-Z0-9_]+$', 'Invalid', 'invalid')")
590.         self.serialize_round_trip(validator)
591. 
592.         # Test with a subclass.
593.         validator = EmailValidator(message="hello")
594.         string = MigrationWriter.serialize(validator)[0]
595.         self.assertEqual(string, "django.core.validators.EmailValidator(message='hello')")
596.         self.serialize_round_trip(validator)
597. 
598.         validator = deconstructible(path="migrations.test_writer.EmailValidator")(EmailValidator)(message="hello")
599.         string = MigrationWriter.serialize(validator)[0]
600.         self.assertEqual(string, "migrations.test_writer.EmailValidator(message='hello')")
601. 
602.         validator = deconstructible(path="custom.EmailValidator")(EmailValidator)(message="hello")
603.         with self.assertRaisesMessage(ImportError, "No module named 'custom'"):
604.             MigrationWriter.serialize(validator)
605. 
606.         validator = deconstructible(path="django.core.validators.EmailValidator2")(EmailValidator)(message="hello")
607.         with self.assertRaisesMessage(ValueError, "Could not find object EmailValidator2 in django.core.validators."):
608.             MigrationWriter.serialize(validator)
609. 
610.     def test_serialize_empty_nonempty_tuple(self):
611.         """
612.         Ticket #22679: makemigrations generates invalid code for (an empty
613.         tuple) default_permissions = ()
614.         """
615.         empty_tuple = ()
616.         one_item_tuple = ('a',)
617.         many_items_tuple = ('a', 'b', 'c')
618.         self.assertSerializedEqual(empty_tuple)
619.         self.assertSerializedEqual(one_item_tuple)
620.         self.assertSerializedEqual(many_items_tuple)
621. 
622.     def test_serialize_range(self):
623.         string, imports = MigrationWriter.serialize(range(1, 5))
624.         self.assertEqual(string, 'range(1, 5)')
625.         self.assertEqual(imports, set())
626. 
627.     def test_serialize_builtins(self):
628.         string, imports = MigrationWriter.serialize(range)
629.         self.assertEqual(string, 'range')
630.         self.assertEqual(imports, set())
631. 
632.     def test_serialize_unbound_method_reference(self):
633.         """An unbound method used within a class body can be serialized."""
634.         self.serialize_round_trip(TestModel1.thing)
635. 
636.     def test_serialize_local_function_reference(self):
637.         """A reference in a local scope can't be serialized."""
638.         class TestModel2:
639.             def upload_to(self):
640.                 return "somewhere dynamic"
641.             thing = models.FileField(upload_to=upload_to)
642. 
643.         with self.assertRaisesMessage(ValueError, 'Could not find function upload_to in migrations.test_writer'):
644.             self.serialize_round_trip(TestModel2.thing)
645. 
646.     def test_serialize_managers(self):
647.         self.assertSerializedEqual(models.Manager())
648.         self.assertSerializedResultEqual(
649.             FoodQuerySet.as_manager(),
650.             ('migrations.models.FoodQuerySet.as_manager()', {'import migrations.models'})
651.         )
652.         self.assertSerializedEqual(FoodManager('a', 'b'))
653.         self.assertSerializedEqual(FoodManager('x', 'y', c=3, d=4))
654. 
655.     def test_serialize_frozensets(self):
656.         self.assertSerializedEqual(frozenset())
657.         self.assertSerializedEqual(frozenset("let it go"))
658. 
659.     def test_serialize_set(self):
660.         self.assertSerializedEqual(set())
661.         self.assertSerializedResultEqual(set(), ('set()', set()))
662.         self.assertSerializedEqual({'a'})
663.         self.assertSerializedResultEqual({'a'}, ("{'a'}", set()))
664. 
665.     def test_serialize_timedelta(self):
666.         self.assertSerializedEqual(datetime.timedelta())
667.         self.assertSerializedEqual(datetime.timedelta(minutes=42))
668. 
669.     def test_serialize_functools_partial(self):
670.         value = functools.partial(datetime.timedelta, 1, seconds=2)
671.         result = self.serialize_round_trip(value)
672.         self.assertEqual(result.func, value.func)
673.         self.assertEqual(result.args, value.args)
674.         self.assertEqual(result.keywords, value.keywords)
675. 
676.     def test_serialize_functools_partialmethod(self):
677.         value = functools.partialmethod(datetime.timedelta, 1, seconds=2)
678.         result = self.serialize_round_trip(value)
679.         self.assertIsInstance(result, functools.partialmethod)
680.         self.assertEqual(result.func, value.func)
681.         self.assertEqual(result.args, value.args)
682.         self.assertEqual(result.keywords, value.keywords)
683. 
684.     def test_serialize_type_none(self):
685.         self.assertSerializedEqual(type(None))
686. 
687.     def test_serialize_type_model(self):
688.         self.assertSerializedEqual(models.Model)
689.         self.assertSerializedResultEqual(
690.             MigrationWriter.serialize(models.Model),
691.             ("('models.Model', {'from django.db import models'})", set()),
692.         )
693. 
694.     def test_simple_migration(self):
695.         """
696.         Tests serializing a simple migration.
697.         """
698.         fields = {
699.             'charfield': models.DateTimeField(default=datetime.datetime.now),
700.             'datetimefield': models.DateTimeField(default=datetime.datetime.now),
701.         }
702. 
703.         options = {
704.             'verbose_name': 'My model',
705.             'verbose_name_plural': 'My models',
706.         }
707. 
708.         migration = type("Migration", (migrations.Migration,), {
709.             "operations": [
710.                 migrations.CreateModel("MyModel", tuple(fields.items()), options, (models.Model,)),
711.                 migrations.CreateModel("MyModel2", tuple(fields.items()), bases=(models.Model,)),
712.                 migrations.CreateModel(
713.                     name="MyModel3", fields=tuple(fields.items()), options=options, bases=(models.Model,)
714.                 ),
715.                 migrations.DeleteModel("MyModel"),
716.                 migrations.AddField("OtherModel", "datetimefield", fields["datetimefield"]),
717.             ],
718.             "dependencies": [("testapp", "some_other_one")],
719.         })
720.         writer = MigrationWriter(migration)
721.         output = writer.as_string()
722.         # We don't test the output formatting - that's too fragile.
723.         # Just make sure it runs for now, and that things look alright.
724.         result = self.safe_exec(output)
725.         self.assertIn("Migration", result)
726. 
727.     def test_migration_path(self):
728.         test_apps = [
729.             'migrations.migrations_test_apps.normal',
730.             'migrations.migrations_test_apps.with_package_model',
731.             'migrations.migrations_test_apps.without_init_file',
732.         ]
733. 
734.         base_dir = os.path.dirname(os.path.dirname(__file__))
735. 
736.         for app in test_apps:
737.             with self.modify_settings(INSTALLED_APPS={'append': app}):
738.                 migration = migrations.Migration('0001_initial', app.split('.')[-1])
739.                 expected_path = os.path.join(base_dir, *(app.split('.') + ['migrations', '0001_initial.py']))
740.                 writer = MigrationWriter(migration)
741.                 self.assertEqual(writer.path, expected_path)
742. 
743.     def test_custom_operation(self):
744.         migration = type("Migration", (migrations.Migration,), {
745.             "operations": [
746.                 custom_migration_operations.operations.TestOperation(),
747.                 custom_migration_operations.operations.CreateModel(),
748.                 migrations.CreateModel("MyModel", (), {}, (models.Model,)),
749.                 custom_migration_operations.more_operations.TestOperation()
750.             ],
751.             "dependencies": []
752.         })
753.         writer = MigrationWriter(migration)
754.         output = writer.as_string()
755.         result = self.safe_exec(output)
756.         self.assertIn("custom_migration_operations", result)
757.         self.assertNotEqual(
758.             result['custom_migration_operations'].operations.TestOperation,
759.             result['custom_migration_operations'].more_operations.TestOperation
760.         )
761. 
762.     def test_sorted_imports(self):
763.         """
764.         #24155 - Tests ordering of imports.
765.         """
766.         migration = type("Migration", (migrations.Migration,), {
767.             "operations": [
768.                 migrations.AddField("mymodel", "myfield", models.DateTimeField(
769.                     default=datetime.datetime(2012, 1, 1, 1, 1, tzinfo=utc),
770.                 )),
771.             ]
772.         })
773.         writer = MigrationWriter(migration)
774.         output = writer.as_string()
775.         self.assertIn(
776.             "import datetime\n"
777.             "from django.db import migrations, models\n"
778.             "from django.utils.timezone import utc\n",
779.             output
780.         )
781. 
782.     def test_migration_file_header_comments(self):
783.         """
784.         Test comments at top of file.
785.         """
786.         migration = type("Migration", (migrations.Migration,), {
787.             "operations": []
788.         })
789.         dt = datetime.datetime(2015, 7, 31, 4, 40, 0, 0, tzinfo=utc)
790.         with mock.patch('django.db.migrations.writer.now', lambda: dt):
791.             for include_header in (True, False):
792.                 with self.subTest(include_header=include_header):
793.                     writer = MigrationWriter(migration, include_header)
794.                     output = writer.as_string()
795. 
796.                     self.assertEqual(
797.                         include_header,
798.                         output.startswith(
799.                             "# Generated by Django %s on 2015-07-31 04:40\n\n" % get_version()
800.                         )
801.                     )
802.                     if not include_header:
803.                         # Make sure the output starts with something that's not
804.                         # a comment or indentation or blank line
805.                         self.assertRegex(output.splitlines(keepends=True)[0], r"^[^#\s]+")
806. 
807.     def test_models_import_omitted(self):
808.         """
809.         django.db.models shouldn't be imported if unused.
810.         """
811.         migration = type("Migration", (migrations.Migration,), {
812.             "operations": [
813.                 migrations.AlterModelOptions(
814.                     name='model',
815.                     options={'verbose_name': 'model', 'verbose_name_plural': 'models'},
816.                 ),
817.             ]
818.         })
819.         writer = MigrationWriter(migration)
820.         output = writer.as_string()
821.         self.assertIn("from django.db import migrations\n", output)
822. 
823.     def test_deconstruct_class_arguments(self):
824.         # Yes, it doesn't make sense to use a class as a default for a
825.         # CharField. It does make sense for custom fields though, for example
826.         # an enumfield that takes the enum class as an argument.
827.         string = MigrationWriter.serialize(models.CharField(default=DeconstructibleInstances))[0]
828.         self.assertEqual(string, "models.CharField(default=migrations.test_writer.DeconstructibleInstances)")
829. 
830.     def test_register_serializer(self):
831.         class ComplexSerializer(BaseSerializer):
832.             def serialize(self):
833.                 return 'complex(%r)' % self.value, {}
834. 
835.         MigrationWriter.register_serializer(complex, ComplexSerializer)
836.         self.assertSerializedEqual(complex(1, 2))
837.         MigrationWriter.unregister_serializer(complex)
838.         with self.assertRaisesMessage(ValueError, 'Cannot serialize: (1+2j)'):
839.             self.assertSerializedEqual(complex(1, 2))
840. 
841.     def test_register_non_serializer(self):
842.         with self.assertRaisesMessage(ValueError, "'TestModel1' must inherit from 'BaseSerializer'."):
843.             MigrationWriter.register_serializer(complex, TestModel1)

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 19:17:30,182 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly requested the full content of the file 'tests/migrations/test_writer.py'.\n2. Extended relevance:\n   - This context provides the entire content of the requested file, from line 1 to line 843.", relative_path='tests/migrations/test_writer.py', start_line=1, end_line=843)]
2025-12-23 19:17:30,184 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of tests/migrations/test_writer.py
2025-12-23 19:17:30,184 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 19:17:30,184 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 19:17:30,185 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 0 existing contexts
2025-12-23 19:17:30,185 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 1 total contexts (removed 0 duplicates)
2025-12-23 19:17:30,186 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       └── legend_test.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Use simplified paths for deconstruct of expressions

Description: Description
	
Previously F() deconstructed to: django.db.models.expressions.F(). But since it can also be imported from django.db.models, ​PR #14047 changed it to deconstruct to django.db.models.F(). This simplifies generated migration code where it will be referenced only as from django.db import models / models.F().
As Mariusz pointed out on the PR, the same technique can be applied to other expressions, further simplifying generated migrations.

Patch information:
diff --git a/django/db/models/expressions.py b/django/db/models/expressions.py
index 8642e1f151..9705863917 100644
--- a/django/db/models/expressions.py
+++ b/django/db/models/expressions.py
@@ -390,7 +390,7 @@ class BaseExpression:
         return sql, params
 
 
-@deconstructible
+@deconstructible(path='django.db.models.Expression')
 class Expression(BaseExpression, Combinable):
     """An expression that can be combined with other expressions."""
 
@@ -639,6 +639,7 @@ class ResolvedOuterRef(F):
         return []
 
 
+@deconstructible(path='django.db.models.OuterRef')
 class OuterRef(F):
     contains_aggregate = False
 
@@ -651,6 +652,7 @@ class OuterRef(F):
         return self
 
 
+@deconstructible(path='django.db.models.Func')
 class Func(SQLiteNumericMixin, Expression):
     """An SQL function call."""
     function = None
@@ -731,6 +733,7 @@ class Func(SQLiteNumericMixin, Expression):
         return copy
 
 
+@deconstructible(path='django.db.models.Value')
 class Value(SQLiteNumericMixin, Expression):
     """Represent a wrapped value as a node within an expression."""
     # Provide a default value for `for_save` in order to allow unresolved
@@ -912,6 +915,7 @@ class Ref(Expression):
         return [self]
 
 
+@deconstructible(path='django.db.models.ExpressionList')
 class ExpressionList(Func):
     """
     An expression containing multiple expressions. Can be used to provide a
@@ -953,6 +957,7 @@ class OrderByList(Func):
         return super().as_sql(*args, **kwargs)
 
 
+@deconstructible(path='django.db.models.ExpressionWrapper')
 class ExpressionWrapper(SQLiteNumericMixin, Expression):
     """
     An expression that can wrap another expression so that it can provide
@@ -985,6 +990,7 @@ class ExpressionWrapper(SQLiteNumericMixin, Expression):
         return "{}({})".format(self.__class__.__name__, self.expression)
 
 
+@deconstructible(path='django.db.models.When')
 class When(Expression):
     template = 'WHEN %(condition)s THEN %(result)s'
     # This isn't a complete conditional expression, must be used in Case().
@@ -1052,6 +1058,7 @@ class When(Expression):
         return cols
 
 
+@deconstructible(path='django.db.models.Case')
 class Case(SQLiteNumericMixin, Expression):
     """
     An SQL searched CASE expression:
@@ -1133,6 +1140,7 @@ class Case(SQLiteNumericMixin, Expression):
         return super().get_group_by_cols(alias)
 
 
+@deconstructible(path='django.db.models.Subquery')
 class Subquery(BaseExpression, Combinable):
     """
     An explicit subquery. It may contain OuterRef() references to the outer
@@ -1190,6 +1198,7 @@ class Subquery(BaseExpression, Combinable):
         return self.query.get_group_by_cols()
 
 
+@deconstructible(path='django.db.models.Exists')
 class Exists(Subquery):
     template = 'EXISTS(%(subquery)s)'
     output_field = fields.BooleanField()
@@ -1225,6 +1234,7 @@ class Exists(Subquery):
         return sql, params
 
 
+@deconstructible(path='django.db.models.OrderBy')
 class OrderBy(Expression):
     template = '%(expression)s %(ordering)s'
     conditional = False
@@ -1307,6 +1317,7 @@ class OrderBy(Expression):
         self.descending = True
 
 
+@deconstructible(path='django.db.models.Window')
 class Window(SQLiteNumericMixin, Expression):
     template = '%(expression)s OVER (%(window)s)'
     # Although the main expression may either be an aggregate or an
@@ -1412,6 +1423,7 @@ class Window(SQLiteNumericMixin, Expression):
         return []
 
 
+@deconstructible(path='django.db.models.WindowFrame')
 class WindowFrame(Expression):
     """
     Model the frame clause in window expressions. There are two types of frame
@@ -1471,6 +1483,7 @@ class WindowFrame(Expression):
         raise NotImplementedError('Subclasses must implement window_frame_start_end().')
 
 
+@deconstructible(path='django.db.models.RowRange')
 class RowRange(WindowFrame):
     frame_type = 'ROWS'
 
@@ -1478,6 +1491,7 @@ class RowRange(WindowFrame):
         return connection.ops.window_frame_rows_start_end(start, end)
 
 
+@deconstructible(path='django.db.models.ValueRange')
 class ValueRange(WindowFrame):
     frame_type = 'RANGE'
 


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of tests/migrations/test_writer.py
Extra Requirements: 
Purpose: This file is expected to contain test cases that assert the string representation of deconstructed expression objects, which is directly related to the user's change.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/migrations/test_writer.py
Line number range: 1 - 843
Content:
1. import datetime
2. import decimal
3. import enum
4. import functools
5. import math
6. import os
7. import pathlib
8. import re
9. import sys
10. import uuid
11. from unittest import mock
12. 
13. try:
14.     import zoneinfo
15. except ImportError:
16.     from backports import zoneinfo
17. 
18. try:
19.     import pytz
20. except ImportError:
21.     pytz = None
22. 
23. import custom_migration_operations.more_operations
24. import custom_migration_operations.operations
25. 
26. from django import get_version
27. from django.conf import SettingsReference, settings
28. from django.core.validators import EmailValidator, RegexValidator
29. from django.db import migrations, models
30. from django.db.migrations.serializer import BaseSerializer
31. from django.db.migrations.writer import MigrationWriter, OperationWriter
32. from django.test import SimpleTestCase
33. from django.utils.deconstruct import deconstructible
34. from django.utils.functional import SimpleLazyObject
35. from django.utils.timezone import get_default_timezone, get_fixed_timezone, utc
36. from django.utils.translation import gettext_lazy as _
37. 
38. from .models import FoodManager, FoodQuerySet
39. 
40. 
41. class DeconstructibleInstances:
42.     def deconstruct(self):
43.         return ('DeconstructibleInstances', [], {})
44. 
45. 
46. class Money(decimal.Decimal):
47.     def deconstruct(self):
48.         return (
49.             '%s.%s' % (self.__class__.__module__, self.__class__.__name__),
50.             [str(self)],
51.             {}
52.         )
53. 
54. 
55. class TestModel1:
56.     def upload_to(self):
57.         return '/somewhere/dynamic/'
58.     thing = models.FileField(upload_to=upload_to)
59. 
60. 
61. class TextEnum(enum.Enum):
62.     A = 'a-value'
63.     B = 'value-b'
64. 
65. 
66. class TextTranslatedEnum(enum.Enum):
67.     A = _('a-value')
68.     B = _('value-b')
69. 
70. 
71. class BinaryEnum(enum.Enum):
72.     A = b'a-value'
73.     B = b'value-b'
74. 
75. 
76. class IntEnum(enum.IntEnum):
77.     A = 1
78.     B = 2
79. 
80. 
81. class OperationWriterTests(SimpleTestCase):
82. 
83.     def test_empty_signature(self):
84.         operation = custom_migration_operations.operations.TestOperation()
85.         buff, imports = OperationWriter(operation, indentation=0).serialize()
86.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
87.         self.assertEqual(
88.             buff,
89.             'custom_migration_operations.operations.TestOperation(\n'
90.             '),'
91.         )
92. 
93.     def test_args_signature(self):
94.         operation = custom_migration_operations.operations.ArgsOperation(1, 2)
95.         buff, imports = OperationWriter(operation, indentation=0).serialize()
96.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
97.         self.assertEqual(
98.             buff,
99.             'custom_migration_operations.operations.ArgsOperation(\n'
100.             '    arg1=1,\n'
101.             '    arg2=2,\n'
102.             '),'
103.         )
104. 
105.     def test_kwargs_signature(self):
106.         operation = custom_migration_operations.operations.KwargsOperation(kwarg1=1)
107.         buff, imports = OperationWriter(operation, indentation=0).serialize()
108.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
109.         self.assertEqual(
110.             buff,
111.             'custom_migration_operations.operations.KwargsOperation(\n'
112.             '    kwarg1=1,\n'
113.             '),'
114.         )
115. 
116.     def test_args_kwargs_signature(self):
117.         operation = custom_migration_operations.operations.ArgsKwargsOperation(1, 2, kwarg2=4)
118.         buff, imports = OperationWriter(operation, indentation=0).serialize()
119.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
120.         self.assertEqual(
121.             buff,
122.             'custom_migration_operations.operations.ArgsKwargsOperation(\n'
123.             '    arg1=1,\n'
124.             '    arg2=2,\n'
125.             '    kwarg2=4,\n'
126.             '),'
127.         )
128. 
129.     def test_nested_args_signature(self):
130.         operation = custom_migration_operations.operations.ArgsOperation(
131.             custom_migration_operations.operations.ArgsOperation(1, 2),
132.             custom_migration_operations.operations.KwargsOperation(kwarg1=3, kwarg2=4)
133.         )
134.         buff, imports = OperationWriter(operation, indentation=0).serialize()
135.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
136.         self.assertEqual(
137.             buff,
138.             'custom_migration_operations.operations.ArgsOperation(\n'
139.             '    arg1=custom_migration_operations.operations.ArgsOperation(\n'
140.             '        arg1=1,\n'
141.             '        arg2=2,\n'
142.             '    ),\n'
143.             '    arg2=custom_migration_operations.operations.KwargsOperation(\n'
144.             '        kwarg1=3,\n'
145.             '        kwarg2=4,\n'
146.             '    ),\n'
147.             '),'
148.         )
149. 
150.     def test_multiline_args_signature(self):
151.         operation = custom_migration_operations.operations.ArgsOperation("test\n    arg1", "test\narg2")
152.         buff, imports = OperationWriter(operation, indentation=0).serialize()
153.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
154.         self.assertEqual(
155.             buff,
156.             "custom_migration_operations.operations.ArgsOperation(\n"
157.             "    arg1='test\\n    arg1',\n"
158.             "    arg2='test\\narg2',\n"
159.             "),"
160.         )
161. 
162.     def test_expand_args_signature(self):
163.         operation = custom_migration_operations.operations.ExpandArgsOperation([1, 2])
164.         buff, imports = OperationWriter(operation, indentation=0).serialize()
165.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
166.         self.assertEqual(
167.             buff,
168.             'custom_migration_operations.operations.ExpandArgsOperation(\n'
169.             '    arg=[\n'
170.             '        1,\n'
171.             '        2,\n'
172.             '    ],\n'
173.             '),'
174.         )
175. 
176.     def test_nested_operation_expand_args_signature(self):
177.         operation = custom_migration_operations.operations.ExpandArgsOperation(
178.             arg=[
179.                 custom_migration_operations.operations.KwargsOperation(
180.                     kwarg1=1,
181.                     kwarg2=2,
182.                 ),
183.             ]
184.         )
185.         buff, imports = OperationWriter(operation, indentation=0).serialize()
186.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
187.         self.assertEqual(
188.             buff,
189.             'custom_migration_operations.operations.ExpandArgsOperation(\n'
190.             '    arg=[\n'
191.             '        custom_migration_operations.operations.KwargsOperation(\n'
192.             '            kwarg1=1,\n'
193.             '            kwarg2=2,\n'
194.             '        ),\n'
195.             '    ],\n'
196.             '),'
197.         )
198. 
199. 
200. class WriterTests(SimpleTestCase):
201.     """
202.     Tests the migration writer (makes migration files from Migration instances)
203.     """
204.     class NestedEnum(enum.IntEnum):
205.         A = 1
206.         B = 2
207. 
208.     class NestedChoices(models.TextChoices):
209.         X = 'X', 'X value'
210.         Y = 'Y', 'Y value'
211. 
212.     def safe_exec(self, string, value=None):
213.         d = {}
214.         try:
215.             exec(string, globals(), d)
216.         except Exception as e:
217.             if value:
218.                 self.fail("Could not exec %r (from value %r): %s" % (string.strip(), value, e))
219.             else:
220.                 self.fail("Could not exec %r: %s" % (string.strip(), e))
221.         return d
222. 
223.     def serialize_round_trip(self, value):
224.         string, imports = MigrationWriter.serialize(value)
225.         return self.safe_exec("%s\ntest_value_result = %s" % ("\n".join(imports), string), value)['test_value_result']
226. 
227.     def assertSerializedEqual(self, value):
228.         self.assertEqual(self.serialize_round_trip(value), value)
229. 
230.     def assertSerializedResultEqual(self, value, target):
231.         self.assertEqual(MigrationWriter.serialize(value), target)
232. 
233.     def assertSerializedFieldEqual(self, value):
234.         new_value = self.serialize_round_trip(value)
235.         self.assertEqual(value.__class__, new_value.__class__)
236.         self.assertEqual(value.max_length, new_value.max_length)
237.         self.assertEqual(value.null, new_value.null)
238.         self.assertEqual(value.unique, new_value.unique)
239. 
240.     def test_serialize_numbers(self):
241.         self.assertSerializedEqual(1)
242.         self.assertSerializedEqual(1.2)
243.         self.assertTrue(math.isinf(self.serialize_round_trip(float("inf"))))
244.         self.assertTrue(math.isinf(self.serialize_round_trip(float("-inf"))))
245.         self.assertTrue(math.isnan(self.serialize_round_trip(float("nan"))))
246. 
247.         self.assertSerializedEqual(decimal.Decimal('1.3'))
248.         self.assertSerializedResultEqual(
249.             decimal.Decimal('1.3'),
250.             ("Decimal('1.3')", {'from decimal import Decimal'})
251.         )
252. 
253.         self.assertSerializedEqual(Money('1.3'))
254.         self.assertSerializedResultEqual(
255.             Money('1.3'),
256.             ("migrations.test_writer.Money('1.3')", {'import migrations.test_writer'})
257.         )
258. 
259.     def test_serialize_constants(self):
260.         self.assertSerializedEqual(None)
261.         self.assertSerializedEqual(True)
262.         self.assertSerializedEqual(False)
263. 
264.     def test_serialize_strings(self):
265.         self.assertSerializedEqual(b"foobar")
266.         string, imports = MigrationWriter.serialize(b"foobar")
267.         self.assertEqual(string, "b'foobar'")
268.         self.assertSerializedEqual("föobár")
269.         string, imports = MigrationWriter.serialize("foobar")
270.         self.assertEqual(string, "'foobar'")
271. 
272.     def test_serialize_multiline_strings(self):
273.         self.assertSerializedEqual(b"foo\nbar")
274.         string, imports = MigrationWriter.serialize(b"foo\nbar")
275.         self.assertEqual(string, "b'foo\\nbar'")
276.         self.assertSerializedEqual("föo\nbár")
277.         string, imports = MigrationWriter.serialize("foo\nbar")
278.         self.assertEqual(string, "'foo\\nbar'")
279. 
280.     def test_serialize_collections(self):
281.         self.assertSerializedEqual({1: 2})
282.         self.assertSerializedEqual(["a", 2, True, None])
283.         self.assertSerializedEqual({2, 3, "eighty"})
284.         self.assertSerializedEqual({"lalalala": ["yeah", "no", "maybe"]})
285.         self.assertSerializedEqual(_('Hello'))
286. 
287.     def test_serialize_builtin_types(self):
288.         self.assertSerializedEqual([list, tuple, dict, set, frozenset])
289.         self.assertSerializedResultEqual(
290.             [list, tuple, dict, set, frozenset],
291.             ("[list, tuple, dict, set, frozenset]", set())
292.         )
293. 
294.     def test_serialize_lazy_objects(self):
295.         pattern = re.compile(r'^foo$')
296.         lazy_pattern = SimpleLazyObject(lambda: pattern)
297.         self.assertEqual(self.serialize_round_trip(lazy_pattern), pattern)
298. 
299.     def test_serialize_enums(self):
300.         self.assertSerializedResultEqual(
301.             TextEnum.A,
302.             ("migrations.test_writer.TextEnum['A']", {'import migrations.test_writer'})
303.         )
304.         self.assertSerializedResultEqual(
305.             TextTranslatedEnum.A,
306.             ("migrations.test_writer.TextTranslatedEnum['A']", {'import migrations.test_writer'})
307.         )
308.         self.assertSerializedResultEqual(
309.             BinaryEnum.A,
310.             ("migrations.test_writer.BinaryEnum['A']", {'import migrations.test_writer'})
311.         )
312.         self.assertSerializedResultEqual(
313.             IntEnum.B,
314.             ("migrations.test_writer.IntEnum['B']", {'import migrations.test_writer'})
315.         )
316.         self.assertSerializedResultEqual(
317.             self.NestedEnum.A,
318.             (
319.                 "migrations.test_writer.WriterTests.NestedEnum['A']",
320.                 {'import migrations.test_writer'},
321.             ),
322.         )
323.         self.assertSerializedEqual(self.NestedEnum.A)
324. 
325.         field = models.CharField(default=TextEnum.B, choices=[(m.value, m) for m in TextEnum])
326.         string = MigrationWriter.serialize(field)[0]
327.         self.assertEqual(
328.             string,
329.             "models.CharField(choices=["
330.             "('a-value', migrations.test_writer.TextEnum['A']), "
331.             "('value-b', migrations.test_writer.TextEnum['B'])], "
332.             "default=migrations.test_writer.TextEnum['B'])"
333.         )
334.         field = models.CharField(
335.             default=TextTranslatedEnum.A,
336.             choices=[(m.value, m) for m in TextTranslatedEnum],
337.         )
338.         string = MigrationWriter.serialize(field)[0]
339.         self.assertEqual(
340.             string,
341.             "models.CharField(choices=["
342.             "('a-value', migrations.test_writer.TextTranslatedEnum['A']), "
343.             "('value-b', migrations.test_writer.TextTranslatedEnum['B'])], "
344.             "default=migrations.test_writer.TextTranslatedEnum['A'])"
345.         )
346.         field = models.CharField(default=BinaryEnum.B, choices=[(m.value, m) for m in BinaryEnum])
347.         string = MigrationWriter.serialize(field)[0]
348.         self.assertEqual(
349.             string,
350.             "models.CharField(choices=["
351.             "(b'a-value', migrations.test_writer.BinaryEnum['A']), "
352.             "(b'value-b', migrations.test_writer.BinaryEnum['B'])], "
353.             "default=migrations.test_writer.BinaryEnum['B'])"
354.         )
355.         field = models.IntegerField(default=IntEnum.A, choices=[(m.value, m) for m in IntEnum])
356.         string = MigrationWriter.serialize(field)[0]
357.         self.assertEqual(
358.             string,
359.             "models.IntegerField(choices=["
360.             "(1, migrations.test_writer.IntEnum['A']), "
361.             "(2, migrations.test_writer.IntEnum['B'])], "
362.             "default=migrations.test_writer.IntEnum['A'])"
363.         )
364. 
365.     def test_serialize_choices(self):
366.         class TextChoices(models.TextChoices):
367.             A = 'A', 'A value'
368.             B = 'B', 'B value'
369. 
370.         class IntegerChoices(models.IntegerChoices):
371.             A = 1, 'One'
372.             B = 2, 'Two'
373. 
374.         class DateChoices(datetime.date, models.Choices):
375.             DATE_1 = 1969, 7, 20, 'First date'
376.             DATE_2 = 1969, 11, 19, 'Second date'
377. 
378.         self.assertSerializedResultEqual(TextChoices.A, ("'A'", set()))
379.         self.assertSerializedResultEqual(IntegerChoices.A, ('1', set()))
380.         self.assertSerializedResultEqual(
381.             DateChoices.DATE_1,
382.             ('datetime.date(1969, 7, 20)', {'import datetime'}),
383.         )
384.         field = models.CharField(default=TextChoices.B, choices=TextChoices.choices)
385.         string = MigrationWriter.serialize(field)[0]
386.         self.assertEqual(
387.             string,
388.             "models.CharField(choices=[('A', 'A value'), ('B', 'B value')], "
389.             "default='B')",
390.         )
391.         field = models.IntegerField(default=IntegerChoices.B, choices=IntegerChoices.choices)
392.         string = MigrationWriter.serialize(field)[0]
393.         self.assertEqual(
394.             string,
395.             "models.IntegerField(choices=[(1, 'One'), (2, 'Two')], default=2)",
396.         )
397.         field = models.DateField(default=DateChoices.DATE_2, choices=DateChoices.choices)
398.         string = MigrationWriter.serialize(field)[0]
399.         self.assertEqual(
400.             string,
401.             "models.DateField(choices=["
402.             "(datetime.date(1969, 7, 20), 'First date'), "
403.             "(datetime.date(1969, 11, 19), 'Second date')], "
404.             "default=datetime.date(1969, 11, 19))"
405.         )
406. 
407.     def test_serialize_nested_class(self):
408.         for nested_cls in [self.NestedEnum, self.NestedChoices]:
409.             cls_name = nested_cls.__name__
410.             with self.subTest(cls_name):
411.                 self.assertSerializedResultEqual(
412.                     nested_cls,
413.                     (
414.                         "migrations.test_writer.WriterTests.%s" % cls_name,
415.                         {'import migrations.test_writer'},
416.                     ),
417.                 )
418. 
419.     def test_serialize_uuid(self):
420.         self.assertSerializedEqual(uuid.uuid1())
421.         self.assertSerializedEqual(uuid.uuid4())
422. 
423.         uuid_a = uuid.UUID('5c859437-d061-4847-b3f7-e6b78852f8c8')
424.         uuid_b = uuid.UUID('c7853ec1-2ea3-4359-b02d-b54e8f1bcee2')
425.         self.assertSerializedResultEqual(
426.             uuid_a,
427.             ("uuid.UUID('5c859437-d061-4847-b3f7-e6b78852f8c8')", {'import uuid'})
428.         )
429.         self.assertSerializedResultEqual(
430.             uuid_b,
431.             ("uuid.UUID('c7853ec1-2ea3-4359-b02d-b54e8f1bcee2')", {'import uuid'})
432.         )
433. 
434.         field = models.UUIDField(choices=((uuid_a, 'UUID A'), (uuid_b, 'UUID B')), default=uuid_a)
435.         string = MigrationWriter.serialize(field)[0]
436.         self.assertEqual(
437.             string,
438.             "models.UUIDField(choices=["
439.             "(uuid.UUID('5c859437-d061-4847-b3f7-e6b78852f8c8'), 'UUID A'), "
440.             "(uuid.UUID('c7853ec1-2ea3-4359-b02d-b54e8f1bcee2'), 'UUID B')], "
441.             "default=uuid.UUID('5c859437-d061-4847-b3f7-e6b78852f8c8'))"
442.         )
443. 
444.     def test_serialize_pathlib(self):
445.         # Pure path objects work in all platforms.
446.         self.assertSerializedEqual(pathlib.PurePosixPath())
447.         self.assertSerializedEqual(pathlib.PureWindowsPath())
448.         path = pathlib.PurePosixPath('/path/file.txt')
449.         expected = ("pathlib.PurePosixPath('/path/file.txt')", {'import pathlib'})
450.         self.assertSerializedResultEqual(path, expected)
451.         path = pathlib.PureWindowsPath('A:\\File.txt')
452.         expected = ("pathlib.PureWindowsPath('A:/File.txt')", {'import pathlib'})
453.         self.assertSerializedResultEqual(path, expected)
454.         # Concrete path objects work on supported platforms.
455.         if sys.platform == 'win32':
456.             self.assertSerializedEqual(pathlib.WindowsPath.cwd())
457.             path = pathlib.WindowsPath('A:\\File.txt')
458.             expected = ("pathlib.PureWindowsPath('A:/File.txt')", {'import pathlib'})
459.             self.assertSerializedResultEqual(path, expected)
460.         else:
461.             self.assertSerializedEqual(pathlib.PosixPath.cwd())
462.             path = pathlib.PosixPath('/path/file.txt')
463.             expected = ("pathlib.PurePosixPath('/path/file.txt')", {'import pathlib'})
464.             self.assertSerializedResultEqual(path, expected)
465. 
466.         field = models.FilePathField(path=pathlib.PurePosixPath('/home/user'))
467.         string, imports = MigrationWriter.serialize(field)
468.         self.assertEqual(
469.             string,
470.             "models.FilePathField(path=pathlib.PurePosixPath('/home/user'))",
471.         )
472.         self.assertIn('import pathlib', imports)
473. 
474.     def test_serialize_path_like(self):
475.         with os.scandir(os.path.dirname(__file__)) as entries:
476.             path_like = list(entries)[0]
477.         expected = (repr(path_like.path), {})
478.         self.assertSerializedResultEqual(path_like, expected)
479. 
480.         field = models.FilePathField(path=path_like)
481.         string = MigrationWriter.serialize(field)[0]
482.         self.assertEqual(string, 'models.FilePathField(path=%r)' % path_like.path)
483. 
484.     def test_serialize_functions(self):
485.         with self.assertRaisesMessage(ValueError, 'Cannot serialize function: lambda'):
486.             self.assertSerializedEqual(lambda x: 42)
487.         self.assertSerializedEqual(models.SET_NULL)
488.         string, imports = MigrationWriter.serialize(models.SET(42))
489.         self.assertEqual(string, 'models.SET(42)')
490.         self.serialize_round_trip(models.SET(42))
491. 
492.     def test_serialize_datetime(self):
493.         self.assertSerializedEqual(datetime.datetime.now())
494.         self.assertSerializedEqual(datetime.datetime.now)
495.         self.assertSerializedEqual(datetime.datetime.today())
496.         self.assertSerializedEqual(datetime.datetime.today)
497.         self.assertSerializedEqual(datetime.date.today())
498.         self.assertSerializedEqual(datetime.date.today)
499.         self.assertSerializedEqual(datetime.datetime.now().time())
500.         self.assertSerializedEqual(datetime.datetime(2014, 1, 1, 1, 1, tzinfo=get_default_timezone()))
501.         self.assertSerializedEqual(datetime.datetime(2013, 12, 31, 22, 1, tzinfo=get_fixed_timezone(180)))
502.         self.assertSerializedResultEqual(
503.             datetime.datetime(2014, 1, 1, 1, 1),
504.             ("datetime.datetime(2014, 1, 1, 1, 1)", {'import datetime'})
505.         )
506.         for tzinfo in (utc, datetime.timezone.utc):
507.             with self.subTest(tzinfo=tzinfo):
508.                 self.assertSerializedResultEqual(
509.                     datetime.datetime(2012, 1, 1, 1, 1, tzinfo=tzinfo),
510.                     (
511.                         "datetime.datetime(2012, 1, 1, 1, 1, tzinfo=utc)",
512.                         {'import datetime', 'from django.utils.timezone import utc'},
513.                     )
514.                 )
515. 
516.         self.assertSerializedResultEqual(
517.             datetime.datetime(2012, 1, 1, 2, 1, tzinfo=zoneinfo.ZoneInfo('Europe/Paris')),
518.             (
519.                 "datetime.datetime(2012, 1, 1, 1, 1, tzinfo=utc)",
520.                 {'import datetime', 'from django.utils.timezone import utc'},
521.             )
522.         )
523.         if pytz:
524.             self.assertSerializedResultEqual(
525.                 pytz.timezone('Europe/Paris').localize(datetime.datetime(2012, 1, 1, 2, 1)),
526.                 (
527.                     "datetime.datetime(2012, 1, 1, 1, 1, tzinfo=utc)",
528.                     {'import datetime', 'from django.utils.timezone import utc'},
529.                 )
530.             )
531. 
532.     def test_serialize_fields(self):
533.         self.assertSerializedFieldEqual(models.CharField(max_length=255))
534.         self.assertSerializedResultEqual(
535.             models.CharField(max_length=255),
536.             ("models.CharField(max_length=255)", {"from django.db import models"})
537.         )
538.         self.assertSerializedFieldEqual(models.TextField(null=True, blank=True))
539.         self.assertSerializedResultEqual(
540.             models.TextField(null=True, blank=True),
541.             ("models.TextField(blank=True, null=True)", {'from django.db import models'})
542.         )
543. 
544.     def test_serialize_settings(self):
545.         self.assertSerializedEqual(SettingsReference(settings.AUTH_USER_MODEL, "AUTH_USER_MODEL"))
546.         self.assertSerializedResultEqual(
547.             SettingsReference("someapp.model", "AUTH_USER_MODEL"),
548.             ("settings.AUTH_USER_MODEL", {"from django.conf import settings"})
549.         )
550. 
551.     def test_serialize_iterators(self):
552.         self.assertSerializedResultEqual(
553.             ((x, x * x) for x in range(3)),
554.             ("((0, 0), (1, 1), (2, 4))", set())
555.         )
556. 
557.     def test_serialize_compiled_regex(self):
558.         """
559.         Make sure compiled regex can be serialized.
560.         """
561.         regex = re.compile(r'^\w+$')
562.         self.assertSerializedEqual(regex)
563. 
564.     def test_serialize_class_based_validators(self):
565.         """
566.         Ticket #22943: Test serialization of class-based validators, including
567.         compiled regexes.
568.         """
569.         validator = RegexValidator(message="hello")
570.         string = MigrationWriter.serialize(validator)[0]
571.         self.assertEqual(string, "django.core.validators.RegexValidator(message='hello')")
572.         self.serialize_round_trip(validator)
573. 
574.         # Test with a compiled regex.
575.         validator = RegexValidator(regex=re.compile(r'^\w+$'))
576.         string = MigrationWriter.serialize(validator)[0]
577.         self.assertEqual(string, "django.core.validators.RegexValidator(regex=re.compile('^\\\\w+$'))")
578.         self.serialize_round_trip(validator)
579. 
580.         # Test a string regex with flag
581.         validator = RegexValidator(r'^[0-9]+$', flags=re.S)
582.         string = MigrationWriter.serialize(validator)[0]
583.         self.assertEqual(string, "django.core.validators.RegexValidator('^[0-9]+$', flags=re.RegexFlag['DOTALL'])")
584.         self.serialize_round_trip(validator)
585. 
586.         # Test message and code
587.         validator = RegexValidator('^[-a-zA-Z0-9_]+$', 'Invalid', 'invalid')
588.         string = MigrationWriter.serialize(validator)[0]
589.         self.assertEqual(string, "django.core.validators.RegexValidator('^[-a-zA-Z0-9_]+$', 'Invalid', 'invalid')")
590.         self.serialize_round_trip(validator)
591. 
592.         # Test with a subclass.
593.         validator = EmailValidator(message="hello")
594.         string = MigrationWriter.serialize(validator)[0]
595.         self.assertEqual(string, "django.core.validators.EmailValidator(message='hello')")
596.         self.serialize_round_trip(validator)
597. 
598.         validator = deconstructible(path="migrations.test_writer.EmailValidator")(EmailValidator)(message="hello")
599.         string = MigrationWriter.serialize(validator)[0]
600.         self.assertEqual(string, "migrations.test_writer.EmailValidator(message='hello')")
601. 
602.         validator = deconstructible(path="custom.EmailValidator")(EmailValidator)(message="hello")
603.         with self.assertRaisesMessage(ImportError, "No module named 'custom'"):
604.             MigrationWriter.serialize(validator)
605. 
606.         validator = deconstructible(path="django.core.validators.EmailValidator2")(EmailValidator)(message="hello")
607.         with self.assertRaisesMessage(ValueError, "Could not find object EmailValidator2 in django.core.validators."):
608.             MigrationWriter.serialize(validator)
609. 
610.     def test_serialize_empty_nonempty_tuple(self):
611.         """
612.         Ticket #22679: makemigrations generates invalid code for (an empty
613.         tuple) default_permissions = ()
614.         """
615.         empty_tuple = ()
616.         one_item_tuple = ('a',)
617.         many_items_tuple = ('a', 'b', 'c')
618.         self.assertSerializedEqual(empty_tuple)
619.         self.assertSerializedEqual(one_item_tuple)
620.         self.assertSerializedEqual(many_items_tuple)
621. 
622.     def test_serialize_range(self):
623.         string, imports = MigrationWriter.serialize(range(1, 5))
624.         self.assertEqual(string, 'range(1, 5)')
625.         self.assertEqual(imports, set())
626. 
627.     def test_serialize_builtins(self):
628.         string, imports = MigrationWriter.serialize(range)
629.         self.assertEqual(string, 'range')
630.         self.assertEqual(imports, set())
631. 
632.     def test_serialize_unbound_method_reference(self):
633.         """An unbound method used within a class body can be serialized."""
634.         self.serialize_round_trip(TestModel1.thing)
635. 
636.     def test_serialize_local_function_reference(self):
637.         """A reference in a local scope can't be serialized."""
638.         class TestModel2:
639.             def upload_to(self):
640.                 return "somewhere dynamic"
641.             thing = models.FileField(upload_to=upload_to)
642. 
643.         with self.assertRaisesMessage(ValueError, 'Could not find function upload_to in migrations.test_writer'):
644.             self.serialize_round_trip(TestModel2.thing)
645. 
646.     def test_serialize_managers(self):
647.         self.assertSerializedEqual(models.Manager())
648.         self.assertSerializedResultEqual(
649.             FoodQuerySet.as_manager(),
650.             ('migrations.models.FoodQuerySet.as_manager()', {'import migrations.models'})
651.         )
652.         self.assertSerializedEqual(FoodManager('a', 'b'))
653.         self.assertSerializedEqual(FoodManager('x', 'y', c=3, d=4))
654. 
655.     def test_serialize_frozensets(self):
656.         self.assertSerializedEqual(frozenset())
657.         self.assertSerializedEqual(frozenset("let it go"))
658. 
659.     def test_serialize_set(self):
660.         self.assertSerializedEqual(set())
661.         self.assertSerializedResultEqual(set(), ('set()', set()))
662.         self.assertSerializedEqual({'a'})
663.         self.assertSerializedResultEqual({'a'}, ("{'a'}", set()))
664. 
665.     def test_serialize_timedelta(self):
666.         self.assertSerializedEqual(datetime.timedelta())
667.         self.assertSerializedEqual(datetime.timedelta(minutes=42))
668. 
669.     def test_serialize_functools_partial(self):
670.         value = functools.partial(datetime.timedelta, 1, seconds=2)
671.         result = self.serialize_round_trip(value)
672.         self.assertEqual(result.func, value.func)
673.         self.assertEqual(result.args, value.args)
674.         self.assertEqual(result.keywords, value.keywords)
675. 
676.     def test_serialize_functools_partialmethod(self):
677.         value = functools.partialmethod(datetime.timedelta, 1, seconds=2)
678.         result = self.serialize_round_trip(value)
679.         self.assertIsInstance(result, functools.partialmethod)
680.         self.assertEqual(result.func, value.func)
681.         self.assertEqual(result.args, value.args)
682.         self.assertEqual(result.keywords, value.keywords)
683. 
684.     def test_serialize_type_none(self):
685.         self.assertSerializedEqual(type(None))
686. 
687.     def test_serialize_type_model(self):
688.         self.assertSerializedEqual(models.Model)
689.         self.assertSerializedResultEqual(
690.             MigrationWriter.serialize(models.Model),
691.             ("('models.Model', {'from django.db import models'})", set()),
692.         )
693. 
694.     def test_simple_migration(self):
695.         """
696.         Tests serializing a simple migration.
697.         """
698.         fields = {
699.             'charfield': models.DateTimeField(default=datetime.datetime.now),
700.             'datetimefield': models.DateTimeField(default=datetime.datetime.now),
701.         }
702. 
703.         options = {
704.             'verbose_name': 'My model',
705.             'verbose_name_plural': 'My models',
706.         }
707. 
708.         migration = type("Migration", (migrations.Migration,), {
709.             "operations": [
710.                 migrations.CreateModel("MyModel", tuple(fields.items()), options, (models.Model,)),
711.                 migrations.CreateModel("MyModel2", tuple(fields.items()), bases=(models.Model,)),
712.                 migrations.CreateModel(
713.                     name="MyModel3", fields=tuple(fields.items()), options=options, bases=(models.Model,)
714.                 ),
715.                 migrations.DeleteModel("MyModel"),
716.                 migrations.AddField("OtherModel", "datetimefield", fields["datetimefield"]),
717.             ],
718.             "dependencies": [("testapp", "some_other_one")],
719.         })
720.         writer = MigrationWriter(migration)
721.         output = writer.as_string()
722.         # We don't test the output formatting - that's too fragile.
723.         # Just make sure it runs for now, and that things look alright.
724.         result = self.safe_exec(output)
725.         self.assertIn("Migration", result)
726. 
727.     def test_migration_path(self):
728.         test_apps = [
729.             'migrations.migrations_test_apps.normal',
730.             'migrations.migrations_test_apps.with_package_model',
731.             'migrations.migrations_test_apps.without_init_file',
732.         ]
733. 
734.         base_dir = os.path.dirname(os.path.dirname(__file__))
735. 
736.         for app in test_apps:
737.             with self.modify_settings(INSTALLED_APPS={'append': app}):
738.                 migration = migrations.Migration('0001_initial', app.split('.')[-1])
739.                 expected_path = os.path.join(base_dir, *(app.split('.') + ['migrations', '0001_initial.py']))
740.                 writer = MigrationWriter(migration)
741.                 self.assertEqual(writer.path, expected_path)
742. 
743.     def test_custom_operation(self):
744.         migration = type("Migration", (migrations.Migration,), {
745.             "operations": [
746.                 custom_migration_operations.operations.TestOperation(),
747.                 custom_migration_operations.operations.CreateModel(),
748.                 migrations.CreateModel("MyModel", (), {}, (models.Model,)),
749.                 custom_migration_operations.more_operations.TestOperation()
750.             ],
751.             "dependencies": []
752.         })
753.         writer = MigrationWriter(migration)
754.         output = writer.as_string()
755.         result = self.safe_exec(output)
756.         self.assertIn("custom_migration_operations", result)
757.         self.assertNotEqual(
758.             result['custom_migration_operations'].operations.TestOperation,
759.             result['custom_migration_operations'].more_operations.TestOperation
760.         )
761. 
762.     def test_sorted_imports(self):
763.         """
764.         #24155 - Tests ordering of imports.
765.         """
766.         migration = type("Migration", (migrations.Migration,), {
767.             "operations": [
768.                 migrations.AddField("mymodel", "myfield", models.DateTimeField(
769.                     default=datetime.datetime(2012, 1, 1, 1, 1, tzinfo=utc),
770.                 )),
771.             ]
772.         })
773.         writer = MigrationWriter(migration)
774.         output = writer.as_string()
775.         self.assertIn(
776.             "import datetime\n"
777.             "from django.db import migrations, models\n"
778.             "from django.utils.timezone import utc\n",
779.             output
780.         )
781. 
782.     def test_migration_file_header_comments(self):
783.         """
784.         Test comments at top of file.
785.         """
786.         migration = type("Migration", (migrations.Migration,), {
787.             "operations": []
788.         })
789.         dt = datetime.datetime(2015, 7, 31, 4, 40, 0, 0, tzinfo=utc)
790.         with mock.patch('django.db.migrations.writer.now', lambda: dt):
791.             for include_header in (True, False):
792.                 with self.subTest(include_header=include_header):
793.                     writer = MigrationWriter(migration, include_header)
794.                     output = writer.as_string()
795. 
796.                     self.assertEqual(
797.                         include_header,
798.                         output.startswith(
799.                             "# Generated by Django %s on 2015-07-31 04:40\n\n" % get_version()
800.                         )
801.                     )
802.                     if not include_header:
803.                         # Make sure the output starts with something that's not
804.                         # a comment or indentation or blank line
805.                         self.assertRegex(output.splitlines(keepends=True)[0], r"^[^#\s]+")
806. 
807.     def test_models_import_omitted(self):
808.         """
809.         django.db.models shouldn't be imported if unused.
810.         """
811.         migration = type("Migration", (migrations.Migration,), {
812.             "operations": [
813.                 migrations.AlterModelOptions(
814.                     name='model',
815.                     options={'verbose_name': 'model', 'verbose_name_plural': 'models'},
816.                 ),
817.             ]
818.         })
819.         writer = MigrationWriter(migration)
820.         output = writer.as_string()
821.         self.assertIn("from django.db import migrations\n", output)
822. 
823.     def test_deconstruct_class_arguments(self):
824.         # Yes, it doesn't make sense to use a class as a default for a
825.         # CharField. It does make sense for custom fields though, for example
826.         # an enumfield that takes the enum class as an argument.
827.         string = MigrationWriter.serialize(models.CharField(default=DeconstructibleInstances))[0]
828.         self.assertEqual(string, "models.CharField(default=migrations.test_writer.DeconstructibleInstances)")
829. 
830.     def test_register_serializer(self):
831.         class ComplexSerializer(BaseSerializer):
832.             def serialize(self):
833.                 return 'complex(%r)' % self.value, {}
834. 
835.         MigrationWriter.register_serializer(complex, ComplexSerializer)
836.         self.assertSerializedEqual(complex(1, 2))
837.         MigrationWriter.unregister_serializer(complex)
838.         with self.assertRaisesMessage(ValueError, 'Cannot serialize: (1+2j)'):
839.             self.assertSerializedEqual(complex(1, 2))
840. 
841.     def test_register_non_serializer(self):
842.         with self.assertRaisesMessage(ValueError, "'TestModel1' must inherit from 'BaseSerializer'."):
843.             MigrationWriter.register_serializer(complex, TestModel1)

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 19:18:20,631 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find test cases related to the deconstruction of expression objects for migrations. The previously fetched file, `tests/migrations/test_writer.py`, tests the serialization of various objects but does not contain specific tests for deconstructing expression objects like `Func`, `Value`, or `Case`. The migration autodetector is responsible for generating migration operations from model states, which includes deconstructing expressions used in constraints or field defaults. Therefore, `tests/migrations/test_autodetector.py` is the most likely place to find test cases that assert the structure of these deconstructed expressions.' query='Please provide the full content of tests/migrations/test_autodetector.py' extra_requirements='' purpose='This file is needed to find test cases that verify how expression objects are deconstructed and serialized when generating migration files are generated by the migration autodetector.'
2025-12-23 19:18:20,632 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of tests/migrations/test_autodetector.py
2025-12-23 19:18:20,632 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 19:18:20,632 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 19:18:20,633 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 19:18:20,633 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of tests/migrations/test_autodetector.py
Purpose: This file is needed to find test cases that verify how expression objects are deconstructed and serialized when generating migration files are generated by the migration autodetector.
2025-12-23 19:18:22,967 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of the file `tests/migrations/test_autodetector.py` to help you find the test cases you are looking for.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/migrations/test_autodetector.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2104, 'candidates_token_count': 59, 'total_token_count': 2283, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2104}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 59}], 'thoughts_token_count': 120, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.18292503033654164, 'model_name': 'gemini-2.5-pro'} id='run--ba9b0941-2e8f-46af-8f82-2eb75ea8446e-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_autodetector.py'}, 'id': 'ad1ce4e7-eadf-40f6-bd4b-b1008b109e85', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2104, 'output_tokens': 59, 'total_tokens': 2283, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 120}}
2025-12-23 19:19:02,231 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the content of `tests/migrations/test_autodetector.py` as you requested. This file contains the test cases that should help you verify how expression objects are deconstructed and serialized by the migration autodetector.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11583, 'candidates_token_count': 49, 'total_token_count': 16006, 'cached_content_token_count': 1828, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11583}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1828}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 49}], 'thoughts_token_count': 4374}, 'finish_reason': 'STOP', 'avg_logprobs': -14.705963757573342, 'model_name': 'gemini-2.5-pro'} id='run--ec96641b-1639-45e0-8d6d-1f181bcace44-0' usage_metadata={'input_tokens': 11583, 'output_tokens': 49, 'total_tokens': 16006, 'input_token_details': {'cache_read': 1828}, 'output_token_details': {'reasoning': 4374}}
2025-12-23 19:19:02,233 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of tests/migrations/test_autodetector.py
--- END QUERY ---



--- BEGIN PURPOSE ---
This file is needed to find test cases that verify how expression objects are deconstructed and serialized when generating migration files are generated by the migration autodetector.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/migrations/test_autodetector.py
Line number range: 1 - 500
Content:
1. import functools
2. import re
3. from unittest import mock
4. 
5. from django.apps import apps
6. from django.conf import settings
7. from django.contrib.auth.models import AbstractBaseUser
8. from django.core.validators import RegexValidator, validate_slug
9. from django.db import connection, migrations, models
10. from django.db.migrations.autodetector import MigrationAutodetector
11. from django.db.migrations.graph import MigrationGraph
12. from django.db.migrations.loader import MigrationLoader
13. from django.db.migrations.questioner import MigrationQuestioner
14. from django.db.migrations.state import ModelState, ProjectState
15. from django.test import SimpleTestCase, TestCase, override_settings
16. from django.test.utils import isolate_lru_cache
17. 
18. from .models import FoodManager, FoodQuerySet
19. 
20. 
21. class DeconstructibleObject:
22.     """
23.     A custom deconstructible object.
24.     """
25. 
26.     def __init__(self, *args, **kwargs):
27.         self.args = args
28.         self.kwargs = kwargs
29. 
30.     def deconstruct(self):
31.         return (
32.             self.__module__ + '.' + self.__class__.__name__,
33.             self.args,
34.             self.kwargs
35.         )
36. 
37. 
38. class AutodetectorTests(TestCase):
39.     """
40.     Tests the migration autodetector.
41.     """
42. 
43.     author_empty = ModelState("testapp", "Author", [("id", models.AutoField(primary_key=True))])
44.     author_name = ModelState("testapp", "Author", [
45.         ("id", models.AutoField(primary_key=True)),
46.         ("name", models.CharField(max_length=200)),
47.     ])
48.     author_name_null = ModelState("testapp", "Author", [
49.         ("id", models.AutoField(primary_key=True)),
50.         ("name", models.CharField(max_length=200, null=True)),
51.     ])
52.     author_name_longer = ModelState("testapp", "Author", [
53.         ("id", models.AutoField(primary_key=True)),
54.         ("name", models.CharField(max_length=400)),
55.     ])
56.     author_name_renamed = ModelState("testapp", "Author", [
57.         ("id", models.AutoField(primary_key=True)),
58.         ("names", models.CharField(max_length=200)),
59.     ])
60.     author_name_default = ModelState("testapp", "Author", [
61.         ("id", models.AutoField(primary_key=True)),
62.         ("name", models.CharField(max_length=200, default='Ada Lovelace')),
63.     ])
64.     author_name_check_constraint = ModelState("testapp", "Author", [
65.         ("id", models.AutoField(primary_key=True)),
66.         ("name", models.CharField(max_length=200)),
67.     ],
68.         {'constraints': [models.CheckConstraint(check=models.Q(name__contains='Bob'), name='name_contains_bob')]},
69.     )
70.     author_dates_of_birth_auto_now = ModelState("testapp", "Author", [
71.         ("id", models.AutoField(primary_key=True)),
72.         ("date_of_birth", models.DateField(auto_now=True)),
73.         ("date_time_of_birth", models.DateTimeField(auto_now=True)),
74.         ("time_of_birth", models.TimeField(auto_now=True)),
75.     ])
76.     author_dates_of_birth_auto_now_add = ModelState("testapp", "Author", [
77.         ("id", models.AutoField(primary_key=True)),
78.         ("date_of_birth", models.DateField(auto_now_add=True)),
79.         ("date_time_of_birth", models.DateTimeField(auto_now_add=True)),
80.         ("time_of_birth", models.TimeField(auto_now_add=True)),
81.     ])
82.     author_name_deconstructible_1 = ModelState("testapp", "Author", [
83.         ("id", models.AutoField(primary_key=True)),
84.         ("name", models.CharField(max_length=200, default=DeconstructibleObject())),
85.     ])
86.     author_name_deconstructible_2 = ModelState("testapp", "Author", [
87.         ("id", models.AutoField(primary_key=True)),
88.         ("name", models.CharField(max_length=200, default=DeconstructibleObject())),
89.     ])
90.     author_name_deconstructible_3 = ModelState("testapp", "Author", [
91.         ("id", models.AutoField(primary_key=True)),
92.         ("name", models.CharField(max_length=200, default=models.IntegerField())),
93.     ])
94.     author_name_deconstructible_4 = ModelState("testapp", "Author", [
95.         ("id", models.AutoField(primary_key=True)),
96.         ("name", models.CharField(max_length=200, default=models.IntegerField())),
97.     ])
98.     author_name_deconstructible_list_1 = ModelState("testapp", "Author", [
99.         ("id", models.AutoField(primary_key=True)),
100.         ("name", models.CharField(max_length=200, default=[DeconstructibleObject(), 123])),
101.     ])
102.     author_name_deconstructible_list_2 = ModelState("testapp", "Author", [
103.         ("id", models.AutoField(primary_key=True)),
104.         ("name", models.CharField(max_length=200, default=[DeconstructibleObject(), 123])),
105.     ])
106.     author_name_deconstructible_list_3 = ModelState("testapp", "Author", [
107.         ("id", models.AutoField(primary_key=True)),
108.         ("name", models.CharField(max_length=200, default=[DeconstructibleObject(), 999])),
109.     ])
110.     author_name_deconstructible_tuple_1 = ModelState("testapp", "Author", [
111.         ("id", models.AutoField(primary_key=True)),
112.         ("name", models.CharField(max_length=200, default=(DeconstructibleObject(), 123))),
113.     ])
114.     author_name_deconstructible_tuple_2 = ModelState("testapp", "Author", [
115.         ("id", models.AutoField(primary_key=True)),
116.         ("name", models.CharField(max_length=200, default=(DeconstructibleObject(), 123))),
117.     ])
118.     author_name_deconstructible_tuple_3 = ModelState("testapp", "Author", [
119.         ("id", models.AutoField(primary_key=True)),
120.         ("name", models.CharField(max_length=200, default=(DeconstructibleObject(), 999))),
121.     ])
122.     author_name_deconstructible_dict_1 = ModelState("testapp", "Author", [
123.         ("id", models.AutoField(primary_key=True)),
124.         ("name", models.CharField(max_length=200, default={
125.             'item': DeconstructibleObject(), 'otheritem': 123
126.         })),
127.     ])
128.     author_name_deconstructible_dict_2 = ModelState("testapp", "Author", [
129.         ("id", models.AutoField(primary_key=True)),
130.         ("name", models.CharField(max_length=200, default={
131.             'item': DeconstructibleObject(), 'otheritem': 123
132.         })),
133.     ])
134.     author_name_deconstructible_dict_3 = ModelState("testapp", "Author", [
135.         ("id", models.AutoField(primary_key=True)),
136.         ("name", models.CharField(max_length=200, default={
137.             'item': DeconstructibleObject(), 'otheritem': 999
138.         })),
139.     ])
140.     author_name_nested_deconstructible_1 = ModelState("testapp", "Author", [
141.         ("id", models.AutoField(primary_key=True)),
142.         ("name", models.CharField(max_length=200, default=DeconstructibleObject(
143.             DeconstructibleObject(1),
144.             (DeconstructibleObject('t1'), DeconstructibleObject('t2'),),
145.             a=DeconstructibleObject('A'),
146.             b=DeconstructibleObject(B=DeconstructibleObject('c')),
147.         ))),
148.     ])
149.     author_name_nested_deconstructible_2 = ModelState("testapp", "Author", [
150.         ("id", models.AutoField(primary_key=True)),
151.         ("name", models.CharField(max_length=200, default=DeconstructibleObject(
152.             DeconstructibleObject(1),
153.             (DeconstructibleObject('t1'), DeconstructibleObject('t2'),),
154.             a=DeconstructibleObject('A'),
155.             b=DeconstructibleObject(B=DeconstructibleObject('c')),
156.         ))),
157.     ])
158.     author_name_nested_deconstructible_changed_arg = ModelState("testapp", "Author", [
159.         ("id", models.AutoField(primary_key=True)),
160.         ("name", models.CharField(max_length=200, default=DeconstructibleObject(
161.             DeconstructibleObject(1),
162.             (DeconstructibleObject('t1'), DeconstructibleObject('t2-changed'),),
163.             a=DeconstructibleObject('A'),
164.             b=DeconstructibleObject(B=DeconstructibleObject('c')),
165.         ))),
166.     ])
167.     author_name_nested_deconstructible_extra_arg = ModelState("testapp", "Author", [
168.         ("id", models.AutoField(primary_key=True)),
169.         ("name", models.CharField(max_length=200, default=DeconstructibleObject(
170.             DeconstructibleObject(1),
171.             (DeconstructibleObject('t1'), DeconstructibleObject('t2'),),
172.             None,
173.             a=DeconstructibleObject('A'),
174.             b=DeconstructibleObject(B=DeconstructibleObject('c')),
175.         ))),
176.     ])
177.     author_name_nested_deconstructible_changed_kwarg = ModelState("testapp", "Author", [
178.         ("id", models.AutoField(primary_key=True)),
179.         ("name", models.CharField(max_length=200, default=DeconstructibleObject(
180.             DeconstructibleObject(1),
181.             (DeconstructibleObject('t1'), DeconstructibleObject('t2'),),
182.             a=DeconstructibleObject('A'),
183.             b=DeconstructibleObject(B=DeconstructibleObject('c-changed')),
184.         ))),
185.     ])
186.     author_name_nested_deconstructible_extra_kwarg = ModelState("testapp", "Author", [
187.         ("id", models.AutoField(primary_key=True)),
188.         ("name", models.CharField(max_length=200, default=DeconstructibleObject(
189.             DeconstructibleObject(1),
190.             (DeconstructibleObject('t1'), DeconstructibleObject('t2'),),
191.             a=DeconstructibleObject('A'),
192.             b=DeconstructibleObject(B=DeconstructibleObject('c')),
193.             c=None,
194.         ))),
195.     ])
196.     author_custom_pk = ModelState("testapp", "Author", [("pk_field", models.IntegerField(primary_key=True))])
197.     author_with_biography_non_blank = ModelState("testapp", "Author", [
198.         ("id", models.AutoField(primary_key=True)),
199.         ("name", models.CharField()),
200.         ("biography", models.TextField()),
201.     ])
202.     author_with_biography_blank = ModelState("testapp", "Author", [
203.         ("id", models.AutoField(primary_key=True)),
204.         ("name", models.CharField(blank=True)),
205.         ("biography", models.TextField(blank=True)),
206.     ])
207.     author_with_book = ModelState("testapp", "Author", [
208.         ("id", models.AutoField(primary_key=True)),
209.         ("name", models.CharField(max_length=200)),
210.         ("book", models.ForeignKey("otherapp.Book", models.CASCADE)),
211.     ])
212.     author_with_book_order_wrt = ModelState("testapp", "Author", [
213.         ("id", models.AutoField(primary_key=True)),
214.         ("name", models.CharField(max_length=200)),
215.         ("book", models.ForeignKey("otherapp.Book", models.CASCADE)),
216.     ], options={"order_with_respect_to": "book"})
217.     author_renamed_with_book = ModelState("testapp", "Writer", [
218.         ("id", models.AutoField(primary_key=True)),
219.         ("name", models.CharField(max_length=200)),
220.         ("book", models.ForeignKey("otherapp.Book", models.CASCADE)),
221.     ])
222.     author_with_publisher_string = ModelState("testapp", "Author", [
223.         ("id", models.AutoField(primary_key=True)),
224.         ("name", models.CharField(max_length=200)),
225.         ("publisher_name", models.CharField(max_length=200)),
226.     ])
227.     author_with_publisher = ModelState("testapp", "Author", [
228.         ("id", models.AutoField(primary_key=True)),
229.         ("name", models.CharField(max_length=200)),
230.         ("publisher", models.ForeignKey("testapp.Publisher", models.CASCADE)),
231.     ])
232.     author_with_user = ModelState("testapp", "Author", [
233.         ("id", models.AutoField(primary_key=True)),
234.         ("name", models.CharField(max_length=200)),
235.         ("user", models.ForeignKey("auth.User", models.CASCADE)),
236.     ])
237.     author_with_custom_user = ModelState("testapp", "Author", [
238.         ("id", models.AutoField(primary_key=True)),
239.         ("name", models.CharField(max_length=200)),
240.         ("user", models.ForeignKey("thirdapp.CustomUser", models.CASCADE)),
241.     ])
242.     author_proxy = ModelState("testapp", "AuthorProxy", [], {"proxy": True}, ("testapp.author",))
243.     author_proxy_options = ModelState("testapp", "AuthorProxy", [], {
244.         "proxy": True,
245.         "verbose_name": "Super Author",
246.     }, ("testapp.author",))
247.     author_proxy_notproxy = ModelState("testapp", "AuthorProxy", [], {}, ("testapp.author",))
248.     author_proxy_third = ModelState("thirdapp", "AuthorProxy", [], {"proxy": True}, ("testapp.author",))
249.     author_proxy_third_notproxy = ModelState("thirdapp", "AuthorProxy", [], {}, ("testapp.author",))
250.     author_proxy_proxy = ModelState("testapp", "AAuthorProxyProxy", [], {"proxy": True}, ("testapp.authorproxy",))
251.     author_unmanaged = ModelState("testapp", "AuthorUnmanaged", [], {"managed": False}, ("testapp.author",))
252.     author_unmanaged_managed = ModelState("testapp", "AuthorUnmanaged", [], {}, ("testapp.author",))
253.     author_unmanaged_default_pk = ModelState("testapp", "Author", [("id", models.AutoField(primary_key=True))])
254.     author_unmanaged_custom_pk = ModelState("testapp", "Author", [
255.         ("pk_field", models.IntegerField(primary_key=True)),
256.     ])
257.     author_with_m2m = ModelState("testapp", "Author", [
258.         ("id", models.AutoField(primary_key=True)),
259.         ("publishers", models.ManyToManyField("testapp.Publisher")),
260.     ])
261.     author_with_m2m_blank = ModelState("testapp", "Author", [
262.         ("id", models.AutoField(primary_key=True)),
263.         ("publishers", models.ManyToManyField("testapp.Publisher", blank=True)),
264.     ])
265.     author_with_m2m_through = ModelState("testapp", "Author", [
266.         ("id", models.AutoField(primary_key=True)),
267.         ("publishers", models.ManyToManyField("testapp.Publisher", through="testapp.Contract")),
268.     ])
269.     author_with_renamed_m2m_through = ModelState("testapp", "Author", [
270.         ("id", models.AutoField(primary_key=True)),
271.         ("publishers", models.ManyToManyField("testapp.Publisher", through="testapp.Deal")),
272.     ])
273.     author_with_former_m2m = ModelState("testapp", "Author", [
274.         ("id", models.AutoField(primary_key=True)),
275.         ("publishers", models.CharField(max_length=100)),
276.     ])
277.     author_with_options = ModelState("testapp", "Author", [
278.         ("id", models.AutoField(primary_key=True)),
279.     ], {
280.         "permissions": [('can_hire', 'Can hire')],
281.         "verbose_name": "Authi",
282.     })
283.     author_with_db_table_options = ModelState("testapp", "Author", [
284.         ("id", models.AutoField(primary_key=True)),
285.     ], {"db_table": "author_one"})
286.     author_with_new_db_table_options = ModelState("testapp", "Author", [
287.         ("id", models.AutoField(primary_key=True)),
288.     ], {"db_table": "author_two"})
289.     author_renamed_with_db_table_options = ModelState("testapp", "NewAuthor", [
290.         ("id", models.AutoField(primary_key=True)),
291.     ], {"db_table": "author_one"})
292.     author_renamed_with_new_db_table_options = ModelState("testapp", "NewAuthor", [
293.         ("id", models.AutoField(primary_key=True)),
294.     ], {"db_table": "author_three"})
295.     contract = ModelState("testapp", "Contract", [
296.         ("id", models.AutoField(primary_key=True)),
297.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
298.         ("publisher", models.ForeignKey("testapp.Publisher", models.CASCADE)),
299.     ])
300.     contract_renamed = ModelState("testapp", "Deal", [
301.         ("id", models.AutoField(primary_key=True)),
302.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
303.         ("publisher", models.ForeignKey("testapp.Publisher", models.CASCADE)),
304.     ])
305.     publisher = ModelState("testapp", "Publisher", [
306.         ("id", models.AutoField(primary_key=True)),
307.         ("name", models.CharField(max_length=100)),
308.     ])
309.     publisher_with_author = ModelState("testapp", "Publisher", [
310.         ("id", models.AutoField(primary_key=True)),
311.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
312.         ("name", models.CharField(max_length=100)),
313.     ])
314.     publisher_with_aardvark_author = ModelState("testapp", "Publisher", [
315.         ("id", models.AutoField(primary_key=True)),
316.         ("author", models.ForeignKey("testapp.Aardvark", models.CASCADE)),
317.         ("name", models.CharField(max_length=100)),
318.     ])
319.     publisher_with_book = ModelState("testapp", "Publisher", [
320.         ("id", models.AutoField(primary_key=True)),
321.         ("author", models.ForeignKey("otherapp.Book", models.CASCADE)),
322.         ("name", models.CharField(max_length=100)),
323.     ])
324.     other_pony = ModelState("otherapp", "Pony", [
325.         ("id", models.AutoField(primary_key=True)),
326.     ])
327.     other_pony_food = ModelState("otherapp", "Pony", [
328.         ("id", models.AutoField(primary_key=True)),
329.     ], managers=[
330.         ('food_qs', FoodQuerySet.as_manager()),
331.         ('food_mgr', FoodManager('a', 'b')),
332.         ('food_mgr_kwargs', FoodManager('x', 'y', 3, 4)),
333.     ])
334.     other_stable = ModelState("otherapp", "Stable", [("id", models.AutoField(primary_key=True))])
335.     third_thing = ModelState("thirdapp", "Thing", [("id", models.AutoField(primary_key=True))])
336.     book = ModelState("otherapp", "Book", [
337.         ("id", models.AutoField(primary_key=True)),
338.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
339.         ("title", models.CharField(max_length=200)),
340.     ])
341.     book_proxy_fk = ModelState("otherapp", "Book", [
342.         ("id", models.AutoField(primary_key=True)),
343.         ("author", models.ForeignKey("thirdapp.AuthorProxy", models.CASCADE)),
344.         ("title", models.CharField(max_length=200)),
345.     ])
346.     book_proxy_proxy_fk = ModelState("otherapp", "Book", [
347.         ("id", models.AutoField(primary_key=True)),
348.         ("author", models.ForeignKey("testapp.AAuthorProxyProxy", models.CASCADE)),
349.     ])
350.     book_migrations_fk = ModelState("otherapp", "Book", [
351.         ("id", models.AutoField(primary_key=True)),
352.         ("author", models.ForeignKey("migrations.UnmigratedModel", models.CASCADE)),
353.         ("title", models.CharField(max_length=200)),
354.     ])
355.     book_with_no_author_fk = ModelState("otherapp", "Book", [
356.         ("id", models.AutoField(primary_key=True)),
357.         ("author", models.IntegerField()),
358.         ("title", models.CharField(max_length=200)),
359.     ])
360.     book_with_no_author = ModelState("otherapp", "Book", [
361.         ("id", models.AutoField(primary_key=True)),
362.         ("title", models.CharField(max_length=200)),
363.     ])
364.     book_with_author_renamed = ModelState("otherapp", "Book", [
365.         ("id", models.AutoField(primary_key=True)),
366.         ("author", models.ForeignKey("testapp.Writer", models.CASCADE)),
367.         ("title", models.CharField(max_length=200)),
368.     ])
369.     book_with_field_and_author_renamed = ModelState("otherapp", "Book", [
370.         ("id", models.AutoField(primary_key=True)),
371.         ("writer", models.ForeignKey("testapp.Writer", models.CASCADE)),
372.         ("title", models.CharField(max_length=200)),
373.     ])
374.     book_with_multiple_authors = ModelState("otherapp", "Book", [
375.         ("id", models.AutoField(primary_key=True)),
376.         ("authors", models.ManyToManyField("testapp.Author")),
377.         ("title", models.CharField(max_length=200)),
378.     ])
379.     book_with_multiple_authors_through_attribution = ModelState("otherapp", "Book", [
380.         ("id", models.AutoField(primary_key=True)),
381.         ("authors", models.ManyToManyField("testapp.Author", through="otherapp.Attribution")),
382.         ("title", models.CharField(max_length=200)),
383.     ])
384.     book_indexes = ModelState("otherapp", "Book", [
385.         ("id", models.AutoField(primary_key=True)),
386.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
387.         ("title", models.CharField(max_length=200)),
388.     ], {
389.         "indexes": [models.Index(fields=["author", "title"], name="book_title_author_idx")],
390.     })
391.     book_unordered_indexes = ModelState("otherapp", "Book", [
392.         ("id", models.AutoField(primary_key=True)),
393.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
394.         ("title", models.CharField(max_length=200)),
395.     ], {
396.         "indexes": [models.Index(fields=["title", "author"], name="book_author_title_idx")],
397.     })
398.     book_foo_together = ModelState("otherapp", "Book", [
399.         ("id", models.AutoField(primary_key=True)),
400.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
401.         ("title", models.CharField(max_length=200)),
402.     ], {
403.         "index_together": {("author", "title")},
404.         "unique_together": {("author", "title")},
405.     })
406.     book_foo_together_2 = ModelState("otherapp", "Book", [
407.         ("id", models.AutoField(primary_key=True)),
408.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
409.         ("title", models.CharField(max_length=200)),
410.     ], {
411.         "index_together": {("title", "author")},
412.         "unique_together": {("title", "author")},
413.     })
414.     book_foo_together_3 = ModelState("otherapp", "Book", [
415.         ("id", models.AutoField(primary_key=True)),
416.         ("newfield", models.IntegerField()),
417.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
418.         ("title", models.CharField(max_length=200)),
419.     ], {
420.         "index_together": {("title", "newfield")},
421.         "unique_together": {("title", "newfield")},
422.     })
423.     book_foo_together_4 = ModelState("otherapp", "Book", [
424.         ("id", models.AutoField(primary_key=True)),
425.         ("newfield2", models.IntegerField()),
426.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
427.         ("title", models.CharField(max_length=200)),
428.     ], {
429.         "index_together": {("title", "newfield2")},
430.         "unique_together": {("title", "newfield2")},
431.     })
432.     attribution = ModelState("otherapp", "Attribution", [
433.         ("id", models.AutoField(primary_key=True)),
434.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
435.         ("book", models.ForeignKey("otherapp.Book", models.CASCADE)),
436.     ])
437.     edition = ModelState("thirdapp", "Edition", [
438.         ("id", models.AutoField(primary_key=True)),
439.         ("book", models.ForeignKey("otherapp.Book", models.CASCADE)),
440.     ])
441.     custom_user = ModelState("thirdapp", "CustomUser", [
442.         ("id", models.AutoField(primary_key=True)),
443.         ("username", models.CharField(max_length=255)),
444.     ], bases=(AbstractBaseUser,))
445.     custom_user_no_inherit = ModelState("thirdapp", "CustomUser", [
446.         ("id", models.AutoField(primary_key=True)),
447.         ("username", models.CharField(max_length=255)),
448.     ])
449.     aardvark = ModelState("thirdapp", "Aardvark", [("id", models.AutoField(primary_key=True))])
450.     aardvark_testapp = ModelState("testapp", "Aardvark", [("id", models.AutoField(primary_key=True))])
451.     aardvark_based_on_author = ModelState("testapp", "Aardvark", [], bases=("testapp.Author",))
452.     aardvark_pk_fk_author = ModelState("testapp", "Aardvark", [
453.         ("id", models.OneToOneField("testapp.Author", models.CASCADE, primary_key=True)),
454.     ])
455.     knight = ModelState("eggs", "Knight", [("id", models.AutoField(primary_key=True))])
456.     rabbit = ModelState("eggs", "Rabbit", [
457.         ("id", models.AutoField(primary_key=True)),
458.         ("knight", models.ForeignKey("eggs.Knight", models.CASCADE)),
459.         ("parent", models.ForeignKey("eggs.Rabbit", models.CASCADE)),
460.     ], {
461.         "unique_together": {("parent", "knight")},
462.         "indexes": [models.Index(fields=["parent", "knight"], name='rabbit_circular_fk_index')],
463.     })
464. 
465.     def repr_changes(self, changes, include_dependencies=False):
466.         output = ""
467.         for app_label, migrations_ in sorted(changes.items()):
468.             output += "  %s:\n" % app_label
469.             for migration in migrations_:
470.                 output += "    %s\n" % migration.name
471.                 for operation in migration.operations:
472.                     output += "      %s\n" % operation
473.                 if include_dependencies:
474.                     output += "      Dependencies:\n"
475.                     if migration.dependencies:
476.                         for dep in migration.dependencies:
477.                             output += "        %s\n" % (dep,)
478.                     else:
479.                         output += "        None\n"
480.         return output
481. 
482.     def assertNumberMigrations(self, changes, app_label, number):
483.         if len(changes.get(app_label, [])) != number:
484.             self.fail("Incorrect number of migrations (%s) for %s (expected %s)\n%s" % (
485.                 len(changes.get(app_label, [])),
486.                 app_label,
487.                 number,
488.                 self.repr_changes(changes),
489.             ))
490. 
491.     def assertMigrationDependencies(self, changes, app_label, position, dependencies):
492.         if not changes.get(app_label):
493.             self.fail("No migrations found for %s\n%s" % (app_label, self.repr_changes(changes)))
494.         if len(changes[app_label]) < position + 1:
495.             self.fail("No migration at index %s for %s\n%s" % (position, app_label, self.repr_changes(changes)))
496.         migration = changes[app_label][position]
497.         if set(migration.dependencies) != set(dependencies):
498.             self.fail("Migration dependencies mismatch for %s.%s (expected %s):\n%s" % (
499.                 app_label,
500.                 migration.name,

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 19:19:07,849 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly asks for the full content of the file 'tests/migrations/test_autodetector.py'.\n2. Extended relevance:\n   - The provided context is the content of the requested file, so it directly and completely answers the user's query.", relative_path='tests/migrations/test_autodetector.py', start_line=1, end_line=500)]
2025-12-23 19:19:07,851 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of tests/migrations/test_autodetector.py
2025-12-23 19:19:07,852 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 19:19:07,852 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 19:19:07,852 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 1 existing contexts
2025-12-23 19:19:07,852 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 2 total contexts (removed 0 duplicates)
2025-12-23 19:19:07,853 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.2.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       └── legend_test.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Use simplified paths for deconstruct of expressions

Description: Description
	
Previously F() deconstructed to: django.db.models.expressions.F(). But since it can also be imported from django.db.models, ​PR #14047 changed it to deconstruct to django.db.models.F(). This simplifies generated migration code where it will be referenced only as from django.db import models / models.F().
As Mariusz pointed out on the PR, the same technique can be applied to other expressions, further simplifying generated migrations.

Patch information:
diff --git a/django/db/models/expressions.py b/django/db/models/expressions.py
index 8642e1f151..9705863917 100644
--- a/django/db/models/expressions.py
+++ b/django/db/models/expressions.py
@@ -390,7 +390,7 @@ class BaseExpression:
         return sql, params
 
 
-@deconstructible
+@deconstructible(path='django.db.models.Expression')
 class Expression(BaseExpression, Combinable):
     """An expression that can be combined with other expressions."""
 
@@ -639,6 +639,7 @@ class ResolvedOuterRef(F):
         return []
 
 
+@deconstructible(path='django.db.models.OuterRef')
 class OuterRef(F):
     contains_aggregate = False
 
@@ -651,6 +652,7 @@ class OuterRef(F):
         return self
 
 
+@deconstructible(path='django.db.models.Func')
 class Func(SQLiteNumericMixin, Expression):
     """An SQL function call."""
     function = None
@@ -731,6 +733,7 @@ class Func(SQLiteNumericMixin, Expression):
         return copy
 
 
+@deconstructible(path='django.db.models.Value')
 class Value(SQLiteNumericMixin, Expression):
     """Represent a wrapped value as a node within an expression."""
     # Provide a default value for `for_save` in order to allow unresolved
@@ -912,6 +915,7 @@ class Ref(Expression):
         return [self]
 
 
+@deconstructible(path='django.db.models.ExpressionList')
 class ExpressionList(Func):
     """
     An expression containing multiple expressions. Can be used to provide a
@@ -953,6 +957,7 @@ class OrderByList(Func):
         return super().as_sql(*args, **kwargs)
 
 
+@deconstructible(path='django.db.models.ExpressionWrapper')
 class ExpressionWrapper(SQLiteNumericMixin, Expression):
     """
     An expression that can wrap another expression so that it can provide
@@ -985,6 +990,7 @@ class ExpressionWrapper(SQLiteNumericMixin, Expression):
         return "{}({})".format(self.__class__.__name__, self.expression)
 
 
+@deconstructible(path='django.db.models.When')
 class When(Expression):
     template = 'WHEN %(condition)s THEN %(result)s'
     # This isn't a complete conditional expression, must be used in Case().
@@ -1052,6 +1058,7 @@ class When(Expression):
         return cols
 
 
+@deconstructible(path='django.db.models.Case')
 class Case(SQLiteNumericMixin, Expression):
     """
     An SQL searched CASE expression:
@@ -1133,6 +1140,7 @@ class Case(SQLiteNumericMixin, Expression):
         return super().get_group_by_cols(alias)
 
 
+@deconstructible(path='django.db.models.Subquery')
 class Subquery(BaseExpression, Combinable):
     """
     An explicit subquery. It may contain OuterRef() references to the outer
@@ -1190,6 +1198,7 @@ class Subquery(BaseExpression, Combinable):
         return self.query.get_group_by_cols()
 
 
+@deconstructible(path='django.db.models.Exists')
 class Exists(Subquery):
     template = 'EXISTS(%(subquery)s)'
     output_field = fields.BooleanField()
@@ -1225,6 +1234,7 @@ class Exists(Subquery):
         return sql, params
 
 
+@deconstructible(path='django.db.models.OrderBy')
 class OrderBy(Expression):
     template = '%(expression)s %(ordering)s'
     conditional = False
@@ -1307,6 +1317,7 @@ class OrderBy(Expression):
         self.descending = True
 
 
+@deconstructible(path='django.db.models.Window')
 class Window(SQLiteNumericMixin, Expression):
     template = '%(expression)s OVER (%(window)s)'
     # Although the main expression may either be an aggregate or an
@@ -1412,6 +1423,7 @@ class Window(SQLiteNumericMixin, Expression):
         return []
 
 
+@deconstructible(path='django.db.models.WindowFrame')
 class WindowFrame(Expression):
     """
     Model the frame clause in window expressions. There are two types of frame
@@ -1471,6 +1483,7 @@ class WindowFrame(Expression):
         raise NotImplementedError('Subclasses must implement window_frame_start_end().')
 
 
+@deconstructible(path='django.db.models.RowRange')
 class RowRange(WindowFrame):
     frame_type = 'ROWS'
 
@@ -1478,6 +1491,7 @@ class RowRange(WindowFrame):
         return connection.ops.window_frame_rows_start_end(start, end)
 
 
+@deconstructible(path='django.db.models.ValueRange')
 class ValueRange(WindowFrame):
     frame_type = 'RANGE'
 


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of tests/migrations/test_writer.py
Extra Requirements: 
Purpose: This file is expected to contain test cases that assert the string representation of deconstructed expression objects, which is directly related to the user's change.

Previous refined query 2:
Essential Query: Please provide the full content of tests/migrations/test_autodetector.py
Extra Requirements: 
Purpose: This file is needed to find test cases that verify how expression objects are deconstructed and serialized when generating migration files are generated by the migration autodetector.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/migrations/test_autodetector.py
Line number range: 1 - 500
Content:
1. import functools
2. import re
3. from unittest import mock
4. 
5. from django.apps import apps
6. from django.conf import settings
7. from django.contrib.auth.models import AbstractBaseUser
8. from django.core.validators import RegexValidator, validate_slug
9. from django.db import connection, migrations, models
10. from django.db.migrations.autodetector import MigrationAutodetector
11. from django.db.migrations.graph import MigrationGraph
12. from django.db.migrations.loader import MigrationLoader
13. from django.db.migrations.questioner import MigrationQuestioner
14. from django.db.migrations.state import ModelState, ProjectState
15. from django.test import SimpleTestCase, TestCase, override_settings
16. from django.test.utils import isolate_lru_cache
17. 
18. from .models import FoodManager, FoodQuerySet
19. 
20. 
21. class DeconstructibleObject:
22.     """
23.     A custom deconstructible object.
24.     """
25. 
26.     def __init__(self, *args, **kwargs):
27.         self.args = args
28.         self.kwargs = kwargs
29. 
30.     def deconstruct(self):
31.         return (
32.             self.__module__ + '.' + self.__class__.__name__,
33.             self.args,
34.             self.kwargs
35.         )
36. 
37. 
38. class AutodetectorTests(TestCase):
39.     """
40.     Tests the migration autodetector.
41.     """
42. 
43.     author_empty = ModelState("testapp", "Author", [("id", models.AutoField(primary_key=True))])
44.     author_name = ModelState("testapp", "Author", [
45.         ("id", models.AutoField(primary_key=True)),
46.         ("name", models.CharField(max_length=200)),
47.     ])
48.     author_name_null = ModelState("testapp", "Author", [
49.         ("id", models.AutoField(primary_key=True)),
50.         ("name", models.CharField(max_length=200, null=True)),
51.     ])
52.     author_name_longer = ModelState("testapp", "Author", [
53.         ("id", models.AutoField(primary_key=True)),
54.         ("name", models.CharField(max_length=400)),
55.     ])
56.     author_name_renamed = ModelState("testapp", "Author", [
57.         ("id", models.AutoField(primary_key=True)),
58.         ("names", models.CharField(max_length=200)),
59.     ])
60.     author_name_default = ModelState("testapp", "Author", [
61.         ("id", models.AutoField(primary_key=True)),
62.         ("name", models.CharField(max_length=200, default='Ada Lovelace')),
63.     ])
64.     author_name_check_constraint = ModelState("testapp", "Author", [
65.         ("id", models.AutoField(primary_key=True)),
66.         ("name", models.CharField(max_length=200)),
67.     ],
68.         {'constraints': [models.CheckConstraint(check=models.Q(name__contains='Bob'), name='name_contains_bob')]},
69.     )
70.     author_dates_of_birth_auto_now = ModelState("testapp", "Author", [
71.         ("id", models.AutoField(primary_key=True)),
72.         ("date_of_birth", models.DateField(auto_now=True)),
73.         ("date_time_of_birth", models.DateTimeField(auto_now=True)),
74.         ("time_of_birth", models.TimeField(auto_now=True)),
75.     ])
76.     author_dates_of_birth_auto_now_add = ModelState("testapp", "Author", [
77.         ("id", models.AutoField(primary_key=True)),
78.         ("date_of_birth", models.DateField(auto_now_add=True)),
79.         ("date_time_of_birth", models.DateTimeField(auto_now_add=True)),
80.         ("time_of_birth", models.TimeField(auto_now_add=True)),
81.     ])
82.     author_name_deconstructible_1 = ModelState("testapp", "Author", [
83.         ("id", models.AutoField(primary_key=True)),
84.         ("name", models.CharField(max_length=200, default=DeconstructibleObject())),
85.     ])
86.     author_name_deconstructible_2 = ModelState("testapp", "Author", [
87.         ("id", models.AutoField(primary_key=True)),
88.         ("name", models.CharField(max_length=200, default=DeconstructibleObject())),
89.     ])
90.     author_name_deconstructible_3 = ModelState("testapp", "Author", [
91.         ("id", models.AutoField(primary_key=True)),
92.         ("name", models.CharField(max_length=200, default=models.IntegerField())),
93.     ])
94.     author_name_deconstructible_4 = ModelState("testapp", "Author", [
95.         ("id", models.AutoField(primary_key=True)),
96.         ("name", models.CharField(max_length=200, default=models.IntegerField())),
97.     ])
98.     author_name_deconstructible_list_1 = ModelState("testapp", "Author", [
99.         ("id", models.AutoField(primary_key=True)),
100.         ("name", models.CharField(max_length=200, default=[DeconstructibleObject(), 123])),
101.     ])
102.     author_name_deconstructible_list_2 = ModelState("testapp", "Author", [
103.         ("id", models.AutoField(primary_key=True)),
104.         ("name", models.CharField(max_length=200, default=[DeconstructibleObject(), 123])),
105.     ])
106.     author_name_deconstructible_list_3 = ModelState("testapp", "Author", [
107.         ("id", models.AutoField(primary_key=True)),
108.         ("name", models.CharField(max_length=200, default=[DeconstructibleObject(), 999])),
109.     ])
110.     author_name_deconstructible_tuple_1 = ModelState("testapp", "Author", [
111.         ("id", models.AutoField(primary_key=True)),
112.         ("name", models.CharField(max_length=200, default=(DeconstructibleObject(), 123))),
113.     ])
114.     author_name_deconstructible_tuple_2 = ModelState("testapp", "Author", [
115.         ("id", models.AutoField(primary_key=True)),
116.         ("name", models.CharField(max_length=200, default=(DeconstructibleObject(), 123))),
117.     ])
118.     author_name_deconstructible_tuple_3 = ModelState("testapp", "Author", [
119.         ("id", models.AutoField(primary_key=True)),
120.         ("name", models.CharField(max_length=200, default=(DeconstructibleObject(), 999))),
121.     ])
122.     author_name_deconstructible_dict_1 = ModelState("testapp", "Author", [
123.         ("id", models.AutoField(primary_key=True)),
124.         ("name", models.CharField(max_length=200, default={
125.             'item': DeconstructibleObject(), 'otheritem': 123
126.         })),
127.     ])
128.     author_name_deconstructible_dict_2 = ModelState("testapp", "Author", [
129.         ("id", models.AutoField(primary_key=True)),
130.         ("name", models.CharField(max_length=200, default={
131.             'item': DeconstructibleObject(), 'otheritem': 123
132.         })),
133.     ])
134.     author_name_deconstructible_dict_3 = ModelState("testapp", "Author", [
135.         ("id", models.AutoField(primary_key=True)),
136.         ("name", models.CharField(max_length=200, default={
137.             'item': DeconstructibleObject(), 'otheritem': 999
138.         })),
139.     ])
140.     author_name_nested_deconstructible_1 = ModelState("testapp", "Author", [
141.         ("id", models.AutoField(primary_key=True)),
142.         ("name", models.CharField(max_length=200, default=DeconstructibleObject(
143.             DeconstructibleObject(1),
144.             (DeconstructibleObject('t1'), DeconstructibleObject('t2'),),
145.             a=DeconstructibleObject('A'),
146.             b=DeconstructibleObject(B=DeconstructibleObject('c')),
147.         ))),
148.     ])
149.     author_name_nested_deconstructible_2 = ModelState("testapp", "Author", [
150.         ("id", models.AutoField(primary_key=True)),
151.         ("name", models.CharField(max_length=200, default=DeconstructibleObject(
152.             DeconstructibleObject(1),
153.             (DeconstructibleObject('t1'), DeconstructibleObject('t2'),),
154.             a=DeconstructibleObject('A'),
155.             b=DeconstructibleObject(B=DeconstructibleObject('c')),
156.         ))),
157.     ])
158.     author_name_nested_deconstructible_changed_arg = ModelState("testapp", "Author", [
159.         ("id", models.AutoField(primary_key=True)),
160.         ("name", models.CharField(max_length=200, default=DeconstructibleObject(
161.             DeconstructibleObject(1),
162.             (DeconstructibleObject('t1'), DeconstructibleObject('t2-changed'),),
163.             a=DeconstructibleObject('A'),
164.             b=DeconstructibleObject(B=DeconstructibleObject('c')),
165.         ))),
166.     ])
167.     author_name_nested_deconstructible_extra_arg = ModelState("testapp", "Author", [
168.         ("id", models.AutoField(primary_key=True)),
169.         ("name", models.CharField(max_length=200, default=DeconstructibleObject(
170.             DeconstructibleObject(1),
171.             (DeconstructibleObject('t1'), DeconstructibleObject('t2'),),
172.             None,
173.             a=DeconstructibleObject('A'),
174.             b=DeconstructibleObject(B=DeconstructibleObject('c')),
175.         ))),
176.     ])
177.     author_name_nested_deconstructible_changed_kwarg = ModelState("testapp", "Author", [
178.         ("id", models.AutoField(primary_key=True)),
179.         ("name", models.CharField(max_length=200, default=DeconstructibleObject(
180.             DeconstructibleObject(1),
181.             (DeconstructibleObject('t1'), DeconstructibleObject('t2'),),
182.             a=DeconstructibleObject('A'),
183.             b=DeconstructibleObject(B=DeconstructibleObject('c-changed')),
184.         ))),
185.     ])
186.     author_name_nested_deconstructible_extra_kwarg = ModelState("testapp", "Author", [
187.         ("id", models.AutoField(primary_key=True)),
188.         ("name", models.CharField(max_length=200, default=DeconstructibleObject(
189.             DeconstructibleObject(1),
190.             (DeconstructibleObject('t1'), DeconstructibleObject('t2'),),
191.             a=DeconstructibleObject('A'),
192.             b=DeconstructibleObject(B=DeconstructibleObject('c')),
193.             c=None,
194.         ))),
195.     ])
196.     author_custom_pk = ModelState("testapp", "Author", [("pk_field", models.IntegerField(primary_key=True))])
197.     author_with_biography_non_blank = ModelState("testapp", "Author", [
198.         ("id", models.AutoField(primary_key=True)),
199.         ("name", models.CharField()),
200.         ("biography", models.TextField()),
201.     ])
202.     author_with_biography_blank = ModelState("testapp", "Author", [
203.         ("id", models.AutoField(primary_key=True)),
204.         ("name", models.CharField(blank=True)),
205.         ("biography", models.TextField(blank=True)),
206.     ])
207.     author_with_book = ModelState("testapp", "Author", [
208.         ("id", models.AutoField(primary_key=True)),
209.         ("name", models.CharField(max_length=200)),
210.         ("book", models.ForeignKey("otherapp.Book", models.CASCADE)),
211.     ])
212.     author_with_book_order_wrt = ModelState("testapp", "Author", [
213.         ("id", models.AutoField(primary_key=True)),
214.         ("name", models.CharField(max_length=200)),
215.         ("book", models.ForeignKey("otherapp.Book", models.CASCADE)),
216.     ], options={"order_with_respect_to": "book"})
217.     author_renamed_with_book = ModelState("testapp", "Writer", [
218.         ("id", models.AutoField(primary_key=True)),
219.         ("name", models.CharField(max_length=200)),
220.         ("book", models.ForeignKey("otherapp.Book", models.CASCADE)),
221.     ])
222.     author_with_publisher_string = ModelState("testapp", "Author", [
223.         ("id", models.AutoField(primary_key=True)),
224.         ("name", models.CharField(max_length=200)),
225.         ("publisher_name", models.CharField(max_length=200)),
226.     ])
227.     author_with_publisher = ModelState("testapp", "Author", [
228.         ("id", models.AutoField(primary_key=True)),
229.         ("name", models.CharField(max_length=200)),
230.         ("publisher", models.ForeignKey("testapp.Publisher", models.CASCADE)),
231.     ])
232.     author_with_user = ModelState("testapp", "Author", [
233.         ("id", models.AutoField(primary_key=True)),
234.         ("name", models.CharField(max_length=200)),
235.         ("user", models.ForeignKey("auth.User", models.CASCADE)),
236.     ])
237.     author_with_custom_user = ModelState("testapp", "Author", [
238.         ("id", models.AutoField(primary_key=True)),
239.         ("name", models.CharField(max_length=200)),
240.         ("user", models.ForeignKey("thirdapp.CustomUser", models.CASCADE)),
241.     ])
242.     author_proxy = ModelState("testapp", "AuthorProxy", [], {"proxy": True}, ("testapp.author",))
243.     author_proxy_options = ModelState("testapp", "AuthorProxy", [], {
244.         "proxy": True,
245.         "verbose_name": "Super Author",
246.     }, ("testapp.author",))
247.     author_proxy_notproxy = ModelState("testapp", "AuthorProxy", [], {}, ("testapp.author",))
248.     author_proxy_third = ModelState("thirdapp", "AuthorProxy", [], {"proxy": True}, ("testapp.author",))
249.     author_proxy_third_notproxy = ModelState("thirdapp", "AuthorProxy", [], {}, ("testapp.author",))
250.     author_proxy_proxy = ModelState("testapp", "AAuthorProxyProxy", [], {"proxy": True}, ("testapp.authorproxy",))
251.     author_unmanaged = ModelState("testapp", "AuthorUnmanaged", [], {"managed": False}, ("testapp.author",))
252.     author_unmanaged_managed = ModelState("testapp", "AuthorUnmanaged", [], {}, ("testapp.author",))
253.     author_unmanaged_default_pk = ModelState("testapp", "Author", [("id", models.AutoField(primary_key=True))])
254.     author_unmanaged_custom_pk = ModelState("testapp", "Author", [
255.         ("pk_field", models.IntegerField(primary_key=True)),
256.     ])
257.     author_with_m2m = ModelState("testapp", "Author", [
258.         ("id", models.AutoField(primary_key=True)),
259.         ("publishers", models.ManyToManyField("testapp.Publisher")),
260.     ])
261.     author_with_m2m_blank = ModelState("testapp", "Author", [
262.         ("id", models.AutoField(primary_key=True)),
263.         ("publishers", models.ManyToManyField("testapp.Publisher", blank=True)),
264.     ])
265.     author_with_m2m_through = ModelState("testapp", "Author", [
266.         ("id", models.AutoField(primary_key=True)),
267.         ("publishers", models.ManyToManyField("testapp.Publisher", through="testapp.Contract")),
268.     ])
269.     author_with_renamed_m2m_through = ModelState("testapp", "Author", [
270.         ("id", models.AutoField(primary_key=True)),
271.         ("publishers", models.ManyToManyField("testapp.Publisher", through="testapp.Deal")),
272.     ])
273.     author_with_former_m2m = ModelState("testapp", "Author", [
274.         ("id", models.AutoField(primary_key=True)),
275.         ("publishers", models.CharField(max_length=100)),
276.     ])
277.     author_with_options = ModelState("testapp", "Author", [
278.         ("id", models.AutoField(primary_key=True)),
279.     ], {
280.         "permissions": [('can_hire', 'Can hire')],
281.         "verbose_name": "Authi",
282.     })
283.     author_with_db_table_options = ModelState("testapp", "Author", [
284.         ("id", models.AutoField(primary_key=True)),
285.     ], {"db_table": "author_one"})
286.     author_with_new_db_table_options = ModelState("testapp", "Author", [
287.         ("id", models.AutoField(primary_key=True)),
288.     ], {"db_table": "author_two"})
289.     author_renamed_with_db_table_options = ModelState("testapp", "NewAuthor", [
290.         ("id", models.AutoField(primary_key=True)),
291.     ], {"db_table": "author_one"})
292.     author_renamed_with_new_db_table_options = ModelState("testapp", "NewAuthor", [
293.         ("id", models.AutoField(primary_key=True)),
294.     ], {"db_table": "author_three"})
295.     contract = ModelState("testapp", "Contract", [
296.         ("id", models.AutoField(primary_key=True)),
297.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
298.         ("publisher", models.ForeignKey("testapp.Publisher", models.CASCADE)),
299.     ])
300.     contract_renamed = ModelState("testapp", "Deal", [
301.         ("id", models.AutoField(primary_key=True)),
302.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
303.         ("publisher", models.ForeignKey("testapp.Publisher", models.CASCADE)),
304.     ])
305.     publisher = ModelState("testapp", "Publisher", [
306.         ("id", models.AutoField(primary_key=True)),
307.         ("name", models.CharField(max_length=100)),
308.     ])
309.     publisher_with_author = ModelState("testapp", "Publisher", [
310.         ("id", models.AutoField(primary_key=True)),
311.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
312.         ("name", models.CharField(max_length=100)),
313.     ])
314.     publisher_with_aardvark_author = ModelState("testapp", "Publisher", [
315.         ("id", models.AutoField(primary_key=True)),
316.         ("author", models.ForeignKey("testapp.Aardvark", models.CASCADE)),
317.         ("name", models.CharField(max_length=100)),
318.     ])
319.     publisher_with_book = ModelState("testapp", "Publisher", [
320.         ("id", models.AutoField(primary_key=True)),
321.         ("author", models.ForeignKey("otherapp.Book", models.CASCADE)),
322.         ("name", models.CharField(max_length=100)),
323.     ])
324.     other_pony = ModelState("otherapp", "Pony", [
325.         ("id", models.AutoField(primary_key=True)),
326.     ])
327.     other_pony_food = ModelState("otherapp", "Pony", [
328.         ("id", models.AutoField(primary_key=True)),
329.     ], managers=[
330.         ('food_qs', FoodQuerySet.as_manager()),
331.         ('food_mgr', FoodManager('a', 'b')),
332.         ('food_mgr_kwargs', FoodManager('x', 'y', 3, 4)),
333.     ])
334.     other_stable = ModelState("otherapp", "Stable", [("id", models.AutoField(primary_key=True))])
335.     third_thing = ModelState("thirdapp", "Thing", [("id", models.AutoField(primary_key=True))])
336.     book = ModelState("otherapp", "Book", [
337.         ("id", models.AutoField(primary_key=True)),
338.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
339.         ("title", models.CharField(max_length=200)),
340.     ])
341.     book_proxy_fk = ModelState("otherapp", "Book", [
342.         ("id", models.AutoField(primary_key=True)),
343.         ("author", models.ForeignKey("thirdapp.AuthorProxy", models.CASCADE)),
344.         ("title", models.CharField(max_length=200)),
345.     ])
346.     book_proxy_proxy_fk = ModelState("otherapp", "Book", [
347.         ("id", models.AutoField(primary_key=True)),
348.         ("author", models.ForeignKey("testapp.AAuthorProxyProxy", models.CASCADE)),
349.     ])
350.     book_migrations_fk = ModelState("otherapp", "Book", [
351.         ("id", models.AutoField(primary_key=True)),
352.         ("author", models.ForeignKey("migrations.UnmigratedModel", models.CASCADE)),
353.         ("title", models.CharField(max_length=200)),
354.     ])
355.     book_with_no_author_fk = ModelState("otherapp", "Book", [
356.         ("id", models.AutoField(primary_key=True)),
357.         ("author", models.IntegerField()),
358.         ("title", models.CharField(max_length=200)),
359.     ])
360.     book_with_no_author = ModelState("otherapp", "Book", [
361.         ("id", models.AutoField(primary_key=True)),
362.         ("title", models.CharField(max_length=200)),
363.     ])
364.     book_with_author_renamed = ModelState("otherapp", "Book", [
365.         ("id", models.AutoField(primary_key=True)),
366.         ("author", models.ForeignKey("testapp.Writer", models.CASCADE)),
367.         ("title", models.CharField(max_length=200)),
368.     ])
369.     book_with_field_and_author_renamed = ModelState("otherapp", "Book", [
370.         ("id", models.AutoField(primary_key=True)),
371.         ("writer", models.ForeignKey("testapp.Writer", models.CASCADE)),
372.         ("title", models.CharField(max_length=200)),
373.     ])
374.     book_with_multiple_authors = ModelState("otherapp", "Book", [
375.         ("id", models.AutoField(primary_key=True)),
376.         ("authors", models.ManyToManyField("testapp.Author")),
377.         ("title", models.CharField(max_length=200)),
378.     ])
379.     book_with_multiple_authors_through_attribution = ModelState("otherapp", "Book", [
380.         ("id", models.AutoField(primary_key=True)),
381.         ("authors", models.ManyToManyField("testapp.Author", through="otherapp.Attribution")),
382.         ("title", models.CharField(max_length=200)),
383.     ])
384.     book_indexes = ModelState("otherapp", "Book", [
385.         ("id", models.AutoField(primary_key=True)),
386.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
387.         ("title", models.CharField(max_length=200)),
388.     ], {
389.         "indexes": [models.Index(fields=["author", "title"], name="book_title_author_idx")],
390.     })
391.     book_unordered_indexes = ModelState("otherapp", "Book", [
392.         ("id", models.AutoField(primary_key=True)),
393.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
394.         ("title", models.CharField(max_length=200)),
395.     ], {
396.         "indexes": [models.Index(fields=["title", "author"], name="book_author_title_idx")],
397.     })
398.     book_foo_together = ModelState("otherapp", "Book", [
399.         ("id", models.AutoField(primary_key=True)),
400.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
401.         ("title", models.CharField(max_length=200)),
402.     ], {
403.         "index_together": {("author", "title")},
404.         "unique_together": {("author", "title")},
405.     })
406.     book_foo_together_2 = ModelState("otherapp", "Book", [
407.         ("id", models.AutoField(primary_key=True)),
408.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
409.         ("title", models.CharField(max_length=200)),
410.     ], {
411.         "index_together": {("title", "author")},
412.         "unique_together": {("title", "author")},
413.     })
414.     book_foo_together_3 = ModelState("otherapp", "Book", [
415.         ("id", models.AutoField(primary_key=True)),
416.         ("newfield", models.IntegerField()),
417.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
418.         ("title", models.CharField(max_length=200)),
419.     ], {
420.         "index_together": {("title", "newfield")},
421.         "unique_together": {("title", "newfield")},
422.     })
423.     book_foo_together_4 = ModelState("otherapp", "Book", [
424.         ("id", models.AutoField(primary_key=True)),
425.         ("newfield2", models.IntegerField()),
426.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
427.         ("title", models.CharField(max_length=200)),
428.     ], {
429.         "index_together": {("title", "newfield2")},
430.         "unique_together": {("title", "newfield2")},
431.     })
432.     attribution = ModelState("otherapp", "Attribution", [
433.         ("id", models.AutoField(primary_key=True)),
434.         ("author", models.ForeignKey("testapp.Author", models.CASCADE)),
435.         ("book", models.ForeignKey("otherapp.Book", models.CASCADE)),
436.     ])
437.     edition = ModelState("thirdapp", "Edition", [
438.         ("id", models.AutoField(primary_key=True)),
439.         ("book", models.ForeignKey("otherapp.Book", models.CASCADE)),
440.     ])
441.     custom_user = ModelState("thirdapp", "CustomUser", [
442.         ("id", models.AutoField(primary_key=True)),
443.         ("username", models.CharField(max_length=255)),
444.     ], bases=(AbstractBaseUser,))
445.     custom_user_no_inherit = ModelState("thirdapp", "CustomUser", [
446.         ("id", models.AutoField(primary_key=True)),
447.         ("username", models.CharField(max_length=255)),
448.     ])
449.     aardvark = ModelState("thirdapp", "Aardvark", [("id", models.AutoField(primary_key=True))])
450.     aardvark_testapp = ModelState("testapp", "Aardvark", [("id", models.AutoField(primary_key=True))])
451.     aardvark_based_on_author = ModelState("testapp", "Aardvark", [], bases=("testapp.Author",))
452.     aardvark_pk_fk_author = ModelState("testapp", "Aardvark", [
453.         ("id", models.OneToOneField("testapp.Author", models.CASCADE, primary_key=True)),
454.     ])
455.     knight = ModelState("eggs", "Knight", [("id", models.AutoField(primary_key=True))])
456.     rabbit = ModelState("eggs", "Rabbit", [
457.         ("id", models.AutoField(primary_key=True)),
458.         ("knight", models.ForeignKey("eggs.Knight", models.CASCADE)),
459.         ("parent", models.ForeignKey("eggs.Rabbit", models.CASCADE)),
460.     ], {
461.         "unique_together": {("parent", "knight")},
462.         "indexes": [models.Index(fields=["parent", "knight"], name='rabbit_circular_fk_index')],
463.     })
464. 
465.     def repr_changes(self, changes, include_dependencies=False):
466.         output = ""
467.         for app_label, migrations_ in sorted(changes.items()):
468.             output += "  %s:\n" % app_label
469.             for migration in migrations_:
470.                 output += "    %s\n" % migration.name
471.                 for operation in migration.operations:
472.                     output += "      %s\n" % operation
473.                 if include_dependencies:
474.                     output += "      Dependencies:\n"
475.                     if migration.dependencies:
476.                         for dep in migration.dependencies:
477.                             output += "        %s\n" % (dep,)
478.                     else:
479.                         output += "        None\n"
480.         return output
481. 
482.     def assertNumberMigrations(self, changes, app_label, number):
483.         if len(changes.get(app_label, [])) != number:
484.             self.fail("Incorrect number of migrations (%s) for %s (expected %s)\n%s" % (
485.                 len(changes.get(app_label, [])),
486.                 app_label,
487.                 number,
488.                 self.repr_changes(changes),
489.             ))
490. 
491.     def assertMigrationDependencies(self, changes, app_label, position, dependencies):
492.         if not changes.get(app_label):
493.             self.fail("No migrations found for %s\n%s" % (app_label, self.repr_changes(changes)))
494.         if len(changes[app_label]) < position + 1:
495.             self.fail("No migration at index %s for %s\n%s" % (position, app_label, self.repr_changes(changes)))
496.         migration = changes[app_label][position]
497.         if set(migration.dependencies) != set(dependencies):
498.             self.fail("Migration dependencies mismatch for %s.%s (expected %s):\n%s" % (
499.                 app_label,
500.                 migration.name,


File: tests/migrations/test_writer.py
Line number range: 1 - 843
Content:
1. import datetime
2. import decimal
3. import enum
4. import functools
5. import math
6. import os
7. import pathlib
8. import re
9. import sys
10. import uuid
11. from unittest import mock
12. 
13. try:
14.     import zoneinfo
15. except ImportError:
16.     from backports import zoneinfo
17. 
18. try:
19.     import pytz
20. except ImportError:
21.     pytz = None
22. 
23. import custom_migration_operations.more_operations
24. import custom_migration_operations.operations
25. 
26. from django import get_version
27. from django.conf import SettingsReference, settings
28. from django.core.validators import EmailValidator, RegexValidator
29. from django.db import migrations, models
30. from django.db.migrations.serializer import BaseSerializer
31. from django.db.migrations.writer import MigrationWriter, OperationWriter
32. from django.test import SimpleTestCase
33. from django.utils.deconstruct import deconstructible
34. from django.utils.functional import SimpleLazyObject
35. from django.utils.timezone import get_default_timezone, get_fixed_timezone, utc
36. from django.utils.translation import gettext_lazy as _
37. 
38. from .models import FoodManager, FoodQuerySet
39. 
40. 
41. class DeconstructibleInstances:
42.     def deconstruct(self):
43.         return ('DeconstructibleInstances', [], {})
44. 
45. 
46. class Money(decimal.Decimal):
47.     def deconstruct(self):
48.         return (
49.             '%s.%s' % (self.__class__.__module__, self.__class__.__name__),
50.             [str(self)],
51.             {}
52.         )
53. 
54. 
55. class TestModel1:
56.     def upload_to(self):
57.         return '/somewhere/dynamic/'
58.     thing = models.FileField(upload_to=upload_to)
59. 
60. 
61. class TextEnum(enum.Enum):
62.     A = 'a-value'
63.     B = 'value-b'
64. 
65. 
66. class TextTranslatedEnum(enum.Enum):
67.     A = _('a-value')
68.     B = _('value-b')
69. 
70. 
71. class BinaryEnum(enum.Enum):
72.     A = b'a-value'
73.     B = b'value-b'
74. 
75. 
76. class IntEnum(enum.IntEnum):
77.     A = 1
78.     B = 2
79. 
80. 
81. class OperationWriterTests(SimpleTestCase):
82. 
83.     def test_empty_signature(self):
84.         operation = custom_migration_operations.operations.TestOperation()
85.         buff, imports = OperationWriter(operation, indentation=0).serialize()
86.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
87.         self.assertEqual(
88.             buff,
89.             'custom_migration_operations.operations.TestOperation(\n'
90.             '),'
91.         )
92. 
93.     def test_args_signature(self):
94.         operation = custom_migration_operations.operations.ArgsOperation(1, 2)
95.         buff, imports = OperationWriter(operation, indentation=0).serialize()
96.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
97.         self.assertEqual(
98.             buff,
99.             'custom_migration_operations.operations.ArgsOperation(\n'
100.             '    arg1=1,\n'
101.             '    arg2=2,\n'
102.             '),'
103.         )
104. 
105.     def test_kwargs_signature(self):
106.         operation = custom_migration_operations.operations.KwargsOperation(kwarg1=1)
107.         buff, imports = OperationWriter(operation, indentation=0).serialize()
108.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
109.         self.assertEqual(
110.             buff,
111.             'custom_migration_operations.operations.KwargsOperation(\n'
112.             '    kwarg1=1,\n'
113.             '),'
114.         )
115. 
116.     def test_args_kwargs_signature(self):
117.         operation = custom_migration_operations.operations.ArgsKwargsOperation(1, 2, kwarg2=4)
118.         buff, imports = OperationWriter(operation, indentation=0).serialize()
119.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
120.         self.assertEqual(
121.             buff,
122.             'custom_migration_operations.operations.ArgsKwargsOperation(\n'
123.             '    arg1=1,\n'
124.             '    arg2=2,\n'
125.             '    kwarg2=4,\n'
126.             '),'
127.         )
128. 
129.     def test_nested_args_signature(self):
130.         operation = custom_migration_operations.operations.ArgsOperation(
131.             custom_migration_operations.operations.ArgsOperation(1, 2),
132.             custom_migration_operations.operations.KwargsOperation(kwarg1=3, kwarg2=4)
133.         )
134.         buff, imports = OperationWriter(operation, indentation=0).serialize()
135.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
136.         self.assertEqual(
137.             buff,
138.             'custom_migration_operations.operations.ArgsOperation(\n'
139.             '    arg1=custom_migration_operations.operations.ArgsOperation(\n'
140.             '        arg1=1,\n'
141.             '        arg2=2,\n'
142.             '    ),\n'
143.             '    arg2=custom_migration_operations.operations.KwargsOperation(\n'
144.             '        kwarg1=3,\n'
145.             '        kwarg2=4,\n'
146.             '    ),\n'
147.             '),'
148.         )
149. 
150.     def test_multiline_args_signature(self):
151.         operation = custom_migration_operations.operations.ArgsOperation("test\n    arg1", "test\narg2")
152.         buff, imports = OperationWriter(operation, indentation=0).serialize()
153.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
154.         self.assertEqual(
155.             buff,
156.             "custom_migration_operations.operations.ArgsOperation(\n"
157.             "    arg1='test\\n    arg1',\n"
158.             "    arg2='test\\narg2',\n"
159.             "),"
160.         )
161. 
162.     def test_expand_args_signature(self):
163.         operation = custom_migration_operations.operations.ExpandArgsOperation([1, 2])
164.         buff, imports = OperationWriter(operation, indentation=0).serialize()
165.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
166.         self.assertEqual(
167.             buff,
168.             'custom_migration_operations.operations.ExpandArgsOperation(\n'
169.             '    arg=[\n'
170.             '        1,\n'
171.             '        2,\n'
172.             '    ],\n'
173.             '),'
174.         )
175. 
176.     def test_nested_operation_expand_args_signature(self):
177.         operation = custom_migration_operations.operations.ExpandArgsOperation(
178.             arg=[
179.                 custom_migration_operations.operations.KwargsOperation(
180.                     kwarg1=1,
181.                     kwarg2=2,
182.                 ),
183.             ]
184.         )
185.         buff, imports = OperationWriter(operation, indentation=0).serialize()
186.         self.assertEqual(imports, {'import custom_migration_operations.operations'})
187.         self.assertEqual(
188.             buff,
189.             'custom_migration_operations.operations.ExpandArgsOperation(\n'
190.             '    arg=[\n'
191.             '        custom_migration_operations.operations.KwargsOperation(\n'
192.             '            kwarg1=1,\n'
193.             '            kwarg2=2,\n'
194.             '        ),\n'
195.             '    ],\n'
196.             '),'
197.         )
198. 
199. 
200. class WriterTests(SimpleTestCase):
201.     """
202.     Tests the migration writer (makes migration files from Migration instances)
203.     """
204.     class NestedEnum(enum.IntEnum):
205.         A = 1
206.         B = 2
207. 
208.     class NestedChoices(models.TextChoices):
209.         X = 'X', 'X value'
210.         Y = 'Y', 'Y value'
211. 
212.     def safe_exec(self, string, value=None):
213.         d = {}
214.         try:
215.             exec(string, globals(), d)
216.         except Exception as e:
217.             if value:
218.                 self.fail("Could not exec %r (from value %r): %s" % (string.strip(), value, e))
219.             else:
220.                 self.fail("Could not exec %r: %s" % (string.strip(), e))
221.         return d
222. 
223.     def serialize_round_trip(self, value):
224.         string, imports = MigrationWriter.serialize(value)
225.         return self.safe_exec("%s\ntest_value_result = %s" % ("\n".join(imports), string), value)['test_value_result']
226. 
227.     def assertSerializedEqual(self, value):
228.         self.assertEqual(self.serialize_round_trip(value), value)
229. 
230.     def assertSerializedResultEqual(self, value, target):
231.         self.assertEqual(MigrationWriter.serialize(value), target)
232. 
233.     def assertSerializedFieldEqual(self, value):
234.         new_value = self.serialize_round_trip(value)
235.         self.assertEqual(value.__class__, new_value.__class__)
236.         self.assertEqual(value.max_length, new_value.max_length)
237.         self.assertEqual(value.null, new_value.null)
238.         self.assertEqual(value.unique, new_value.unique)
239. 
240.     def test_serialize_numbers(self):
241.         self.assertSerializedEqual(1)
242.         self.assertSerializedEqual(1.2)
243.         self.assertTrue(math.isinf(self.serialize_round_trip(float("inf"))))
244.         self.assertTrue(math.isinf(self.serialize_round_trip(float("-inf"))))
245.         self.assertTrue(math.isnan(self.serialize_round_trip(float("nan"))))
246. 
247.         self.assertSerializedEqual(decimal.Decimal('1.3'))
248.         self.assertSerializedResultEqual(
249.             decimal.Decimal('1.3'),
250.             ("Decimal('1.3')", {'from decimal import Decimal'})
251.         )
252. 
253.         self.assertSerializedEqual(Money('1.3'))
254.         self.assertSerializedResultEqual(
255.             Money('1.3'),
256.             ("migrations.test_writer.Money('1.3')", {'import migrations.test_writer'})
257.         )
258. 
259.     def test_serialize_constants(self):
260.         self.assertSerializedEqual(None)
261.         self.assertSerializedEqual(True)
262.         self.assertSerializedEqual(False)
263. 
264.     def test_serialize_strings(self):
265.         self.assertSerializedEqual(b"foobar")
266.         string, imports = MigrationWriter.serialize(b"foobar")
267.         self.assertEqual(string, "b'foobar'")
268.         self.assertSerializedEqual("föobár")
269.         string, imports = MigrationWriter.serialize("foobar")
270.         self.assertEqual(string, "'foobar'")
271. 
272.     def test_serialize_multiline_strings(self):
273.         self.assertSerializedEqual(b"foo\nbar")
274.         string, imports = MigrationWriter.serialize(b"foo\nbar")
275.         self.assertEqual(string, "b'foo\\nbar'")
276.         self.assertSerializedEqual("föo\nbár")
277.         string, imports = MigrationWriter.serialize("foo\nbar")
278.         self.assertEqual(string, "'foo\\nbar'")
279. 
280.     def test_serialize_collections(self):
281.         self.assertSerializedEqual({1: 2})
282.         self.assertSerializedEqual(["a", 2, True, None])
283.         self.assertSerializedEqual({2, 3, "eighty"})
284.         self.assertSerializedEqual({"lalalala": ["yeah", "no", "maybe"]})
285.         self.assertSerializedEqual(_('Hello'))
286. 
287.     def test_serialize_builtin_types(self):
288.         self.assertSerializedEqual([list, tuple, dict, set, frozenset])
289.         self.assertSerializedResultEqual(
290.             [list, tuple, dict, set, frozenset],
291.             ("[list, tuple, dict, set, frozenset]", set())
292.         )
293. 
294.     def test_serialize_lazy_objects(self):
295.         pattern = re.compile(r'^foo$')
296.         lazy_pattern = SimpleLazyObject(lambda: pattern)
297.         self.assertEqual(self.serialize_round_trip(lazy_pattern), pattern)
298. 
299.     def test_serialize_enums(self):
300.         self.assertSerializedResultEqual(
301.             TextEnum.A,
302.             ("migrations.test_writer.TextEnum['A']", {'import migrations.test_writer'})
303.         )
304.         self.assertSerializedResultEqual(
305.             TextTranslatedEnum.A,
306.             ("migrations.test_writer.TextTranslatedEnum['A']", {'import migrations.test_writer'})
307.         )
308.         self.assertSerializedResultEqual(
309.             BinaryEnum.A,
310.             ("migrations.test_writer.BinaryEnum['A']", {'import migrations.test_writer'})
311.         )
312.         self.assertSerializedResultEqual(
313.             IntEnum.B,
314.             ("migrations.test_writer.IntEnum['B']", {'import migrations.test_writer'})
315.         )
316.         self.assertSerializedResultEqual(
317.             self.NestedEnum.A,
318.             (
319.                 "migrations.test_writer.WriterTests.NestedEnum['A']",
320.                 {'import migrations.test_writer'},
321.             ),
322.         )
323.         self.assertSerializedEqual(self.NestedEnum.A)
324. 
325.         field = models.CharField(default=TextEnum.B, choices=[(m.value, m) for m in TextEnum])
326.         string = MigrationWriter.serialize(field)[0]
327.         self.assertEqual(
328.             string,
329.             "models.CharField(choices=["
330.             "('a-value', migrations.test_writer.TextEnum['A']), "
331.             "('value-b', migrations.test_writer.TextEnum['B'])], "
332.             "default=migrations.test_writer.TextEnum['B'])"
333.         )
334.         field = models.CharField(
335.             default=TextTranslatedEnum.A,
336.             choices=[(m.value, m) for m in TextTranslatedEnum],
337.         )
338.         string = MigrationWriter.serialize(field)[0]
339.         self.assertEqual(
340.             string,
341.             "models.CharField(choices=["
342.             "('a-value', migrations.test_writer.TextTranslatedEnum['A']), "
343.             "('value-b', migrations.test_writer.TextTranslatedEnum['B'])], "
344.             "default=migrations.test_writer.TextTranslatedEnum['A'])"
345.         )
346.         field = models.CharField(default=BinaryEnum.B, choices=[(m.value, m) for m in BinaryEnum])
347.         string = MigrationWriter.serialize(field)[0]
348.         self.assertEqual(
349.             string,
350.             "models.CharField(choices=["
351.             "(b'a-value', migrations.test_writer.BinaryEnum['A']), "
352.             "(b'value-b', migrations.test_writer.BinaryEnum['B'])], "
353.             "default=migrations.test_writer.BinaryEnum['B'])"
354.         )
355.         field = models.IntegerField(default=IntEnum.A, choices=[(m.value, m) for m in IntEnum])
356.         string = MigrationWriter.serialize(field)[0]
357.         self.assertEqual(
358.             string,
359.             "models.IntegerField(choices=["
360.             "(1, migrations.test_writer.IntEnum['A']), "
361.             "(2, migrations.test_writer.IntEnum['B'])], "
362.             "default=migrations.test_writer.IntEnum['A'])"
363.         )
364. 
365.     def test_serialize_choices(self):
366.         class TextChoices(models.TextChoices):
367.             A = 'A', 'A value'
368.             B = 'B', 'B value'
369. 
370.         class IntegerChoices(models.IntegerChoices):
371.             A = 1, 'One'
372.             B = 2, 'Two'
373. 
374.         class DateChoices(datetime.date, models.Choices):
375.             DATE_1 = 1969, 7, 20, 'First date'
376.             DATE_2 = 1969, 11, 19, 'Second date'
377. 
378.         self.assertSerializedResultEqual(TextChoices.A, ("'A'", set()))
379.         self.assertSerializedResultEqual(IntegerChoices.A, ('1', set()))
380.         self.assertSerializedResultEqual(
381.             DateChoices.DATE_1,
382.             ('datetime.date(1969, 7, 20)', {'import datetime'}),
383.         )
384.         field = models.CharField(default=TextChoices.B, choices=TextChoices.choices)
385.         string = MigrationWriter.serialize(field)[0]
386.         self.assertEqual(
387.             string,
388.             "models.CharField(choices=[('A', 'A value'), ('B', 'B value')], "
389.             "default='B')",
390.         )
391.         field = models.IntegerField(default=IntegerChoices.B, choices=IntegerChoices.choices)
392.         string = MigrationWriter.serialize(field)[0]
393.         self.assertEqual(
394.             string,
395.             "models.IntegerField(choices=[(1, 'One'), (2, 'Two')], default=2)",
396.         )
397.         field = models.DateField(default=DateChoices.DATE_2, choices=DateChoices.choices)
398.         string = MigrationWriter.serialize(field)[0]
399.         self.assertEqual(
400.             string,
401.             "models.DateField(choices=["
402.             "(datetime.date(1969, 7, 20), 'First date'), "
403.             "(datetime.date(1969, 11, 19), 'Second date')], "
404.             "default=datetime.date(1969, 11, 19))"
405.         )
406. 
407.     def test_serialize_nested_class(self):
408.         for nested_cls in [self.NestedEnum, self.NestedChoices]:
409.             cls_name = nested_cls.__name__
410.             with self.subTest(cls_name):
411.                 self.assertSerializedResultEqual(
412.                     nested_cls,
413.                     (
414.                         "migrations.test_writer.WriterTests.%s" % cls_name,
415.                         {'import migrations.test_writer'},
416.                     ),
417.                 )
418. 
419.     def test_serialize_uuid(self):
420.         self.assertSerializedEqual(uuid.uuid1())
421.         self.assertSerializedEqual(uuid.uuid4())
422. 
423.         uuid_a = uuid.UUID('5c859437-d061-4847-b3f7-e6b78852f8c8')
424.         uuid_b = uuid.UUID('c7853ec1-2ea3-4359-b02d-b54e8f1bcee2')
425.         self.assertSerializedResultEqual(
426.             uuid_a,
427.             ("uuid.UUID('5c859437-d061-4847-b3f7-e6b78852f8c8')", {'import uuid'})
428.         )
429.         self.assertSerializedResultEqual(
430.             uuid_b,
431.             ("uuid.UUID('c7853ec1-2ea3-4359-b02d-b54e8f1bcee2')", {'import uuid'})
432.         )
433. 
434.         field = models.UUIDField(choices=((uuid_a, 'UUID A'), (uuid_b, 'UUID B')), default=uuid_a)
435.         string = MigrationWriter.serialize(field)[0]
436.         self.assertEqual(
437.             string,
438.             "models.UUIDField(choices=["
439.             "(uuid.UUID('5c859437-d061-4847-b3f7-e6b78852f8c8'), 'UUID A'), "
440.             "(uuid.UUID('c7853ec1-2ea3-4359-b02d-b54e8f1bcee2'), 'UUID B')], "
441.             "default=uuid.UUID('5c859437-d061-4847-b3f7-e6b78852f8c8'))"
442.         )
443. 
444.     def test_serialize_pathlib(self):
445.         # Pure path objects work in all platforms.
446.         self.assertSerializedEqual(pathlib.PurePosixPath())
447.         self.assertSerializedEqual(pathlib.PureWindowsPath())
448.         path = pathlib.PurePosixPath('/path/file.txt')
449.         expected = ("pathlib.PurePosixPath('/path/file.txt')", {'import pathlib'})
450.         self.assertSerializedResultEqual(path, expected)
451.         path = pathlib.PureWindowsPath('A:\\File.txt')
452.         expected = ("pathlib.PureWindowsPath('A:/File.txt')", {'import pathlib'})
453.         self.assertSerializedResultEqual(path, expected)
454.         # Concrete path objects work on supported platforms.
455.         if sys.platform == 'win32':
456.             self.assertSerializedEqual(pathlib.WindowsPath.cwd())
457.             path = pathlib.WindowsPath('A:\\File.txt')
458.             expected = ("pathlib.PureWindowsPath('A:/File.txt')", {'import pathlib'})
459.             self.assertSerializedResultEqual(path, expected)
460.         else:
461.             self.assertSerializedEqual(pathlib.PosixPath.cwd())
462.             path = pathlib.PosixPath('/path/file.txt')
463.             expected = ("pathlib.PurePosixPath('/path/file.txt')", {'import pathlib'})
464.             self.assertSerializedResultEqual(path, expected)
465. 
466.         field = models.FilePathField(path=pathlib.PurePosixPath('/home/user'))
467.         string, imports = MigrationWriter.serialize(field)
468.         self.assertEqual(
469.             string,
470.             "models.FilePathField(path=pathlib.PurePosixPath('/home/user'))",
471.         )
472.         self.assertIn('import pathlib', imports)
473. 
474.     def test_serialize_path_like(self):
475.         with os.scandir(os.path.dirname(__file__)) as entries:
476.             path_like = list(entries)[0]
477.         expected = (repr(path_like.path), {})
478.         self.assertSerializedResultEqual(path_like, expected)
479. 
480.         field = models.FilePathField(path=path_like)
481.         string = MigrationWriter.serialize(field)[0]
482.         self.assertEqual(string, 'models.FilePathField(path=%r)' % path_like.path)
483. 
484.     def test_serialize_functions(self):
485.         with self.assertRaisesMessage(ValueError, 'Cannot serialize function: lambda'):
486.             self.assertSerializedEqual(lambda x: 42)
487.         self.assertSerializedEqual(models.SET_NULL)
488.         string, imports = MigrationWriter.serialize(models.SET(42))
489.         self.assertEqual(string, 'models.SET(42)')
490.         self.serialize_round_trip(models.SET(42))
491. 
492.     def test_serialize_datetime(self):
493.         self.assertSerializedEqual(datetime.datetime.now())
494.         self.assertSerializedEqual(datetime.datetime.now)
495.         self.assertSerializedEqual(datetime.datetime.today())
496.         self.assertSerializedEqual(datetime.datetime.today)
497.         self.assertSerializedEqual(datetime.date.today())
498.         self.assertSerializedEqual(datetime.date.today)
499.         self.assertSerializedEqual(datetime.datetime.now().time())
500.         self.assertSerializedEqual(datetime.datetime(2014, 1, 1, 1, 1, tzinfo=get_default_timezone()))
501.         self.assertSerializedEqual(datetime.datetime(2013, 12, 31, 22, 1, tzinfo=get_fixed_timezone(180)))
502.         self.assertSerializedResultEqual(
503.             datetime.datetime(2014, 1, 1, 1, 1),
504.             ("datetime.datetime(2014, 1, 1, 1, 1)", {'import datetime'})
505.         )
506.         for tzinfo in (utc, datetime.timezone.utc):
507.             with self.subTest(tzinfo=tzinfo):
508.                 self.assertSerializedResultEqual(
509.                     datetime.datetime(2012, 1, 1, 1, 1, tzinfo=tzinfo),
510.                     (
511.                         "datetime.datetime(2012, 1, 1, 1, 1, tzinfo=utc)",
512.                         {'import datetime', 'from django.utils.timezone import utc'},
513.                     )
514.                 )
515. 
516.         self.assertSerializedResultEqual(
517.             datetime.datetime(2012, 1, 1, 2, 1, tzinfo=zoneinfo.ZoneInfo('Europe/Paris')),
518.             (
519.                 "datetime.datetime(2012, 1, 1, 1, 1, tzinfo=utc)",
520.                 {'import datetime', 'from django.utils.timezone import utc'},
521.             )
522.         )
523.         if pytz:
524.             self.assertSerializedResultEqual(
525.                 pytz.timezone('Europe/Paris').localize(datetime.datetime(2012, 1, 1, 2, 1)),
526.                 (
527.                     "datetime.datetime(2012, 1, 1, 1, 1, tzinfo=utc)",
528.                     {'import datetime', 'from django.utils.timezone import utc'},
529.                 )
530.             )
531. 
532.     def test_serialize_fields(self):
533.         self.assertSerializedFieldEqual(models.CharField(max_length=255))
534.         self.assertSerializedResultEqual(
535.             models.CharField(max_length=255),
536.             ("models.CharField(max_length=255)", {"from django.db import models"})
537.         )
538.         self.assertSerializedFieldEqual(models.TextField(null=True, blank=True))
539.         self.assertSerializedResultEqual(
540.             models.TextField(null=True, blank=True),
541.             ("models.TextField(blank=True, null=True)", {'from django.db import models'})
542.         )
543. 
544.     def test_serialize_settings(self):
545.         self.assertSerializedEqual(SettingsReference(settings.AUTH_USER_MODEL, "AUTH_USER_MODEL"))
546.         self.assertSerializedResultEqual(
547.             SettingsReference("someapp.model", "AUTH_USER_MODEL"),
548.             ("settings.AUTH_USER_MODEL", {"from django.conf import settings"})
549.         )
550. 
551.     def test_serialize_iterators(self):
552.         self.assertSerializedResultEqual(
553.             ((x, x * x) for x in range(3)),
554.             ("((0, 0), (1, 1), (2, 4))", set())
555.         )
556. 
557.     def test_serialize_compiled_regex(self):
558.         """
559.         Make sure compiled regex can be serialized.
560.         """
561.         regex = re.compile(r'^\w+$')
562.         self.assertSerializedEqual(regex)
563. 
564.     def test_serialize_class_based_validators(self):
565.         """
566.         Ticket #22943: Test serialization of class-based validators, including
567.         compiled regexes.
568.         """
569.         validator = RegexValidator(message="hello")
570.         string = MigrationWriter.serialize(validator)[0]
571.         self.assertEqual(string, "django.core.validators.RegexValidator(message='hello')")
572.         self.serialize_round_trip(validator)
573. 
574.         # Test with a compiled regex.
575.         validator = RegexValidator(regex=re.compile(r'^\w+$'))
576.         string = MigrationWriter.serialize(validator)[0]
577.         self.assertEqual(string, "django.core.validators.RegexValidator(regex=re.compile('^\\\\w+$'))")
578.         self.serialize_round_trip(validator)
579. 
580.         # Test a string regex with flag
581.         validator = RegexValidator(r'^[0-9]+$', flags=re.S)
582.         string = MigrationWriter.serialize(validator)[0]
583.         self.assertEqual(string, "django.core.validators.RegexValidator('^[0-9]+$', flags=re.RegexFlag['DOTALL'])")
584.         self.serialize_round_trip(validator)
585. 
586.         # Test message and code
587.         validator = RegexValidator('^[-a-zA-Z0-9_]+$', 'Invalid', 'invalid')
588.         string = MigrationWriter.serialize(validator)[0]
589.         self.assertEqual(string, "django.core.validators.RegexValidator('^[-a-zA-Z0-9_]+$', 'Invalid', 'invalid')")
590.         self.serialize_round_trip(validator)
591. 
592.         # Test with a subclass.
593.         validator = EmailValidator(message="hello")
594.         string = MigrationWriter.serialize(validator)[0]
595.         self.assertEqual(string, "django.core.validators.EmailValidator(message='hello')")
596.         self.serialize_round_trip(validator)
597. 
598.         validator = deconstructible(path="migrations.test_writer.EmailValidator")(EmailValidator)(message="hello")
599.         string = MigrationWriter.serialize(validator)[0]
600.         self.assertEqual(string, "migrations.test_writer.EmailValidator(message='hello')")
601. 
602.         validator = deconstructible(path="custom.EmailValidator")(EmailValidator)(message="hello")
603.         with self.assertRaisesMessage(ImportError, "No module named 'custom'"):
604.             MigrationWriter.serialize(validator)
605. 
606.         validator = deconstructible(path="django.core.validators.EmailValidator2")(EmailValidator)(message="hello")
607.         with self.assertRaisesMessage(ValueError, "Could not find object EmailValidator2 in django.core.validators."):
608.             MigrationWriter.serialize(validator)
609. 
610.     def test_serialize_empty_nonempty_tuple(self):
611.         """
612.         Ticket #22679: makemigrations generates invalid code for (an empty
613.         tuple) default_permissions = ()
614.         """
615.         empty_tuple = ()
616.         one_item_tuple = ('a',)
617.         many_items_tuple = ('a', 'b', 'c')
618.         self.assertSerializedEqual(empty_tuple)
619.         self.assertSerializedEqual(one_item_tuple)
620.         self.assertSerializedEqual(many_items_tuple)
621. 
622.     def test_serialize_range(self):
623.         string, imports = MigrationWriter.serialize(range(1, 5))
624.         self.assertEqual(string, 'range(1, 5)')
625.         self.assertEqual(imports, set())
626. 
627.     def test_serialize_builtins(self):
628.         string, imports = MigrationWriter.serialize(range)
629.         self.assertEqual(string, 'range')
630.         self.assertEqual(imports, set())
631. 
632.     def test_serialize_unbound_method_reference(self):
633.         """An unbound method used within a class body can be serialized."""
634.         self.serialize_round_trip(TestModel1.thing)
635. 
636.     def test_serialize_local_function_reference(self):
637.         """A reference in a local scope can't be serialized."""
638.         class TestModel2:
639.             def upload_to(self):
640.                 return "somewhere dynamic"
641.             thing = models.FileField(upload_to=upload_to)
642. 
643.         with self.assertRaisesMessage(ValueError, 'Could not find function upload_to in migrations.test_writer'):
644.             self.serialize_round_trip(TestModel2.thing)
645. 
646.     def test_serialize_managers(self):
647.         self.assertSerializedEqual(models.Manager())
648.         self.assertSerializedResultEqual(
649.             FoodQuerySet.as_manager(),
650.             ('migrations.models.FoodQuerySet.as_manager()', {'import migrations.models'})
651.         )
652.         self.assertSerializedEqual(FoodManager('a', 'b'))
653.         self.assertSerializedEqual(FoodManager('x', 'y', c=3, d=4))
654. 
655.     def test_serialize_frozensets(self):
656.         self.assertSerializedEqual(frozenset())
657.         self.assertSerializedEqual(frozenset("let it go"))
658. 
659.     def test_serialize_set(self):
660.         self.assertSerializedEqual(set())
661.         self.assertSerializedResultEqual(set(), ('set()', set()))
662.         self.assertSerializedEqual({'a'})
663.         self.assertSerializedResultEqual({'a'}, ("{'a'}", set()))
664. 
665.     def test_serialize_timedelta(self):
666.         self.assertSerializedEqual(datetime.timedelta())
667.         self.assertSerializedEqual(datetime.timedelta(minutes=42))
668. 
669.     def test_serialize_functools_partial(self):
670.         value = functools.partial(datetime.timedelta, 1, seconds=2)
671.         result = self.serialize_round_trip(value)
672.         self.assertEqual(result.func, value.func)
673.         self.assertEqual(result.args, value.args)
674.         self.assertEqual(result.keywords, value.keywords)
675. 
676.     def test_serialize_functools_partialmethod(self):
677.         value = functools.partialmethod(datetime.timedelta, 1, seconds=2)
678.         result = self.serialize_round_trip(value)
679.         self.assertIsInstance(result, functools.partialmethod)
680.         self.assertEqual(result.func, value.func)
681.         self.assertEqual(result.args, value.args)
682.         self.assertEqual(result.keywords, value.keywords)
683. 
684.     def test_serialize_type_none(self):
685.         self.assertSerializedEqual(type(None))
686. 
687.     def test_serialize_type_model(self):
688.         self.assertSerializedEqual(models.Model)
689.         self.assertSerializedResultEqual(
690.             MigrationWriter.serialize(models.Model),
691.             ("('models.Model', {'from django.db import models'})", set()),
692.         )
693. 
694.     def test_simple_migration(self):
695.         """
696.         Tests serializing a simple migration.
697.         """
698.         fields = {
699.             'charfield': models.DateTimeField(default=datetime.datetime.now),
700.             'datetimefield': models.DateTimeField(default=datetime.datetime.now),
701.         }
702. 
703.         options = {
704.             'verbose_name': 'My model',
705.             'verbose_name_plural': 'My models',
706.         }
707. 
708.         migration = type("Migration", (migrations.Migration,), {
709.             "operations": [
710.                 migrations.CreateModel("MyModel", tuple(fields.items()), options, (models.Model,)),
711.                 migrations.CreateModel("MyModel2", tuple(fields.items()), bases=(models.Model,)),
712.                 migrations.CreateModel(
713.                     name="MyModel3", fields=tuple(fields.items()), options=options, bases=(models.Model,)
714.                 ),
715.                 migrations.DeleteModel("MyModel"),
716.                 migrations.AddField("OtherModel", "datetimefield", fields["datetimefield"]),
717.             ],
718.             "dependencies": [("testapp", "some_other_one")],
719.         })
720.         writer = MigrationWriter(migration)
721.         output = writer.as_string()
722.         # We don't test the output formatting - that's too fragile.
723.         # Just make sure it runs for now, and that things look alright.
724.         result = self.safe_exec(output)
725.         self.assertIn("Migration", result)
726. 
727.     def test_migration_path(self):
728.         test_apps = [
729.             'migrations.migrations_test_apps.normal',
730.             'migrations.migrations_test_apps.with_package_model',
731.             'migrations.migrations_test_apps.without_init_file',
732.         ]
733. 
734.         base_dir = os.path.dirname(os.path.dirname(__file__))
735. 
736.         for app in test_apps:
737.             with self.modify_settings(INSTALLED_APPS={'append': app}):
738.                 migration = migrations.Migration('0001_initial', app.split('.')[-1])
739.                 expected_path = os.path.join(base_dir, *(app.split('.') + ['migrations', '0001_initial.py']))
740.                 writer = MigrationWriter(migration)
741.                 self.assertEqual(writer.path, expected_path)
742. 
743.     def test_custom_operation(self):
744.         migration = type("Migration", (migrations.Migration,), {
745.             "operations": [
746.                 custom_migration_operations.operations.TestOperation(),
747.                 custom_migration_operations.operations.CreateModel(),
748.                 migrations.CreateModel("MyModel", (), {}, (models.Model,)),
749.                 custom_migration_operations.more_operations.TestOperation()
750.             ],
751.             "dependencies": []
752.         })
753.         writer = MigrationWriter(migration)
754.         output = writer.as_string()
755.         result = self.safe_exec(output)
756.         self.assertIn("custom_migration_operations", result)
757.         self.assertNotEqual(
758.             result['custom_migration_operations'].operations.TestOperation,
759.             result['custom_migration_operations'].more_operations.TestOperation
760.         )
761. 
762.     def test_sorted_imports(self):
763.         """
764.         #24155 - Tests ordering of imports.
765.         """
766.         migration = type("Migration", (migrations.Migration,), {
767.             "operations": [
768.                 migrations.AddField("mymodel", "myfield", models.DateTimeField(
769.                     default=datetime.datetime(2012, 1, 1, 1, 1, tzinfo=utc),
770.                 )),
771.             ]
772.         })
773.         writer = MigrationWriter(migration)
774.         output = writer.as_string()
775.         self.assertIn(
776.             "import datetime\n"
777.             "from django.db import migrations, models\n"
778.             "from django.utils.timezone import utc\n",
779.             output
780.         )
781. 
782.     def test_migration_file_header_comments(self):
783.         """
784.         Test comments at top of file.
785.         """
786.         migration = type("Migration", (migrations.Migration,), {
787.             "operations": []
788.         })
789.         dt = datetime.datetime(2015, 7, 31, 4, 40, 0, 0, tzinfo=utc)
790.         with mock.patch('django.db.migrations.writer.now', lambda: dt):
791.             for include_header in (True, False):
792.                 with self.subTest(include_header=include_header):
793.                     writer = MigrationWriter(migration, include_header)
794.                     output = writer.as_string()
795. 
796.                     self.assertEqual(
797.                         include_header,
798.                         output.startswith(
799.                             "# Generated by Django %s on 2015-07-31 04:40\n\n" % get_version()
800.                         )
801.                     )
802.                     if not include_header:
803.                         # Make sure the output starts with something that's not
804.                         # a comment or indentation or blank line
805.                         self.assertRegex(output.splitlines(keepends=True)[0], r"^[^#\s]+")
806. 
807.     def test_models_import_omitted(self):
808.         """
809.         django.db.models shouldn't be imported if unused.
810.         """
811.         migration = type("Migration", (migrations.Migration,), {
812.             "operations": [
813.                 migrations.AlterModelOptions(
814.                     name='model',
815.                     options={'verbose_name': 'model', 'verbose_name_plural': 'models'},
816.                 ),
817.             ]
818.         })
819.         writer = MigrationWriter(migration)
820.         output = writer.as_string()
821.         self.assertIn("from django.db import migrations\n", output)
822. 
823.     def test_deconstruct_class_arguments(self):
824.         # Yes, it doesn't make sense to use a class as a default for a
825.         # CharField. It does make sense for custom fields though, for example
826.         # an enumfield that takes the enum class as an argument.
827.         string = MigrationWriter.serialize(models.CharField(default=DeconstructibleInstances))[0]
828.         self.assertEqual(string, "models.CharField(default=migrations.test_writer.DeconstructibleInstances)")
829. 
830.     def test_register_serializer(self):
831.         class ComplexSerializer(BaseSerializer):
832.             def serialize(self):
833.                 return 'complex(%r)' % self.value, {}
834. 
835.         MigrationWriter.register_serializer(complex, ComplexSerializer)
836.         self.assertSerializedEqual(complex(1, 2))
837.         MigrationWriter.unregister_serializer(complex)
838.         with self.assertRaisesMessage(ValueError, 'Cannot serialize: (1+2j)'):
839.             self.assertSerializedEqual(complex(1, 2))
840. 
841.     def test_register_non_serializer(self):
842.         with self.assertRaisesMessage(ValueError, "'TestModel1' must inherit from 'BaseSerializer'."):
843.             MigrationWriter.register_serializer(complex, TestModel1)

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 19:20:09,868 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user's patch modifies the deconstruction path of various `django.db.models.expressions` classes. The goal is to find test cases that verify this behavior. The previously provided context from `test_writer.py` and `test_autodetector.py` does not contain explicit tests for the deconstruction of expressions like `F()`, `Func()`, `Value()`, `Case()`, or `When()` in a migrations context. The file `tests/migrations/test_operations.py` is highly likely to contain tests for the deconstruction of migration operations, which may in turn contain these expression objects, making it a crucial file to analyze." query='Please provide the full content of tests/migrations/test_operations.py' extra_requirements='' purpose='This file is expected to contain tests that verify the deconstruction and serialization of migration operations which can contain the expression objects modified in the patch.'
2025-12-23 19:20:09,869 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of tests/migrations/test_operations.py
2025-12-23 19:20:09,869 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 19:20:09,870 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 19:20:09,871 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 19:20:09,871 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of tests/migrations/test_operations.py
Purpose: This file is expected to contain tests that verify the deconstruction and serialization of migration operations which can contain the expression objects modified in the patch.
2025-12-23 19:20:12,247 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I will read the full content of the file `tests/migrations/test_operations.py` to provide the context of the tests that verify the deconstruction and serialization of migration operations.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/migrations/test_operations.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2099, 'candidates_token_count': 61, 'total_token_count': 2249, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2099}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 61}], 'thoughts_token_count': 89, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.08307149762012919, 'model_name': 'gemini-2.5-pro'} id='run--7cf4ae3e-3340-4fc0-a593-172a1b7b65a6-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_operations.py'}, 'id': '8196c121-e505-497b-a213-c585bd0fb201', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2099, 'output_tokens': 61, 'total_tokens': 2249, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 89}}
2025-12-23 19:20:15,014 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have read the initial 500 lines of `tests/migrations/test_operations.py`. Since the file is longer, I will now read the remaining content to provide the complete file as requested.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"relative_path": "tests/migrations/test_operations.py", "end_line": 1000.0, "start_line": 501.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10167, 'candidates_token_count': 72, 'total_token_count': 10352, 'cached_content_token_count': 1839, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10167}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1839}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 72}], 'thoughts_token_count': 113}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2049897379345364, 'model_name': 'gemini-2.5-pro'} id='run--caf3e330-ff7a-4361-86ea-67e407511f33-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/migrations/test_operations.py', 'end_line': 1000.0, 'start_line': 501.0}, 'id': '2b0957a2-faee-4963-b19f-7325403a5373', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10167, 'output_tokens': 72, 'total_tokens': 10352, 'input_token_details': {'cache_read': 1839}, 'output_token_details': {'reasoning': 113}}
2025-12-23 19:21:12,013 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have now retrieved the entire content of `tests/migrations/test_operations.py`. The file contains a comprehensive suite of tests for database migration operations, including creating, deleting, and renaming models, as well as adding and altering fields, covering a wide range of scenarios to ensure the reliability of the migration framework.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"relative_path": "tests/migrations/test_operations.py", "end_line": 1500.0, "start_line": 1001.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 19964, 'candidates_token_count': 93, 'total_token_count': 26919, 'cached_content_token_count': 9492, 'prompt_tokens_details': [{'modality': 1, 'token_count': 19964}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9492}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 93}], 'thoughts_token_count': 6862}, 'finish_reason': 'STOP', 'avg_logprobs': -2.0331217447916665, 'model_name': 'gemini-2.5-pro'} id='run--46409955-f915-4df9-a1ff-7d69df3e5ae0-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/migrations/test_operations.py', 'end_line': 1500.0, 'start_line': 1001.0}, 'id': 'fdc17d60-920f-4990-af9f-e7f15de13c8d', 'type': 'tool_call'}] usage_metadata={'input_tokens': 19964, 'output_tokens': 93, 'total_tokens': 26919, 'input_token_details': {'cache_read': 9492}, 'output_token_details': {'reasoning': 6862}}
2025-12-23 19:21:18,636 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have read the file content up to line 1500. I will continue to read the rest of the file to get the full content.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"relative_path": "tests/migrations/test_operations.py", "end_line": 2000.0, "start_line": 1501.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 29535, 'candidates_token_count': 60, 'total_token_count': 30014, 'cached_content_token_count': 19200, 'prompt_tokens_details': [{'modality': 1, 'token_count': 29535}], 'cache_tokens_details': [{'modality': 1, 'token_count': 19200}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 60}], 'thoughts_token_count': 419}, 'finish_reason': 'STOP', 'avg_logprobs': -1.1517178853352865, 'model_name': 'gemini-2.5-pro'} id='run--928e6d14-dbde-43f3-933a-40181ee471ae-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/migrations/test_operations.py', 'end_line': 2000.0, 'start_line': 1501.0}, 'id': 'e5c6416a-4976-4901-b9c6-6f42765c77bb', 'type': 'tool_call'}] usage_metadata={'input_tokens': 29535, 'output_tokens': 60, 'total_tokens': 30014, 'input_token_details': {'cache_read': 19200}, 'output_token_details': {'reasoning': 419}}
2025-12-23 19:21:23,987 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I've retrieved more of the file `tests/migrations/test_operations.py`. The test suite is very thorough, covering not only basic migration operations but also complex scenarios involving foreign keys, many-to-many relationships, and model inheritance to ensure that the migration framework is robust and reliable. I will now read the final part of the file." additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"relative_path": "tests/migrations/test_operations.py", "end_line": 2500.0, "start_line": 2001.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 39887, 'candidates_token_count': 101, 'total_token_count': 40217, 'cached_content_token_count': 28953, 'prompt_tokens_details': [{'modality': 1, 'token_count': 39887}], 'cache_tokens_details': [{'modality': 1, 'token_count': 28953}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 101}], 'thoughts_token_count': 229}, 'finish_reason': 'STOP', 'avg_logprobs': -0.511731213862353, 'model_name': 'gemini-2.5-pro'} id='run--75091746-ba74-4579-8a93-cca493a04e7a-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/migrations/test_operations.py', 'end_line': 2500.0, 'start_line': 2001.0}, 'id': 'a85d52fa-a2b5-45b9-9d8e-36d0635a27a0', 'type': 'tool_call'}] usage_metadata={'input_tokens': 39887, 'output_tokens': 101, 'total_tokens': 40217, 'input_token_details': {'cache_read': 28953}, 'output_token_details': {'reasoning': 229}}
2025-12-23 19:21:30,723 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have now retrieved all of the content from `tests/migrations/test_operations.py`. The file is extensive, and the tests cover a wide variety of migration scenarios, including adding, removing, and altering fields, as well as creating and deleting models and constraints. These tests are crucial for ensuring the stability and correctness of database schema changes.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"relative_path": "tests/migrations/test_operations.py", "start_line": 2501.0, "end_line": 3000.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 50402, 'candidates_token_count': 99, 'total_token_count': 50886, 'cached_content_token_count': 38824, 'prompt_tokens_details': [{'modality': 1, 'token_count': 50402}], 'cache_tokens_details': [{'modality': 1, 'token_count': 38824}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 99}], 'thoughts_token_count': 385}, 'finish_reason': 'STOP', 'avg_logprobs': -0.6989771525065104, 'model_name': 'gemini-2.5-pro'} id='run--3409e34f-d621-41ea-86dd-8809ad176449-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'relative_path': 'tests/migrations/test_operations.py', 'start_line': 2501.0, 'end_line': 3000.0}, 'id': 'aac5aa60-a8c8-44c6-bd94-fc5db6ae5763', 'type': 'tool_call'}] usage_metadata={'input_tokens': 50402, 'output_tokens': 99, 'total_tokens': 50886, 'input_token_details': {'cache_read': 38824}, 'output_token_details': {'reasoning': 385}}
2025-12-23 19:21:34,037 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have now retrieved the entire content of `tests/migrations/test_operations.py`. The file contains a comprehensive suite of tests for Django's migration operations, covering everything from creating and deleting models to altering fields and managing constraints. These tests ensure the reliability and correctness of schema changes, including complex scenarios like `RunPython` and `RunSQL` operations, which allow for custom data migrations and manual SQL execution. The file's thoroughness is essential for maintaining a stable and predictable migration framework.\nI have successfully retrieved the entire content of the file `tests/migrations/test_operations.py`. The file contains a comprehensive suite of tests for Django's database migration operations. These tests cover a wide range of scenarios, including creating, deleting, and renaming models, as well as adding, removing, and altering fields and constraints, ensuring the robustness and reliability of the migration framework. The tests also handle more complex situations, such as those involving foreign keys, many-to-many relationships, model inheritance, and custom operations like `RunPython` and `RunSQL`." additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 60100, 'candidates_token_count': 219, 'total_token_count': 60319, 'cached_content_token_count': 48658, 'prompt_tokens_details': [{'modality': 1, 'token_count': 60100}], 'cache_tokens_details': [{'modality': 1, 'token_count': 48658}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 219}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1347267377322123, 'model_name': 'gemini-2.5-pro'} id='run--16fee947-0f96-46c3-a545-aa9be62de45e-0' usage_metadata={'input_tokens': 60100, 'output_tokens': 219, 'total_tokens': 60319, 'input_token_details': {'cache_read': 48658}}
2025-12-23 19:21:34,042 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of tests/migrations/test_operations.py
--- END QUERY ---



--- BEGIN PURPOSE ---
This file is expected to contain tests that verify the deconstruction and serialization of migration operations which can contain the expression objects modified in the patch.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/migrations/test_operations.py
Line number range: 1 - 500
Content:
1. from django.core.exceptions import FieldDoesNotExist
2. from django.db import (
3.     IntegrityError, connection, migrations, models, transaction,
4. )
5. from django.db.migrations.migration import Migration
6. from django.db.migrations.operations.fields import FieldOperation
7. from django.db.migrations.state import ModelState, ProjectState
8. from django.db.models.functions import Abs
9. from django.db.transaction import atomic
10. from django.test import SimpleTestCase, override_settings, skipUnlessDBFeature
11. from django.test.utils import CaptureQueriesContext
12. 
13. from .models import FoodManager, FoodQuerySet, UnicodeModel
14. from .test_base import OperationTestBase
15. 
16. 
17. class Mixin:
18.     pass
19. 
20. 
21. class OperationTests(OperationTestBase):
22.     """
23.     Tests running the operations and making sure they do what they say they do.
24.     Each test looks at their state changing, and then their database operation -
25.     both forwards and backwards.
26.     """
27. 
28.     def test_create_model(self):
29.         """
30.         Tests the CreateModel operation.
31.         Most other tests use this operation as part of setup, so check failures here first.
32.         """
33.         operation = migrations.CreateModel(
34.             "Pony",
35.             [
36.                 ("id", models.AutoField(primary_key=True)),
37.                 ("pink", models.IntegerField(default=1)),
38.             ],
39.         )
40.         self.assertEqual(operation.describe(), "Create model Pony")
41.         self.assertEqual(operation.migration_name_fragment, 'pony')
42.         # Test the state alteration
43.         project_state = ProjectState()
44.         new_state = project_state.clone()
45.         operation.state_forwards("test_crmo", new_state)
46.         self.assertEqual(new_state.models["test_crmo", "pony"].name, "Pony")
47.         self.assertEqual(len(new_state.models["test_crmo", "pony"].fields), 2)
48.         # Test the database alteration
49.         self.assertTableNotExists("test_crmo_pony")
50.         with connection.schema_editor() as editor:
51.             operation.database_forwards("test_crmo", editor, project_state, new_state)
52.         self.assertTableExists("test_crmo_pony")
53.         # And test reversal
54.         with connection.schema_editor() as editor:
55.             operation.database_backwards("test_crmo", editor, new_state, project_state)
56.         self.assertTableNotExists("test_crmo_pony")
57.         # And deconstruction
58.         definition = operation.deconstruct()
59.         self.assertEqual(definition[0], "CreateModel")
60.         self.assertEqual(definition[1], [])
61.         self.assertEqual(sorted(definition[2]), ["fields", "name"])
62.         # And default manager not in set
63.         operation = migrations.CreateModel("Foo", fields=[], managers=[("objects", models.Manager())])
64.         definition = operation.deconstruct()
65.         self.assertNotIn('managers', definition[2])
66. 
67.     def test_create_model_with_duplicate_field_name(self):
68.         with self.assertRaisesMessage(ValueError, 'Found duplicate value pink in CreateModel fields argument.'):
69.             migrations.CreateModel(
70.                 "Pony",
71.                 [
72.                     ("id", models.AutoField(primary_key=True)),
73.                     ("pink", models.TextField()),
74.                     ("pink", models.IntegerField(default=1)),
75.                 ],
76.             )
77. 
78.     def test_create_model_with_duplicate_base(self):
79.         message = 'Found duplicate value test_crmo.pony in CreateModel bases argument.'
80.         with self.assertRaisesMessage(ValueError, message):
81.             migrations.CreateModel(
82.                 "Pony",
83.                 fields=[],
84.                 bases=("test_crmo.Pony", "test_crmo.Pony",),
85.             )
86.         with self.assertRaisesMessage(ValueError, message):
87.             migrations.CreateModel(
88.                 "Pony",
89.                 fields=[],
90.                 bases=("test_crmo.Pony", "test_crmo.pony",),
91.             )
92.         message = 'Found duplicate value migrations.unicodemodel in CreateModel bases argument.'
93.         with self.assertRaisesMessage(ValueError, message):
94.             migrations.CreateModel(
95.                 "Pony",
96.                 fields=[],
97.                 bases=(UnicodeModel, UnicodeModel,),
98.             )
99.         with self.assertRaisesMessage(ValueError, message):
100.             migrations.CreateModel(
101.                 "Pony",
102.                 fields=[],
103.                 bases=(UnicodeModel, 'migrations.unicodemodel',),
104.             )
105.         with self.assertRaisesMessage(ValueError, message):
106.             migrations.CreateModel(
107.                 "Pony",
108.                 fields=[],
109.                 bases=(UnicodeModel, 'migrations.UnicodeModel',),
110.             )
111.         message = "Found duplicate value <class 'django.db.models.base.Model'> in CreateModel bases argument."
112.         with self.assertRaisesMessage(ValueError, message):
113.             migrations.CreateModel(
114.                 "Pony",
115.                 fields=[],
116.                 bases=(models.Model, models.Model,),
117.             )
118.         message = "Found duplicate value <class 'migrations.test_operations.Mixin'> in CreateModel bases argument."
119.         with self.assertRaisesMessage(ValueError, message):
120.             migrations.CreateModel(
121.                 "Pony",
122.                 fields=[],
123.                 bases=(Mixin, Mixin,),
124.             )
125. 
126.     def test_create_model_with_duplicate_manager_name(self):
127.         with self.assertRaisesMessage(ValueError, 'Found duplicate value objects in CreateModel managers argument.'):
128.             migrations.CreateModel(
129.                 "Pony",
130.                 fields=[],
131.                 managers=[
132.                     ("objects", models.Manager()),
133.                     ("objects", models.Manager()),
134.                 ],
135.             )
136. 
137.     def test_create_model_with_unique_after(self):
138.         """
139.         Tests the CreateModel operation directly followed by an
140.         AlterUniqueTogether (bug #22844 - sqlite remake issues)
141.         """
142.         operation1 = migrations.CreateModel(
143.             "Pony",
144.             [
145.                 ("id", models.AutoField(primary_key=True)),
146.                 ("pink", models.IntegerField(default=1)),
147.             ],
148.         )
149.         operation2 = migrations.CreateModel(
150.             "Rider",
151.             [
152.                 ("id", models.AutoField(primary_key=True)),
153.                 ("number", models.IntegerField(default=1)),
154.                 ("pony", models.ForeignKey("test_crmoua.Pony", models.CASCADE)),
155.             ],
156.         )
157.         operation3 = migrations.AlterUniqueTogether(
158.             "Rider",
159.             [
160.                 ("number", "pony"),
161.             ],
162.         )
163.         # Test the database alteration
164.         project_state = ProjectState()
165.         self.assertTableNotExists("test_crmoua_pony")
166.         self.assertTableNotExists("test_crmoua_rider")
167.         with connection.schema_editor() as editor:
168.             new_state = project_state.clone()
169.             operation1.state_forwards("test_crmoua", new_state)
170.             operation1.database_forwards("test_crmoua", editor, project_state, new_state)
171.             project_state, new_state = new_state, new_state.clone()
172.             operation2.state_forwards("test_crmoua", new_state)
173.             operation2.database_forwards("test_crmoua", editor, project_state, new_state)
174.             project_state, new_state = new_state, new_state.clone()
175.             operation3.state_forwards("test_crmoua", new_state)
176.             operation3.database_forwards("test_crmoua", editor, project_state, new_state)
177.         self.assertTableExists("test_crmoua_pony")
178.         self.assertTableExists("test_crmoua_rider")
179. 
180.     def test_create_model_m2m(self):
181.         """
182.         Test the creation of a model with a ManyToMany field and the
183.         auto-created "through" model.
184.         """
185.         project_state = self.set_up_test_model("test_crmomm")
186.         operation = migrations.CreateModel(
187.             "Stable",
188.             [
189.                 ("id", models.AutoField(primary_key=True)),
190.                 ("ponies", models.ManyToManyField("Pony", related_name="stables"))
191.             ]
192.         )
193.         # Test the state alteration
194.         new_state = project_state.clone()
195.         operation.state_forwards("test_crmomm", new_state)
196.         # Test the database alteration
197.         self.assertTableNotExists("test_crmomm_stable_ponies")
198.         with connection.schema_editor() as editor:
199.             operation.database_forwards("test_crmomm", editor, project_state, new_state)
200.         self.assertTableExists("test_crmomm_stable")
201.         self.assertTableExists("test_crmomm_stable_ponies")
202.         self.assertColumnNotExists("test_crmomm_stable", "ponies")
203.         # Make sure the M2M field actually works
204.         with atomic():
205.             Pony = new_state.apps.get_model("test_crmomm", "Pony")
206.             Stable = new_state.apps.get_model("test_crmomm", "Stable")
207.             stable = Stable.objects.create()
208.             p1 = Pony.objects.create(pink=False, weight=4.55)
209.             p2 = Pony.objects.create(pink=True, weight=5.43)
210.             stable.ponies.add(p1, p2)
211.             self.assertEqual(stable.ponies.count(), 2)
212.             stable.ponies.all().delete()
213.         # And test reversal
214.         with connection.schema_editor() as editor:
215.             operation.database_backwards("test_crmomm", editor, new_state, project_state)
216.         self.assertTableNotExists("test_crmomm_stable")
217.         self.assertTableNotExists("test_crmomm_stable_ponies")
218. 
219.     def test_create_model_inheritance(self):
220.         """
221.         Tests the CreateModel operation on a multi-table inheritance setup.
222.         """
223.         project_state = self.set_up_test_model("test_crmoih")
224.         # Test the state alteration
225.         operation = migrations.CreateModel(
226.             "ShetlandPony",
227.             [
228.                 ('pony_ptr', models.OneToOneField(
229.                     'test_crmoih.Pony',
230.                     models.CASCADE,
231.                     auto_created=True,
232.                     primary_key=True,
233.                     to_field='id',
234.                     serialize=False,
235.                 )),
236.                 ("cuteness", models.IntegerField(default=1)),
237.             ],
238.         )
239.         new_state = project_state.clone()
240.         operation.state_forwards("test_crmoih", new_state)
241.         self.assertIn(("test_crmoih", "shetlandpony"), new_state.models)
242.         # Test the database alteration
243.         self.assertTableNotExists("test_crmoih_shetlandpony")
244.         with connection.schema_editor() as editor:
245.             operation.database_forwards("test_crmoih", editor, project_state, new_state)
246.         self.assertTableExists("test_crmoih_shetlandpony")
247.         # And test reversal
248.         with connection.schema_editor() as editor:
249.             operation.database_backwards("test_crmoih", editor, new_state, project_state)
250.         self.assertTableNotExists("test_crmoih_shetlandpony")
251. 
252.     def test_create_proxy_model(self):
253.         """
254.         CreateModel ignores proxy models.
255.         """
256.         project_state = self.set_up_test_model("test_crprmo")
257.         # Test the state alteration
258.         operation = migrations.CreateModel(
259.             "ProxyPony",
260.             [],
261.             options={"proxy": True},
262.             bases=("test_crprmo.Pony",),
263.         )
264.         self.assertEqual(operation.describe(), "Create proxy model ProxyPony")
265.         new_state = project_state.clone()
266.         operation.state_forwards("test_crprmo", new_state)
267.         self.assertIn(("test_crprmo", "proxypony"), new_state.models)
268.         # Test the database alteration
269.         self.assertTableNotExists("test_crprmo_proxypony")
270.         self.assertTableExists("test_crprmo_pony")
271.         with connection.schema_editor() as editor:
272.             operation.database_forwards("test_crprmo", editor, project_state, new_state)
273.         self.assertTableNotExists("test_crprmo_proxypony")
274.         self.assertTableExists("test_crprmo_pony")
275.         # And test reversal
276.         with connection.schema_editor() as editor:
277.             operation.database_backwards("test_crprmo", editor, new_state, project_state)
278.         self.assertTableNotExists("test_crprmo_proxypony")
279.         self.assertTableExists("test_crprmo_pony")
280.         # And deconstruction
281.         definition = operation.deconstruct()
282.         self.assertEqual(definition[0], "CreateModel")
283.         self.assertEqual(definition[1], [])
284.         self.assertEqual(sorted(definition[2]), ["bases", "fields", "name", "options"])
285. 
286.     def test_create_unmanaged_model(self):
287.         """
288.         CreateModel ignores unmanaged models.
289.         """
290.         project_state = self.set_up_test_model("test_crummo")
291.         # Test the state alteration
292.         operation = migrations.CreateModel(
293.             "UnmanagedPony",
294.             [],
295.             options={"proxy": True},
296.             bases=("test_crummo.Pony",),
297.         )
298.         self.assertEqual(operation.describe(), "Create proxy model UnmanagedPony")
299.         new_state = project_state.clone()
300.         operation.state_forwards("test_crummo", new_state)
301.         self.assertIn(("test_crummo", "unmanagedpony"), new_state.models)
302.         # Test the database alteration
303.         self.assertTableNotExists("test_crummo_unmanagedpony")
304.         self.assertTableExists("test_crummo_pony")
305.         with connection.schema_editor() as editor:
306.             operation.database_forwards("test_crummo", editor, project_state, new_state)
307.         self.assertTableNotExists("test_crummo_unmanagedpony")
308.         self.assertTableExists("test_crummo_pony")
309.         # And test reversal
310.         with connection.schema_editor() as editor:
311.             operation.database_backwards("test_crummo", editor, new_state, project_state)
312.         self.assertTableNotExists("test_crummo_unmanagedpony")
313.         self.assertTableExists("test_crummo_pony")
314. 
315.     @skipUnlessDBFeature('supports_table_check_constraints')
316.     def test_create_model_with_constraint(self):
317.         where = models.Q(pink__gt=2)
318.         check_constraint = models.CheckConstraint(check=where, name='test_constraint_pony_pink_gt_2')
319.         operation = migrations.CreateModel(
320.             "Pony",
321.             [
322.                 ("id", models.AutoField(primary_key=True)),
323.                 ("pink", models.IntegerField(default=3)),
324.             ],
325.             options={'constraints': [check_constraint]},
326.         )
327. 
328.         # Test the state alteration
329.         project_state = ProjectState()
330.         new_state = project_state.clone()
331.         operation.state_forwards("test_crmo", new_state)
332.         self.assertEqual(len(new_state.models['test_crmo', 'pony'].options['constraints']), 1)
333. 
334.         # Test database alteration
335.         self.assertTableNotExists("test_crmo_pony")
336.         with connection.schema_editor() as editor:
337.             operation.database_forwards("test_crmo", editor, project_state, new_state)
338.         self.assertTableExists("test_crmo_pony")
339.         with connection.cursor() as cursor:
340.             with self.assertRaises(IntegrityError):
341.                 cursor.execute("INSERT INTO test_crmo_pony (id, pink) VALUES (1, 1)")
342. 
343.         # Test reversal
344.         with connection.schema_editor() as editor:
345.             operation.database_backwards("test_crmo", editor, new_state, project_state)
346.         self.assertTableNotExists("test_crmo_pony")
347. 
348.         # Test deconstruction
349.         definition = operation.deconstruct()
350.         self.assertEqual(definition[0], "CreateModel")
351.         self.assertEqual(definition[1], [])
352.         self.assertEqual(definition[2]['options']['constraints'], [check_constraint])
353. 
354.     def test_create_model_with_partial_unique_constraint(self):
355.         partial_unique_constraint = models.UniqueConstraint(
356.             fields=['pink'],
357.             condition=models.Q(weight__gt=5),
358.             name='test_constraint_pony_pink_for_weight_gt_5_uniq',
359.         )
360.         operation = migrations.CreateModel(
361.             'Pony',
362.             [
363.                 ('id', models.AutoField(primary_key=True)),
364.                 ('pink', models.IntegerField(default=3)),
365.                 ('weight', models.FloatField()),
366.             ],
367.             options={'constraints': [partial_unique_constraint]},
368.         )
369.         # Test the state alteration
370.         project_state = ProjectState()
371.         new_state = project_state.clone()
372.         operation.state_forwards('test_crmo', new_state)
373.         self.assertEqual(len(new_state.models['test_crmo', 'pony'].options['constraints']), 1)
374.         # Test database alteration
375.         self.assertTableNotExists('test_crmo_pony')
376.         with connection.schema_editor() as editor:
377.             operation.database_forwards('test_crmo', editor, project_state, new_state)
378.         self.assertTableExists('test_crmo_pony')
379.         # Test constraint works
380.         Pony = new_state.apps.get_model('test_crmo', 'Pony')
381.         Pony.objects.create(pink=1, weight=4.0)
382.         Pony.objects.create(pink=1, weight=4.0)
383.         Pony.objects.create(pink=1, weight=6.0)
384.         if connection.features.supports_partial_indexes:
385.             with self.assertRaises(IntegrityError):
386.                 Pony.objects.create(pink=1, weight=7.0)
387.         else:
388.             Pony.objects.create(pink=1, weight=7.0)
389.         # Test reversal
390.         with connection.schema_editor() as editor:
391.             operation.database_backwards('test_crmo', editor, new_state, project_state)
392.         self.assertTableNotExists('test_crmo_pony')
393.         # Test deconstruction
394.         definition = operation.deconstruct()
395.         self.assertEqual(definition[0], 'CreateModel')
396.         self.assertEqual(definition[1], [])
397.         self.assertEqual(definition[2]['options']['constraints'], [partial_unique_constraint])
398. 
399.     def test_create_model_with_deferred_unique_constraint(self):
400.         deferred_unique_constraint = models.UniqueConstraint(
401.             fields=['pink'],
402.             name='deferrable_pink_constraint',
403.             deferrable=models.Deferrable.DEFERRED,
404.         )
405.         operation = migrations.CreateModel(
406.             'Pony',
407.             [
408.                 ('id', models.AutoField(primary_key=True)),
409.                 ('pink', models.IntegerField(default=3)),
410.             ],
411.             options={'constraints': [deferred_unique_constraint]},
412.         )
413.         project_state = ProjectState()
414.         new_state = project_state.clone()
415.         operation.state_forwards('test_crmo', new_state)
416.         self.assertEqual(len(new_state.models['test_crmo', 'pony'].options['constraints']), 1)
417.         self.assertTableNotExists('test_crmo_pony')
418.         # Create table.
419.         with connection.schema_editor() as editor:
420.             operation.database_forwards('test_crmo', editor, project_state, new_state)
421.         self.assertTableExists('test_crmo_pony')
422.         Pony = new_state.apps.get_model('test_crmo', 'Pony')
423.         Pony.objects.create(pink=1)
424.         if connection.features.supports_deferrable_unique_constraints:
425.             # Unique constraint is deferred.
426.             with transaction.atomic():
427.                 obj = Pony.objects.create(pink=1)
428.                 obj.pink = 2
429.                 obj.save()
430.             # Constraint behavior can be changed with SET CONSTRAINTS.
431.             with self.assertRaises(IntegrityError):
432.                 with transaction.atomic(), connection.cursor() as cursor:
433.                     quoted_name = connection.ops.quote_name(deferred_unique_constraint.name)
434.                     cursor.execute('SET CONSTRAINTS %s IMMEDIATE' % quoted_name)
435.                     obj = Pony.objects.create(pink=1)
436.                     obj.pink = 3
437.                     obj.save()
438.         else:
439.             Pony.objects.create(pink=1)
440.         # Reversal.
441.         with connection.schema_editor() as editor:
442.             operation.database_backwards('test_crmo', editor, new_state, project_state)
443.         self.assertTableNotExists('test_crmo_pony')
444.         # Deconstruction.
445.         definition = operation.deconstruct()
446.         self.assertEqual(definition[0], 'CreateModel')
447.         self.assertEqual(definition[1], [])
448.         self.assertEqual(
449.             definition[2]['options']['constraints'],
450.             [deferred_unique_constraint],
451.         )
452. 
453.     @skipUnlessDBFeature('supports_covering_indexes')
454.     def test_create_model_with_covering_unique_constraint(self):
455.         covering_unique_constraint = models.UniqueConstraint(
456.             fields=['pink'],
457.             include=['weight'],
458.             name='test_constraint_pony_pink_covering_weight',
459.         )
460.         operation = migrations.CreateModel(
461.             'Pony',
462.             [
463.                 ('id', models.AutoField(primary_key=True)),
464.                 ('pink', models.IntegerField(default=3)),
465.                 ('weight', models.FloatField()),
466.             ],
467.             options={'constraints': [covering_unique_constraint]},
468.         )
469.         project_state = ProjectState()
470.         new_state = project_state.clone()
471.         operation.state_forwards('test_crmo', new_state)
472.         self.assertEqual(len(new_state.models['test_crmo', 'pony'].options['constraints']), 1)
473.         self.assertTableNotExists('test_crmo_pony')
474.         # Create table.
475.         with connection.schema_editor() as editor:
476.             operation.database_forwards('test_crmo', editor, project_state, new_state)
477.         self.assertTableExists('test_crmo_pony')
478.         Pony = new_state.apps.get_model('test_crmo', 'Pony')
479.         Pony.objects.create(pink=1, weight=4.0)
480.         with self.assertRaises(IntegrityError):
481.             Pony.objects.create(pink=1, weight=7.0)
482.         # Reversal.
483.         with connection.schema_editor() as editor:
484.             operation.database_backwards('test_crmo', editor, new_state, project_state)
485.         self.assertTableNotExists('test_crmo_pony')
486.         # Deconstruction.
487.         definition = operation.deconstruct()
488.         self.assertEqual(definition[0], 'CreateModel')
489.         self.assertEqual(definition[1], [])
490.         self.assertEqual(
491.             definition[2]['options']['constraints'],
492.             [covering_unique_constraint],
493.         )
494. 
495.     def test_create_model_managers(self):
496.         """
497.         The managers on a model are set.
498.         """
499.         project_state = self.set_up_test_model("test_cmoma")
500.         # Test the state alteration


File: tests/migrations/test_operations.py
Line number range: 501 - 1000
Content:
501.         operation = migrations.CreateModel(
502.             "Food",
503.             fields=[
504.                 ("id", models.AutoField(primary_key=True)),
505.             ],
506.             managers=[
507.                 ("food_qs", FoodQuerySet.as_manager()),
508.                 ("food_mgr", FoodManager("a", "b")),
509.                 ("food_mgr_kwargs", FoodManager("x", "y", 3, 4)),
510.             ]
511.         )
512.         self.assertEqual(operation.describe(), "Create model Food")
513.         new_state = project_state.clone()
514.         operation.state_forwards("test_cmoma", new_state)
515.         self.assertIn(("test_cmoma", "food"), new_state.models)
516.         managers = new_state.models["test_cmoma", "food"].managers
517.         self.assertEqual(managers[0][0], "food_qs")
518.         self.assertIsInstance(managers[0][1], models.Manager)
519.         self.assertEqual(managers[1][0], "food_mgr")
520.         self.assertIsInstance(managers[1][1], FoodManager)
521.         self.assertEqual(managers[1][1].args, ("a", "b", 1, 2))
522.         self.assertEqual(managers[2][0], "food_mgr_kwargs")
523.         self.assertIsInstance(managers[2][1], FoodManager)
524.         self.assertEqual(managers[2][1].args, ("x", "y", 3, 4))
525. 
526.     def test_delete_model(self):
527.         """
528.         Tests the DeleteModel operation.
529.         """
530.         project_state = self.set_up_test_model("test_dlmo")
531.         # Test the state alteration
532.         operation = migrations.DeleteModel("Pony")
533.         self.assertEqual(operation.describe(), "Delete model Pony")
534.         self.assertEqual(operation.migration_name_fragment, 'delete_pony')
535.         new_state = project_state.clone()
536.         operation.state_forwards("test_dlmo", new_state)
537.         self.assertNotIn(("test_dlmo", "pony"), new_state.models)
538.         # Test the database alteration
539.         self.assertTableExists("test_dlmo_pony")
540.         with connection.schema_editor() as editor:
541.             operation.database_forwards("test_dlmo", editor, project_state, new_state)
542.         self.assertTableNotExists("test_dlmo_pony")
543.         # And test reversal
544.         with connection.schema_editor() as editor:
545.             operation.database_backwards("test_dlmo", editor, new_state, project_state)
546.         self.assertTableExists("test_dlmo_pony")
547.         # And deconstruction
548.         definition = operation.deconstruct()
549.         self.assertEqual(definition[0], "DeleteModel")
550.         self.assertEqual(definition[1], [])
551.         self.assertEqual(list(definition[2]), ["name"])
552. 
553.     def test_delete_proxy_model(self):
554.         """
555.         Tests the DeleteModel operation ignores proxy models.
556.         """
557.         project_state = self.set_up_test_model("test_dlprmo", proxy_model=True)
558.         # Test the state alteration
559.         operation = migrations.DeleteModel("ProxyPony")
560.         new_state = project_state.clone()
561.         operation.state_forwards("test_dlprmo", new_state)
562.         self.assertIn(("test_dlprmo", "proxypony"), project_state.models)
563.         self.assertNotIn(("test_dlprmo", "proxypony"), new_state.models)
564.         # Test the database alteration
565.         self.assertTableExists("test_dlprmo_pony")
566.         self.assertTableNotExists("test_dlprmo_proxypony")
567.         with connection.schema_editor() as editor:
568.             operation.database_forwards("test_dlprmo", editor, project_state, new_state)
569.         self.assertTableExists("test_dlprmo_pony")
570.         self.assertTableNotExists("test_dlprmo_proxypony")
571.         # And test reversal
572.         with connection.schema_editor() as editor:
573.             operation.database_backwards("test_dlprmo", editor, new_state, project_state)
574.         self.assertTableExists("test_dlprmo_pony")
575.         self.assertTableNotExists("test_dlprmo_proxypony")
576. 
577.     def test_delete_mti_model(self):
578.         project_state = self.set_up_test_model('test_dlmtimo', mti_model=True)
579.         # Test the state alteration
580.         operation = migrations.DeleteModel('ShetlandPony')
581.         new_state = project_state.clone()
582.         operation.state_forwards('test_dlmtimo', new_state)
583.         self.assertIn(('test_dlmtimo', 'shetlandpony'), project_state.models)
584.         self.assertNotIn(('test_dlmtimo', 'shetlandpony'), new_state.models)
585.         # Test the database alteration
586.         self.assertTableExists('test_dlmtimo_pony')
587.         self.assertTableExists('test_dlmtimo_shetlandpony')
588.         self.assertColumnExists('test_dlmtimo_shetlandpony', 'pony_ptr_id')
589.         with connection.schema_editor() as editor:
590.             operation.database_forwards('test_dlmtimo', editor, project_state, new_state)
591.         self.assertTableExists('test_dlmtimo_pony')
592.         self.assertTableNotExists('test_dlmtimo_shetlandpony')
593.         # And test reversal
594.         with connection.schema_editor() as editor:
595.             operation.database_backwards('test_dlmtimo', editor, new_state, project_state)
596.         self.assertTableExists('test_dlmtimo_pony')
597.         self.assertTableExists('test_dlmtimo_shetlandpony')
598.         self.assertColumnExists('test_dlmtimo_shetlandpony', 'pony_ptr_id')
599. 
600.     def test_rename_model(self):
601.         """
602.         Tests the RenameModel operation.
603.         """
604.         project_state = self.set_up_test_model("test_rnmo", related_model=True)
605.         # Test the state alteration
606.         operation = migrations.RenameModel("Pony", "Horse")
607.         self.assertEqual(operation.describe(), "Rename model Pony to Horse")
608.         self.assertEqual(operation.migration_name_fragment, 'rename_pony_horse')
609.         # Test initial state and database
610.         self.assertIn(("test_rnmo", "pony"), project_state.models)
611.         self.assertNotIn(("test_rnmo", "horse"), project_state.models)
612.         self.assertTableExists("test_rnmo_pony")
613.         self.assertTableNotExists("test_rnmo_horse")
614.         if connection.features.supports_foreign_keys:
615.             self.assertFKExists("test_rnmo_rider", ["pony_id"], ("test_rnmo_pony", "id"))
616.             self.assertFKNotExists("test_rnmo_rider", ["pony_id"], ("test_rnmo_horse", "id"))
617.         # Migrate forwards
618.         new_state = project_state.clone()
619.         atomic_rename = connection.features.supports_atomic_references_rename
620.         new_state = self.apply_operations("test_rnmo", new_state, [operation], atomic=atomic_rename)
621.         # Test new state and database
622.         self.assertNotIn(("test_rnmo", "pony"), new_state.models)
623.         self.assertIn(("test_rnmo", "horse"), new_state.models)
624.         # RenameModel also repoints all incoming FKs and M2Ms
625.         self.assertEqual(
626.             new_state.models['test_rnmo', 'rider'].fields['pony'].remote_field.model,
627.             'test_rnmo.Horse',
628.         )
629.         self.assertTableNotExists("test_rnmo_pony")
630.         self.assertTableExists("test_rnmo_horse")
631.         if connection.features.supports_foreign_keys:
632.             self.assertFKNotExists("test_rnmo_rider", ["pony_id"], ("test_rnmo_pony", "id"))
633.             self.assertFKExists("test_rnmo_rider", ["pony_id"], ("test_rnmo_horse", "id"))
634.         # Migrate backwards
635.         original_state = self.unapply_operations("test_rnmo", project_state, [operation], atomic=atomic_rename)
636.         # Test original state and database
637.         self.assertIn(("test_rnmo", "pony"), original_state.models)
638.         self.assertNotIn(("test_rnmo", "horse"), original_state.models)
639.         self.assertEqual(
640.             original_state.models['test_rnmo', 'rider'].fields['pony'].remote_field.model,
641.             'Pony',
642.         )
643.         self.assertTableExists("test_rnmo_pony")
644.         self.assertTableNotExists("test_rnmo_horse")
645.         if connection.features.supports_foreign_keys:
646.             self.assertFKExists("test_rnmo_rider", ["pony_id"], ("test_rnmo_pony", "id"))
647.             self.assertFKNotExists("test_rnmo_rider", ["pony_id"], ("test_rnmo_horse", "id"))
648.         # And deconstruction
649.         definition = operation.deconstruct()
650.         self.assertEqual(definition[0], "RenameModel")
651.         self.assertEqual(definition[1], [])
652.         self.assertEqual(definition[2], {'old_name': "Pony", 'new_name': "Horse"})
653. 
654.     def test_rename_model_state_forwards(self):
655.         """
656.         RenameModel operations shouldn't trigger the caching of rendered apps
657.         on state without prior apps.
658.         """
659.         state = ProjectState()
660.         state.add_model(ModelState('migrations', 'Foo', []))
661.         operation = migrations.RenameModel('Foo', 'Bar')
662.         operation.state_forwards('migrations', state)
663.         self.assertNotIn('apps', state.__dict__)
664.         self.assertNotIn(('migrations', 'foo'), state.models)
665.         self.assertIn(('migrations', 'bar'), state.models)
666.         # Now with apps cached.
667.         apps = state.apps
668.         operation = migrations.RenameModel('Bar', 'Foo')
669.         operation.state_forwards('migrations', state)
670.         self.assertIs(state.apps, apps)
671.         self.assertNotIn(('migrations', 'bar'), state.models)
672.         self.assertIn(('migrations', 'foo'), state.models)
673. 
674.     def test_rename_model_with_self_referential_fk(self):
675.         """
676.         Tests the RenameModel operation on model with self referential FK.
677.         """
678.         project_state = self.set_up_test_model("test_rmwsrf", related_model=True)
679.         # Test the state alteration
680.         operation = migrations.RenameModel("Rider", "HorseRider")
681.         self.assertEqual(operation.describe(), "Rename model Rider to HorseRider")
682.         new_state = project_state.clone()
683.         operation.state_forwards("test_rmwsrf", new_state)
684.         self.assertNotIn(("test_rmwsrf", "rider"), new_state.models)
685.         self.assertIn(("test_rmwsrf", "horserider"), new_state.models)
686.         # Remember, RenameModel also repoints all incoming FKs and M2Ms
687.         self.assertEqual(
688.             'self',
689.             new_state.models["test_rmwsrf", "horserider"].fields['friend'].remote_field.model
690.         )
691.         HorseRider = new_state.apps.get_model('test_rmwsrf', 'horserider')
692.         self.assertIs(HorseRider._meta.get_field('horserider').remote_field.model, HorseRider)
693.         # Test the database alteration
694.         self.assertTableExists("test_rmwsrf_rider")
695.         self.assertTableNotExists("test_rmwsrf_horserider")
696.         if connection.features.supports_foreign_keys:
697.             self.assertFKExists("test_rmwsrf_rider", ["friend_id"], ("test_rmwsrf_rider", "id"))
698.             self.assertFKNotExists("test_rmwsrf_rider", ["friend_id"], ("test_rmwsrf_horserider", "id"))
699.         atomic_rename = connection.features.supports_atomic_references_rename
700.         with connection.schema_editor(atomic=atomic_rename) as editor:
701.             operation.database_forwards("test_rmwsrf", editor, project_state, new_state)
702.         self.assertTableNotExists("test_rmwsrf_rider")
703.         self.assertTableExists("test_rmwsrf_horserider")
704.         if connection.features.supports_foreign_keys:
705.             self.assertFKNotExists("test_rmwsrf_horserider", ["friend_id"], ("test_rmwsrf_rider", "id"))
706.             self.assertFKExists("test_rmwsrf_horserider", ["friend_id"], ("test_rmwsrf_horserider", "id"))
707.         # And test reversal
708.         with connection.schema_editor(atomic=atomic_rename) as editor:
709.             operation.database_backwards("test_rmwsrf", editor, new_state, project_state)
710.         self.assertTableExists("test_rmwsrf_rider")
711.         self.assertTableNotExists("test_rmwsrf_horserider")
712.         if connection.features.supports_foreign_keys:
713.             self.assertFKExists("test_rmwsrf_rider", ["friend_id"], ("test_rmwsrf_rider", "id"))
714.             self.assertFKNotExists("test_rmwsrf_rider", ["friend_id"], ("test_rmwsrf_horserider", "id"))
715. 
716.     def test_rename_model_with_superclass_fk(self):
717.         """
718.         Tests the RenameModel operation on a model which has a superclass that
719.         has a foreign key.
720.         """
721.         project_state = self.set_up_test_model("test_rmwsc", related_model=True, mti_model=True)
722.         # Test the state alteration
723.         operation = migrations.RenameModel("ShetlandPony", "LittleHorse")
724.         self.assertEqual(operation.describe(), "Rename model ShetlandPony to LittleHorse")
725.         new_state = project_state.clone()
726.         operation.state_forwards("test_rmwsc", new_state)
727.         self.assertNotIn(("test_rmwsc", "shetlandpony"), new_state.models)
728.         self.assertIn(("test_rmwsc", "littlehorse"), new_state.models)
729.         # RenameModel shouldn't repoint the superclass's relations, only local ones
730.         self.assertEqual(
731.             project_state.models['test_rmwsc', 'rider'].fields['pony'].remote_field.model,
732.             new_state.models['test_rmwsc', 'rider'].fields['pony'].remote_field.model,
733.         )
734.         # Before running the migration we have a table for Shetland Pony, not Little Horse
735.         self.assertTableExists("test_rmwsc_shetlandpony")
736.         self.assertTableNotExists("test_rmwsc_littlehorse")
737.         if connection.features.supports_foreign_keys:
738.             # and the foreign key on rider points to pony, not shetland pony
739.             self.assertFKExists("test_rmwsc_rider", ["pony_id"], ("test_rmwsc_pony", "id"))
740.             self.assertFKNotExists("test_rmwsc_rider", ["pony_id"], ("test_rmwsc_shetlandpony", "id"))
741.         with connection.schema_editor(atomic=connection.features.supports_atomic_references_rename) as editor:
742.             operation.database_forwards("test_rmwsc", editor, project_state, new_state)
743.         # Now we have a little horse table, not shetland pony
744.         self.assertTableNotExists("test_rmwsc_shetlandpony")
745.         self.assertTableExists("test_rmwsc_littlehorse")
746.         if connection.features.supports_foreign_keys:
747.             # but the Foreign keys still point at pony, not little horse
748.             self.assertFKExists("test_rmwsc_rider", ["pony_id"], ("test_rmwsc_pony", "id"))
749.             self.assertFKNotExists("test_rmwsc_rider", ["pony_id"], ("test_rmwsc_littlehorse", "id"))
750. 
751.     def test_rename_model_with_self_referential_m2m(self):
752.         app_label = "test_rename_model_with_self_referential_m2m"
753. 
754.         project_state = self.apply_operations(app_label, ProjectState(), operations=[
755.             migrations.CreateModel("ReflexivePony", fields=[
756.                 ("id", models.AutoField(primary_key=True)),
757.                 ("ponies", models.ManyToManyField("self")),
758.             ]),
759.         ])
760.         project_state = self.apply_operations(app_label, project_state, operations=[
761.             migrations.RenameModel("ReflexivePony", "ReflexivePony2"),
762.         ], atomic=connection.features.supports_atomic_references_rename)
763.         Pony = project_state.apps.get_model(app_label, "ReflexivePony2")
764.         pony = Pony.objects.create()
765.         pony.ponies.add(pony)
766. 
767.     def test_rename_model_with_m2m(self):
768.         app_label = "test_rename_model_with_m2m"
769.         project_state = self.apply_operations(app_label, ProjectState(), operations=[
770.             migrations.CreateModel("Rider", fields=[
771.                 ("id", models.AutoField(primary_key=True)),
772.             ]),
773.             migrations.CreateModel("Pony", fields=[
774.                 ("id", models.AutoField(primary_key=True)),
775.                 ("riders", models.ManyToManyField("Rider")),
776.             ]),
777.         ])
778.         Pony = project_state.apps.get_model(app_label, "Pony")
779.         Rider = project_state.apps.get_model(app_label, "Rider")
780.         pony = Pony.objects.create()
781.         rider = Rider.objects.create()
782.         pony.riders.add(rider)
783. 
784.         project_state = self.apply_operations(app_label, project_state, operations=[
785.             migrations.RenameModel("Pony", "Pony2"),
786.         ], atomic=connection.features.supports_atomic_references_rename)
787.         Pony = project_state.apps.get_model(app_label, "Pony2")
788.         Rider = project_state.apps.get_model(app_label, "Rider")
789.         pony = Pony.objects.create()
790.         rider = Rider.objects.create()
791.         pony.riders.add(rider)
792.         self.assertEqual(Pony.objects.count(), 2)
793.         self.assertEqual(Rider.objects.count(), 2)
794.         self.assertEqual(Pony._meta.get_field('riders').remote_field.through.objects.count(), 2)
795. 
796.     def test_rename_model_with_db_table_noop(self):
797.         app_label = 'test_rmwdbtn'
798.         project_state = self.apply_operations(app_label, ProjectState(), operations=[
799.             migrations.CreateModel('Rider', fields=[
800.                 ('id', models.AutoField(primary_key=True)),
801.             ], options={'db_table': 'rider'}),
802.             migrations.CreateModel('Pony', fields=[
803.                 ('id', models.AutoField(primary_key=True)),
804.                 ('rider', models.ForeignKey('%s.Rider' % app_label, models.CASCADE)),
805.             ]),
806.         ])
807.         new_state = project_state.clone()
808.         operation = migrations.RenameModel('Rider', 'Runner')
809.         operation.state_forwards(app_label, new_state)
810. 
811.         with connection.schema_editor() as editor:
812.             with self.assertNumQueries(0):
813.                 operation.database_forwards(app_label, editor, project_state, new_state)
814.         with connection.schema_editor() as editor:
815.             with self.assertNumQueries(0):
816.                 operation.database_backwards(app_label, editor, new_state, project_state)
817. 
818.     def test_rename_m2m_target_model(self):
819.         app_label = "test_rename_m2m_target_model"
820.         project_state = self.apply_operations(app_label, ProjectState(), operations=[
821.             migrations.CreateModel("Rider", fields=[
822.                 ("id", models.AutoField(primary_key=True)),
823.             ]),
824.             migrations.CreateModel("Pony", fields=[
825.                 ("id", models.AutoField(primary_key=True)),
826.                 ("riders", models.ManyToManyField("Rider")),
827.             ]),
828.         ])
829.         Pony = project_state.apps.get_model(app_label, "Pony")
830.         Rider = project_state.apps.get_model(app_label, "Rider")
831.         pony = Pony.objects.create()
832.         rider = Rider.objects.create()
833.         pony.riders.add(rider)
834. 
835.         project_state = self.apply_operations(app_label, project_state, operations=[
836.             migrations.RenameModel("Rider", "Rider2"),
837.         ], atomic=connection.features.supports_atomic_references_rename)
838.         Pony = project_state.apps.get_model(app_label, "Pony")
839.         Rider = project_state.apps.get_model(app_label, "Rider2")
840.         pony = Pony.objects.create()
841.         rider = Rider.objects.create()
842.         pony.riders.add(rider)
843.         self.assertEqual(Pony.objects.count(), 2)
844.         self.assertEqual(Rider.objects.count(), 2)
845.         self.assertEqual(Pony._meta.get_field('riders').remote_field.through.objects.count(), 2)
846. 
847.     def test_rename_m2m_through_model(self):
848.         app_label = "test_rename_through"
849.         project_state = self.apply_operations(app_label, ProjectState(), operations=[
850.             migrations.CreateModel("Rider", fields=[
851.                 ("id", models.AutoField(primary_key=True)),
852.             ]),
853.             migrations.CreateModel("Pony", fields=[
854.                 ("id", models.AutoField(primary_key=True)),
855.             ]),
856.             migrations.CreateModel("PonyRider", fields=[
857.                 ("id", models.AutoField(primary_key=True)),
858.                 ("rider", models.ForeignKey("test_rename_through.Rider", models.CASCADE)),
859.                 ("pony", models.ForeignKey("test_rename_through.Pony", models.CASCADE)),
860.             ]),
861.             migrations.AddField(
862.                 "Pony",
863.                 "riders",
864.                 models.ManyToManyField("test_rename_through.Rider", through="test_rename_through.PonyRider"),
865.             ),
866.         ])
867.         Pony = project_state.apps.get_model(app_label, "Pony")
868.         Rider = project_state.apps.get_model(app_label, "Rider")
869.         PonyRider = project_state.apps.get_model(app_label, "PonyRider")
870.         pony = Pony.objects.create()
871.         rider = Rider.objects.create()
872.         PonyRider.objects.create(pony=pony, rider=rider)
873. 
874.         project_state = self.apply_operations(app_label, project_state, operations=[
875.             migrations.RenameModel("PonyRider", "PonyRider2"),
876.         ])
877.         Pony = project_state.apps.get_model(app_label, "Pony")
878.         Rider = project_state.apps.get_model(app_label, "Rider")
879.         PonyRider = project_state.apps.get_model(app_label, "PonyRider2")
880.         pony = Pony.objects.first()
881.         rider = Rider.objects.create()
882.         PonyRider.objects.create(pony=pony, rider=rider)
883.         self.assertEqual(Pony.objects.count(), 1)
884.         self.assertEqual(Rider.objects.count(), 2)
885.         self.assertEqual(PonyRider.objects.count(), 2)
886.         self.assertEqual(pony.riders.count(), 2)
887. 
888.     def test_rename_m2m_model_after_rename_field(self):
889.         """RenameModel renames a many-to-many column after a RenameField."""
890.         app_label = 'test_rename_multiple'
891.         project_state = self.apply_operations(app_label, ProjectState(), operations=[
892.             migrations.CreateModel('Pony', fields=[
893.                 ('id', models.AutoField(primary_key=True)),
894.                 ('name', models.CharField(max_length=20)),
895.             ]),
896.             migrations.CreateModel('Rider', fields=[
897.                 ('id', models.AutoField(primary_key=True)),
898.                 ('pony', models.ForeignKey('test_rename_multiple.Pony', models.CASCADE)),
899.             ]),
900.             migrations.CreateModel('PonyRider', fields=[
901.                 ('id', models.AutoField(primary_key=True)),
902.                 ('riders', models.ManyToManyField('Rider')),
903.             ]),
904.             migrations.RenameField(model_name='pony', old_name='name', new_name='fancy_name'),
905.             migrations.RenameModel(old_name='Rider', new_name='Jockey'),
906.         ], atomic=connection.features.supports_atomic_references_rename)
907.         Pony = project_state.apps.get_model(app_label, 'Pony')
908.         Jockey = project_state.apps.get_model(app_label, 'Jockey')
909.         PonyRider = project_state.apps.get_model(app_label, 'PonyRider')
910.         # No "no such column" error means the column was renamed correctly.
911.         pony = Pony.objects.create(fancy_name='a good name')
912.         jockey = Jockey.objects.create(pony=pony)
913.         ponyrider = PonyRider.objects.create()
914.         ponyrider.riders.add(jockey)
915. 
916.     def test_add_field(self):
917.         """
918.         Tests the AddField operation.
919.         """
920.         # Test the state alteration
921.         operation = migrations.AddField(
922.             "Pony",
923.             "height",
924.             models.FloatField(null=True, default=5),
925.         )
926.         self.assertEqual(operation.describe(), "Add field height to Pony")
927.         self.assertEqual(operation.migration_name_fragment, 'pony_height')
928.         project_state, new_state = self.make_test_state("test_adfl", operation)
929.         self.assertEqual(len(new_state.models["test_adfl", "pony"].fields), 4)
930.         field = new_state.models['test_adfl', 'pony'].fields['height']
931.         self.assertEqual(field.default, 5)
932.         # Test the database alteration
933.         self.assertColumnNotExists("test_adfl_pony", "height")
934.         with connection.schema_editor() as editor:
935.             operation.database_forwards("test_adfl", editor, project_state, new_state)
936.         self.assertColumnExists("test_adfl_pony", "height")
937.         # And test reversal
938.         with connection.schema_editor() as editor:
939.             operation.database_backwards("test_adfl", editor, new_state, project_state)
940.         self.assertColumnNotExists("test_adfl_pony", "height")
941.         # And deconstruction
942.         definition = operation.deconstruct()
943.         self.assertEqual(definition[0], "AddField")
944.         self.assertEqual(definition[1], [])
945.         self.assertEqual(sorted(definition[2]), ["field", "model_name", "name"])
946. 
947.     def test_add_charfield(self):
948.         """
949.         Tests the AddField operation on TextField.
950.         """
951.         project_state = self.set_up_test_model("test_adchfl")
952. 
953.         Pony = project_state.apps.get_model("test_adchfl", "Pony")
954.         pony = Pony.objects.create(weight=42)
955. 
956.         new_state = self.apply_operations("test_adchfl", project_state, [
957.             migrations.AddField(
958.                 "Pony",
959.                 "text",
960.                 models.CharField(max_length=10, default="some text"),
961.             ),
962.             migrations.AddField(
963.                 "Pony",
964.                 "empty",
965.                 models.CharField(max_length=10, default=""),
966.             ),
967.             # If not properly quoted digits would be interpreted as an int.
968.             migrations.AddField(
969.                 "Pony",
970.                 "digits",
971.                 models.CharField(max_length=10, default="42"),
972.             ),
973.             # Manual quoting is fragile and could trip on quotes. Refs #xyz.
974.             migrations.AddField(
975.                 "Pony",
976.                 "quotes",
977.                 models.CharField(max_length=10, default='"\'"'),
978.             ),
979.         ])
980. 
981.         Pony = new_state.apps.get_model("test_adchfl", "Pony")
982.         pony = Pony.objects.get(pk=pony.pk)
983.         self.assertEqual(pony.text, "some text")
984.         self.assertEqual(pony.empty, "")
985.         self.assertEqual(pony.digits, "42")
986.         self.assertEqual(pony.quotes, '"\'"')
987. 
988.     def test_add_textfield(self):
989.         """
990.         Tests the AddField operation on TextField.
991.         """
992.         project_state = self.set_up_test_model("test_adtxtfl")
993. 
994.         Pony = project_state.apps.get_model("test_adtxtfl", "Pony")
995.         pony = Pony.objects.create(weight=42)
996. 
997.         new_state = self.apply_operations("test_adtxtfl", project_state, [
998.             migrations.AddField(
999.                 "Pony",
1000.                 "text",


File: tests/migrations/test_operations.py
Line number range: 1001 - 1500
Content:
1001.                 models.TextField(default="some text"),
1002.             ),
1003.             migrations.AddField(
1004.                 "Pony",
1005.                 "empty",
1006.                 models.TextField(default=""),
1007.             ),
1008.             # If not properly quoted digits would be interpreted as an int.
1009.             migrations.AddField(
1010.                 "Pony",
1011.                 "digits",
1012.                 models.TextField(default="42"),
1013.             ),
1014.             # Manual quoting is fragile and could trip on quotes. Refs #xyz.
1015.             migrations.AddField(
1016.                 "Pony",
1017.                 "quotes",
1018.                 models.TextField(default='"\'"'),
1019.             ),
1020.         ])
1021. 
1022.         Pony = new_state.apps.get_model("test_adtxtfl", "Pony")
1023.         pony = Pony.objects.get(pk=pony.pk)
1024.         self.assertEqual(pony.text, "some text")
1025.         self.assertEqual(pony.empty, "")
1026.         self.assertEqual(pony.digits, "42")
1027.         self.assertEqual(pony.quotes, '"\'"')
1028. 
1029.     def test_add_binaryfield(self):
1030.         """
1031.         Tests the AddField operation on TextField/BinaryField.
1032.         """
1033.         project_state = self.set_up_test_model("test_adbinfl")
1034. 
1035.         Pony = project_state.apps.get_model("test_adbinfl", "Pony")
1036.         pony = Pony.objects.create(weight=42)
1037. 
1038.         new_state = self.apply_operations("test_adbinfl", project_state, [
1039.             migrations.AddField(
1040.                 "Pony",
1041.                 "blob",
1042.                 models.BinaryField(default=b"some text"),
1043.             ),
1044.             migrations.AddField(
1045.                 "Pony",
1046.                 "empty",
1047.                 models.BinaryField(default=b""),
1048.             ),
1049.             # If not properly quoted digits would be interpreted as an int.
1050.             migrations.AddField(
1051.                 "Pony",
1052.                 "digits",
1053.                 models.BinaryField(default=b"42"),
1054.             ),
1055.             # Manual quoting is fragile and could trip on quotes. Refs #xyz.
1056.             migrations.AddField(
1057.                 "Pony",
1058.                 "quotes",
1059.                 models.BinaryField(default=b'"\'"'),
1060.             ),
1061.         ])
1062. 
1063.         Pony = new_state.apps.get_model("test_adbinfl", "Pony")
1064.         pony = Pony.objects.get(pk=pony.pk)
1065.         # SQLite returns buffer/memoryview, cast to bytes for checking.
1066.         self.assertEqual(bytes(pony.blob), b"some text")
1067.         self.assertEqual(bytes(pony.empty), b"")
1068.         self.assertEqual(bytes(pony.digits), b"42")
1069.         self.assertEqual(bytes(pony.quotes), b'"\'"')
1070. 
1071.     def test_column_name_quoting(self):
1072.         """
1073.         Column names that are SQL keywords shouldn't cause problems when used
1074.         in migrations (#22168).
1075.         """
1076.         project_state = self.set_up_test_model("test_regr22168")
1077.         operation = migrations.AddField(
1078.             "Pony",
1079.             "order",
1080.             models.IntegerField(default=0),
1081.         )
1082.         new_state = project_state.clone()
1083.         operation.state_forwards("test_regr22168", new_state)
1084.         with connection.schema_editor() as editor:
1085.             operation.database_forwards("test_regr22168", editor, project_state, new_state)
1086.         self.assertColumnExists("test_regr22168_pony", "order")
1087. 
1088.     def test_add_field_preserve_default(self):
1089.         """
1090.         Tests the AddField operation's state alteration
1091.         when preserve_default = False.
1092.         """
1093.         project_state = self.set_up_test_model("test_adflpd")
1094.         # Test the state alteration
1095.         operation = migrations.AddField(
1096.             "Pony",
1097.             "height",
1098.             models.FloatField(null=True, default=4),
1099.             preserve_default=False,
1100.         )
1101.         new_state = project_state.clone()
1102.         operation.state_forwards("test_adflpd", new_state)
1103.         self.assertEqual(len(new_state.models["test_adflpd", "pony"].fields), 4)
1104.         field = new_state.models['test_adflpd', 'pony'].fields['height']
1105.         self.assertEqual(field.default, models.NOT_PROVIDED)
1106.         # Test the database alteration
1107.         project_state.apps.get_model("test_adflpd", "pony").objects.create(
1108.             weight=4,
1109.         )
1110.         self.assertColumnNotExists("test_adflpd_pony", "height")
1111.         with connection.schema_editor() as editor:
1112.             operation.database_forwards("test_adflpd", editor, project_state, new_state)
1113.         self.assertColumnExists("test_adflpd_pony", "height")
1114.         # And deconstruction
1115.         definition = operation.deconstruct()
1116.         self.assertEqual(definition[0], "AddField")
1117.         self.assertEqual(definition[1], [])
1118.         self.assertEqual(sorted(definition[2]), ["field", "model_name", "name", "preserve_default"])
1119. 
1120.     def test_add_field_m2m(self):
1121.         """
1122.         Tests the AddField operation with a ManyToManyField.
1123.         """
1124.         project_state = self.set_up_test_model("test_adflmm", second_model=True)
1125.         # Test the state alteration
1126.         operation = migrations.AddField("Pony", "stables", models.ManyToManyField("Stable", related_name="ponies"))
1127.         new_state = project_state.clone()
1128.         operation.state_forwards("test_adflmm", new_state)
1129.         self.assertEqual(len(new_state.models["test_adflmm", "pony"].fields), 4)
1130.         # Test the database alteration
1131.         self.assertTableNotExists("test_adflmm_pony_stables")
1132.         with connection.schema_editor() as editor:
1133.             operation.database_forwards("test_adflmm", editor, project_state, new_state)
1134.         self.assertTableExists("test_adflmm_pony_stables")
1135.         self.assertColumnNotExists("test_adflmm_pony", "stables")
1136.         # Make sure the M2M field actually works
1137.         with atomic():
1138.             Pony = new_state.apps.get_model("test_adflmm", "Pony")
1139.             p = Pony.objects.create(pink=False, weight=4.55)
1140.             p.stables.create()
1141.             self.assertEqual(p.stables.count(), 1)
1142.             p.stables.all().delete()
1143.         # And test reversal
1144.         with connection.schema_editor() as editor:
1145.             operation.database_backwards("test_adflmm", editor, new_state, project_state)
1146.         self.assertTableNotExists("test_adflmm_pony_stables")
1147. 
1148.     def test_alter_field_m2m(self):
1149.         project_state = self.set_up_test_model("test_alflmm", second_model=True)
1150. 
1151.         project_state = self.apply_operations("test_alflmm", project_state, operations=[
1152.             migrations.AddField("Pony", "stables", models.ManyToManyField("Stable", related_name="ponies"))
1153.         ])
1154.         Pony = project_state.apps.get_model("test_alflmm", "Pony")
1155.         self.assertFalse(Pony._meta.get_field('stables').blank)
1156. 
1157.         project_state = self.apply_operations("test_alflmm", project_state, operations=[
1158.             migrations.AlterField(
1159.                 "Pony", "stables", models.ManyToManyField(to="Stable", related_name="ponies", blank=True)
1160.             )
1161.         ])
1162.         Pony = project_state.apps.get_model("test_alflmm", "Pony")
1163.         self.assertTrue(Pony._meta.get_field('stables').blank)
1164. 
1165.     def test_repoint_field_m2m(self):
1166.         project_state = self.set_up_test_model("test_alflmm", second_model=True, third_model=True)
1167. 
1168.         project_state = self.apply_operations("test_alflmm", project_state, operations=[
1169.             migrations.AddField("Pony", "places", models.ManyToManyField("Stable", related_name="ponies"))
1170.         ])
1171.         Pony = project_state.apps.get_model("test_alflmm", "Pony")
1172. 
1173.         project_state = self.apply_operations("test_alflmm", project_state, operations=[
1174.             migrations.AlterField("Pony", "places", models.ManyToManyField(to="Van", related_name="ponies"))
1175.         ])
1176. 
1177.         # Ensure the new field actually works
1178.         Pony = project_state.apps.get_model("test_alflmm", "Pony")
1179.         p = Pony.objects.create(pink=False, weight=4.55)
1180.         p.places.create()
1181.         self.assertEqual(p.places.count(), 1)
1182.         p.places.all().delete()
1183. 
1184.     def test_remove_field_m2m(self):
1185.         project_state = self.set_up_test_model("test_rmflmm", second_model=True)
1186. 
1187.         project_state = self.apply_operations("test_rmflmm", project_state, operations=[
1188.             migrations.AddField("Pony", "stables", models.ManyToManyField("Stable", related_name="ponies"))
1189.         ])
1190.         self.assertTableExists("test_rmflmm_pony_stables")
1191. 
1192.         with_field_state = project_state.clone()
1193.         operations = [migrations.RemoveField("Pony", "stables")]
1194.         project_state = self.apply_operations("test_rmflmm", project_state, operations=operations)
1195.         self.assertTableNotExists("test_rmflmm_pony_stables")
1196. 
1197.         # And test reversal
1198.         self.unapply_operations("test_rmflmm", with_field_state, operations=operations)
1199.         self.assertTableExists("test_rmflmm_pony_stables")
1200. 
1201.     def test_remove_field_m2m_with_through(self):
1202.         project_state = self.set_up_test_model("test_rmflmmwt", second_model=True)
1203. 
1204.         self.assertTableNotExists("test_rmflmmwt_ponystables")
1205.         project_state = self.apply_operations("test_rmflmmwt", project_state, operations=[
1206.             migrations.CreateModel("PonyStables", fields=[
1207.                 ("pony", models.ForeignKey('test_rmflmmwt.Pony', models.CASCADE)),
1208.                 ("stable", models.ForeignKey('test_rmflmmwt.Stable', models.CASCADE)),
1209.             ]),
1210.             migrations.AddField(
1211.                 "Pony", "stables",
1212.                 models.ManyToManyField("Stable", related_name="ponies", through='test_rmflmmwt.PonyStables')
1213.             )
1214.         ])
1215.         self.assertTableExists("test_rmflmmwt_ponystables")
1216. 
1217.         operations = [migrations.RemoveField("Pony", "stables"), migrations.DeleteModel("PonyStables")]
1218.         self.apply_operations("test_rmflmmwt", project_state, operations=operations)
1219. 
1220.     def test_remove_field(self):
1221.         """
1222.         Tests the RemoveField operation.
1223.         """
1224.         project_state = self.set_up_test_model("test_rmfl")
1225.         # Test the state alteration
1226.         operation = migrations.RemoveField("Pony", "pink")
1227.         self.assertEqual(operation.describe(), "Remove field pink from Pony")
1228.         self.assertEqual(operation.migration_name_fragment, 'remove_pony_pink')
1229.         new_state = project_state.clone()
1230.         operation.state_forwards("test_rmfl", new_state)
1231.         self.assertEqual(len(new_state.models["test_rmfl", "pony"].fields), 2)
1232.         # Test the database alteration
1233.         self.assertColumnExists("test_rmfl_pony", "pink")
1234.         with connection.schema_editor() as editor:
1235.             operation.database_forwards("test_rmfl", editor, project_state, new_state)
1236.         self.assertColumnNotExists("test_rmfl_pony", "pink")
1237.         # And test reversal
1238.         with connection.schema_editor() as editor:
1239.             operation.database_backwards("test_rmfl", editor, new_state, project_state)
1240.         self.assertColumnExists("test_rmfl_pony", "pink")
1241.         # And deconstruction
1242.         definition = operation.deconstruct()
1243.         self.assertEqual(definition[0], "RemoveField")
1244.         self.assertEqual(definition[1], [])
1245.         self.assertEqual(definition[2], {'model_name': "Pony", 'name': 'pink'})
1246. 
1247.     def test_remove_fk(self):
1248.         """
1249.         Tests the RemoveField operation on a foreign key.
1250.         """
1251.         project_state = self.set_up_test_model("test_rfk", related_model=True)
1252.         self.assertColumnExists("test_rfk_rider", "pony_id")
1253.         operation = migrations.RemoveField("Rider", "pony")
1254. 
1255.         new_state = project_state.clone()
1256.         operation.state_forwards("test_rfk", new_state)
1257.         with connection.schema_editor() as editor:
1258.             operation.database_forwards("test_rfk", editor, project_state, new_state)
1259.         self.assertColumnNotExists("test_rfk_rider", "pony_id")
1260.         with connection.schema_editor() as editor:
1261.             operation.database_backwards("test_rfk", editor, new_state, project_state)
1262.         self.assertColumnExists("test_rfk_rider", "pony_id")
1263. 
1264.     def test_alter_model_table(self):
1265.         """
1266.         Tests the AlterModelTable operation.
1267.         """
1268.         project_state = self.set_up_test_model("test_almota")
1269.         # Test the state alteration
1270.         operation = migrations.AlterModelTable("Pony", "test_almota_pony_2")
1271.         self.assertEqual(operation.describe(), "Rename table for Pony to test_almota_pony_2")
1272.         self.assertEqual(operation.migration_name_fragment, 'alter_pony_table')
1273.         new_state = project_state.clone()
1274.         operation.state_forwards("test_almota", new_state)
1275.         self.assertEqual(new_state.models["test_almota", "pony"].options["db_table"], "test_almota_pony_2")
1276.         # Test the database alteration
1277.         self.assertTableExists("test_almota_pony")
1278.         self.assertTableNotExists("test_almota_pony_2")
1279.         with connection.schema_editor() as editor:
1280.             operation.database_forwards("test_almota", editor, project_state, new_state)
1281.         self.assertTableNotExists("test_almota_pony")
1282.         self.assertTableExists("test_almota_pony_2")
1283.         # And test reversal
1284.         with connection.schema_editor() as editor:
1285.             operation.database_backwards("test_almota", editor, new_state, project_state)
1286.         self.assertTableExists("test_almota_pony")
1287.         self.assertTableNotExists("test_almota_pony_2")
1288.         # And deconstruction
1289.         definition = operation.deconstruct()
1290.         self.assertEqual(definition[0], "AlterModelTable")
1291.         self.assertEqual(definition[1], [])
1292.         self.assertEqual(definition[2], {'name': "Pony", 'table': "test_almota_pony_2"})
1293. 
1294.     def test_alter_model_table_none(self):
1295.         """
1296.         Tests the AlterModelTable operation if the table name is set to None.
1297.         """
1298.         operation = migrations.AlterModelTable("Pony", None)
1299.         self.assertEqual(operation.describe(), "Rename table for Pony to (default)")
1300. 
1301.     def test_alter_model_table_noop(self):
1302.         """
1303.         Tests the AlterModelTable operation if the table name is not changed.
1304.         """
1305.         project_state = self.set_up_test_model("test_almota")
1306.         # Test the state alteration
1307.         operation = migrations.AlterModelTable("Pony", "test_almota_pony")
1308.         new_state = project_state.clone()
1309.         operation.state_forwards("test_almota", new_state)
1310.         self.assertEqual(new_state.models["test_almota", "pony"].options["db_table"], "test_almota_pony")
1311.         # Test the database alteration
1312.         self.assertTableExists("test_almota_pony")
1313.         with connection.schema_editor() as editor:
1314.             operation.database_forwards("test_almota", editor, project_state, new_state)
1315.         self.assertTableExists("test_almota_pony")
1316.         # And test reversal
1317.         with connection.schema_editor() as editor:
1318.             operation.database_backwards("test_almota", editor, new_state, project_state)
1319.         self.assertTableExists("test_almota_pony")
1320. 
1321.     def test_alter_model_table_m2m(self):
1322.         """
1323.         AlterModelTable should rename auto-generated M2M tables.
1324.         """
1325.         app_label = "test_talflmltlm2m"
1326.         pony_db_table = 'pony_foo'
1327.         project_state = self.set_up_test_model(app_label, second_model=True, db_table=pony_db_table)
1328.         # Add the M2M field
1329.         first_state = project_state.clone()
1330.         operation = migrations.AddField("Pony", "stables", models.ManyToManyField("Stable"))
1331.         operation.state_forwards(app_label, first_state)
1332.         with connection.schema_editor() as editor:
1333.             operation.database_forwards(app_label, editor, project_state, first_state)
1334.         original_m2m_table = "%s_%s" % (pony_db_table, "stables")
1335.         new_m2m_table = "%s_%s" % (app_label, "pony_stables")
1336.         self.assertTableExists(original_m2m_table)
1337.         self.assertTableNotExists(new_m2m_table)
1338.         # Rename the Pony db_table which should also rename the m2m table.
1339.         second_state = first_state.clone()
1340.         operation = migrations.AlterModelTable(name='pony', table=None)
1341.         operation.state_forwards(app_label, second_state)
1342.         atomic_rename = connection.features.supports_atomic_references_rename
1343.         with connection.schema_editor(atomic=atomic_rename) as editor:
1344.             operation.database_forwards(app_label, editor, first_state, second_state)
1345.         self.assertTableExists(new_m2m_table)
1346.         self.assertTableNotExists(original_m2m_table)
1347.         # And test reversal
1348.         with connection.schema_editor(atomic=atomic_rename) as editor:
1349.             operation.database_backwards(app_label, editor, second_state, first_state)
1350.         self.assertTableExists(original_m2m_table)
1351.         self.assertTableNotExists(new_m2m_table)
1352. 
1353.     def test_alter_field(self):
1354.         """
1355.         Tests the AlterField operation.
1356.         """
1357.         project_state = self.set_up_test_model("test_alfl")
1358.         # Test the state alteration
1359.         operation = migrations.AlterField("Pony", "pink", models.IntegerField(null=True))
1360.         self.assertEqual(operation.describe(), "Alter field pink on Pony")
1361.         self.assertEqual(operation.migration_name_fragment, 'alter_pony_pink')
1362.         new_state = project_state.clone()
1363.         operation.state_forwards("test_alfl", new_state)
1364.         self.assertIs(project_state.models['test_alfl', 'pony'].fields['pink'].null, False)
1365.         self.assertIs(new_state.models['test_alfl', 'pony'].fields['pink'].null, True)
1366.         # Test the database alteration
1367.         self.assertColumnNotNull("test_alfl_pony", "pink")
1368.         with connection.schema_editor() as editor:
1369.             operation.database_forwards("test_alfl", editor, project_state, new_state)
1370.         self.assertColumnNull("test_alfl_pony", "pink")
1371.         # And test reversal
1372.         with connection.schema_editor() as editor:
1373.             operation.database_backwards("test_alfl", editor, new_state, project_state)
1374.         self.assertColumnNotNull("test_alfl_pony", "pink")
1375.         # And deconstruction
1376.         definition = operation.deconstruct()
1377.         self.assertEqual(definition[0], "AlterField")
1378.         self.assertEqual(definition[1], [])
1379.         self.assertEqual(sorted(definition[2]), ["field", "model_name", "name"])
1380. 
1381.     def test_alter_field_add_db_column_noop(self):
1382.         """
1383.         AlterField operation is a noop when adding only a db_column and the
1384.         column name is not changed.
1385.         """
1386.         app_label = 'test_afadbn'
1387.         project_state = self.set_up_test_model(app_label, related_model=True)
1388.         pony_table = '%s_pony' % app_label
1389.         new_state = project_state.clone()
1390.         operation = migrations.AlterField('Pony', 'weight', models.FloatField(db_column='weight'))
1391.         operation.state_forwards(app_label, new_state)
1392.         self.assertIsNone(
1393.             project_state.models[app_label, 'pony'].fields['weight'].db_column,
1394.         )
1395.         self.assertEqual(
1396.             new_state.models[app_label, 'pony'].fields['weight'].db_column,
1397.             'weight',
1398.         )
1399.         self.assertColumnExists(pony_table, 'weight')
1400.         with connection.schema_editor() as editor:
1401.             with self.assertNumQueries(0):
1402.                 operation.database_forwards(app_label, editor, project_state, new_state)
1403.         self.assertColumnExists(pony_table, 'weight')
1404.         with connection.schema_editor() as editor:
1405.             with self.assertNumQueries(0):
1406.                 operation.database_backwards(app_label, editor, new_state, project_state)
1407.         self.assertColumnExists(pony_table, 'weight')
1408. 
1409.         rider_table = '%s_rider' % app_label
1410.         new_state = project_state.clone()
1411.         operation = migrations.AlterField(
1412.             'Rider',
1413.             'pony',
1414.             models.ForeignKey('Pony', models.CASCADE, db_column='pony_id'),
1415.         )
1416.         operation.state_forwards(app_label, new_state)
1417.         self.assertIsNone(
1418.             project_state.models[app_label, 'rider'].fields['pony'].db_column,
1419.         )
1420.         self.assertIs(
1421.             new_state.models[app_label, 'rider'].fields['pony'].db_column,
1422.             'pony_id',
1423.         )
1424.         self.assertColumnExists(rider_table, 'pony_id')
1425.         with connection.schema_editor() as editor:
1426.             with self.assertNumQueries(0):
1427.                 operation.database_forwards(app_label, editor, project_state, new_state)
1428.         self.assertColumnExists(rider_table, 'pony_id')
1429.         with connection.schema_editor() as editor:
1430.             with self.assertNumQueries(0):
1431.                 operation.database_forwards(app_label, editor, new_state, project_state)
1432.         self.assertColumnExists(rider_table, 'pony_id')
1433. 
1434.     def test_alter_field_pk(self):
1435.         """
1436.         Tests the AlterField operation on primary keys (for things like PostgreSQL's SERIAL weirdness)
1437.         """
1438.         project_state = self.set_up_test_model("test_alflpk")
1439.         # Test the state alteration
1440.         operation = migrations.AlterField("Pony", "id", models.IntegerField(primary_key=True))
1441.         new_state = project_state.clone()
1442.         operation.state_forwards("test_alflpk", new_state)
1443.         self.assertIsInstance(
1444.             project_state.models['test_alflpk', 'pony'].fields['id'],
1445.             models.AutoField,
1446.         )
1447.         self.assertIsInstance(
1448.             new_state.models['test_alflpk', 'pony'].fields['id'],
1449.             models.IntegerField,
1450.         )
1451.         # Test the database alteration
1452.         with connection.schema_editor() as editor:
1453.             operation.database_forwards("test_alflpk", editor, project_state, new_state)
1454.         # And test reversal
1455.         with connection.schema_editor() as editor:
1456.             operation.database_backwards("test_alflpk", editor, new_state, project_state)
1457. 
1458.     @skipUnlessDBFeature('supports_foreign_keys')
1459.     def test_alter_field_pk_fk(self):
1460.         """
1461.         Tests the AlterField operation on primary keys changes any FKs pointing to it.
1462.         """
1463.         project_state = self.set_up_test_model("test_alflpkfk", related_model=True)
1464.         project_state = self.apply_operations('test_alflpkfk', project_state, [
1465.             migrations.CreateModel('Stable', fields=[
1466.                 ('ponies', models.ManyToManyField('Pony')),
1467.             ]),
1468.             migrations.AddField(
1469.                 'Pony',
1470.                 'stables',
1471.                 models.ManyToManyField('Stable'),
1472.             ),
1473.         ])
1474.         # Test the state alteration
1475.         operation = migrations.AlterField("Pony", "id", models.FloatField(primary_key=True))
1476.         new_state = project_state.clone()
1477.         operation.state_forwards("test_alflpkfk", new_state)
1478.         self.assertIsInstance(
1479.             project_state.models['test_alflpkfk', 'pony'].fields['id'],
1480.             models.AutoField,
1481.         )
1482.         self.assertIsInstance(
1483.             new_state.models['test_alflpkfk', 'pony'].fields['id'],
1484.             models.FloatField,
1485.         )
1486. 
1487.         def assertIdTypeEqualsFkType():
1488.             with connection.cursor() as cursor:
1489.                 id_type, id_null = [
1490.                     (c.type_code, c.null_ok)
1491.                     for c in connection.introspection.get_table_description(cursor, "test_alflpkfk_pony")
1492.                     if c.name == "id"
1493.                 ][0]
1494.                 fk_type, fk_null = [
1495.                     (c.type_code, c.null_ok)
1496.                     for c in connection.introspection.get_table_description(cursor, "test_alflpkfk_rider")
1497.                     if c.name == "pony_id"
1498.                 ][0]
1499.                 m2m_fk_type, m2m_fk_null = [
1500.                     (c.type_code, c.null_ok)


File: tests/migrations/test_operations.py
Line number range: 1501 - 2000
Content:
1501.                     for c in connection.introspection.get_table_description(
1502.                         cursor,
1503.                         'test_alflpkfk_pony_stables',
1504.                     ) if c.name == 'pony_id'
1505.                 ][0]
1506.                 remote_m2m_fk_type, remote_m2m_fk_null = [
1507.                     (c.type_code, c.null_ok)
1508.                     for c in connection.introspection.get_table_description(
1509.                         cursor,
1510.                         'test_alflpkfk_stable_ponies',
1511.                     ) if c.name == 'pony_id'
1512.                 ][0]
1513.             self.assertEqual(id_type, fk_type)
1514.             self.assertEqual(id_type, m2m_fk_type)
1515.             self.assertEqual(id_type, remote_m2m_fk_type)
1516.             self.assertEqual(id_null, fk_null)
1517.             self.assertEqual(id_null, m2m_fk_null)
1518.             self.assertEqual(id_null, remote_m2m_fk_null)
1519. 
1520.         assertIdTypeEqualsFkType()
1521.         # Test the database alteration
1522.         with connection.schema_editor() as editor:
1523.             operation.database_forwards("test_alflpkfk", editor, project_state, new_state)
1524.         assertIdTypeEqualsFkType()
1525.         if connection.features.supports_foreign_keys:
1526.             self.assertFKExists(
1527.                 'test_alflpkfk_pony_stables',
1528.                 ['pony_id'],
1529.                 ('test_alflpkfk_pony', 'id'),
1530.             )
1531.             self.assertFKExists(
1532.                 'test_alflpkfk_stable_ponies',
1533.                 ['pony_id'],
1534.                 ('test_alflpkfk_pony', 'id'),
1535.             )
1536.         # And test reversal
1537.         with connection.schema_editor() as editor:
1538.             operation.database_backwards("test_alflpkfk", editor, new_state, project_state)
1539.         assertIdTypeEqualsFkType()
1540.         if connection.features.supports_foreign_keys:
1541.             self.assertFKExists(
1542.                 'test_alflpkfk_pony_stables',
1543.                 ['pony_id'],
1544.                 ('test_alflpkfk_pony', 'id'),
1545.             )
1546.             self.assertFKExists(
1547.                 'test_alflpkfk_stable_ponies',
1548.                 ['pony_id'],
1549.                 ('test_alflpkfk_pony', 'id'),
1550.             )
1551. 
1552.     def test_alter_field_pk_mti_fk(self):
1553.         app_label = 'test_alflpkmtifk'
1554.         project_state = self.set_up_test_model(app_label, mti_model=True)
1555.         project_state = self.apply_operations(app_label, project_state, [
1556.             migrations.CreateModel('ShetlandRider', fields=[
1557.                 (
1558.                     'pony',
1559.                     models.ForeignKey(f'{app_label}.ShetlandPony', models.CASCADE),
1560.                 ),
1561.             ]),
1562.         ])
1563.         operation = migrations.AlterField(
1564.             'Pony',
1565.             'id',
1566.             models.BigAutoField(primary_key=True),
1567.         )
1568.         new_state = project_state.clone()
1569.         operation.state_forwards(app_label, new_state)
1570.         self.assertIsInstance(
1571.             new_state.models[app_label, 'pony'].fields['id'],
1572.             models.BigAutoField,
1573.         )
1574. 
1575.         def _get_column_id_type(cursor, table, column):
1576.             return [
1577.                 c.type_code
1578.                 for c in connection.introspection.get_table_description(
1579.                     cursor,
1580.                     f'{app_label}_{table}',
1581.                 )
1582.                 if c.name == column
1583.             ][0]
1584. 
1585.         def assertIdTypeEqualsMTIFkType():
1586.             with connection.cursor() as cursor:
1587.                 parent_id_type = _get_column_id_type(cursor, 'pony', 'id')
1588.                 child_id_type = _get_column_id_type(cursor, 'shetlandpony', 'pony_ptr_id')
1589.                 mti_id_type = _get_column_id_type(cursor, 'shetlandrider', 'pony_id')
1590.             self.assertEqual(parent_id_type, child_id_type)
1591.             self.assertEqual(parent_id_type, mti_id_type)
1592. 
1593.         assertIdTypeEqualsMTIFkType()
1594.         # Alter primary key.
1595.         with connection.schema_editor() as editor:
1596.             operation.database_forwards(app_label, editor, project_state, new_state)
1597.         assertIdTypeEqualsMTIFkType()
1598.         if connection.features.supports_foreign_keys:
1599.             self.assertFKExists(
1600.                 f'{app_label}_shetlandpony',
1601.                 ['pony_ptr_id'],
1602.                 (f'{app_label}_pony', 'id'),
1603.             )
1604.             self.assertFKExists(
1605.                 f'{app_label}_shetlandrider',
1606.                 ['pony_id'],
1607.                 (f'{app_label}_shetlandpony', 'pony_ptr_id'),
1608.             )
1609.         # Reversal.
1610.         with connection.schema_editor() as editor:
1611.             operation.database_backwards(app_label, editor, new_state, project_state)
1612.         assertIdTypeEqualsMTIFkType()
1613.         if connection.features.supports_foreign_keys:
1614.             self.assertFKExists(
1615.                 f'{app_label}_shetlandpony',
1616.                 ['pony_ptr_id'],
1617.                 (f'{app_label}_pony', 'id'),
1618.             )
1619.             self.assertFKExists(
1620.                 f'{app_label}_shetlandrider',
1621.                 ['pony_id'],
1622.                 (f'{app_label}_shetlandpony', 'pony_ptr_id'),
1623.             )
1624. 
1625.     @skipUnlessDBFeature('supports_foreign_keys')
1626.     def test_alter_field_reloads_state_on_fk_with_to_field_target_type_change(self):
1627.         app_label = 'test_alflrsfkwtflttc'
1628.         project_state = self.apply_operations(app_label, ProjectState(), operations=[
1629.             migrations.CreateModel('Rider', fields=[
1630.                 ('id', models.AutoField(primary_key=True)),
1631.                 ('code', models.IntegerField(unique=True)),
1632.             ]),
1633.             migrations.CreateModel('Pony', fields=[
1634.                 ('id', models.AutoField(primary_key=True)),
1635.                 ('rider', models.ForeignKey('%s.Rider' % app_label, models.CASCADE, to_field='code')),
1636.             ]),
1637.         ])
1638.         operation = migrations.AlterField(
1639.             'Rider',
1640.             'code',
1641.             models.CharField(max_length=100, unique=True),
1642.         )
1643.         self.apply_operations(app_label, project_state, operations=[operation])
1644.         id_type, id_null = [
1645.             (c.type_code, c.null_ok)
1646.             for c in self.get_table_description('%s_rider' % app_label)
1647.             if c.name == 'code'
1648.         ][0]
1649.         fk_type, fk_null = [
1650.             (c.type_code, c.null_ok)
1651.             for c in self.get_table_description('%s_pony' % app_label)
1652.             if c.name == 'rider_id'
1653.         ][0]
1654.         self.assertEqual(id_type, fk_type)
1655.         self.assertEqual(id_null, fk_null)
1656. 
1657.     @skipUnlessDBFeature('supports_foreign_keys')
1658.     def test_alter_field_reloads_state_on_fk_with_to_field_related_name_target_type_change(self):
1659.         app_label = 'test_alflrsfkwtflrnttc'
1660.         project_state = self.apply_operations(app_label, ProjectState(), operations=[
1661.             migrations.CreateModel('Rider', fields=[
1662.                 ('id', models.AutoField(primary_key=True)),
1663.                 ('code', models.PositiveIntegerField(unique=True)),
1664.             ]),
1665.             migrations.CreateModel('Pony', fields=[
1666.                 ('id', models.AutoField(primary_key=True)),
1667.                 ('rider', models.ForeignKey(
1668.                     '%s.Rider' % app_label,
1669.                     models.CASCADE,
1670.                     to_field='code',
1671.                     related_name='+',
1672.                 )),
1673.             ]),
1674.         ])
1675.         operation = migrations.AlterField(
1676.             'Rider',
1677.             'code',
1678.             models.CharField(max_length=100, unique=True),
1679.         )
1680.         self.apply_operations(app_label, project_state, operations=[operation])
1681. 
1682.     def test_alter_field_reloads_state_on_fk_target_changes(self):
1683.         """
1684.         If AlterField doesn't reload state appropriately, the second AlterField
1685.         crashes on MySQL due to not dropping the PonyRider.pony foreign key
1686.         constraint before modifying the column.
1687.         """
1688.         app_label = 'alter_alter_field_reloads_state_on_fk_target_changes'
1689.         project_state = self.apply_operations(app_label, ProjectState(), operations=[
1690.             migrations.CreateModel('Rider', fields=[
1691.                 ('id', models.CharField(primary_key=True, max_length=100)),
1692.             ]),
1693.             migrations.CreateModel('Pony', fields=[
1694.                 ('id', models.CharField(primary_key=True, max_length=100)),
1695.                 ('rider', models.ForeignKey('%s.Rider' % app_label, models.CASCADE)),
1696.             ]),
1697.             migrations.CreateModel('PonyRider', fields=[
1698.                 ('id', models.AutoField(primary_key=True)),
1699.                 ('pony', models.ForeignKey('%s.Pony' % app_label, models.CASCADE)),
1700.             ]),
1701.         ])
1702.         project_state = self.apply_operations(app_label, project_state, operations=[
1703.             migrations.AlterField('Rider', 'id', models.CharField(primary_key=True, max_length=99)),
1704.             migrations.AlterField('Pony', 'id', models.CharField(primary_key=True, max_length=99)),
1705.         ])
1706. 
1707.     def test_alter_field_reloads_state_on_fk_with_to_field_target_changes(self):
1708.         """
1709.         If AlterField doesn't reload state appropriately, the second AlterField
1710.         crashes on MySQL due to not dropping the PonyRider.pony foreign key
1711.         constraint before modifying the column.
1712.         """
1713.         app_label = 'alter_alter_field_reloads_state_on_fk_with_to_field_target_changes'
1714.         project_state = self.apply_operations(app_label, ProjectState(), operations=[
1715.             migrations.CreateModel('Rider', fields=[
1716.                 ('id', models.CharField(primary_key=True, max_length=100)),
1717.                 ('slug', models.CharField(unique=True, max_length=100)),
1718.             ]),
1719.             migrations.CreateModel('Pony', fields=[
1720.                 ('id', models.CharField(primary_key=True, max_length=100)),
1721.                 ('rider', models.ForeignKey('%s.Rider' % app_label, models.CASCADE, to_field='slug')),
1722.                 ('slug', models.CharField(unique=True, max_length=100)),
1723.             ]),
1724.             migrations.CreateModel('PonyRider', fields=[
1725.                 ('id', models.AutoField(primary_key=True)),
1726.                 ('pony', models.ForeignKey('%s.Pony' % app_label, models.CASCADE, to_field='slug')),
1727.             ]),
1728.         ])
1729.         project_state = self.apply_operations(app_label, project_state, operations=[
1730.             migrations.AlterField('Rider', 'slug', models.CharField(unique=True, max_length=99)),
1731.             migrations.AlterField('Pony', 'slug', models.CharField(unique=True, max_length=99)),
1732.         ])
1733. 
1734.     def test_rename_field_reloads_state_on_fk_target_changes(self):
1735.         """
1736.         If RenameField doesn't reload state appropriately, the AlterField
1737.         crashes on MySQL due to not dropping the PonyRider.pony foreign key
1738.         constraint before modifying the column.
1739.         """
1740.         app_label = 'alter_rename_field_reloads_state_on_fk_target_changes'
1741.         project_state = self.apply_operations(app_label, ProjectState(), operations=[
1742.             migrations.CreateModel('Rider', fields=[
1743.                 ('id', models.CharField(primary_key=True, max_length=100)),
1744.             ]),
1745.             migrations.CreateModel('Pony', fields=[
1746.                 ('id', models.CharField(primary_key=True, max_length=100)),
1747.                 ('rider', models.ForeignKey('%s.Rider' % app_label, models.CASCADE)),
1748.             ]),
1749.             migrations.CreateModel('PonyRider', fields=[
1750.                 ('id', models.AutoField(primary_key=True)),
1751.                 ('pony', models.ForeignKey('%s.Pony' % app_label, models.CASCADE)),
1752.             ]),
1753.         ])
1754.         project_state = self.apply_operations(app_label, project_state, operations=[
1755.             migrations.RenameField('Rider', 'id', 'id2'),
1756.             migrations.AlterField('Pony', 'id', models.CharField(primary_key=True, max_length=99)),
1757.         ], atomic=connection.features.supports_atomic_references_rename)
1758. 
1759.     def test_rename_field(self):
1760.         """
1761.         Tests the RenameField operation.
1762.         """
1763.         project_state = self.set_up_test_model("test_rnfl", unique_together=True, index_together=True)
1764.         # Test the state alteration
1765.         operation = migrations.RenameField("Pony", "pink", "blue")
1766.         self.assertEqual(operation.describe(), "Rename field pink on Pony to blue")
1767.         self.assertEqual(operation.migration_name_fragment, 'rename_pink_pony_blue')
1768.         new_state = project_state.clone()
1769.         operation.state_forwards("test_rnfl", new_state)
1770.         self.assertIn("blue", new_state.models["test_rnfl", "pony"].fields)
1771.         self.assertNotIn("pink", new_state.models["test_rnfl", "pony"].fields)
1772.         # Make sure the unique_together has the renamed column too
1773.         self.assertIn("blue", new_state.models["test_rnfl", "pony"].options['unique_together'][0])
1774.         self.assertNotIn("pink", new_state.models["test_rnfl", "pony"].options['unique_together'][0])
1775.         # Make sure the index_together has the renamed column too
1776.         self.assertIn("blue", new_state.models["test_rnfl", "pony"].options['index_together'][0])
1777.         self.assertNotIn("pink", new_state.models["test_rnfl", "pony"].options['index_together'][0])
1778.         # Test the database alteration
1779.         self.assertColumnExists("test_rnfl_pony", "pink")
1780.         self.assertColumnNotExists("test_rnfl_pony", "blue")
1781.         with connection.schema_editor() as editor:
1782.             operation.database_forwards("test_rnfl", editor, project_state, new_state)
1783.         self.assertColumnExists("test_rnfl_pony", "blue")
1784.         self.assertColumnNotExists("test_rnfl_pony", "pink")
1785.         # Ensure the unique constraint has been ported over
1786.         with connection.cursor() as cursor:
1787.             cursor.execute("INSERT INTO test_rnfl_pony (blue, weight) VALUES (1, 1)")
1788.             with self.assertRaises(IntegrityError):
1789.                 with atomic():
1790.                     cursor.execute("INSERT INTO test_rnfl_pony (blue, weight) VALUES (1, 1)")
1791.             cursor.execute("DELETE FROM test_rnfl_pony")
1792.         # Ensure the index constraint has been ported over
1793.         self.assertIndexExists("test_rnfl_pony", ["weight", "blue"])
1794.         # And test reversal
1795.         with connection.schema_editor() as editor:
1796.             operation.database_backwards("test_rnfl", editor, new_state, project_state)
1797.         self.assertColumnExists("test_rnfl_pony", "pink")
1798.         self.assertColumnNotExists("test_rnfl_pony", "blue")
1799.         # Ensure the index constraint has been reset
1800.         self.assertIndexExists("test_rnfl_pony", ["weight", "pink"])
1801.         # And deconstruction
1802.         definition = operation.deconstruct()
1803.         self.assertEqual(definition[0], "RenameField")
1804.         self.assertEqual(definition[1], [])
1805.         self.assertEqual(definition[2], {'model_name': "Pony", 'old_name': "pink", 'new_name': "blue"})
1806. 
1807.     def test_rename_field_with_db_column(self):
1808.         project_state = self.apply_operations('test_rfwdbc', ProjectState(), operations=[
1809.             migrations.CreateModel('Pony', fields=[
1810.                 ('id', models.AutoField(primary_key=True)),
1811.                 ('field', models.IntegerField(db_column='db_field')),
1812.                 ('fk_field', models.ForeignKey(
1813.                     'Pony',
1814.                     models.CASCADE,
1815.                     db_column='db_fk_field',
1816.                 )),
1817.             ]),
1818.         ])
1819.         new_state = project_state.clone()
1820.         operation = migrations.RenameField('Pony', 'field', 'renamed_field')
1821.         operation.state_forwards('test_rfwdbc', new_state)
1822.         self.assertIn('renamed_field', new_state.models['test_rfwdbc', 'pony'].fields)
1823.         self.assertNotIn('field', new_state.models['test_rfwdbc', 'pony'].fields)
1824.         self.assertColumnExists('test_rfwdbc_pony', 'db_field')
1825.         with connection.schema_editor() as editor:
1826.             with self.assertNumQueries(0):
1827.                 operation.database_forwards('test_rfwdbc', editor, project_state, new_state)
1828.         self.assertColumnExists('test_rfwdbc_pony', 'db_field')
1829.         with connection.schema_editor() as editor:
1830.             with self.assertNumQueries(0):
1831.                 operation.database_backwards('test_rfwdbc', editor, new_state, project_state)
1832.         self.assertColumnExists('test_rfwdbc_pony', 'db_field')
1833. 
1834.         new_state = project_state.clone()
1835.         operation = migrations.RenameField('Pony', 'fk_field', 'renamed_fk_field')
1836.         operation.state_forwards('test_rfwdbc', new_state)
1837.         self.assertIn('renamed_fk_field', new_state.models['test_rfwdbc', 'pony'].fields)
1838.         self.assertNotIn('fk_field', new_state.models['test_rfwdbc', 'pony'].fields)
1839.         self.assertColumnExists('test_rfwdbc_pony', 'db_fk_field')
1840.         with connection.schema_editor() as editor:
1841.             with self.assertNumQueries(0):
1842.                 operation.database_forwards('test_rfwdbc', editor, project_state, new_state)
1843.         self.assertColumnExists('test_rfwdbc_pony', 'db_fk_field')
1844.         with connection.schema_editor() as editor:
1845.             with self.assertNumQueries(0):
1846.                 operation.database_backwards('test_rfwdbc', editor, new_state, project_state)
1847.         self.assertColumnExists('test_rfwdbc_pony', 'db_fk_field')
1848. 
1849.     def test_rename_field_case(self):
1850.         project_state = self.apply_operations('test_rfmx', ProjectState(), operations=[
1851.             migrations.CreateModel('Pony', fields=[
1852.                 ('id', models.AutoField(primary_key=True)),
1853.                 ('field', models.IntegerField()),
1854.             ]),
1855.         ])
1856.         new_state = project_state.clone()
1857.         operation = migrations.RenameField('Pony', 'field', 'FiElD')
1858.         operation.state_forwards('test_rfmx', new_state)
1859.         self.assertIn('FiElD', new_state.models['test_rfmx', 'pony'].fields)
1860.         self.assertColumnExists('test_rfmx_pony', 'field')
1861.         with connection.schema_editor() as editor:
1862.             operation.database_forwards('test_rfmx', editor, project_state, new_state)
1863.         self.assertColumnExists(
1864.             'test_rfmx_pony',
1865.             connection.introspection.identifier_converter('FiElD'),
1866.         )
1867.         with connection.schema_editor() as editor:
1868.             operation.database_backwards('test_rfmx', editor, new_state, project_state)
1869.         self.assertColumnExists('test_rfmx_pony', 'field')
1870. 
1871.     def test_rename_missing_field(self):
1872.         state = ProjectState()
1873.         state.add_model(ModelState('app', 'model', []))
1874.         with self.assertRaisesMessage(FieldDoesNotExist, "app.model has no field named 'field'"):
1875.             migrations.RenameField('model', 'field', 'new_field').state_forwards('app', state)
1876. 
1877.     def test_rename_referenced_field_state_forward(self):
1878.         state = ProjectState()
1879.         state.add_model(ModelState('app', 'Model', [
1880.             ('id', models.AutoField(primary_key=True)),
1881.             ('field', models.IntegerField(unique=True)),
1882.         ]))
1883.         state.add_model(ModelState('app', 'OtherModel', [
1884.             ('id', models.AutoField(primary_key=True)),
1885.             ('fk', models.ForeignKey('Model', models.CASCADE, to_field='field')),
1886.             ('fo', models.ForeignObject('Model', models.CASCADE, from_fields=('fk',), to_fields=('field',))),
1887.         ]))
1888.         operation = migrations.RenameField('Model', 'field', 'renamed')
1889.         new_state = state.clone()
1890.         operation.state_forwards('app', new_state)
1891.         self.assertEqual(new_state.models['app', 'othermodel'].fields['fk'].remote_field.field_name, 'renamed')
1892.         self.assertEqual(new_state.models['app', 'othermodel'].fields['fk'].from_fields, ['self'])
1893.         self.assertEqual(new_state.models['app', 'othermodel'].fields['fk'].to_fields, ('renamed',))
1894.         self.assertEqual(new_state.models['app', 'othermodel'].fields['fo'].from_fields, ('fk',))
1895.         self.assertEqual(new_state.models['app', 'othermodel'].fields['fo'].to_fields, ('renamed',))
1896.         operation = migrations.RenameField('OtherModel', 'fk', 'renamed_fk')
1897.         new_state = state.clone()
1898.         operation.state_forwards('app', new_state)
1899.         self.assertEqual(new_state.models['app', 'othermodel'].fields['renamed_fk'].remote_field.field_name, 'renamed')
1900.         self.assertEqual(new_state.models['app', 'othermodel'].fields['renamed_fk'].from_fields, ('self',))
1901.         self.assertEqual(new_state.models['app', 'othermodel'].fields['renamed_fk'].to_fields, ('renamed',))
1902.         self.assertEqual(new_state.models['app', 'othermodel'].fields['fo'].from_fields, ('renamed_fk',))
1903.         self.assertEqual(new_state.models['app', 'othermodel'].fields['fo'].to_fields, ('renamed',))
1904. 
1905.     def test_alter_unique_together(self):
1906.         """
1907.         Tests the AlterUniqueTogether operation.
1908.         """
1909.         project_state = self.set_up_test_model("test_alunto")
1910.         # Test the state alteration
1911.         operation = migrations.AlterUniqueTogether("Pony", [("pink", "weight")])
1912.         self.assertEqual(operation.describe(), "Alter unique_together for Pony (1 constraint(s))")
1913.         self.assertEqual(
1914.             operation.migration_name_fragment,
1915.             'alter_pony_unique_together',
1916.         )
1917.         new_state = project_state.clone()
1918.         operation.state_forwards("test_alunto", new_state)
1919.         self.assertEqual(len(project_state.models["test_alunto", "pony"].options.get("unique_together", set())), 0)
1920.         self.assertEqual(len(new_state.models["test_alunto", "pony"].options.get("unique_together", set())), 1)
1921.         # Make sure we can insert duplicate rows
1922.         with connection.cursor() as cursor:
1923.             cursor.execute("INSERT INTO test_alunto_pony (pink, weight) VALUES (1, 1)")
1924.             cursor.execute("INSERT INTO test_alunto_pony (pink, weight) VALUES (1, 1)")
1925.             cursor.execute("DELETE FROM test_alunto_pony")
1926.             # Test the database alteration
1927.             with connection.schema_editor() as editor:
1928.                 operation.database_forwards("test_alunto", editor, project_state, new_state)
1929.             cursor.execute("INSERT INTO test_alunto_pony (pink, weight) VALUES (1, 1)")
1930.             with self.assertRaises(IntegrityError):
1931.                 with atomic():
1932.                     cursor.execute("INSERT INTO test_alunto_pony (pink, weight) VALUES (1, 1)")
1933.             cursor.execute("DELETE FROM test_alunto_pony")
1934.             # And test reversal
1935.             with connection.schema_editor() as editor:
1936.                 operation.database_backwards("test_alunto", editor, new_state, project_state)
1937.             cursor.execute("INSERT INTO test_alunto_pony (pink, weight) VALUES (1, 1)")
1938.             cursor.execute("INSERT INTO test_alunto_pony (pink, weight) VALUES (1, 1)")
1939.             cursor.execute("DELETE FROM test_alunto_pony")
1940.         # Test flat unique_together
1941.         operation = migrations.AlterUniqueTogether("Pony", ("pink", "weight"))
1942.         operation.state_forwards("test_alunto", new_state)
1943.         self.assertEqual(len(new_state.models["test_alunto", "pony"].options.get("unique_together", set())), 1)
1944.         # And deconstruction
1945.         definition = operation.deconstruct()
1946.         self.assertEqual(definition[0], "AlterUniqueTogether")
1947.         self.assertEqual(definition[1], [])
1948.         self.assertEqual(definition[2], {'name': "Pony", 'unique_together': {("pink", "weight")}})
1949. 
1950.     def test_alter_unique_together_remove(self):
1951.         operation = migrations.AlterUniqueTogether("Pony", None)
1952.         self.assertEqual(operation.describe(), "Alter unique_together for Pony (0 constraint(s))")
1953. 
1954.     def test_add_index(self):
1955.         """
1956.         Test the AddIndex operation.
1957.         """
1958.         project_state = self.set_up_test_model("test_adin")
1959.         msg = (
1960.             "Indexes passed to AddIndex operations require a name argument. "
1961.             "<Index: fields=['pink']> doesn't have one."
1962.         )
1963.         with self.assertRaisesMessage(ValueError, msg):
1964.             migrations.AddIndex("Pony", models.Index(fields=["pink"]))
1965.         index = models.Index(fields=["pink"], name="test_adin_pony_pink_idx")
1966.         operation = migrations.AddIndex("Pony", index)
1967.         self.assertEqual(operation.describe(), "Create index test_adin_pony_pink_idx on field(s) pink of model Pony")
1968.         self.assertEqual(
1969.             operation.migration_name_fragment,
1970.             'pony_test_adin_pony_pink_idx',
1971.         )
1972.         new_state = project_state.clone()
1973.         operation.state_forwards("test_adin", new_state)
1974.         # Test the database alteration
1975.         self.assertEqual(len(new_state.models["test_adin", "pony"].options['indexes']), 1)
1976.         self.assertIndexNotExists("test_adin_pony", ["pink"])
1977.         with connection.schema_editor() as editor:
1978.             operation.database_forwards("test_adin", editor, project_state, new_state)
1979.         self.assertIndexExists("test_adin_pony", ["pink"])
1980.         # And test reversal
1981.         with connection.schema_editor() as editor:
1982.             operation.database_backwards("test_adin", editor, new_state, project_state)
1983.         self.assertIndexNotExists("test_adin_pony", ["pink"])
1984.         # And deconstruction
1985.         definition = operation.deconstruct()
1986.         self.assertEqual(definition[0], "AddIndex")
1987.         self.assertEqual(definition[1], [])
1988.         self.assertEqual(definition[2], {'model_name': "Pony", 'index': index})
1989. 
1990.     def test_remove_index(self):
1991.         """
1992.         Test the RemoveIndex operation.
1993.         """
1994.         project_state = self.set_up_test_model("test_rmin", multicol_index=True)
1995.         self.assertTableExists("test_rmin_pony")
1996.         self.assertIndexExists("test_rmin_pony", ["pink", "weight"])
1997.         operation = migrations.RemoveIndex("Pony", "pony_test_idx")
1998.         self.assertEqual(operation.describe(), "Remove index pony_test_idx from Pony")
1999.         self.assertEqual(
2000.             operation.migration_name_fragment,


File: tests/migrations/test_operations.py
Line number range: 2001 - 2500
Content:
2001.             'remove_pony_pony_test_idx',
2002.         )
2003.         new_state = project_state.clone()
2004.         operation.state_forwards("test_rmin", new_state)
2005.         # Test the state alteration
2006.         self.assertEqual(len(new_state.models["test_rmin", "pony"].options['indexes']), 0)
2007.         self.assertIndexExists("test_rmin_pony", ["pink", "weight"])
2008.         # Test the database alteration
2009.         with connection.schema_editor() as editor:
2010.             operation.database_forwards("test_rmin", editor, project_state, new_state)
2011.         self.assertIndexNotExists("test_rmin_pony", ["pink", "weight"])
2012.         # And test reversal
2013.         with connection.schema_editor() as editor:
2014.             operation.database_backwards("test_rmin", editor, new_state, project_state)
2015.         self.assertIndexExists("test_rmin_pony", ["pink", "weight"])
2016.         # And deconstruction
2017.         definition = operation.deconstruct()
2018.         self.assertEqual(definition[0], "RemoveIndex")
2019.         self.assertEqual(definition[1], [])
2020.         self.assertEqual(definition[2], {'model_name': "Pony", 'name': "pony_test_idx"})
2021. 
2022.         # Also test a field dropped with index - sqlite remake issue
2023.         operations = [
2024.             migrations.RemoveIndex("Pony", "pony_test_idx"),
2025.             migrations.RemoveField("Pony", "pink"),
2026.         ]
2027.         self.assertColumnExists("test_rmin_pony", "pink")
2028.         self.assertIndexExists("test_rmin_pony", ["pink", "weight"])
2029.         # Test database alteration
2030.         new_state = project_state.clone()
2031.         self.apply_operations('test_rmin', new_state, operations=operations)
2032.         self.assertColumnNotExists("test_rmin_pony", "pink")
2033.         self.assertIndexNotExists("test_rmin_pony", ["pink", "weight"])
2034.         # And test reversal
2035.         self.unapply_operations("test_rmin", project_state, operations=operations)
2036.         self.assertIndexExists("test_rmin_pony", ["pink", "weight"])
2037. 
2038.     def test_add_index_state_forwards(self):
2039.         project_state = self.set_up_test_model('test_adinsf')
2040.         index = models.Index(fields=['pink'], name='test_adinsf_pony_pink_idx')
2041.         old_model = project_state.apps.get_model('test_adinsf', 'Pony')
2042.         new_state = project_state.clone()
2043. 
2044.         operation = migrations.AddIndex('Pony', index)
2045.         operation.state_forwards('test_adinsf', new_state)
2046.         new_model = new_state.apps.get_model('test_adinsf', 'Pony')
2047.         self.assertIsNot(old_model, new_model)
2048. 
2049.     def test_remove_index_state_forwards(self):
2050.         project_state = self.set_up_test_model('test_rminsf')
2051.         index = models.Index(fields=['pink'], name='test_rminsf_pony_pink_idx')
2052.         migrations.AddIndex('Pony', index).state_forwards('test_rminsf', project_state)
2053.         old_model = project_state.apps.get_model('test_rminsf', 'Pony')
2054.         new_state = project_state.clone()
2055. 
2056.         operation = migrations.RemoveIndex('Pony', 'test_rminsf_pony_pink_idx')
2057.         operation.state_forwards('test_rminsf', new_state)
2058.         new_model = new_state.apps.get_model('test_rminsf', 'Pony')
2059.         self.assertIsNot(old_model, new_model)
2060. 
2061.     @skipUnlessDBFeature('supports_expression_indexes')
2062.     def test_add_func_index(self):
2063.         app_label = 'test_addfuncin'
2064.         index_name = f'{app_label}_pony_abs_idx'
2065.         table_name = f'{app_label}_pony'
2066.         project_state = self.set_up_test_model(app_label)
2067.         index = models.Index(Abs('weight'), name=index_name)
2068.         operation = migrations.AddIndex('Pony', index)
2069.         self.assertEqual(
2070.             operation.describe(),
2071.             'Create index test_addfuncin_pony_abs_idx on Abs(F(weight)) on model Pony',
2072.         )
2073.         self.assertEqual(
2074.             operation.migration_name_fragment,
2075.             'pony_test_addfuncin_pony_abs_idx',
2076.         )
2077.         new_state = project_state.clone()
2078.         operation.state_forwards(app_label, new_state)
2079.         self.assertEqual(len(new_state.models[app_label, 'pony'].options['indexes']), 1)
2080.         self.assertIndexNameNotExists(table_name, index_name)
2081.         # Add index.
2082.         with connection.schema_editor() as editor:
2083.             operation.database_forwards(app_label, editor, project_state, new_state)
2084.         self.assertIndexNameExists(table_name, index_name)
2085.         # Reversal.
2086.         with connection.schema_editor() as editor:
2087.             operation.database_backwards(app_label, editor, new_state, project_state)
2088.         self.assertIndexNameNotExists(table_name, index_name)
2089.         # Deconstruction.
2090.         definition = operation.deconstruct()
2091.         self.assertEqual(definition[0], 'AddIndex')
2092.         self.assertEqual(definition[1], [])
2093.         self.assertEqual(definition[2], {'model_name': 'Pony', 'index': index})
2094. 
2095.     @skipUnlessDBFeature('supports_expression_indexes')
2096.     def test_remove_func_index(self):
2097.         app_label = 'test_rmfuncin'
2098.         index_name = f'{app_label}_pony_abs_idx'
2099.         table_name = f'{app_label}_pony'
2100.         project_state = self.set_up_test_model(app_label, indexes=[
2101.             models.Index(Abs('weight'), name=index_name),
2102.         ])
2103.         self.assertTableExists(table_name)
2104.         self.assertIndexNameExists(table_name, index_name)
2105.         operation = migrations.RemoveIndex('Pony', index_name)
2106.         self.assertEqual(
2107.             operation.describe(),
2108.             'Remove index test_rmfuncin_pony_abs_idx from Pony',
2109.         )
2110.         self.assertEqual(
2111.             operation.migration_name_fragment,
2112.             'remove_pony_test_rmfuncin_pony_abs_idx',
2113.         )
2114.         new_state = project_state.clone()
2115.         operation.state_forwards(app_label, new_state)
2116.         self.assertEqual(len(new_state.models[app_label, 'pony'].options['indexes']), 0)
2117.         # Remove index.
2118.         with connection.schema_editor() as editor:
2119.             operation.database_forwards(app_label, editor, project_state, new_state)
2120.         self.assertIndexNameNotExists(table_name, index_name)
2121.         # Reversal.
2122.         with connection.schema_editor() as editor:
2123.             operation.database_backwards(app_label, editor, new_state, project_state)
2124.         self.assertIndexNameExists(table_name, index_name)
2125.         # Deconstruction.
2126.         definition = operation.deconstruct()
2127.         self.assertEqual(definition[0], 'RemoveIndex')
2128.         self.assertEqual(definition[1], [])
2129.         self.assertEqual(definition[2], {'model_name': 'Pony', 'name': index_name})
2130. 
2131.     @skipUnlessDBFeature('supports_expression_indexes')
2132.     def test_alter_field_with_func_index(self):
2133.         app_label = 'test_alfuncin'
2134.         index_name = f'{app_label}_pony_idx'
2135.         table_name = f'{app_label}_pony'
2136.         project_state = self.set_up_test_model(
2137.             app_label,
2138.             indexes=[models.Index(Abs('pink'), name=index_name)],
2139.         )
2140.         operation = migrations.AlterField('Pony', 'pink', models.IntegerField(null=True))
2141.         new_state = project_state.clone()
2142.         operation.state_forwards(app_label, new_state)
2143.         with connection.schema_editor() as editor:
2144.             operation.database_forwards(app_label, editor, project_state, new_state)
2145.         self.assertIndexNameExists(table_name, index_name)
2146.         with connection.schema_editor() as editor:
2147.             operation.database_backwards(app_label, editor, new_state, project_state)
2148.         self.assertIndexNameExists(table_name, index_name)
2149. 
2150.     def test_alter_field_with_index(self):
2151.         """
2152.         Test AlterField operation with an index to ensure indexes created via
2153.         Meta.indexes don't get dropped with sqlite3 remake.
2154.         """
2155.         project_state = self.set_up_test_model("test_alflin", index=True)
2156.         operation = migrations.AlterField("Pony", "pink", models.IntegerField(null=True))
2157.         new_state = project_state.clone()
2158.         operation.state_forwards("test_alflin", new_state)
2159.         # Test the database alteration
2160.         self.assertColumnNotNull("test_alflin_pony", "pink")
2161.         with connection.schema_editor() as editor:
2162.             operation.database_forwards("test_alflin", editor, project_state, new_state)
2163.         # Index hasn't been dropped
2164.         self.assertIndexExists("test_alflin_pony", ["pink"])
2165.         # And test reversal
2166.         with connection.schema_editor() as editor:
2167.             operation.database_backwards("test_alflin", editor, new_state, project_state)
2168.         # Ensure the index is still there
2169.         self.assertIndexExists("test_alflin_pony", ["pink"])
2170. 
2171.     def test_alter_index_together(self):
2172.         """
2173.         Tests the AlterIndexTogether operation.
2174.         """
2175.         project_state = self.set_up_test_model("test_alinto")
2176.         # Test the state alteration
2177.         operation = migrations.AlterIndexTogether("Pony", [("pink", "weight")])
2178.         self.assertEqual(operation.describe(), "Alter index_together for Pony (1 constraint(s))")
2179.         self.assertEqual(
2180.             operation.migration_name_fragment,
2181.             'alter_pony_index_together',
2182.         )
2183.         new_state = project_state.clone()
2184.         operation.state_forwards("test_alinto", new_state)
2185.         self.assertEqual(len(project_state.models["test_alinto", "pony"].options.get("index_together", set())), 0)
2186.         self.assertEqual(len(new_state.models["test_alinto", "pony"].options.get("index_together", set())), 1)
2187.         # Make sure there's no matching index
2188.         self.assertIndexNotExists("test_alinto_pony", ["pink", "weight"])
2189.         # Test the database alteration
2190.         with connection.schema_editor() as editor:
2191.             operation.database_forwards("test_alinto", editor, project_state, new_state)
2192.         self.assertIndexExists("test_alinto_pony", ["pink", "weight"])
2193.         # And test reversal
2194.         with connection.schema_editor() as editor:
2195.             operation.database_backwards("test_alinto", editor, new_state, project_state)
2196.         self.assertIndexNotExists("test_alinto_pony", ["pink", "weight"])
2197.         # And deconstruction
2198.         definition = operation.deconstruct()
2199.         self.assertEqual(definition[0], "AlterIndexTogether")
2200.         self.assertEqual(definition[1], [])
2201.         self.assertEqual(definition[2], {'name': "Pony", 'index_together': {("pink", "weight")}})
2202. 
2203.     def test_alter_index_together_remove(self):
2204.         operation = migrations.AlterIndexTogether("Pony", None)
2205.         self.assertEqual(operation.describe(), "Alter index_together for Pony (0 constraint(s))")
2206. 
2207.     @skipUnlessDBFeature('allows_multiple_constraints_on_same_fields')
2208.     def test_alter_index_together_remove_with_unique_together(self):
2209.         app_label = 'test_alintoremove_wunto'
2210.         table_name = '%s_pony' % app_label
2211.         project_state = self.set_up_test_model(app_label, unique_together=True)
2212.         self.assertUniqueConstraintExists(table_name, ['pink', 'weight'])
2213.         # Add index together.
2214.         new_state = project_state.clone()
2215.         operation = migrations.AlterIndexTogether('Pony', [('pink', 'weight')])
2216.         operation.state_forwards(app_label, new_state)
2217.         with connection.schema_editor() as editor:
2218.             operation.database_forwards(app_label, editor, project_state, new_state)
2219.         self.assertIndexExists(table_name, ['pink', 'weight'])
2220.         # Remove index together.
2221.         project_state = new_state
2222.         new_state = project_state.clone()
2223.         operation = migrations.AlterIndexTogether('Pony', set())
2224.         operation.state_forwards(app_label, new_state)
2225.         with connection.schema_editor() as editor:
2226.             operation.database_forwards(app_label, editor, project_state, new_state)
2227.         self.assertIndexNotExists(table_name, ['pink', 'weight'])
2228.         self.assertUniqueConstraintExists(table_name, ['pink', 'weight'])
2229. 
2230.     @skipUnlessDBFeature('supports_table_check_constraints')
2231.     def test_add_constraint(self):
2232.         project_state = self.set_up_test_model("test_addconstraint")
2233.         gt_check = models.Q(pink__gt=2)
2234.         gt_constraint = models.CheckConstraint(check=gt_check, name="test_add_constraint_pony_pink_gt_2")
2235.         gt_operation = migrations.AddConstraint("Pony", gt_constraint)
2236.         self.assertEqual(
2237.             gt_operation.describe(), "Create constraint test_add_constraint_pony_pink_gt_2 on model Pony"
2238.         )
2239.         self.assertEqual(
2240.             gt_operation.migration_name_fragment,
2241.             'pony_test_add_constraint_pony_pink_gt_2',
2242.         )
2243.         # Test the state alteration
2244.         new_state = project_state.clone()
2245.         gt_operation.state_forwards("test_addconstraint", new_state)
2246.         self.assertEqual(len(new_state.models["test_addconstraint", "pony"].options["constraints"]), 1)
2247.         Pony = new_state.apps.get_model("test_addconstraint", "Pony")
2248.         self.assertEqual(len(Pony._meta.constraints), 1)
2249.         # Test the database alteration
2250.         with connection.schema_editor() as editor:
2251.             gt_operation.database_forwards("test_addconstraint", editor, project_state, new_state)
2252.         with self.assertRaises(IntegrityError), transaction.atomic():
2253.             Pony.objects.create(pink=1, weight=1.0)
2254.         # Add another one.
2255.         lt_check = models.Q(pink__lt=100)
2256.         lt_constraint = models.CheckConstraint(check=lt_check, name="test_add_constraint_pony_pink_lt_100")
2257.         lt_operation = migrations.AddConstraint("Pony", lt_constraint)
2258.         lt_operation.state_forwards("test_addconstraint", new_state)
2259.         self.assertEqual(len(new_state.models["test_addconstraint", "pony"].options["constraints"]), 2)
2260.         Pony = new_state.apps.get_model("test_addconstraint", "Pony")
2261.         self.assertEqual(len(Pony._meta.constraints), 2)
2262.         with connection.schema_editor() as editor:
2263.             lt_operation.database_forwards("test_addconstraint", editor, project_state, new_state)
2264.         with self.assertRaises(IntegrityError), transaction.atomic():
2265.             Pony.objects.create(pink=100, weight=1.0)
2266.         # Test reversal
2267.         with connection.schema_editor() as editor:
2268.             gt_operation.database_backwards("test_addconstraint", editor, new_state, project_state)
2269.         Pony.objects.create(pink=1, weight=1.0)
2270.         # Test deconstruction
2271.         definition = gt_operation.deconstruct()
2272.         self.assertEqual(definition[0], "AddConstraint")
2273.         self.assertEqual(definition[1], [])
2274.         self.assertEqual(definition[2], {'model_name': "Pony", 'constraint': gt_constraint})
2275. 
2276.     @skipUnlessDBFeature('supports_table_check_constraints')
2277.     def test_add_constraint_percent_escaping(self):
2278.         app_label = 'add_constraint_string_quoting'
2279.         operations = [
2280.             migrations.CreateModel(
2281.                 'Author',
2282.                 fields=[
2283.                     ('id', models.AutoField(primary_key=True)),
2284.                     ('name', models.CharField(max_length=100)),
2285.                     ('surname', models.CharField(max_length=100, default='')),
2286.                     ('rebate', models.CharField(max_length=100)),
2287.                 ],
2288.             ),
2289.         ]
2290.         from_state = self.apply_operations(app_label, ProjectState(), operations)
2291.         # "%" generated in startswith lookup should be escaped in a way that is
2292.         # considered a leading wildcard.
2293.         check = models.Q(name__startswith='Albert')
2294.         constraint = models.CheckConstraint(check=check, name='name_constraint')
2295.         operation = migrations.AddConstraint('Author', constraint)
2296.         to_state = from_state.clone()
2297.         operation.state_forwards(app_label, to_state)
2298.         with connection.schema_editor() as editor:
2299.             operation.database_forwards(app_label, editor, from_state, to_state)
2300.         Author = to_state.apps.get_model(app_label, 'Author')
2301.         with self.assertRaises(IntegrityError), transaction.atomic():
2302.             Author.objects.create(name='Artur')
2303.         # Literal "%" should be escaped in a way that is not a considered a
2304.         # wildcard.
2305.         check = models.Q(rebate__endswith='%')
2306.         constraint = models.CheckConstraint(check=check, name='rebate_constraint')
2307.         operation = migrations.AddConstraint('Author', constraint)
2308.         from_state = to_state
2309.         to_state = from_state.clone()
2310.         operation.state_forwards(app_label, to_state)
2311.         Author = to_state.apps.get_model(app_label, 'Author')
2312.         with connection.schema_editor() as editor:
2313.             operation.database_forwards(app_label, editor, from_state, to_state)
2314.         Author = to_state.apps.get_model(app_label, 'Author')
2315.         with self.assertRaises(IntegrityError), transaction.atomic():
2316.             Author.objects.create(name='Albert', rebate='10$')
2317.         author = Author.objects.create(name='Albert', rebate='10%')
2318.         self.assertEqual(Author.objects.get(), author)
2319.         # Right-hand-side baked "%" literals should not be used for parameters
2320.         # interpolation.
2321.         check = ~models.Q(surname__startswith=models.F('name'))
2322.         constraint = models.CheckConstraint(check=check, name='name_constraint_rhs')
2323.         operation = migrations.AddConstraint('Author', constraint)
2324.         from_state = to_state
2325.         to_state = from_state.clone()
2326.         operation.state_forwards(app_label, to_state)
2327.         with connection.schema_editor() as editor:
2328.             operation.database_forwards(app_label, editor, from_state, to_state)
2329.         Author = to_state.apps.get_model(app_label, 'Author')
2330.         with self.assertRaises(IntegrityError), transaction.atomic():
2331.             Author.objects.create(name='Albert', surname='Alberto')
2332. 
2333.     @skipUnlessDBFeature('supports_table_check_constraints')
2334.     def test_add_or_constraint(self):
2335.         app_label = 'test_addorconstraint'
2336.         constraint_name = 'add_constraint_or'
2337.         from_state = self.set_up_test_model(app_label)
2338.         check = models.Q(pink__gt=2, weight__gt=2) | models.Q(weight__lt=0)
2339.         constraint = models.CheckConstraint(check=check, name=constraint_name)
2340.         operation = migrations.AddConstraint('Pony', constraint)
2341.         to_state = from_state.clone()
2342.         operation.state_forwards(app_label, to_state)
2343.         with connection.schema_editor() as editor:
2344.             operation.database_forwards(app_label, editor, from_state, to_state)
2345.         Pony = to_state.apps.get_model(app_label, 'Pony')
2346.         with self.assertRaises(IntegrityError), transaction.atomic():
2347.             Pony.objects.create(pink=2, weight=3.0)
2348.         with self.assertRaises(IntegrityError), transaction.atomic():
2349.             Pony.objects.create(pink=3, weight=1.0)
2350.         Pony.objects.bulk_create([
2351.             Pony(pink=3, weight=-1.0),
2352.             Pony(pink=1, weight=-1.0),
2353.             Pony(pink=3, weight=3.0),
2354.         ])
2355. 
2356.     @skipUnlessDBFeature('supports_table_check_constraints')
2357.     def test_add_constraint_combinable(self):
2358.         app_label = 'test_addconstraint_combinable'
2359.         operations = [
2360.             migrations.CreateModel(
2361.                 'Book',
2362.                 fields=[
2363.                     ('id', models.AutoField(primary_key=True)),
2364.                     ('read', models.PositiveIntegerField()),
2365.                     ('unread', models.PositiveIntegerField()),
2366.                 ],
2367.             ),
2368.         ]
2369.         from_state = self.apply_operations(app_label, ProjectState(), operations)
2370.         constraint = models.CheckConstraint(
2371.             check=models.Q(read=(100 - models.F('unread'))),
2372.             name='test_addconstraint_combinable_sum_100',
2373.         )
2374.         operation = migrations.AddConstraint('Book', constraint)
2375.         to_state = from_state.clone()
2376.         operation.state_forwards(app_label, to_state)
2377.         with connection.schema_editor() as editor:
2378.             operation.database_forwards(app_label, editor, from_state, to_state)
2379.         Book = to_state.apps.get_model(app_label, 'Book')
2380.         with self.assertRaises(IntegrityError), transaction.atomic():
2381.             Book.objects.create(read=70, unread=10)
2382.         Book.objects.create(read=70, unread=30)
2383. 
2384.     @skipUnlessDBFeature('supports_table_check_constraints')
2385.     def test_remove_constraint(self):
2386.         project_state = self.set_up_test_model("test_removeconstraint", constraints=[
2387.             models.CheckConstraint(check=models.Q(pink__gt=2), name="test_remove_constraint_pony_pink_gt_2"),
2388.             models.CheckConstraint(check=models.Q(pink__lt=100), name="test_remove_constraint_pony_pink_lt_100"),
2389.         ])
2390.         gt_operation = migrations.RemoveConstraint("Pony", "test_remove_constraint_pony_pink_gt_2")
2391.         self.assertEqual(
2392.             gt_operation.describe(), "Remove constraint test_remove_constraint_pony_pink_gt_2 from model Pony"
2393.         )
2394.         self.assertEqual(
2395.             gt_operation.migration_name_fragment,
2396.             'remove_pony_test_remove_constraint_pony_pink_gt_2',
2397.         )
2398.         # Test state alteration
2399.         new_state = project_state.clone()
2400.         gt_operation.state_forwards("test_removeconstraint", new_state)
2401.         self.assertEqual(len(new_state.models["test_removeconstraint", "pony"].options['constraints']), 1)
2402.         Pony = new_state.apps.get_model("test_removeconstraint", "Pony")
2403.         self.assertEqual(len(Pony._meta.constraints), 1)
2404.         # Test database alteration
2405.         with connection.schema_editor() as editor:
2406.             gt_operation.database_forwards("test_removeconstraint", editor, project_state, new_state)
2407.         Pony.objects.create(pink=1, weight=1.0).delete()
2408.         with self.assertRaises(IntegrityError), transaction.atomic():
2409.             Pony.objects.create(pink=100, weight=1.0)
2410.         # Remove the other one.
2411.         lt_operation = migrations.RemoveConstraint("Pony", "test_remove_constraint_pony_pink_lt_100")
2412.         lt_operation.state_forwards("test_removeconstraint", new_state)
2413.         self.assertEqual(len(new_state.models["test_removeconstraint", "pony"].options['constraints']), 0)
2414.         Pony = new_state.apps.get_model("test_removeconstraint", "Pony")
2415.         self.assertEqual(len(Pony._meta.constraints), 0)
2416.         with connection.schema_editor() as editor:
2417.             lt_operation.database_forwards("test_removeconstraint", editor, project_state, new_state)
2418.         Pony.objects.create(pink=100, weight=1.0).delete()
2419.         # Test reversal
2420.         with connection.schema_editor() as editor:
2421.             gt_operation.database_backwards("test_removeconstraint", editor, new_state, project_state)
2422.         with self.assertRaises(IntegrityError), transaction.atomic():
2423.             Pony.objects.create(pink=1, weight=1.0)
2424.         # Test deconstruction
2425.         definition = gt_operation.deconstruct()
2426.         self.assertEqual(definition[0], "RemoveConstraint")
2427.         self.assertEqual(definition[1], [])
2428.         self.assertEqual(definition[2], {'model_name': "Pony", 'name': "test_remove_constraint_pony_pink_gt_2"})
2429. 
2430.     def test_add_partial_unique_constraint(self):
2431.         project_state = self.set_up_test_model('test_addpartialuniqueconstraint')
2432.         partial_unique_constraint = models.UniqueConstraint(
2433.             fields=['pink'],
2434.             condition=models.Q(weight__gt=5),
2435.             name='test_constraint_pony_pink_for_weight_gt_5_uniq',
2436.         )
2437.         operation = migrations.AddConstraint('Pony', partial_unique_constraint)
2438.         self.assertEqual(
2439.             operation.describe(),
2440.             'Create constraint test_constraint_pony_pink_for_weight_gt_5_uniq '
2441.             'on model Pony'
2442.         )
2443.         # Test the state alteration
2444.         new_state = project_state.clone()
2445.         operation.state_forwards('test_addpartialuniqueconstraint', new_state)
2446.         self.assertEqual(len(new_state.models['test_addpartialuniqueconstraint', 'pony'].options['constraints']), 1)
2447.         Pony = new_state.apps.get_model('test_addpartialuniqueconstraint', 'Pony')
2448.         self.assertEqual(len(Pony._meta.constraints), 1)
2449.         # Test the database alteration
2450.         with connection.schema_editor() as editor:
2451.             operation.database_forwards('test_addpartialuniqueconstraint', editor, project_state, new_state)
2452.         # Test constraint works
2453.         Pony.objects.create(pink=1, weight=4.0)
2454.         Pony.objects.create(pink=1, weight=4.0)
2455.         Pony.objects.create(pink=1, weight=6.0)
2456.         if connection.features.supports_partial_indexes:
2457.             with self.assertRaises(IntegrityError), transaction.atomic():
2458.                 Pony.objects.create(pink=1, weight=7.0)
2459.         else:
2460.             Pony.objects.create(pink=1, weight=7.0)
2461.         # Test reversal
2462.         with connection.schema_editor() as editor:
2463.             operation.database_backwards('test_addpartialuniqueconstraint', editor, new_state, project_state)
2464.         # Test constraint doesn't work
2465.         Pony.objects.create(pink=1, weight=7.0)
2466.         # Test deconstruction
2467.         definition = operation.deconstruct()
2468.         self.assertEqual(definition[0], 'AddConstraint')
2469.         self.assertEqual(definition[1], [])
2470.         self.assertEqual(definition[2], {'model_name': 'Pony', 'constraint': partial_unique_constraint})
2471. 
2472.     def test_remove_partial_unique_constraint(self):
2473.         project_state = self.set_up_test_model('test_removepartialuniqueconstraint', constraints=[
2474.             models.UniqueConstraint(
2475.                 fields=['pink'],
2476.                 condition=models.Q(weight__gt=5),
2477.                 name='test_constraint_pony_pink_for_weight_gt_5_uniq',
2478.             ),
2479.         ])
2480.         gt_operation = migrations.RemoveConstraint('Pony', 'test_constraint_pony_pink_for_weight_gt_5_uniq')
2481.         self.assertEqual(
2482.             gt_operation.describe(), 'Remove constraint test_constraint_pony_pink_for_weight_gt_5_uniq from model Pony'
2483.         )
2484.         # Test state alteration
2485.         new_state = project_state.clone()
2486.         gt_operation.state_forwards('test_removepartialuniqueconstraint', new_state)
2487.         self.assertEqual(len(new_state.models['test_removepartialuniqueconstraint', 'pony'].options['constraints']), 0)
2488.         Pony = new_state.apps.get_model('test_removepartialuniqueconstraint', 'Pony')
2489.         self.assertEqual(len(Pony._meta.constraints), 0)
2490.         # Test database alteration
2491.         with connection.schema_editor() as editor:
2492.             gt_operation.database_forwards('test_removepartialuniqueconstraint', editor, project_state, new_state)
2493.         # Test constraint doesn't work
2494.         Pony.objects.create(pink=1, weight=4.0)
2495.         Pony.objects.create(pink=1, weight=4.0)
2496.         Pony.objects.create(pink=1, weight=6.0)
2497.         Pony.objects.create(pink=1, weight=7.0).delete()
2498.         # Test reversal
2499.         with connection.schema_editor() as editor:
2500.             gt_operation.database_backwards('test_removepartialuniqueconstraint', editor, new_state, project_state)


File: tests/migrations/test_operations.py
Line number range: 2501 - 3000
Content:
2501.         # Test constraint works
2502.         if connection.features.supports_partial_indexes:
2503.             with self.assertRaises(IntegrityError), transaction.atomic():
2504.                 Pony.objects.create(pink=1, weight=7.0)
2505.         else:
2506.             Pony.objects.create(pink=1, weight=7.0)
2507.         # Test deconstruction
2508.         definition = gt_operation.deconstruct()
2509.         self.assertEqual(definition[0], 'RemoveConstraint')
2510.         self.assertEqual(definition[1], [])
2511.         self.assertEqual(definition[2], {
2512.             'model_name': 'Pony',
2513.             'name': 'test_constraint_pony_pink_for_weight_gt_5_uniq',
2514.         })
2515. 
2516.     def test_add_deferred_unique_constraint(self):
2517.         app_label = 'test_adddeferred_uc'
2518.         project_state = self.set_up_test_model(app_label)
2519.         deferred_unique_constraint = models.UniqueConstraint(
2520.             fields=['pink'],
2521.             name='deferred_pink_constraint_add',
2522.             deferrable=models.Deferrable.DEFERRED,
2523.         )
2524.         operation = migrations.AddConstraint('Pony', deferred_unique_constraint)
2525.         self.assertEqual(
2526.             operation.describe(),
2527.             'Create constraint deferred_pink_constraint_add on model Pony',
2528.         )
2529.         # Add constraint.
2530.         new_state = project_state.clone()
2531.         operation.state_forwards(app_label, new_state)
2532.         self.assertEqual(len(new_state.models[app_label, 'pony'].options['constraints']), 1)
2533.         Pony = new_state.apps.get_model(app_label, 'Pony')
2534.         self.assertEqual(len(Pony._meta.constraints), 1)
2535.         with connection.schema_editor() as editor, CaptureQueriesContext(connection) as ctx:
2536.             operation.database_forwards(app_label, editor, project_state, new_state)
2537.         Pony.objects.create(pink=1, weight=4.0)
2538.         if connection.features.supports_deferrable_unique_constraints:
2539.             # Unique constraint is deferred.
2540.             with transaction.atomic():
2541.                 obj = Pony.objects.create(pink=1, weight=4.0)
2542.                 obj.pink = 2
2543.                 obj.save()
2544.             # Constraint behavior can be changed with SET CONSTRAINTS.
2545.             with self.assertRaises(IntegrityError):
2546.                 with transaction.atomic(), connection.cursor() as cursor:
2547.                     quoted_name = connection.ops.quote_name(deferred_unique_constraint.name)
2548.                     cursor.execute('SET CONSTRAINTS %s IMMEDIATE' % quoted_name)
2549.                     obj = Pony.objects.create(pink=1, weight=4.0)
2550.                     obj.pink = 3
2551.                     obj.save()
2552.         else:
2553.             self.assertEqual(len(ctx), 0)
2554.             Pony.objects.create(pink=1, weight=4.0)
2555.         # Reversal.
2556.         with connection.schema_editor() as editor:
2557.             operation.database_backwards(app_label, editor, new_state, project_state)
2558.         # Constraint doesn't work.
2559.         Pony.objects.create(pink=1, weight=4.0)
2560.         # Deconstruction.
2561.         definition = operation.deconstruct()
2562.         self.assertEqual(definition[0], 'AddConstraint')
2563.         self.assertEqual(definition[1], [])
2564.         self.assertEqual(
2565.             definition[2],
2566.             {'model_name': 'Pony', 'constraint': deferred_unique_constraint},
2567.         )
2568. 
2569.     def test_remove_deferred_unique_constraint(self):
2570.         app_label = 'test_removedeferred_uc'
2571.         deferred_unique_constraint = models.UniqueConstraint(
2572.             fields=['pink'],
2573.             name='deferred_pink_constraint_rm',
2574.             deferrable=models.Deferrable.DEFERRED,
2575.         )
2576.         project_state = self.set_up_test_model(app_label, constraints=[deferred_unique_constraint])
2577.         operation = migrations.RemoveConstraint('Pony', deferred_unique_constraint.name)
2578.         self.assertEqual(
2579.             operation.describe(),
2580.             'Remove constraint deferred_pink_constraint_rm from model Pony',
2581.         )
2582.         # Remove constraint.
2583.         new_state = project_state.clone()
2584.         operation.state_forwards(app_label, new_state)
2585.         self.assertEqual(len(new_state.models[app_label, 'pony'].options['constraints']), 0)
2586.         Pony = new_state.apps.get_model(app_label, 'Pony')
2587.         self.assertEqual(len(Pony._meta.constraints), 0)
2588.         with connection.schema_editor() as editor, CaptureQueriesContext(connection) as ctx:
2589.             operation.database_forwards(app_label, editor, project_state, new_state)
2590.         # Constraint doesn't work.
2591.         Pony.objects.create(pink=1, weight=4.0)
2592.         Pony.objects.create(pink=1, weight=4.0).delete()
2593.         if not connection.features.supports_deferrable_unique_constraints:
2594.             self.assertEqual(len(ctx), 0)
2595.         # Reversal.
2596.         with connection.schema_editor() as editor:
2597.             operation.database_backwards(app_label, editor, new_state, project_state)
2598.         if connection.features.supports_deferrable_unique_constraints:
2599.             # Unique constraint is deferred.
2600.             with transaction.atomic():
2601.                 obj = Pony.objects.create(pink=1, weight=4.0)
2602.                 obj.pink = 2
2603.                 obj.save()
2604.             # Constraint behavior can be changed with SET CONSTRAINTS.
2605.             with self.assertRaises(IntegrityError):
2606.                 with transaction.atomic(), connection.cursor() as cursor:
2607.                     quoted_name = connection.ops.quote_name(deferred_unique_constraint.name)
2608.                     cursor.execute('SET CONSTRAINTS %s IMMEDIATE' % quoted_name)
2609.                     obj = Pony.objects.create(pink=1, weight=4.0)
2610.                     obj.pink = 3
2611.                     obj.save()
2612.         else:
2613.             Pony.objects.create(pink=1, weight=4.0)
2614.         # Deconstruction.
2615.         definition = operation.deconstruct()
2616.         self.assertEqual(definition[0], 'RemoveConstraint')
2617.         self.assertEqual(definition[1], [])
2618.         self.assertEqual(definition[2], {
2619.             'model_name': 'Pony',
2620.             'name': 'deferred_pink_constraint_rm',
2621.         })
2622. 
2623.     def test_add_covering_unique_constraint(self):
2624.         app_label = 'test_addcovering_uc'
2625.         project_state = self.set_up_test_model(app_label)
2626.         covering_unique_constraint = models.UniqueConstraint(
2627.             fields=['pink'],
2628.             name='covering_pink_constraint_add',
2629.             include=['weight'],
2630.         )
2631.         operation = migrations.AddConstraint('Pony', covering_unique_constraint)
2632.         self.assertEqual(
2633.             operation.describe(),
2634.             'Create constraint covering_pink_constraint_add on model Pony',
2635.         )
2636.         # Add constraint.
2637.         new_state = project_state.clone()
2638.         operation.state_forwards(app_label, new_state)
2639.         self.assertEqual(len(new_state.models[app_label, 'pony'].options['constraints']), 1)
2640.         Pony = new_state.apps.get_model(app_label, 'Pony')
2641.         self.assertEqual(len(Pony._meta.constraints), 1)
2642.         with connection.schema_editor() as editor, CaptureQueriesContext(connection) as ctx:
2643.             operation.database_forwards(app_label, editor, project_state, new_state)
2644.         Pony.objects.create(pink=1, weight=4.0)
2645.         if connection.features.supports_covering_indexes:
2646.             with self.assertRaises(IntegrityError):
2647.                 Pony.objects.create(pink=1, weight=4.0)
2648.         else:
2649.             self.assertEqual(len(ctx), 0)
2650.             Pony.objects.create(pink=1, weight=4.0)
2651.         # Reversal.
2652.         with connection.schema_editor() as editor:
2653.             operation.database_backwards(app_label, editor, new_state, project_state)
2654.         # Constraint doesn't work.
2655.         Pony.objects.create(pink=1, weight=4.0)
2656.         # Deconstruction.
2657.         definition = operation.deconstruct()
2658.         self.assertEqual(definition[0], 'AddConstraint')
2659.         self.assertEqual(definition[1], [])
2660.         self.assertEqual(
2661.             definition[2],
2662.             {'model_name': 'Pony', 'constraint': covering_unique_constraint},
2663.         )
2664. 
2665.     def test_remove_covering_unique_constraint(self):
2666.         app_label = 'test_removecovering_uc'
2667.         covering_unique_constraint = models.UniqueConstraint(
2668.             fields=['pink'],
2669.             name='covering_pink_constraint_rm',
2670.             include=['weight'],
2671.         )
2672.         project_state = self.set_up_test_model(app_label, constraints=[covering_unique_constraint])
2673.         operation = migrations.RemoveConstraint('Pony', covering_unique_constraint.name)
2674.         self.assertEqual(
2675.             operation.describe(),
2676.             'Remove constraint covering_pink_constraint_rm from model Pony',
2677.         )
2678.         # Remove constraint.
2679.         new_state = project_state.clone()
2680.         operation.state_forwards(app_label, new_state)
2681.         self.assertEqual(len(new_state.models[app_label, 'pony'].options['constraints']), 0)
2682.         Pony = new_state.apps.get_model(app_label, 'Pony')
2683.         self.assertEqual(len(Pony._meta.constraints), 0)
2684.         with connection.schema_editor() as editor, CaptureQueriesContext(connection) as ctx:
2685.             operation.database_forwards(app_label, editor, project_state, new_state)
2686.         # Constraint doesn't work.
2687.         Pony.objects.create(pink=1, weight=4.0)
2688.         Pony.objects.create(pink=1, weight=4.0).delete()
2689.         if not connection.features.supports_covering_indexes:
2690.             self.assertEqual(len(ctx), 0)
2691.         # Reversal.
2692.         with connection.schema_editor() as editor:
2693.             operation.database_backwards(app_label, editor, new_state, project_state)
2694.         if connection.features.supports_covering_indexes:
2695.             with self.assertRaises(IntegrityError):
2696.                 Pony.objects.create(pink=1, weight=4.0)
2697.         else:
2698.             Pony.objects.create(pink=1, weight=4.0)
2699.         # Deconstruction.
2700.         definition = operation.deconstruct()
2701.         self.assertEqual(definition[0], 'RemoveConstraint')
2702.         self.assertEqual(definition[1], [])
2703.         self.assertEqual(definition[2], {
2704.             'model_name': 'Pony',
2705.             'name': 'covering_pink_constraint_rm',
2706.         })
2707. 
2708.     def test_alter_field_with_func_unique_constraint(self):
2709.         app_label = 'test_alfuncuc'
2710.         constraint_name = f'{app_label}_pony_uq'
2711.         table_name = f'{app_label}_pony'
2712.         project_state = self.set_up_test_model(
2713.             app_label,
2714.             constraints=[models.UniqueConstraint('pink', 'weight', name=constraint_name)]
2715.         )
2716.         operation = migrations.AlterField('Pony', 'pink', models.IntegerField(null=True))
2717.         new_state = project_state.clone()
2718.         operation.state_forwards(app_label, new_state)
2719.         with connection.schema_editor() as editor:
2720.             operation.database_forwards(app_label, editor, project_state, new_state)
2721.         if connection.features.supports_expression_indexes:
2722.             self.assertIndexNameExists(table_name, constraint_name)
2723.         with connection.schema_editor() as editor:
2724.             operation.database_backwards(app_label, editor, new_state, project_state)
2725.         if connection.features.supports_expression_indexes:
2726.             self.assertIndexNameExists(table_name, constraint_name)
2727. 
2728.     def test_add_func_unique_constraint(self):
2729.         app_label = 'test_adfuncuc'
2730.         constraint_name = f'{app_label}_pony_abs_uq'
2731.         table_name = f'{app_label}_pony'
2732.         project_state = self.set_up_test_model(app_label)
2733.         constraint = models.UniqueConstraint(Abs('weight'), name=constraint_name)
2734.         operation = migrations.AddConstraint('Pony', constraint)
2735.         self.assertEqual(
2736.             operation.describe(),
2737.             'Create constraint test_adfuncuc_pony_abs_uq on model Pony',
2738.         )
2739.         self.assertEqual(
2740.             operation.migration_name_fragment,
2741.             'pony_test_adfuncuc_pony_abs_uq',
2742.         )
2743.         new_state = project_state.clone()
2744.         operation.state_forwards(app_label, new_state)
2745.         self.assertEqual(len(new_state.models[app_label, 'pony'].options['constraints']), 1)
2746.         self.assertIndexNameNotExists(table_name, constraint_name)
2747.         # Add constraint.
2748.         with connection.schema_editor() as editor:
2749.             operation.database_forwards(app_label, editor, project_state, new_state)
2750.         Pony = new_state.apps.get_model(app_label, 'Pony')
2751.         Pony.objects.create(weight=4.0)
2752.         if connection.features.supports_expression_indexes:
2753.             self.assertIndexNameExists(table_name, constraint_name)
2754.             with self.assertRaises(IntegrityError):
2755.                 Pony.objects.create(weight=-4.0)
2756.         else:
2757.             self.assertIndexNameNotExists(table_name, constraint_name)
2758.             Pony.objects.create(weight=-4.0)
2759.         # Reversal.
2760.         with connection.schema_editor() as editor:
2761.             operation.database_backwards(app_label, editor, new_state, project_state)
2762.         self.assertIndexNameNotExists(table_name, constraint_name)
2763.         # Constraint doesn't work.
2764.         Pony.objects.create(weight=-4.0)
2765.         # Deconstruction.
2766.         definition = operation.deconstruct()
2767.         self.assertEqual(definition[0], 'AddConstraint')
2768.         self.assertEqual(definition[1], [])
2769.         self.assertEqual(
2770.             definition[2],
2771.             {'model_name': 'Pony', 'constraint': constraint},
2772.         )
2773. 
2774.     def test_remove_func_unique_constraint(self):
2775.         app_label = 'test_rmfuncuc'
2776.         constraint_name = f'{app_label}_pony_abs_uq'
2777.         table_name = f'{app_label}_pony'
2778.         project_state = self.set_up_test_model(app_label, constraints=[
2779.             models.UniqueConstraint(Abs('weight'), name=constraint_name),
2780.         ])
2781.         self.assertTableExists(table_name)
2782.         if connection.features.supports_expression_indexes:
2783.             self.assertIndexNameExists(table_name, constraint_name)
2784.         operation = migrations.RemoveConstraint('Pony', constraint_name)
2785.         self.assertEqual(
2786.             operation.describe(),
2787.             'Remove constraint test_rmfuncuc_pony_abs_uq from model Pony',
2788.         )
2789.         self.assertEqual(
2790.             operation.migration_name_fragment,
2791.             'remove_pony_test_rmfuncuc_pony_abs_uq',
2792.         )
2793.         new_state = project_state.clone()
2794.         operation.state_forwards(app_label, new_state)
2795.         self.assertEqual(len(new_state.models[app_label, 'pony'].options['constraints']), 0)
2796.         Pony = new_state.apps.get_model(app_label, 'Pony')
2797.         self.assertEqual(len(Pony._meta.constraints), 0)
2798.         # Remove constraint.
2799.         with connection.schema_editor() as editor:
2800.             operation.database_forwards(app_label, editor, project_state, new_state)
2801.         self.assertIndexNameNotExists(table_name, constraint_name)
2802.         # Constraint doesn't work.
2803.         Pony.objects.create(pink=1, weight=4.0)
2804.         Pony.objects.create(pink=1, weight=-4.0).delete()
2805.         # Reversal.
2806.         with connection.schema_editor() as editor:
2807.             operation.database_backwards(app_label, editor, new_state, project_state)
2808.         if connection.features.supports_expression_indexes:
2809.             self.assertIndexNameExists(table_name, constraint_name)
2810.             with self.assertRaises(IntegrityError):
2811.                 Pony.objects.create(weight=-4.0)
2812.         else:
2813.             self.assertIndexNameNotExists(table_name, constraint_name)
2814.             Pony.objects.create(weight=-4.0)
2815.         # Deconstruction.
2816.         definition = operation.deconstruct()
2817.         self.assertEqual(definition[0], 'RemoveConstraint')
2818.         self.assertEqual(definition[1], [])
2819.         self.assertEqual(definition[2], {'model_name': 'Pony', 'name': constraint_name})
2820. 
2821.     def test_alter_model_options(self):
2822.         """
2823.         Tests the AlterModelOptions operation.
2824.         """
2825.         project_state = self.set_up_test_model("test_almoop")
2826.         # Test the state alteration (no DB alteration to test)
2827.         operation = migrations.AlterModelOptions("Pony", {"permissions": [("can_groom", "Can groom")]})
2828.         self.assertEqual(operation.describe(), "Change Meta options on Pony")
2829.         self.assertEqual(operation.migration_name_fragment, 'alter_pony_options')
2830.         new_state = project_state.clone()
2831.         operation.state_forwards("test_almoop", new_state)
2832.         self.assertEqual(len(project_state.models["test_almoop", "pony"].options.get("permissions", [])), 0)
2833.         self.assertEqual(len(new_state.models["test_almoop", "pony"].options.get("permissions", [])), 1)
2834.         self.assertEqual(new_state.models["test_almoop", "pony"].options["permissions"][0][0], "can_groom")
2835.         # And deconstruction
2836.         definition = operation.deconstruct()
2837.         self.assertEqual(definition[0], "AlterModelOptions")
2838.         self.assertEqual(definition[1], [])
2839.         self.assertEqual(definition[2], {'name': "Pony", 'options': {"permissions": [("can_groom", "Can groom")]}})
2840. 
2841.     def test_alter_model_options_emptying(self):
2842.         """
2843.         The AlterModelOptions operation removes keys from the dict (#23121)
2844.         """
2845.         project_state = self.set_up_test_model("test_almoop", options=True)
2846.         # Test the state alteration (no DB alteration to test)
2847.         operation = migrations.AlterModelOptions("Pony", {})
2848.         self.assertEqual(operation.describe(), "Change Meta options on Pony")
2849.         new_state = project_state.clone()
2850.         operation.state_forwards("test_almoop", new_state)
2851.         self.assertEqual(len(project_state.models["test_almoop", "pony"].options.get("permissions", [])), 1)
2852.         self.assertEqual(len(new_state.models["test_almoop", "pony"].options.get("permissions", [])), 0)
2853.         # And deconstruction
2854.         definition = operation.deconstruct()
2855.         self.assertEqual(definition[0], "AlterModelOptions")
2856.         self.assertEqual(definition[1], [])
2857.         self.assertEqual(definition[2], {'name': "Pony", 'options': {}})
2858. 
2859.     def test_alter_order_with_respect_to(self):
2860.         """
2861.         Tests the AlterOrderWithRespectTo operation.
2862.         """
2863.         project_state = self.set_up_test_model("test_alorwrtto", related_model=True)
2864.         # Test the state alteration
2865.         operation = migrations.AlterOrderWithRespectTo("Rider", "pony")
2866.         self.assertEqual(operation.describe(), "Set order_with_respect_to on Rider to pony")
2867.         self.assertEqual(
2868.             operation.migration_name_fragment,
2869.             'alter_rider_order_with_respect_to',
2870.         )
2871.         new_state = project_state.clone()
2872.         operation.state_forwards("test_alorwrtto", new_state)
2873.         self.assertIsNone(
2874.             project_state.models["test_alorwrtto", "rider"].options.get("order_with_respect_to", None)
2875.         )
2876.         self.assertEqual(
2877.             new_state.models["test_alorwrtto", "rider"].options.get("order_with_respect_to", None),
2878.             "pony"
2879.         )
2880.         # Make sure there's no matching index
2881.         self.assertColumnNotExists("test_alorwrtto_rider", "_order")
2882.         # Create some rows before alteration
2883.         rendered_state = project_state.apps
2884.         pony = rendered_state.get_model("test_alorwrtto", "Pony").objects.create(weight=50)
2885.         rider1 = rendered_state.get_model("test_alorwrtto", "Rider").objects.create(pony=pony)
2886.         rider1.friend = rider1
2887.         rider1.save()
2888.         rider2 = rendered_state.get_model("test_alorwrtto", "Rider").objects.create(pony=pony)
2889.         rider2.friend = rider2
2890.         rider2.save()
2891.         # Test the database alteration
2892.         with connection.schema_editor() as editor:
2893.             operation.database_forwards("test_alorwrtto", editor, project_state, new_state)
2894.         self.assertColumnExists("test_alorwrtto_rider", "_order")
2895.         # Check for correct value in rows
2896.         updated_riders = new_state.apps.get_model("test_alorwrtto", "Rider").objects.all()
2897.         self.assertEqual(updated_riders[0]._order, 0)
2898.         self.assertEqual(updated_riders[1]._order, 0)
2899.         # And test reversal
2900.         with connection.schema_editor() as editor:
2901.             operation.database_backwards("test_alorwrtto", editor, new_state, project_state)
2902.         self.assertColumnNotExists("test_alorwrtto_rider", "_order")
2903.         # And deconstruction
2904.         definition = operation.deconstruct()
2905.         self.assertEqual(definition[0], "AlterOrderWithRespectTo")
2906.         self.assertEqual(definition[1], [])
2907.         self.assertEqual(definition[2], {'name': "Rider", 'order_with_respect_to': "pony"})
2908. 
2909.     def test_alter_model_managers(self):
2910.         """
2911.         The managers on a model are set.
2912.         """
2913.         project_state = self.set_up_test_model("test_almoma")
2914.         # Test the state alteration
2915.         operation = migrations.AlterModelManagers(
2916.             "Pony",
2917.             managers=[
2918.                 ("food_qs", FoodQuerySet.as_manager()),
2919.                 ("food_mgr", FoodManager("a", "b")),
2920.                 ("food_mgr_kwargs", FoodManager("x", "y", 3, 4)),
2921.             ]
2922.         )
2923.         self.assertEqual(operation.describe(), "Change managers on Pony")
2924.         self.assertEqual(operation.migration_name_fragment, 'alter_pony_managers')
2925.         managers = project_state.models["test_almoma", "pony"].managers
2926.         self.assertEqual(managers, [])
2927. 
2928.         new_state = project_state.clone()
2929.         operation.state_forwards("test_almoma", new_state)
2930.         self.assertIn(("test_almoma", "pony"), new_state.models)
2931.         managers = new_state.models["test_almoma", "pony"].managers
2932.         self.assertEqual(managers[0][0], "food_qs")
2933.         self.assertIsInstance(managers[0][1], models.Manager)
2934.         self.assertEqual(managers[1][0], "food_mgr")
2935.         self.assertIsInstance(managers[1][1], FoodManager)
2936.         self.assertEqual(managers[1][1].args, ("a", "b", 1, 2))
2937.         self.assertEqual(managers[2][0], "food_mgr_kwargs")
2938.         self.assertIsInstance(managers[2][1], FoodManager)
2939.         self.assertEqual(managers[2][1].args, ("x", "y", 3, 4))
2940.         rendered_state = new_state.apps
2941.         model = rendered_state.get_model('test_almoma', 'pony')
2942.         self.assertIsInstance(model.food_qs, models.Manager)
2943.         self.assertIsInstance(model.food_mgr, FoodManager)
2944.         self.assertIsInstance(model.food_mgr_kwargs, FoodManager)
2945. 
2946.     def test_alter_model_managers_emptying(self):
2947.         """
2948.         The managers on a model are set.
2949.         """
2950.         project_state = self.set_up_test_model("test_almomae", manager_model=True)
2951.         # Test the state alteration
2952.         operation = migrations.AlterModelManagers("Food", managers=[])
2953.         self.assertEqual(operation.describe(), "Change managers on Food")
2954.         self.assertIn(("test_almomae", "food"), project_state.models)
2955.         managers = project_state.models["test_almomae", "food"].managers
2956.         self.assertEqual(managers[0][0], "food_qs")
2957.         self.assertIsInstance(managers[0][1], models.Manager)
2958.         self.assertEqual(managers[1][0], "food_mgr")
2959.         self.assertIsInstance(managers[1][1], FoodManager)
2960.         self.assertEqual(managers[1][1].args, ("a", "b", 1, 2))
2961.         self.assertEqual(managers[2][0], "food_mgr_kwargs")
2962.         self.assertIsInstance(managers[2][1], FoodManager)
2963.         self.assertEqual(managers[2][1].args, ("x", "y", 3, 4))
2964. 
2965.         new_state = project_state.clone()
2966.         operation.state_forwards("test_almomae", new_state)
2967.         managers = new_state.models["test_almomae", "food"].managers
2968.         self.assertEqual(managers, [])
2969. 
2970.     def test_alter_fk(self):
2971.         """
2972.         Creating and then altering an FK works correctly
2973.         and deals with the pending SQL (#23091)
2974.         """
2975.         project_state = self.set_up_test_model("test_alfk")
2976.         # Test adding and then altering the FK in one go
2977.         create_operation = migrations.CreateModel(
2978.             name="Rider",
2979.             fields=[
2980.                 ("id", models.AutoField(primary_key=True)),
2981.                 ("pony", models.ForeignKey("Pony", models.CASCADE)),
2982.             ],
2983.         )
2984.         create_state = project_state.clone()
2985.         create_operation.state_forwards("test_alfk", create_state)
2986.         alter_operation = migrations.AlterField(
2987.             model_name='Rider',
2988.             name='pony',
2989.             field=models.ForeignKey("Pony", models.CASCADE, editable=False),
2990.         )
2991.         alter_state = create_state.clone()
2992.         alter_operation.state_forwards("test_alfk", alter_state)
2993.         with connection.schema_editor() as editor:
2994.             create_operation.database_forwards("test_alfk", editor, project_state, create_state)
2995.             alter_operation.database_forwards("test_alfk", editor, create_state, alter_state)
2996. 
2997.     def test_alter_fk_non_fk(self):
2998.         """
2999.         Altering an FK to a non-FK works (#23244)
3000.         """

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 19:21:42,006 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly requested the full content of the file 'tests/migrations/test_operations.py'.\n2. Extended relevance:\n   - The entire file is relevant as per the user's request. Providing the full content directly answers the query.", relative_path='tests/migrations/test_operations.py', start_line=1, end_line=3000)]
2025-12-23 19:21:42,011 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of tests/migrations/test_operations.py
2025-12-23 19:21:42,011 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 19:21:42,011 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 19:21:42,011 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 2 existing contexts
2025-12-23 19:21:42,012 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 3 total contexts (removed 0 duplicates)
2025-12-23 19:21:42,012 - thread-127432167241408.prometheus_context_collector.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-12-23 19:21:42,013 - thread-127432167241408.prometheus_context_collector - INFO - Successfully retrieved 3 context snippets
