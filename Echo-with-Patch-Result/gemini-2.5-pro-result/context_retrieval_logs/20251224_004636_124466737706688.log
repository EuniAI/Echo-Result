2025-12-24 00:46:36,340 - thread-124466737706688.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: Squashed migration is not marked as unapplied

Description: Description
	 
		(last modified by Markus Holtermann)
	 
When unapplying a squashed migration and the replaced migration files are still around, the MigrationExecutor mark the squash migration as unapplied, too, not only the replaced migrations.

Patch information:
diff --git a/django/db/migrations/executor.py b/django/db/migrations/executor.py
index 57042a8690..f8da716120 100644
--- a/django/db/migrations/executor.py
+++ b/django/db/migrations/executor.py
@@ -254,6 +254,8 @@ class MigrationExecutor:
         if migration.replaces:
             for app_label, name in migration.replaces:
                 self.recorder.record_unapplied(app_label, name)
+            # Also unapply the replacement migration itself to keep recorder consistent.
+            self.recorder.record_unapplied(migration.app_label, migration.name)
         else:
             self.recorder.record_unapplied(migration.app_label, migration.name)
         # Report progress
@@ -277,6 +279,8 @@ class MigrationExecutor:
             all_applied = all(m in applied for m in migration.replaces)
             if all_applied and key not in applied:
                 self.recorder.record_applied(*key)
+            elif not all_applied and key in applied:
+                self.recorder.record_unapplied(*key)
 
     def detect_soft_applied(self, project_state, migration):
         """


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-12-24 00:46:36,433 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   ├── special.py
|   |   |   |   └── utils.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── explicit_default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_empty_apps
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_mismatch_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── not_apps.py
    |   ├── explicit_default_config_without_apps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_middleware_mixin.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       └── custom_widget.html
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── absolute_root.js
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
    |   |   ├── included_content.html
    |   |   ├── inclusion.html
    |   |   ├── inclusion_base.html
    |   |   ├── inclusion_extends1.html
    |   |   ├── inclusion_extends2.html
    |   |   ├── index.html
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   ├── recursive_include.html
    |   |   ├── response.html
    |   |   ├── second
    |   |   |   └── test.html
    |   |   ├── ssi include with spaces.html
    |   |   ├── ssi_include.html
    |   |   ├── template_tests
    |   |   |   └── using.html
    |   |   ├── test_context.html
    |   |   ├── test_context_stack.html
    |   |   ├── test_extends_error.html
    |   |   ├── test_incl_tag_use_l10n.html
    |   |   └── test_include_error.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_autoreloader.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── base.html
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   |   ├── add_form.html
    |   |   ├── app_index.html
    |   |   ├── change_form.html
    |   |   ├── change_list.html
    |   |   ├── delete_confirmation.html
    |   |   ├── delete_selected_confirmation.html
    |   |   ├── index.html
    |   |   ├── login.html
    |   |   ├── logout.html
    |   |   ├── object_history.html
    |   |   ├── password_change_done.html
    |   |   ├── password_change_form.html
    |   |   └── popup_response.html
    |   ├── extended.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Squashed migration is not marked as unapplied

Description: Description
	 
		(last modified by Markus Holtermann)
	 
When unapplying a squashed migration and the replaced migration files are still around, the MigrationExecutor mark the squash migration as unapplied, too, not only the replaced migrations.

Patch information:
diff --git a/django/db/migrations/executor.py b/django/db/migrations/executor.py
index 57042a8690..f8da716120 100644
--- a/django/db/migrations/executor.py
+++ b/django/db/migrations/executor.py
@@ -254,6 +254,8 @@ class MigrationExecutor:
         if migration.replaces:
             for app_label, name in migration.replaces:
                 self.recorder.record_unapplied(app_label, name)
+            # Also unapply the replacement migration itself to keep recorder consistent.
+            self.recorder.record_unapplied(migration.app_label, migration.name)
         else:
             self.recorder.record_unapplied(migration.app_label, migration.name)
         # Report progress
@@ -277,6 +279,8 @@ class MigrationExecutor:
             all_applied = all(m in applied for m in migration.replaces)
             if all_applied and key not in applied:
                 self.recorder.record_applied(*key)
+            elif not all_applied and key in applied:
+                self.recorder.record_unapplied(*key)
 
     def detect_soft_applied(self, project_state, migration):
         """


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-24 00:46:56,104 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find test cases related to a bug in squashed migration handling. The bug fix is in `django/db/migrations/executor.py`. To find relevant tests, I need to examine the test files that cover migration execution and squashed migrations. The most promising files for this are `tests/migrations/test_executor.py` and `tests/migrations/test_commands.py` (which tests the `migrate` and `squashmigrations` commands). I will start by requesting these two files to get an overview of the testing patterns for this feature.' query='Please provide the full content of `tests/migrations/test_executor.py` and `tests/migrations/test_commands.py`.' extra_requirements='' purpose='I need to analyze these files to find test cases that involve applying and unapplying squashed migrations, which is directly related to the bug report.'
2025-12-24 00:46:56,105 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/migrations/test_executor.py` and `tests/migrations/test_commands.py`.
2025-12-24 00:46:56,105 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-24 00:46:56,106 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-24 00:46:56,106 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-24 00:46:56,106 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/migrations/test_executor.py` and `tests/migrations/test_commands.py`.
Purpose: I need to analyze these files to find test cases that involve applying and unapplying squashed migrations, which is directly related to the bug report.
2025-12-24 00:46:58,373 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have fetched the entire content of both `tests/migrations/test_executor.py` and `tests/migrations/test_commands.py` so you can analyze them for test cases related to squashed migrations. This will help you investigate the bug report you are working on.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/migrations/test_commands.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2122, 'candidates_token_count': 104, 'total_token_count': 2301, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2122}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 104}], 'thoughts_token_count': 75, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.0809646202967717, 'model_name': 'gemini-2.5-pro'} id='run--a0dd6802-ffec-4491-8cc8-feb7a42c20a5-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_executor.py'}, 'id': '076487f4-efd3-45ec-8af7-8efb859c964a', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_commands.py'}, 'id': '22e5d1f9-7de8-46e2-af81-2b7bd4f95f9f', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2122, 'output_tokens': 104, 'total_tokens': 2301, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 75}}
2025-12-24 00:47:05,326 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of `tests/migrations/test_executor.py` and `tests/migrations/test_commands.py` for your analysis. The initial examination revealed test cases like `test_run_with_squashed` and `test_showmigrations_list_squashed` that appear to be highly relevant to your investigation of squashed migrations. I have now fetched the complete files to ensure a comprehensive analysis.' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 501.0, "relative_path": "tests/migrations/test_commands.py", "end_line": 1000.0}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 18701, 'candidates_token_count': 148, 'total_token_count': 19306, 'cached_content_token_count': 1875, 'prompt_tokens_details': [{'modality': 1, 'token_count': 18701}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1875}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 148}], 'thoughts_token_count': 457}, 'finish_reason': 'STOP', 'avg_logprobs': -0.3497621690904772, 'model_name': 'gemini-2.5-pro'} id='run--1ac8fb14-319a-4d29-86fe-a28b8c3748d3-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 501.0, 'relative_path': 'tests/migrations/test_executor.py', 'end_line': 1000.0}, 'id': '93fafe70-1a09-46f1-a738-94c9d11f1cee', 'type': 'tool_call'}, {'name': 'read_code_with_relative_path', 'args': {'start_line': 501.0, 'relative_path': 'tests/migrations/test_commands.py', 'end_line': 1000.0}, 'id': 'babd7700-87dc-4d48-9326-54063bdbb2b8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 18701, 'output_tokens': 148, 'total_tokens': 19306, 'input_token_details': {'cache_read': 1875}, 'output_token_details': {'reasoning': 457}}
2025-12-24 00:47:14,035 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the complete contents of both `tests/migrations/test_executor.py` and `tests/migrations/test_commands.py`. My analysis of these files has identified several test cases that are highly relevant to your investigation of squashed migrations. These tests, such as `test_run_with_squashed` in the executor tests and `test_migrate_record_replaced` in the command tests, directly address the application and management of squashed migrations, which should provide you with the necessary context to address the bug report.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 33372, 'candidates_token_count': 113, 'total_token_count': 34254, 'cached_content_token_count': 17160, 'prompt_tokens_details': [{'modality': 1, 'token_count': 33372}], 'cache_tokens_details': [{'modality': 1, 'token_count': 17160}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 113}], 'thoughts_token_count': 769}, 'finish_reason': 'STOP', 'avg_logprobs': -0.4917346988104086, 'model_name': 'gemini-2.5-pro'} id='run--f0ff258f-b6c7-49ea-b3a4-5802ebb56f97-0' usage_metadata={'input_tokens': 33372, 'output_tokens': 113, 'total_tokens': 34254, 'input_token_details': {'cache_read': 17160}, 'output_token_details': {'reasoning': 769}}
2025-12-24 00:47:14,037 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/migrations/test_executor.py` and `tests/migrations/test_commands.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need to analyze these files to find test cases that involve applying and unapplying squashed migrations, which is directly related to the bug report.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/migrations/test_commands.py
Line number range: 1 - 500
Content:
1. import datetime
2. import importlib
3. import io
4. import os
5. import sys
6. from unittest import mock
7. 
8. from django.apps import apps
9. from django.core.management import CommandError, call_command
10. from django.db import (
11.     ConnectionHandler, DatabaseError, OperationalError, connection,
12.     connections, models,
13. )
14. from django.db.backends.base.schema import BaseDatabaseSchemaEditor
15. from django.db.backends.utils import truncate_name
16. from django.db.migrations.exceptions import InconsistentMigrationHistory
17. from django.db.migrations.recorder import MigrationRecorder
18. from django.test import TestCase, override_settings, skipUnlessDBFeature
19. 
20. from .models import UnicodeModel, UnserializableModel
21. from .routers import TestRouter
22. from .test_base import MigrationTestBase
23. 
24. 
25. class MigrateTests(MigrationTestBase):
26.     """
27.     Tests running the migrate command.
28.     """
29.     databases = {'default', 'other'}
30. 
31.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
32.     def test_migrate(self):
33.         """
34.         Tests basic usage of the migrate command.
35.         """
36.         # No tables are created
37.         self.assertTableNotExists("migrations_author")
38.         self.assertTableNotExists("migrations_tribble")
39.         self.assertTableNotExists("migrations_book")
40.         # Run the migrations to 0001 only
41.         stdout = io.StringIO()
42.         call_command('migrate', 'migrations', '0001', verbosity=2, stdout=stdout, no_color=True)
43.         stdout = stdout.getvalue()
44.         self.assertIn('Target specific migration: 0001_initial, from migrations', stdout)
45.         self.assertIn('Applying migrations.0001_initial... OK', stdout)
46.         self.assertIn('Running pre-migrate handlers for application migrations', stdout)
47.         self.assertIn('Running post-migrate handlers for application migrations', stdout)
48.         # The correct tables exist
49.         self.assertTableExists("migrations_author")
50.         self.assertTableExists("migrations_tribble")
51.         self.assertTableNotExists("migrations_book")
52.         # Run migrations all the way
53.         call_command("migrate", verbosity=0)
54.         # The correct tables exist
55.         self.assertTableExists("migrations_author")
56.         self.assertTableNotExists("migrations_tribble")
57.         self.assertTableExists("migrations_book")
58.         # Unmigrate everything
59.         stdout = io.StringIO()
60.         call_command('migrate', 'migrations', 'zero', verbosity=2, stdout=stdout, no_color=True)
61.         stdout = stdout.getvalue()
62.         self.assertIn('Unapply all migrations: migrations', stdout)
63.         self.assertIn('Unapplying migrations.0002_second... OK', stdout)
64.         self.assertIn('Running pre-migrate handlers for application migrations', stdout)
65.         self.assertIn('Running post-migrate handlers for application migrations', stdout)
66.         # Tables are gone
67.         self.assertTableNotExists("migrations_author")
68.         self.assertTableNotExists("migrations_tribble")
69.         self.assertTableNotExists("migrations_book")
70. 
71.     @override_settings(INSTALLED_APPS=[
72.         'django.contrib.auth',
73.         'django.contrib.contenttypes',
74.         'migrations.migrations_test_apps.migrated_app',
75.     ])
76.     def test_migrate_with_system_checks(self):
77.         out = io.StringIO()
78.         call_command('migrate', skip_checks=False, no_color=True, stdout=out)
79.         self.assertIn('Apply all migrations: migrated_app', out.getvalue())
80. 
81.     @override_settings(INSTALLED_APPS=['migrations', 'migrations.migrations_test_apps.unmigrated_app_syncdb'])
82.     def test_app_without_migrations(self):
83.         msg = "App 'unmigrated_app_syncdb' does not have migrations."
84.         with self.assertRaisesMessage(CommandError, msg):
85.             call_command('migrate', app_label='unmigrated_app_syncdb')
86. 
87.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_clashing_prefix'})
88.     def test_ambiguous_prefix(self):
89.         msg = (
90.             "More than one migration matches 'a' in app 'migrations'. Please "
91.             "be more specific."
92.         )
93.         with self.assertRaisesMessage(CommandError, msg):
94.             call_command('migrate', app_label='migrations', migration_name='a')
95. 
96.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
97.     def test_unknown_prefix(self):
98.         msg = "Cannot find a migration matching 'nonexistent' from app 'migrations'."
99.         with self.assertRaisesMessage(CommandError, msg):
100.             call_command('migrate', app_label='migrations', migration_name='nonexistent')
101. 
102.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_initial_false"})
103.     def test_migrate_initial_false(self):
104.         """
105.         `Migration.initial = False` skips fake-initial detection.
106.         """
107.         # Make sure no tables are created
108.         self.assertTableNotExists("migrations_author")
109.         self.assertTableNotExists("migrations_tribble")
110.         # Run the migrations to 0001 only
111.         call_command("migrate", "migrations", "0001", verbosity=0)
112.         # Fake rollback
113.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
114.         # Make sure fake-initial detection does not run
115.         with self.assertRaises(DatabaseError):
116.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0)
117. 
118.         call_command("migrate", "migrations", "0001", fake=True, verbosity=0)
119.         # Real rollback
120.         call_command("migrate", "migrations", "zero", verbosity=0)
121.         # Make sure it's all gone
122.         self.assertTableNotExists("migrations_author")
123.         self.assertTableNotExists("migrations_tribble")
124.         self.assertTableNotExists("migrations_book")
125. 
126.     @override_settings(
127.         MIGRATION_MODULES={"migrations": "migrations.test_migrations"},
128.         DATABASE_ROUTERS=['migrations.routers.TestRouter'],
129.     )
130.     def test_migrate_fake_initial(self):
131.         """
132.         --fake-initial only works if all tables created in the initial
133.         migration of an app exists. Database routers must be obeyed when doing
134.         that check.
135.         """
136.         # Make sure no tables are created
137.         for db in self.databases:
138.             self.assertTableNotExists("migrations_author", using=db)
139.             self.assertTableNotExists("migrations_tribble", using=db)
140.         # Run the migrations to 0001 only
141.         call_command("migrate", "migrations", "0001", verbosity=0)
142.         call_command("migrate", "migrations", "0001", verbosity=0, database="other")
143.         # Make sure the right tables exist
144.         self.assertTableExists("migrations_author")
145.         self.assertTableNotExists("migrations_tribble")
146.         # Also check the "other" database
147.         self.assertTableNotExists("migrations_author", using="other")
148.         self.assertTableExists("migrations_tribble", using="other")
149. 
150.         # Fake a roll-back
151.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
152.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0, database="other")
153.         # Make sure the tables still exist
154.         self.assertTableExists("migrations_author")
155.         self.assertTableExists("migrations_tribble", using="other")
156.         # Try to run initial migration
157.         with self.assertRaises(DatabaseError):
158.             call_command("migrate", "migrations", "0001", verbosity=0)
159.         # Run initial migration with an explicit --fake-initial
160.         out = io.StringIO()
161.         with mock.patch('django.core.management.color.supports_color', lambda *args: False):
162.             call_command("migrate", "migrations", "0001", fake_initial=True, stdout=out, verbosity=1)
163.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0, database="other")
164.         self.assertIn(
165.             "migrations.0001_initial... faked",
166.             out.getvalue().lower()
167.         )
168.         try:
169.             # Run migrations all the way.
170.             call_command('migrate', verbosity=0)
171.             call_command('migrate', verbosity=0, database="other")
172.             self.assertTableExists('migrations_author')
173.             self.assertTableNotExists('migrations_tribble')
174.             self.assertTableExists('migrations_book')
175.             self.assertTableNotExists('migrations_author', using='other')
176.             self.assertTableNotExists('migrations_tribble', using='other')
177.             self.assertTableNotExists('migrations_book', using='other')
178.             # Fake a roll-back.
179.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
180.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0, database='other')
181.             self.assertTableExists('migrations_author')
182.             self.assertTableNotExists('migrations_tribble')
183.             self.assertTableExists('migrations_book')
184.             # Run initial migration.
185.             with self.assertRaises(DatabaseError):
186.                 call_command('migrate', 'migrations', verbosity=0)
187.             # Run initial migration with an explicit --fake-initial.
188.             with self.assertRaises(DatabaseError):
189.                 # Fails because "migrations_tribble" does not exist but needs
190.                 # to in order to make --fake-initial work.
191.                 call_command('migrate', 'migrations', fake_initial=True, verbosity=0)
192.             # Fake an apply.
193.             call_command('migrate', 'migrations', fake=True, verbosity=0)
194.             call_command('migrate', 'migrations', fake=True, verbosity=0, database='other')
195.         finally:
196.             # Unmigrate everything.
197.             call_command('migrate', 'migrations', 'zero', verbosity=0)
198.             call_command('migrate', 'migrations', 'zero', verbosity=0, database='other')
199.         # Make sure it's all gone
200.         for db in self.databases:
201.             self.assertTableNotExists("migrations_author", using=db)
202.             self.assertTableNotExists("migrations_tribble", using=db)
203.             self.assertTableNotExists("migrations_book", using=db)
204. 
205.     @skipUnlessDBFeature('ignores_table_name_case')
206.     def test_migrate_fake_initial_case_insensitive(self):
207.         with override_settings(MIGRATION_MODULES={
208.             'migrations': 'migrations.test_fake_initial_case_insensitive.initial',
209.         }):
210.             call_command('migrate', 'migrations', '0001', verbosity=0)
211.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
212. 
213.         with override_settings(MIGRATION_MODULES={
214.             'migrations': 'migrations.test_fake_initial_case_insensitive.fake_initial',
215.         }):
216.             out = io.StringIO()
217.             call_command(
218.                 'migrate',
219.                 'migrations',
220.                 '0001',
221.                 fake_initial=True,
222.                 stdout=out,
223.                 verbosity=1,
224.                 no_color=True,
225.             )
226.             self.assertIn(
227.                 'migrations.0001_initial... faked',
228.                 out.getvalue().lower(),
229.             )
230. 
231.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_fake_split_initial"})
232.     def test_migrate_fake_split_initial(self):
233.         """
234.         Split initial migrations can be faked with --fake-initial.
235.         """
236.         try:
237.             call_command('migrate', 'migrations', '0002', verbosity=0)
238.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
239.             out = io.StringIO()
240.             with mock.patch('django.core.management.color.supports_color', lambda *args: False):
241.                 call_command('migrate', 'migrations', '0002', fake_initial=True, stdout=out, verbosity=1)
242.             value = out.getvalue().lower()
243.             self.assertIn('migrations.0001_initial... faked', value)
244.             self.assertIn('migrations.0002_second... faked', value)
245.         finally:
246.             # Fake an apply.
247.             call_command('migrate', 'migrations', fake=True, verbosity=0)
248.             # Unmigrate everything.
249.             call_command('migrate', 'migrations', 'zero', verbosity=0)
250. 
251.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_conflict"})
252.     def test_migrate_conflict_exit(self):
253.         """
254.         migrate exits if it detects a conflict.
255.         """
256.         msg = (
257.             "Conflicting migrations detected; multiple leaf nodes in the "
258.             "migration graph: (0002_conflicting_second, 0002_second in "
259.             "migrations).\n"
260.             "To fix them run 'python manage.py makemigrations --merge'"
261.         )
262.         with self.assertRaisesMessage(CommandError, msg):
263.             call_command("migrate", "migrations")
264. 
265.     @override_settings(MIGRATION_MODULES={
266.         'migrations': 'migrations.test_migrations',
267.     })
268.     def test_migrate_check(self):
269.         with self.assertRaises(SystemExit):
270.             call_command('migrate', 'migrations', '0001', check_unapplied=True)
271.         self.assertTableNotExists('migrations_author')
272.         self.assertTableNotExists('migrations_tribble')
273.         self.assertTableNotExists('migrations_book')
274. 
275.     @override_settings(MIGRATION_MODULES={
276.         'migrations': 'migrations.test_migrations_plan',
277.     })
278.     def test_migrate_check_plan(self):
279.         out = io.StringIO()
280.         with self.assertRaises(SystemExit):
281.             call_command(
282.                 'migrate',
283.                 'migrations',
284.                 '0001',
285.                 check_unapplied=True,
286.                 plan=True,
287.                 stdout=out,
288.                 no_color=True,
289.             )
290.         self.assertEqual(
291.             'Planned operations:\n'
292.             'migrations.0001_initial\n'
293.             '    Create model Salamander\n'
294.             '    Raw Python operation -> Grow salamander tail.\n',
295.             out.getvalue(),
296.         )
297. 
298.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
299.     def test_showmigrations_list(self):
300.         """
301.         showmigrations --list  displays migrations and whether or not they're
302.         applied.
303.         """
304.         out = io.StringIO()
305.         with mock.patch('django.core.management.color.supports_color', lambda *args: True):
306.             call_command("showmigrations", format='list', stdout=out, verbosity=0, no_color=False)
307.         self.assertEqual(
308.             '\x1b[1mmigrations\n\x1b[0m'
309.             ' [ ] 0001_initial\n'
310.             ' [ ] 0002_second\n',
311.             out.getvalue().lower()
312.         )
313. 
314.         call_command("migrate", "migrations", "0001", verbosity=0)
315. 
316.         out = io.StringIO()
317.         # Giving the explicit app_label tests for selective `show_list` in the command
318.         call_command("showmigrations", "migrations", format='list', stdout=out, verbosity=0, no_color=True)
319.         self.assertEqual(
320.             'migrations\n'
321.             ' [x] 0001_initial\n'
322.             ' [ ] 0002_second\n',
323.             out.getvalue().lower()
324.         )
325.         out = io.StringIO()
326.         # Applied datetimes are displayed at verbosity 2+.
327.         call_command('showmigrations', 'migrations', stdout=out, verbosity=2, no_color=True)
328.         migration1 = MigrationRecorder(connection).migration_qs.get(app='migrations', name='0001_initial')
329.         self.assertEqual(
330.             'migrations\n'
331.             ' [x] 0001_initial (applied at %s)\n'
332.             ' [ ] 0002_second\n' % migration1.applied.strftime('%Y-%m-%d %H:%M:%S'),
333.             out.getvalue().lower()
334.         )
335.         # Cleanup by unmigrating everything
336.         call_command("migrate", "migrations", "zero", verbosity=0)
337. 
338.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
339.     def test_showmigrations_list_squashed(self):
340.         out = io.StringIO()
341.         call_command('showmigrations', format='list', stdout=out, verbosity=2, no_color=True)
342.         self.assertEqual(
343.             'migrations\n'
344.             ' [ ] 0001_squashed_0002 (2 squashed migrations)\n',
345.             out.getvalue().lower(),
346.         )
347.         out = io.StringIO()
348.         call_command(
349.             'migrate',
350.             'migrations',
351.             '0001_squashed_0002',
352.             stdout=out,
353.             verbosity=2,
354.             no_color=True,
355.         )
356.         try:
357.             self.assertIn(
358.                 'operations to perform:\n'
359.                 '  target specific migration: 0001_squashed_0002, from migrations\n'
360.                 'running pre-migrate handlers for application migrations\n'
361.                 'running migrations:\n'
362.                 '  applying migrations.0001_squashed_0002... ok (',
363.                 out.getvalue().lower(),
364.             )
365.             out = io.StringIO()
366.             call_command('showmigrations', format='list', stdout=out, verbosity=2, no_color=True)
367.             self.assertEqual(
368.                 'migrations\n'
369.                 ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
370.                 out.getvalue().lower(),
371.             )
372.         finally:
373.             # Unmigrate everything.
374.             call_command('migrate', 'migrations', 'zero', verbosity=0)
375. 
376.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_run_before"})
377.     def test_showmigrations_plan(self):
378.         """
379.         Tests --plan output of showmigrations command
380.         """
381.         out = io.StringIO()
382.         call_command("showmigrations", format='plan', stdout=out)
383.         self.assertEqual(
384.             "[ ]  migrations.0001_initial\n"
385.             "[ ]  migrations.0003_third\n"
386.             "[ ]  migrations.0002_second\n",
387.             out.getvalue().lower()
388.         )
389. 
390.         out = io.StringIO()
391.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
392.         self.assertEqual(
393.             "[ ]  migrations.0001_initial\n"
394.             "[ ]  migrations.0003_third ... (migrations.0001_initial)\n"
395.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
396.             out.getvalue().lower()
397.         )
398.         call_command("migrate", "migrations", "0003", verbosity=0)
399. 
400.         out = io.StringIO()
401.         call_command("showmigrations", format='plan', stdout=out)
402.         self.assertEqual(
403.             "[x]  migrations.0001_initial\n"
404.             "[x]  migrations.0003_third\n"
405.             "[ ]  migrations.0002_second\n",
406.             out.getvalue().lower()
407.         )
408. 
409.         out = io.StringIO()
410.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
411.         self.assertEqual(
412.             "[x]  migrations.0001_initial\n"
413.             "[x]  migrations.0003_third ... (migrations.0001_initial)\n"
414.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
415.             out.getvalue().lower()
416.         )
417. 
418.         # Cleanup by unmigrating everything
419.         call_command("migrate", "migrations", "zero", verbosity=0)
420. 
421.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_plan'})
422.     def test_migrate_plan(self):
423.         """Tests migrate --plan output."""
424.         out = io.StringIO()
425.         # Show the plan up to the third migration.
426.         call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
427.         self.assertEqual(
428.             'Planned operations:\n'
429.             'migrations.0001_initial\n'
430.             '    Create model Salamander\n'
431.             '    Raw Python operation -> Grow salamander tail.\n'
432.             'migrations.0002_second\n'
433.             '    Create model Book\n'
434.             "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
435.             'migrations.0003_third\n'
436.             '    Create model Author\n'
437.             "    Raw SQL operation -> ['SELECT * FROM migrations_author']\n",
438.             out.getvalue()
439.         )
440.         try:
441.             # Migrate to the third migration.
442.             call_command('migrate', 'migrations', '0003', verbosity=0)
443.             out = io.StringIO()
444.             # Show the plan for when there is nothing to apply.
445.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
446.             self.assertEqual(
447.                 'Planned operations:\n'
448.                 '  No planned migration operations.\n',
449.                 out.getvalue()
450.             )
451.             out = io.StringIO()
452.             # Show the plan for reverse migration back to 0001.
453.             call_command('migrate', 'migrations', '0001', plan=True, stdout=out, no_color=True)
454.             self.assertEqual(
455.                 'Planned operations:\n'
456.                 'migrations.0003_third\n'
457.                 '    Undo Create model Author\n'
458.                 "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
459.                 'migrations.0002_second\n'
460.                 '    Undo Create model Book\n'
461.                 "    Raw SQL operation -> ['SELECT * FROM migrations_salamand…\n",
462.                 out.getvalue()
463.             )
464.             out = io.StringIO()
465.             # Show the migration plan to fourth, with truncated details.
466.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)
467.             self.assertEqual(
468.                 'Planned operations:\n'
469.                 'migrations.0004_fourth\n'
470.                 '    Raw SQL operation -> SELECT * FROM migrations_author WHE…\n',
471.                 out.getvalue()
472.             )
473.             # Show the plan when an operation is irreversible.
474.             # Migrate to the fourth migration.
475.             call_command('migrate', 'migrations', '0004', verbosity=0)
476.             out = io.StringIO()
477.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
478.             self.assertEqual(
479.                 'Planned operations:\n'
480.                 'migrations.0004_fourth\n'
481.                 '    Raw SQL operation -> IRREVERSIBLE\n',
482.                 out.getvalue()
483.             )
484.             out = io.StringIO()
485.             call_command('migrate', 'migrations', '0005', plan=True, stdout=out, no_color=True)
486.             # Operation is marked as irreversible only in the revert plan.
487.             self.assertEqual(
488.                 'Planned operations:\n'
489.                 'migrations.0005_fifth\n'
490.                 '    Raw Python operation\n'
491.                 '    Raw Python operation\n'
492.                 '    Raw Python operation -> Feed salamander.\n',
493.                 out.getvalue()
494.             )
495.             call_command('migrate', 'migrations', '0005', verbosity=0)
496.             out = io.StringIO()
497.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)
498.             self.assertEqual(
499.                 'Planned operations:\n'
500.                 'migrations.0005_fifth\n'


File: tests/migrations/test_commands.py
Line number range: 501 - 1000
Content:
501.                 '    Raw Python operation -> IRREVERSIBLE\n'
502.                 '    Raw Python operation -> IRREVERSIBLE\n'
503.                 '    Raw Python operation\n',
504.                 out.getvalue()
505.             )
506.         finally:
507.             # Cleanup by unmigrating everything: fake the irreversible, then
508.             # migrate all to zero.
509.             call_command('migrate', 'migrations', '0003', fake=True, verbosity=0)
510.             call_command('migrate', 'migrations', 'zero', verbosity=0)
511. 
512.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_empty'})
513.     def test_showmigrations_no_migrations(self):
514.         out = io.StringIO()
515.         call_command('showmigrations', stdout=out, no_color=True)
516.         self.assertEqual('migrations\n (no migrations)\n', out.getvalue().lower())
517. 
518.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app'])
519.     def test_showmigrations_unmigrated_app(self):
520.         out = io.StringIO()
521.         call_command('showmigrations', 'unmigrated_app', stdout=out, no_color=True)
522.         try:
523.             self.assertEqual('unmigrated_app\n (no migrations)\n', out.getvalue().lower())
524.         finally:
525.             # unmigrated_app.SillyModel has a foreign key to
526.             # 'migrations.Tribble', but that model is only defined in a
527.             # migration, so the global app registry never sees it and the
528.             # reference is left dangling. Remove it to avoid problems in
529.             # subsequent tests.
530.             apps._pending_operations.pop(('migrations', 'tribble'), None)
531. 
532.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_empty"})
533.     def test_showmigrations_plan_no_migrations(self):
534.         """
535.         Tests --plan output of showmigrations command without migrations
536.         """
537.         out = io.StringIO()
538.         call_command('showmigrations', format='plan', stdout=out, no_color=True)
539.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
540. 
541.         out = io.StringIO()
542.         call_command('showmigrations', format='plan', stdout=out, verbosity=2, no_color=True)
543.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
544. 
545.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed_complex"})
546.     def test_showmigrations_plan_squashed(self):
547.         """
548.         Tests --plan output of showmigrations command with squashed migrations.
549.         """
550.         out = io.StringIO()
551.         call_command("showmigrations", format='plan', stdout=out)
552.         self.assertEqual(
553.             "[ ]  migrations.1_auto\n"
554.             "[ ]  migrations.2_auto\n"
555.             "[ ]  migrations.3_squashed_5\n"
556.             "[ ]  migrations.6_auto\n"
557.             "[ ]  migrations.7_auto\n",
558.             out.getvalue().lower()
559.         )
560. 
561.         out = io.StringIO()
562.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
563.         self.assertEqual(
564.             "[ ]  migrations.1_auto\n"
565.             "[ ]  migrations.2_auto ... (migrations.1_auto)\n"
566.             "[ ]  migrations.3_squashed_5 ... (migrations.2_auto)\n"
567.             "[ ]  migrations.6_auto ... (migrations.3_squashed_5)\n"
568.             "[ ]  migrations.7_auto ... (migrations.6_auto)\n",
569.             out.getvalue().lower()
570.         )
571. 
572.         call_command("migrate", "migrations", "3_squashed_5", verbosity=0)
573. 
574.         out = io.StringIO()
575.         call_command("showmigrations", format='plan', stdout=out)
576.         self.assertEqual(
577.             "[x]  migrations.1_auto\n"
578.             "[x]  migrations.2_auto\n"
579.             "[x]  migrations.3_squashed_5\n"
580.             "[ ]  migrations.6_auto\n"
581.             "[ ]  migrations.7_auto\n",
582.             out.getvalue().lower()
583.         )
584. 
585.         out = io.StringIO()
586.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
587.         self.assertEqual(
588.             "[x]  migrations.1_auto\n"
589.             "[x]  migrations.2_auto ... (migrations.1_auto)\n"
590.             "[x]  migrations.3_squashed_5 ... (migrations.2_auto)\n"
591.             "[ ]  migrations.6_auto ... (migrations.3_squashed_5)\n"
592.             "[ ]  migrations.7_auto ... (migrations.6_auto)\n",
593.             out.getvalue().lower()
594.         )
595. 
596.     @override_settings(INSTALLED_APPS=[
597.         'migrations.migrations_test_apps.mutate_state_b',
598.         'migrations.migrations_test_apps.alter_fk.author_app',
599.         'migrations.migrations_test_apps.alter_fk.book_app',
600.     ])
601.     def test_showmigrations_plan_single_app_label(self):
602.         """
603.         `showmigrations --plan app_label` output with a single app_label.
604.         """
605.         # Single app with no dependencies on other apps.
606.         out = io.StringIO()
607.         call_command('showmigrations', 'mutate_state_b', format='plan', stdout=out)
608.         self.assertEqual(
609.             '[ ]  mutate_state_b.0001_initial\n'
610.             '[ ]  mutate_state_b.0002_add_field\n',
611.             out.getvalue()
612.         )
613.         # Single app with dependencies.
614.         out = io.StringIO()
615.         call_command('showmigrations', 'author_app', format='plan', stdout=out)
616.         self.assertEqual(
617.             '[ ]  author_app.0001_initial\n'
618.             '[ ]  book_app.0001_initial\n'
619.             '[ ]  author_app.0002_alter_id\n',
620.             out.getvalue()
621.         )
622.         # Some migrations already applied.
623.         call_command('migrate', 'author_app', '0001', verbosity=0)
624.         out = io.StringIO()
625.         call_command('showmigrations', 'author_app', format='plan', stdout=out)
626.         self.assertEqual(
627.             '[X]  author_app.0001_initial\n'
628.             '[ ]  book_app.0001_initial\n'
629.             '[ ]  author_app.0002_alter_id\n',
630.             out.getvalue()
631.         )
632.         # Cleanup by unmigrating author_app.
633.         call_command('migrate', 'author_app', 'zero', verbosity=0)
634. 
635.     @override_settings(INSTALLED_APPS=[
636.         'migrations.migrations_test_apps.mutate_state_b',
637.         'migrations.migrations_test_apps.alter_fk.author_app',
638.         'migrations.migrations_test_apps.alter_fk.book_app',
639.     ])
640.     def test_showmigrations_plan_multiple_app_labels(self):
641.         """
642.         `showmigrations --plan app_label` output with multiple app_labels.
643.         """
644.         # Multiple apps: author_app depends on book_app; mutate_state_b doesn't
645.         # depend on other apps.
646.         out = io.StringIO()
647.         call_command('showmigrations', 'mutate_state_b', 'author_app', format='plan', stdout=out)
648.         self.assertEqual(
649.             '[ ]  author_app.0001_initial\n'
650.             '[ ]  book_app.0001_initial\n'
651.             '[ ]  author_app.0002_alter_id\n'
652.             '[ ]  mutate_state_b.0001_initial\n'
653.             '[ ]  mutate_state_b.0002_add_field\n',
654.             out.getvalue()
655.         )
656.         # Multiple apps: args order shouldn't matter (the same result is
657.         # expected as above).
658.         out = io.StringIO()
659.         call_command('showmigrations', 'author_app', 'mutate_state_b', format='plan', stdout=out)
660.         self.assertEqual(
661.             '[ ]  author_app.0001_initial\n'
662.             '[ ]  book_app.0001_initial\n'
663.             '[ ]  author_app.0002_alter_id\n'
664.             '[ ]  mutate_state_b.0001_initial\n'
665.             '[ ]  mutate_state_b.0002_add_field\n',
666.             out.getvalue()
667.         )
668. 
669.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app'])
670.     def test_showmigrations_plan_app_label_no_migrations(self):
671.         out = io.StringIO()
672.         call_command('showmigrations', 'unmigrated_app', format='plan', stdout=out, no_color=True)
673.         try:
674.             self.assertEqual('(no migrations)\n', out.getvalue())
675.         finally:
676.             # unmigrated_app.SillyModel has a foreign key to
677.             # 'migrations.Tribble', but that model is only defined in a
678.             # migration, so the global app registry never sees it and the
679.             # reference is left dangling. Remove it to avoid problems in
680.             # subsequent tests.
681.             apps._pending_operations.pop(('migrations', 'tribble'), None)
682. 
683.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
684.     def test_sqlmigrate_forwards(self):
685.         """
686.         sqlmigrate outputs forward looking SQL.
687.         """
688.         out = io.StringIO()
689.         call_command("sqlmigrate", "migrations", "0001", stdout=out)
690.         output = out.getvalue().lower()
691. 
692.         index_tx_start = output.find(connection.ops.start_transaction_sql().lower())
693.         index_op_desc_author = output.find('-- create model author')
694.         index_create_table = output.find('create table')
695.         index_op_desc_tribble = output.find('-- create model tribble')
696.         index_op_desc_unique_together = output.find('-- alter unique_together')
697.         index_tx_end = output.find(connection.ops.end_transaction_sql().lower())
698. 
699.         if connection.features.can_rollback_ddl:
700.             self.assertGreater(index_tx_start, -1, "Transaction start not found")
701.             self.assertGreater(
702.                 index_tx_end, index_op_desc_unique_together,
703.                 "Transaction end not found or found before operation description (unique_together)"
704.             )
705. 
706.         self.assertGreater(
707.             index_op_desc_author, index_tx_start,
708.             "Operation description (author) not found or found before transaction start"
709.         )
710.         self.assertGreater(
711.             index_create_table, index_op_desc_author,
712.             "CREATE TABLE not found or found before operation description (author)"
713.         )
714.         self.assertGreater(
715.             index_op_desc_tribble, index_create_table,
716.             "Operation description (tribble) not found or found before CREATE TABLE (author)"
717.         )
718.         self.assertGreater(
719.             index_op_desc_unique_together, index_op_desc_tribble,
720.             "Operation description (unique_together) not found or found before operation description (tribble)"
721.         )
722. 
723.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
724.     def test_sqlmigrate_backwards(self):
725.         """
726.         sqlmigrate outputs reverse looking SQL.
727.         """
728.         # Cannot generate the reverse SQL unless we've applied the migration.
729.         call_command("migrate", "migrations", verbosity=0)
730. 
731.         out = io.StringIO()
732.         call_command("sqlmigrate", "migrations", "0001", stdout=out, backwards=True)
733.         output = out.getvalue().lower()
734. 
735.         index_tx_start = output.find(connection.ops.start_transaction_sql().lower())
736.         index_op_desc_unique_together = output.find('-- alter unique_together')
737.         index_op_desc_tribble = output.find('-- create model tribble')
738.         index_op_desc_author = output.find('-- create model author')
739.         index_drop_table = output.rfind('drop table')
740.         index_tx_end = output.find(connection.ops.end_transaction_sql().lower())
741. 
742.         if connection.features.can_rollback_ddl:
743.             self.assertGreater(index_tx_start, -1, "Transaction start not found")
744.             self.assertGreater(
745.                 index_tx_end, index_op_desc_unique_together,
746.                 "Transaction end not found or found before DROP TABLE"
747.             )
748.         self.assertGreater(
749.             index_op_desc_unique_together, index_tx_start,
750.             "Operation description (unique_together) not found or found before transaction start"
751.         )
752.         self.assertGreater(
753.             index_op_desc_tribble, index_op_desc_unique_together,
754.             "Operation description (tribble) not found or found before operation description (unique_together)"
755.         )
756.         self.assertGreater(
757.             index_op_desc_author, index_op_desc_tribble,
758.             "Operation description (author) not found or found before operation description (tribble)"
759.         )
760. 
761.         self.assertGreater(
762.             index_drop_table, index_op_desc_author,
763.             "DROP TABLE not found or found before operation description (author)"
764.         )
765. 
766.         # Cleanup by unmigrating everything
767.         call_command("migrate", "migrations", "zero", verbosity=0)
768. 
769.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_non_atomic"})
770.     def test_sqlmigrate_for_non_atomic_migration(self):
771.         """
772.         Transaction wrappers aren't shown for non-atomic migrations.
773.         """
774.         out = io.StringIO()
775.         call_command("sqlmigrate", "migrations", "0001", stdout=out)
776.         output = out.getvalue().lower()
777.         queries = [q.strip() for q in output.splitlines()]
778.         if connection.ops.start_transaction_sql():
779.             self.assertNotIn(connection.ops.start_transaction_sql().lower(), queries)
780.         self.assertNotIn(connection.ops.end_transaction_sql().lower(), queries)
781. 
782.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
783.     def test_sqlmigrate_for_non_transactional_databases(self):
784.         """
785.         Transaction wrappers aren't shown for databases that don't support
786.         transactional DDL.
787.         """
788.         out = io.StringIO()
789.         with mock.patch.object(connection.features, 'can_rollback_ddl', False):
790.             call_command('sqlmigrate', 'migrations', '0001', stdout=out)
791.         output = out.getvalue().lower()
792.         queries = [q.strip() for q in output.splitlines()]
793.         start_transaction_sql = connection.ops.start_transaction_sql()
794.         if start_transaction_sql:
795.             self.assertNotIn(start_transaction_sql.lower(), queries)
796.         self.assertNotIn(connection.ops.end_transaction_sql().lower(), queries)
797. 
798.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
799.     def test_sqlmigrate_ambiguous_prefix_squashed_migrations(self):
800.         msg = (
801.             "More than one migration matches '0001' in app 'migrations'. "
802.             "Please be more specific."
803.         )
804.         with self.assertRaisesMessage(CommandError, msg):
805.             call_command('sqlmigrate', 'migrations', '0001')
806. 
807.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
808.     def test_sqlmigrate_squashed_migration(self):
809.         out = io.StringIO()
810.         call_command('sqlmigrate', 'migrations', '0001_squashed_0002', stdout=out)
811.         output = out.getvalue().lower()
812.         self.assertIn('-- create model author', output)
813.         self.assertIn('-- create model book', output)
814.         self.assertNotIn('-- create model tribble', output)
815. 
816.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
817.     def test_sqlmigrate_replaced_migration(self):
818.         out = io.StringIO()
819.         call_command('sqlmigrate', 'migrations', '0001_initial', stdout=out)
820.         output = out.getvalue().lower()
821.         self.assertIn('-- create model author', output)
822.         self.assertIn('-- create model tribble', output)
823. 
824.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_no_operations'})
825.     def test_migrations_no_operations(self):
826.         err = io.StringIO()
827.         call_command('sqlmigrate', 'migrations', '0001_initial', stderr=err)
828.         self.assertEqual(err.getvalue(), 'No operations found.\n')
829. 
830.     @override_settings(
831.         INSTALLED_APPS=[
832.             "migrations.migrations_test_apps.migrated_app",
833.             "migrations.migrations_test_apps.migrated_unapplied_app",
834.             "migrations.migrations_test_apps.unmigrated_app",
835.         ],
836.     )
837.     def test_regression_22823_unmigrated_fk_to_migrated_model(self):
838.         """
839.         Assuming you have 3 apps, `A`, `B`, and `C`, such that:
840. 
841.         * `A` has migrations
842.         * `B` has a migration we want to apply
843.         * `C` has no migrations, but has an FK to `A`
844. 
845.         When we try to migrate "B", an exception occurs because the
846.         "B" was not included in the ProjectState that is used to detect
847.         soft-applied migrations (#22823).
848.         """
849.         call_command('migrate', 'migrated_unapplied_app', verbosity=0)
850. 
851.         # unmigrated_app.SillyModel has a foreign key to 'migrations.Tribble',
852.         # but that model is only defined in a migration, so the global app
853.         # registry never sees it and the reference is left dangling. Remove it
854.         # to avoid problems in subsequent tests.
855.         apps._pending_operations.pop(('migrations', 'tribble'), None)
856. 
857.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app_syncdb'])
858.     def test_migrate_syncdb_deferred_sql_executed_with_schemaeditor(self):
859.         """
860.         For an app without migrations, editor.execute() is used for executing
861.         the syncdb deferred SQL.
862.         """
863.         stdout = io.StringIO()
864.         with mock.patch.object(BaseDatabaseSchemaEditor, 'execute') as execute:
865.             call_command('migrate', run_syncdb=True, verbosity=1, stdout=stdout, no_color=True)
866.             create_table_count = len([call for call in execute.mock_calls if 'CREATE TABLE' in str(call)])
867.             self.assertEqual(create_table_count, 2)
868.             # There's at least one deferred SQL for creating the foreign key
869.             # index.
870.             self.assertGreater(len(execute.mock_calls), 2)
871.         stdout = stdout.getvalue()
872.         self.assertIn('Synchronize unmigrated apps: unmigrated_app_syncdb', stdout)
873.         self.assertIn('Creating tables...', stdout)
874.         table_name = truncate_name('unmigrated_app_syncdb_classroom', connection.ops.max_name_length())
875.         self.assertIn('Creating table %s' % table_name, stdout)
876. 
877.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
878.     def test_migrate_syncdb_app_with_migrations(self):
879.         msg = "Can't use run_syncdb with app 'migrations' as it has migrations."
880.         with self.assertRaisesMessage(CommandError, msg):
881.             call_command('migrate', 'migrations', run_syncdb=True, verbosity=0)
882. 
883.     @override_settings(INSTALLED_APPS=[
884.         'migrations.migrations_test_apps.unmigrated_app_syncdb',
885.         'migrations.migrations_test_apps.unmigrated_app_simple',
886.     ])
887.     def test_migrate_syncdb_app_label(self):
888.         """
889.         Running migrate --run-syncdb with an app_label only creates tables for
890.         the specified app.
891.         """
892.         stdout = io.StringIO()
893.         with mock.patch.object(BaseDatabaseSchemaEditor, 'execute') as execute:
894.             call_command('migrate', 'unmigrated_app_syncdb', run_syncdb=True, stdout=stdout)
895.             create_table_count = len([call for call in execute.mock_calls if 'CREATE TABLE' in str(call)])
896.             self.assertEqual(create_table_count, 2)
897.             self.assertGreater(len(execute.mock_calls), 2)
898.             self.assertIn('Synchronize unmigrated app: unmigrated_app_syncdb', stdout.getvalue())
899. 
900.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
901.     def test_migrate_record_replaced(self):
902.         """
903.         Running a single squashed migration should record all of the original
904.         replaced migrations as run.
905.         """
906.         recorder = MigrationRecorder(connection)
907.         out = io.StringIO()
908.         call_command("migrate", "migrations", verbosity=0)
909.         call_command("showmigrations", "migrations", stdout=out, no_color=True)
910.         self.assertEqual(
911.             'migrations\n'
912.             ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
913.             out.getvalue().lower()
914.         )
915.         applied_migrations = recorder.applied_migrations()
916.         self.assertIn(("migrations", "0001_initial"), applied_migrations)
917.         self.assertIn(("migrations", "0002_second"), applied_migrations)
918.         self.assertIn(("migrations", "0001_squashed_0002"), applied_migrations)
919.         # Rollback changes
920.         call_command("migrate", "migrations", "zero", verbosity=0)
921. 
922.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
923.     def test_migrate_record_squashed(self):
924.         """
925.         Running migrate for a squashed migration should record as run
926.         if all of the replaced migrations have been run (#25231).
927.         """
928.         recorder = MigrationRecorder(connection)
929.         recorder.record_applied("migrations", "0001_initial")
930.         recorder.record_applied("migrations", "0002_second")
931.         out = io.StringIO()
932.         call_command("migrate", "migrations", verbosity=0)
933.         call_command("showmigrations", "migrations", stdout=out, no_color=True)
934.         self.assertEqual(
935.             'migrations\n'
936.             ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
937.             out.getvalue().lower()
938.         )
939.         self.assertIn(
940.             ("migrations", "0001_squashed_0002"),
941.             recorder.applied_migrations()
942.         )
943.         # No changes were actually applied so there is nothing to rollback
944. 
945.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
946.     def test_migrate_inconsistent_history(self):
947.         """
948.         Running migrate with some migrations applied before their dependencies
949.         should not be allowed.
950.         """
951.         recorder = MigrationRecorder(connection)
952.         recorder.record_applied("migrations", "0002_second")
953.         msg = "Migration migrations.0002_second is applied before its dependency migrations.0001_initial"
954.         with self.assertRaisesMessage(InconsistentMigrationHistory, msg):
955.             call_command("migrate")
956.         applied_migrations = recorder.applied_migrations()
957.         self.assertNotIn(("migrations", "0001_initial"), applied_migrations)
958. 
959.     @override_settings(INSTALLED_APPS=[
960.         'migrations.migrations_test_apps.migrated_unapplied_app',
961.         'migrations.migrations_test_apps.migrated_app',
962.     ])
963.     def test_migrate_not_reflected_changes(self):
964.         class NewModel1(models.Model):
965.             class Meta():
966.                 app_label = 'migrated_app'
967. 
968.         class NewModel2(models.Model):
969.             class Meta():
970.                 app_label = 'migrated_unapplied_app'
971. 
972.         out = io.StringIO()
973.         try:
974.             call_command('migrate', verbosity=0)
975.             call_command('migrate', stdout=out, no_color=True)
976.             self.assertEqual(
977.                 "operations to perform:\n"
978.                 "  apply all migrations: migrated_app, migrated_unapplied_app\n"
979.                 "running migrations:\n"
980.                 "  no migrations to apply.\n"
981.                 "  your models in app(s): 'migrated_app', "
982.                 "'migrated_unapplied_app' have changes that are not yet "
983.                 "reflected in a migration, and so won't be applied.\n"
984.                 "  run 'manage.py makemigrations' to make new migrations, and "
985.                 "then re-run 'manage.py migrate' to apply them.\n",
986.                 out.getvalue().lower(),
987.             )
988.         finally:
989.             # Unmigrate everything.
990.             call_command('migrate', 'migrated_app', 'zero', verbosity=0)
991.             call_command('migrate', 'migrated_unapplied_app', 'zero', verbosity=0)
992. 
993. 
994. class MakeMigrationsTests(MigrationTestBase):
995.     """
996.     Tests running the makemigrations command.
997.     """
998. 
999.     def setUp(self):
1000.         super().setUp()


File: tests/migrations/test_executor.py
Line number range: 1 - 500
Content:
1. from unittest import mock
2. 
3. from django.apps.registry import apps as global_apps
4. from django.db import DatabaseError, connection, migrations, models
5. from django.db.migrations.exceptions import InvalidMigrationPlan
6. from django.db.migrations.executor import MigrationExecutor
7. from django.db.migrations.graph import MigrationGraph
8. from django.db.migrations.recorder import MigrationRecorder
9. from django.db.migrations.state import ProjectState
10. from django.test import (
11.     SimpleTestCase, modify_settings, override_settings, skipUnlessDBFeature,
12. )
13. 
14. from .test_base import MigrationTestBase
15. 
16. 
17. @modify_settings(INSTALLED_APPS={'append': 'migrations2'})
18. class ExecutorTests(MigrationTestBase):
19.     """
20.     Tests the migration executor (full end-to-end running).
21. 
22.     Bear in mind that if these are failing you should fix the other
23.     test failures first, as they may be propagating into here.
24.     """
25. 
26.     available_apps = ["migrations", "migrations2", "django.contrib.auth", "django.contrib.contenttypes"]
27. 
28.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
29.     def test_run(self):
30.         """
31.         Tests running a simple set of migrations.
32.         """
33.         executor = MigrationExecutor(connection)
34.         # Let's look at the plan first and make sure it's up to scratch
35.         plan = executor.migration_plan([("migrations", "0002_second")])
36.         self.assertEqual(
37.             plan,
38.             [
39.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
40.                 (executor.loader.graph.nodes["migrations", "0002_second"], False),
41.             ],
42.         )
43.         # Were the tables there before?
44.         self.assertTableNotExists("migrations_author")
45.         self.assertTableNotExists("migrations_book")
46.         # Alright, let's try running it
47.         executor.migrate([("migrations", "0002_second")])
48.         # Are the tables there now?
49.         self.assertTableExists("migrations_author")
50.         self.assertTableExists("migrations_book")
51.         # Rebuild the graph to reflect the new DB state
52.         executor.loader.build_graph()
53.         # Alright, let's undo what we did
54.         plan = executor.migration_plan([("migrations", None)])
55.         self.assertEqual(
56.             plan,
57.             [
58.                 (executor.loader.graph.nodes["migrations", "0002_second"], True),
59.                 (executor.loader.graph.nodes["migrations", "0001_initial"], True),
60.             ],
61.         )
62.         executor.migrate([("migrations", None)])
63.         # Are the tables gone?
64.         self.assertTableNotExists("migrations_author")
65.         self.assertTableNotExists("migrations_book")
66. 
67.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
68.     def test_run_with_squashed(self):
69.         """
70.         Tests running a squashed migration from zero (should ignore what it replaces)
71.         """
72.         executor = MigrationExecutor(connection)
73.         # Check our leaf node is the squashed one
74.         leaves = [key for key in executor.loader.graph.leaf_nodes() if key[0] == "migrations"]
75.         self.assertEqual(leaves, [("migrations", "0001_squashed_0002")])
76.         # Check the plan
77.         plan = executor.migration_plan([("migrations", "0001_squashed_0002")])
78.         self.assertEqual(
79.             plan,
80.             [
81.                 (executor.loader.graph.nodes["migrations", "0001_squashed_0002"], False),
82.             ],
83.         )
84.         # Were the tables there before?
85.         self.assertTableNotExists("migrations_author")
86.         self.assertTableNotExists("migrations_book")
87.         # Alright, let's try running it
88.         executor.migrate([("migrations", "0001_squashed_0002")])
89.         # Are the tables there now?
90.         self.assertTableExists("migrations_author")
91.         self.assertTableExists("migrations_book")
92.         # Rebuild the graph to reflect the new DB state
93.         executor.loader.build_graph()
94.         # Alright, let's undo what we did. Should also just use squashed.
95.         plan = executor.migration_plan([("migrations", None)])
96.         self.assertEqual(
97.             plan,
98.             [
99.                 (executor.loader.graph.nodes["migrations", "0001_squashed_0002"], True),
100.             ],
101.         )
102.         executor.migrate([("migrations", None)])
103.         # Are the tables gone?
104.         self.assertTableNotExists("migrations_author")
105.         self.assertTableNotExists("migrations_book")
106. 
107.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_non_atomic"})
108.     def test_non_atomic_migration(self):
109.         """
110.         Applying a non-atomic migration works as expected.
111.         """
112.         executor = MigrationExecutor(connection)
113.         with self.assertRaisesMessage(RuntimeError, "Abort migration"):
114.             executor.migrate([("migrations", "0001_initial")])
115.         self.assertTableExists("migrations_publisher")
116.         migrations_apps = executor.loader.project_state(("migrations", "0001_initial")).apps
117.         Publisher = migrations_apps.get_model("migrations", "Publisher")
118.         self.assertTrue(Publisher.objects.exists())
119.         self.assertTableNotExists("migrations_book")
120. 
121.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_atomic_operation"})
122.     def test_atomic_operation_in_non_atomic_migration(self):
123.         """
124.         An atomic operation is properly rolled back inside a non-atomic
125.         migration.
126.         """
127.         executor = MigrationExecutor(connection)
128.         with self.assertRaisesMessage(RuntimeError, "Abort migration"):
129.             executor.migrate([("migrations", "0001_initial")])
130.         migrations_apps = executor.loader.project_state(("migrations", "0001_initial")).apps
131.         Editor = migrations_apps.get_model("migrations", "Editor")
132.         self.assertFalse(Editor.objects.exists())
133.         # Record previous migration as successful.
134.         executor.migrate([("migrations", "0001_initial")], fake=True)
135.         # Rebuild the graph to reflect the new DB state.
136.         executor.loader.build_graph()
137.         # Migrating backwards is also atomic.
138.         with self.assertRaisesMessage(RuntimeError, "Abort migration"):
139.             executor.migrate([("migrations", None)])
140.         self.assertFalse(Editor.objects.exists())
141. 
142.     @override_settings(MIGRATION_MODULES={
143.         "migrations": "migrations.test_migrations",
144.         "migrations2": "migrations2.test_migrations_2",
145.     })
146.     def test_empty_plan(self):
147.         """
148.         Re-planning a full migration of a fully-migrated set doesn't
149.         perform spurious unmigrations and remigrations.
150. 
151.         There was previously a bug where the executor just always performed the
152.         backwards plan for applied migrations - which even for the most recent
153.         migration in an app, might include other, dependent apps, and these
154.         were being unmigrated.
155.         """
156.         # Make the initial plan, check it
157.         executor = MigrationExecutor(connection)
158.         plan = executor.migration_plan([
159.             ("migrations", "0002_second"),
160.             ("migrations2", "0001_initial"),
161.         ])
162.         self.assertEqual(
163.             plan,
164.             [
165.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
166.                 (executor.loader.graph.nodes["migrations", "0002_second"], False),
167.                 (executor.loader.graph.nodes["migrations2", "0001_initial"], False),
168.             ],
169.         )
170.         # Fake-apply all migrations
171.         executor.migrate([
172.             ("migrations", "0002_second"),
173.             ("migrations2", "0001_initial")
174.         ], fake=True)
175.         # Rebuild the graph to reflect the new DB state
176.         executor.loader.build_graph()
177.         # Now plan a second time and make sure it's empty
178.         plan = executor.migration_plan([
179.             ("migrations", "0002_second"),
180.             ("migrations2", "0001_initial"),
181.         ])
182.         self.assertEqual(plan, [])
183.         # The resulting state should include applied migrations.
184.         state = executor.migrate([
185.             ("migrations", "0002_second"),
186.             ("migrations2", "0001_initial"),
187.         ])
188.         self.assertIn(('migrations', 'book'), state.models)
189.         self.assertIn(('migrations', 'author'), state.models)
190.         self.assertIn(('migrations2', 'otherauthor'), state.models)
191.         # Erase all the fake records
192.         executor.recorder.record_unapplied("migrations2", "0001_initial")
193.         executor.recorder.record_unapplied("migrations", "0002_second")
194.         executor.recorder.record_unapplied("migrations", "0001_initial")
195. 
196.     @override_settings(MIGRATION_MODULES={
197.         "migrations": "migrations.test_migrations",
198.         "migrations2": "migrations2.test_migrations_2_no_deps",
199.     })
200.     def test_mixed_plan_not_supported(self):
201.         """
202.         Although the MigrationExecutor interfaces allows for mixed migration
203.         plans (combined forwards and backwards migrations) this is not
204.         supported.
205.         """
206.         # Prepare for mixed plan
207.         executor = MigrationExecutor(connection)
208.         plan = executor.migration_plan([("migrations", "0002_second")])
209.         self.assertEqual(
210.             plan,
211.             [
212.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
213.                 (executor.loader.graph.nodes["migrations", "0002_second"], False),
214.             ],
215.         )
216.         executor.migrate(None, plan)
217.         # Rebuild the graph to reflect the new DB state
218.         executor.loader.build_graph()
219.         self.assertIn(('migrations', '0001_initial'), executor.loader.applied_migrations)
220.         self.assertIn(('migrations', '0002_second'), executor.loader.applied_migrations)
221.         self.assertNotIn(('migrations2', '0001_initial'), executor.loader.applied_migrations)
222. 
223.         # Generate mixed plan
224.         plan = executor.migration_plan([
225.             ("migrations", None),
226.             ("migrations2", "0001_initial"),
227.         ])
228.         msg = (
229.             'Migration plans with both forwards and backwards migrations are '
230.             'not supported. Please split your migration process into separate '
231.             'plans of only forwards OR backwards migrations.'
232.         )
233.         with self.assertRaisesMessage(InvalidMigrationPlan, msg) as cm:
234.             executor.migrate(None, plan)
235.         self.assertEqual(
236.             cm.exception.args[1],
237.             [
238.                 (executor.loader.graph.nodes["migrations", "0002_second"], True),
239.                 (executor.loader.graph.nodes["migrations", "0001_initial"], True),
240.                 (executor.loader.graph.nodes["migrations2", "0001_initial"], False),
241.             ],
242.         )
243.         # Rebuild the graph to reflect the new DB state
244.         executor.loader.build_graph()
245.         executor.migrate([
246.             ("migrations", None),
247.             ("migrations2", None),
248.         ])
249.         # Are the tables gone?
250.         self.assertTableNotExists("migrations_author")
251.         self.assertTableNotExists("migrations_book")
252.         self.assertTableNotExists("migrations2_otherauthor")
253. 
254.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
255.     def test_soft_apply(self):
256.         """
257.         Tests detection of initial migrations already having been applied.
258.         """
259.         state = {"faked": None}
260. 
261.         def fake_storer(phase, migration=None, fake=None):
262.             state["faked"] = fake
263.         executor = MigrationExecutor(connection, progress_callback=fake_storer)
264.         # Were the tables there before?
265.         self.assertTableNotExists("migrations_author")
266.         self.assertTableNotExists("migrations_tribble")
267.         # Run it normally
268.         self.assertEqual(
269.             executor.migration_plan([("migrations", "0001_initial")]),
270.             [
271.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
272.             ],
273.         )
274.         executor.migrate([("migrations", "0001_initial")])
275.         # Are the tables there now?
276.         self.assertTableExists("migrations_author")
277.         self.assertTableExists("migrations_tribble")
278.         # We shouldn't have faked that one
279.         self.assertIs(state["faked"], False)
280.         # Rebuild the graph to reflect the new DB state
281.         executor.loader.build_graph()
282.         # Fake-reverse that
283.         executor.migrate([("migrations", None)], fake=True)
284.         # Are the tables still there?
285.         self.assertTableExists("migrations_author")
286.         self.assertTableExists("migrations_tribble")
287.         # Make sure that was faked
288.         self.assertIs(state["faked"], True)
289.         # Finally, migrate forwards; this should fake-apply our initial migration
290.         executor.loader.build_graph()
291.         self.assertEqual(
292.             executor.migration_plan([("migrations", "0001_initial")]),
293.             [
294.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
295.             ],
296.         )
297.         # Applying the migration should raise a database level error
298.         # because we haven't given the --fake-initial option
299.         with self.assertRaises(DatabaseError):
300.             executor.migrate([("migrations", "0001_initial")])
301.         # Reset the faked state
302.         state = {"faked": None}
303.         # Allow faking of initial CreateModel operations
304.         executor.migrate([("migrations", "0001_initial")], fake_initial=True)
305.         self.assertIs(state["faked"], True)
306.         # And migrate back to clean up the database
307.         executor.loader.build_graph()
308.         executor.migrate([("migrations", None)])
309.         self.assertTableNotExists("migrations_author")
310.         self.assertTableNotExists("migrations_tribble")
311. 
312.     @override_settings(
313.         MIGRATION_MODULES={
314.             "migrations": "migrations.test_migrations_custom_user",
315.             "django.contrib.auth": "django.contrib.auth.migrations",
316.         },
317.         AUTH_USER_MODEL="migrations.Author",
318.     )
319.     def test_custom_user(self):
320.         """
321.         Regression test for #22325 - references to a custom user model defined in the
322.         same app are not resolved correctly.
323.         """
324.         executor = MigrationExecutor(connection)
325.         self.assertTableNotExists("migrations_author")
326.         self.assertTableNotExists("migrations_tribble")
327.         # Migrate forwards
328.         executor.migrate([("migrations", "0001_initial")])
329.         self.assertTableExists("migrations_author")
330.         self.assertTableExists("migrations_tribble")
331.         # Make sure the soft-application detection works (#23093)
332.         # Change table_names to not return auth_user during this as
333.         # it wouldn't be there in a normal run, and ensure migrations.Author
334.         # exists in the global app registry temporarily.
335.         old_table_names = connection.introspection.table_names
336.         connection.introspection.table_names = lambda c: [x for x in old_table_names(c) if x != "auth_user"]
337.         migrations_apps = executor.loader.project_state(("migrations", "0001_initial")).apps
338.         global_apps.get_app_config("migrations").models["author"] = migrations_apps.get_model("migrations", "author")
339.         try:
340.             migration = executor.loader.get_migration("auth", "0001_initial")
341.             self.assertIs(executor.detect_soft_applied(None, migration)[0], True)
342.         finally:
343.             connection.introspection.table_names = old_table_names
344.             del global_apps.get_app_config("migrations").models["author"]
345.         # And migrate back to clean up the database
346.         executor.loader.build_graph()
347.         executor.migrate([("migrations", None)])
348.         self.assertTableNotExists("migrations_author")
349.         self.assertTableNotExists("migrations_tribble")
350. 
351.     @override_settings(
352.         MIGRATION_MODULES={
353.             "migrations": "migrations.test_add_many_to_many_field_initial",
354.         },
355.     )
356.     def test_detect_soft_applied_add_field_manytomanyfield(self):
357.         """
358.         executor.detect_soft_applied() detects ManyToManyField tables from an
359.         AddField operation. This checks the case of AddField in a migration
360.         with other operations (0001) and the case of AddField in its own
361.         migration (0002).
362.         """
363.         tables = [
364.             # from 0001
365.             "migrations_project",
366.             "migrations_task",
367.             "migrations_project_tasks",
368.             # from 0002
369.             "migrations_task_projects",
370.         ]
371.         executor = MigrationExecutor(connection)
372.         # Create the tables for 0001 but make it look like the migration hasn't
373.         # been applied.
374.         executor.migrate([("migrations", "0001_initial")])
375.         executor.migrate([("migrations", None)], fake=True)
376.         for table in tables[:3]:
377.             self.assertTableExists(table)
378.         # Table detection sees 0001 is applied but not 0002.
379.         migration = executor.loader.get_migration("migrations", "0001_initial")
380.         self.assertIs(executor.detect_soft_applied(None, migration)[0], True)
381.         migration = executor.loader.get_migration("migrations", "0002_initial")
382.         self.assertIs(executor.detect_soft_applied(None, migration)[0], False)
383. 
384.         # Create the tables for both migrations but make it look like neither
385.         # has been applied.
386.         executor.loader.build_graph()
387.         executor.migrate([("migrations", "0001_initial")], fake=True)
388.         executor.migrate([("migrations", "0002_initial")])
389.         executor.loader.build_graph()
390.         executor.migrate([("migrations", None)], fake=True)
391.         # Table detection sees 0002 is applied.
392.         migration = executor.loader.get_migration("migrations", "0002_initial")
393.         self.assertIs(executor.detect_soft_applied(None, migration)[0], True)
394. 
395.         # Leave the tables for 0001 except the many-to-many table. That missing
396.         # table should cause detect_soft_applied() to return False.
397.         with connection.schema_editor() as editor:
398.             for table in tables[2:]:
399.                 editor.execute(editor.sql_delete_table % {"table": table})
400.         migration = executor.loader.get_migration("migrations", "0001_initial")
401.         self.assertIs(executor.detect_soft_applied(None, migration)[0], False)
402. 
403.         # Cleanup by removing the remaining tables.
404.         with connection.schema_editor() as editor:
405.             for table in tables[:2]:
406.                 editor.execute(editor.sql_delete_table % {"table": table})
407.         for table in tables:
408.             self.assertTableNotExists(table)
409. 
410.     @override_settings(
411.         INSTALLED_APPS=[
412.             "migrations.migrations_test_apps.lookuperror_a",
413.             "migrations.migrations_test_apps.lookuperror_b",
414.             "migrations.migrations_test_apps.lookuperror_c"
415.         ]
416.     )
417.     def test_unrelated_model_lookups_forwards(self):
418.         """
419.         #24123 - All models of apps already applied which are
420.         unrelated to the first app being applied are part of the initial model
421.         state.
422.         """
423.         try:
424.             executor = MigrationExecutor(connection)
425.             self.assertTableNotExists("lookuperror_a_a1")
426.             self.assertTableNotExists("lookuperror_b_b1")
427.             self.assertTableNotExists("lookuperror_c_c1")
428.             executor.migrate([("lookuperror_b", "0003_b3")])
429.             self.assertTableExists("lookuperror_b_b3")
430.             # Rebuild the graph to reflect the new DB state
431.             executor.loader.build_graph()
432. 
433.             # Migrate forwards -- This led to a lookup LookupErrors because
434.             # lookuperror_b.B2 is already applied
435.             executor.migrate([
436.                 ("lookuperror_a", "0004_a4"),
437.                 ("lookuperror_c", "0003_c3"),
438.             ])
439.             self.assertTableExists("lookuperror_a_a4")
440.             self.assertTableExists("lookuperror_c_c3")
441. 
442.             # Rebuild the graph to reflect the new DB state
443.             executor.loader.build_graph()
444.         finally:
445.             # Cleanup
446.             executor.migrate([
447.                 ("lookuperror_a", None),
448.                 ("lookuperror_b", None),
449.                 ("lookuperror_c", None),
450.             ])
451.             self.assertTableNotExists("lookuperror_a_a1")
452.             self.assertTableNotExists("lookuperror_b_b1")
453.             self.assertTableNotExists("lookuperror_c_c1")
454. 
455.     @override_settings(
456.         INSTALLED_APPS=[
457.             "migrations.migrations_test_apps.lookuperror_a",
458.             "migrations.migrations_test_apps.lookuperror_b",
459.             "migrations.migrations_test_apps.lookuperror_c"
460.         ]
461.     )
462.     def test_unrelated_model_lookups_backwards(self):
463.         """
464.         #24123 - All models of apps being unapplied which are
465.         unrelated to the first app being unapplied are part of the initial
466.         model state.
467.         """
468.         try:
469.             executor = MigrationExecutor(connection)
470.             self.assertTableNotExists("lookuperror_a_a1")
471.             self.assertTableNotExists("lookuperror_b_b1")
472.             self.assertTableNotExists("lookuperror_c_c1")
473.             executor.migrate([
474.                 ("lookuperror_a", "0004_a4"),
475.                 ("lookuperror_b", "0003_b3"),
476.                 ("lookuperror_c", "0003_c3"),
477.             ])
478.             self.assertTableExists("lookuperror_b_b3")
479.             self.assertTableExists("lookuperror_a_a4")
480.             self.assertTableExists("lookuperror_c_c3")
481.             # Rebuild the graph to reflect the new DB state
482.             executor.loader.build_graph()
483. 
484.             # Migrate backwards -- This led to a lookup LookupErrors because
485.             # lookuperror_b.B2 is not in the initial state (unrelated to app c)
486.             executor.migrate([("lookuperror_a", None)])
487. 
488.             # Rebuild the graph to reflect the new DB state
489.             executor.loader.build_graph()
490.         finally:
491.             # Cleanup
492.             executor.migrate([
493.                 ("lookuperror_b", None),
494.                 ("lookuperror_c", None)
495.             ])
496.             self.assertTableNotExists("lookuperror_a_a1")
497.             self.assertTableNotExists("lookuperror_b_b1")
498.             self.assertTableNotExists("lookuperror_c_c1")
499. 
500.     @override_settings(


File: tests/migrations/test_executor.py
Line number range: 501 - 1000
Content:
501.         INSTALLED_APPS=[
502.             'migrations.migrations_test_apps.mutate_state_a',
503.             'migrations.migrations_test_apps.mutate_state_b',
504.         ]
505.     )
506.     def test_unrelated_applied_migrations_mutate_state(self):
507.         """
508.         #26647 - Unrelated applied migrations should be part of the final
509.         state in both directions.
510.         """
511.         executor = MigrationExecutor(connection)
512.         executor.migrate([
513.             ('mutate_state_b', '0002_add_field'),
514.         ])
515.         # Migrate forward.
516.         executor.loader.build_graph()
517.         state = executor.migrate([
518.             ('mutate_state_a', '0001_initial'),
519.         ])
520.         self.assertIn('added', state.models['mutate_state_b', 'b'].fields)
521.         executor.loader.build_graph()
522.         # Migrate backward.
523.         state = executor.migrate([
524.             ('mutate_state_a', None),
525.         ])
526.         self.assertIn('added', state.models['mutate_state_b', 'b'].fields)
527.         executor.migrate([
528.             ('mutate_state_b', None),
529.         ])
530. 
531.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
532.     def test_process_callback(self):
533.         """
534.         #24129 - Tests callback process
535.         """
536.         call_args_list = []
537. 
538.         def callback(*args):
539.             call_args_list.append(args)
540. 
541.         executor = MigrationExecutor(connection, progress_callback=callback)
542.         # Were the tables there before?
543.         self.assertTableNotExists("migrations_author")
544.         self.assertTableNotExists("migrations_tribble")
545.         executor.migrate([
546.             ("migrations", "0001_initial"),
547.             ("migrations", "0002_second"),
548.         ])
549.         # Rebuild the graph to reflect the new DB state
550.         executor.loader.build_graph()
551. 
552.         executor.migrate([
553.             ("migrations", None),
554.             ("migrations", None),
555.         ])
556.         self.assertTableNotExists("migrations_author")
557.         self.assertTableNotExists("migrations_tribble")
558. 
559.         migrations = executor.loader.graph.nodes
560.         expected = [
561.             ("render_start",),
562.             ("render_success",),
563.             ("apply_start", migrations['migrations', '0001_initial'], False),
564.             ("apply_success", migrations['migrations', '0001_initial'], False),
565.             ("apply_start", migrations['migrations', '0002_second'], False),
566.             ("apply_success", migrations['migrations', '0002_second'], False),
567.             ("render_start",),
568.             ("render_success",),
569.             ("unapply_start", migrations['migrations', '0002_second'], False),
570.             ("unapply_success", migrations['migrations', '0002_second'], False),
571.             ("unapply_start", migrations['migrations', '0001_initial'], False),
572.             ("unapply_success", migrations['migrations', '0001_initial'], False),
573.         ]
574.         self.assertEqual(call_args_list, expected)
575. 
576.     @override_settings(
577.         INSTALLED_APPS=[
578.             "migrations.migrations_test_apps.alter_fk.author_app",
579.             "migrations.migrations_test_apps.alter_fk.book_app",
580.         ]
581.     )
582.     def test_alter_id_type_with_fk(self):
583.         try:
584.             executor = MigrationExecutor(connection)
585.             self.assertTableNotExists("author_app_author")
586.             self.assertTableNotExists("book_app_book")
587.             # Apply initial migrations
588.             executor.migrate([
589.                 ("author_app", "0001_initial"),
590.                 ("book_app", "0001_initial"),
591.             ])
592.             self.assertTableExists("author_app_author")
593.             self.assertTableExists("book_app_book")
594.             # Rebuild the graph to reflect the new DB state
595.             executor.loader.build_graph()
596. 
597.             # Apply PK type alteration
598.             executor.migrate([("author_app", "0002_alter_id")])
599. 
600.             # Rebuild the graph to reflect the new DB state
601.             executor.loader.build_graph()
602.         finally:
603.             # We can't simply unapply the migrations here because there is no
604.             # implicit cast from VARCHAR to INT on the database level.
605.             with connection.schema_editor() as editor:
606.                 editor.execute(editor.sql_delete_table % {"table": "book_app_book"})
607.                 editor.execute(editor.sql_delete_table % {"table": "author_app_author"})
608.             self.assertTableNotExists("author_app_author")
609.             self.assertTableNotExists("book_app_book")
610.             executor.migrate([("author_app", None)], fake=True)
611. 
612.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
613.     def test_apply_all_replaced_marks_replacement_as_applied(self):
614.         """
615.         Applying all replaced migrations marks replacement as applied (#24628).
616.         """
617.         recorder = MigrationRecorder(connection)
618.         # Place the database in a state where the replaced migrations are
619.         # partially applied: 0001 is applied, 0002 is not.
620.         recorder.record_applied("migrations", "0001_initial")
621.         executor = MigrationExecutor(connection)
622.         # Use fake because we don't actually have the first migration
623.         # applied, so the second will fail. And there's no need to actually
624.         # create/modify tables here, we're just testing the
625.         # MigrationRecord, which works the same with or without fake.
626.         executor.migrate([("migrations", "0002_second")], fake=True)
627. 
628.         # Because we've now applied 0001 and 0002 both, their squashed
629.         # replacement should be marked as applied.
630.         self.assertIn(
631.             ("migrations", "0001_squashed_0002"),
632.             recorder.applied_migrations(),
633.         )
634. 
635.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
636.     def test_migrate_marks_replacement_applied_even_if_it_did_nothing(self):
637.         """
638.         A new squash migration will be marked as applied even if all its
639.         replaced migrations were previously already applied (#24628).
640.         """
641.         recorder = MigrationRecorder(connection)
642.         # Record all replaced migrations as applied
643.         recorder.record_applied("migrations", "0001_initial")
644.         recorder.record_applied("migrations", "0002_second")
645.         executor = MigrationExecutor(connection)
646.         executor.migrate([("migrations", "0001_squashed_0002")])
647. 
648.         # Because 0001 and 0002 are both applied, even though this migrate run
649.         # didn't apply anything new, their squashed replacement should be
650.         # marked as applied.
651.         self.assertIn(
652.             ("migrations", "0001_squashed_0002"),
653.             recorder.applied_migrations(),
654.         )
655. 
656.     # When the feature is False, the operation and the record won't be
657.     # performed in a transaction and the test will systematically pass.
658.     @skipUnlessDBFeature('can_rollback_ddl')
659.     def test_migrations_applied_and_recorded_atomically(self):
660.         """Migrations are applied and recorded atomically."""
661.         class Migration(migrations.Migration):
662.             operations = [
663.                 migrations.CreateModel('model', [
664.                     ('id', models.AutoField(primary_key=True)),
665.                 ]),
666.             ]
667. 
668.         executor = MigrationExecutor(connection)
669.         with mock.patch('django.db.migrations.executor.MigrationExecutor.record_migration') as record_migration:
670.             record_migration.side_effect = RuntimeError('Recording migration failed.')
671.             with self.assertRaisesMessage(RuntimeError, 'Recording migration failed.'):
672.                 executor.apply_migration(
673.                     ProjectState(),
674.                     Migration('0001_initial', 'record_migration'),
675.                 )
676.                 executor.migrate([('migrations', '0001_initial')])
677.         # The migration isn't recorded as applied since it failed.
678.         migration_recorder = MigrationRecorder(connection)
679.         self.assertIs(
680.             migration_recorder.migration_qs.filter(
681.                 app='record_migration', name='0001_initial',
682.             ).exists(),
683.             False,
684.         )
685.         self.assertTableNotExists('record_migration_model')
686. 
687.     def test_migrations_not_applied_on_deferred_sql_failure(self):
688.         """Migrations are not recorded if deferred SQL application fails."""
689.         class DeferredSQL:
690.             def __str__(self):
691.                 raise DatabaseError('Failed to apply deferred SQL')
692. 
693.         class Migration(migrations.Migration):
694.             atomic = False
695. 
696.             def apply(self, project_state, schema_editor, collect_sql=False):
697.                 schema_editor.deferred_sql.append(DeferredSQL())
698. 
699.         executor = MigrationExecutor(connection)
700.         with self.assertRaisesMessage(DatabaseError, 'Failed to apply deferred SQL'):
701.             executor.apply_migration(
702.                 ProjectState(),
703.                 Migration('0001_initial', 'deferred_sql'),
704.             )
705.         # The migration isn't recorded as applied since it failed.
706.         migration_recorder = MigrationRecorder(connection)
707.         self.assertIs(
708.             migration_recorder.migration_qs.filter(
709.                 app='deferred_sql', name='0001_initial',
710.             ).exists(),
711.             False,
712.         )
713. 
714. 
715. class FakeLoader:
716.     def __init__(self, graph, applied):
717.         self.graph = graph
718.         self.applied_migrations = applied
719. 
720. 
721. class FakeMigration:
722.     """Really all we need is any object with a debug-useful repr."""
723.     def __init__(self, name):
724.         self.name = name
725. 
726.     def __repr__(self):
727.         return 'M<%s>' % self.name
728. 
729. 
730. class ExecutorUnitTests(SimpleTestCase):
731.     """(More) isolated unit tests for executor methods."""
732.     def test_minimize_rollbacks(self):
733.         """
734.         Minimize unnecessary rollbacks in connected apps.
735. 
736.         When you say "./manage.py migrate appA 0001", rather than migrating to
737.         just after appA-0001 in the linearized migration plan (which could roll
738.         back migrations in other apps that depend on appA 0001, but don't need
739.         to be rolled back since we're not rolling back appA 0001), we migrate
740.         to just before appA-0002.
741.         """
742.         a1_impl = FakeMigration('a1')
743.         a1 = ('a', '1')
744.         a2_impl = FakeMigration('a2')
745.         a2 = ('a', '2')
746.         b1_impl = FakeMigration('b1')
747.         b1 = ('b', '1')
748.         graph = MigrationGraph()
749.         graph.add_node(a1, a1_impl)
750.         graph.add_node(a2, a2_impl)
751.         graph.add_node(b1, b1_impl)
752.         graph.add_dependency(None, b1, a1)
753.         graph.add_dependency(None, a2, a1)
754. 
755.         executor = MigrationExecutor(None)
756.         executor.loader = FakeLoader(graph, {
757.             a1: a1_impl,
758.             b1: b1_impl,
759.             a2: a2_impl,
760.         })
761. 
762.         plan = executor.migration_plan({a1})
763. 
764.         self.assertEqual(plan, [(a2_impl, True)])
765. 
766.     def test_minimize_rollbacks_branchy(self):
767.         r"""
768.         Minimize rollbacks when target has multiple in-app children.
769. 
770.         a: 1 <---- 3 <--\
771.               \ \- 2 <--- 4
772.                \       \
773.         b:      \- 1 <--- 2
774.         """
775.         a1_impl = FakeMigration('a1')
776.         a1 = ('a', '1')
777.         a2_impl = FakeMigration('a2')
778.         a2 = ('a', '2')
779.         a3_impl = FakeMigration('a3')
780.         a3 = ('a', '3')
781.         a4_impl = FakeMigration('a4')
782.         a4 = ('a', '4')
783.         b1_impl = FakeMigration('b1')
784.         b1 = ('b', '1')
785.         b2_impl = FakeMigration('b2')
786.         b2 = ('b', '2')
787.         graph = MigrationGraph()
788.         graph.add_node(a1, a1_impl)
789.         graph.add_node(a2, a2_impl)
790.         graph.add_node(a3, a3_impl)
791.         graph.add_node(a4, a4_impl)
792.         graph.add_node(b1, b1_impl)
793.         graph.add_node(b2, b2_impl)
794.         graph.add_dependency(None, a2, a1)
795.         graph.add_dependency(None, a3, a1)
796.         graph.add_dependency(None, a4, a2)
797.         graph.add_dependency(None, a4, a3)
798.         graph.add_dependency(None, b2, b1)
799.         graph.add_dependency(None, b1, a1)
800.         graph.add_dependency(None, b2, a2)
801. 
802.         executor = MigrationExecutor(None)
803.         executor.loader = FakeLoader(graph, {
804.             a1: a1_impl,
805.             b1: b1_impl,
806.             a2: a2_impl,
807.             b2: b2_impl,
808.             a3: a3_impl,
809.             a4: a4_impl,
810.         })
811. 
812.         plan = executor.migration_plan({a1})
813. 
814.         should_be_rolled_back = [b2_impl, a4_impl, a2_impl, a3_impl]
815.         exp = [(m, True) for m in should_be_rolled_back]
816.         self.assertEqual(plan, exp)
817. 
818.     def test_backwards_nothing_to_do(self):
819.         r"""
820.         If the current state satisfies the given target, do nothing.
821. 
822.         a: 1 <--- 2
823.         b:    \- 1
824.         c:     \- 1
825. 
826.         If a1 is applied already and a2 is not, and we're asked to migrate to
827.         a1, don't apply or unapply b1 or c1, regardless of their current state.
828.         """
829.         a1_impl = FakeMigration('a1')
830.         a1 = ('a', '1')
831.         a2_impl = FakeMigration('a2')
832.         a2 = ('a', '2')
833.         b1_impl = FakeMigration('b1')
834.         b1 = ('b', '1')
835.         c1_impl = FakeMigration('c1')
836.         c1 = ('c', '1')
837.         graph = MigrationGraph()
838.         graph.add_node(a1, a1_impl)
839.         graph.add_node(a2, a2_impl)
840.         graph.add_node(b1, b1_impl)
841.         graph.add_node(c1, c1_impl)
842.         graph.add_dependency(None, a2, a1)
843.         graph.add_dependency(None, b1, a1)
844.         graph.add_dependency(None, c1, a1)
845. 
846.         executor = MigrationExecutor(None)
847.         executor.loader = FakeLoader(graph, {
848.             a1: a1_impl,
849.             b1: b1_impl,
850.         })
851. 
852.         plan = executor.migration_plan({a1})
853. 
854.         self.assertEqual(plan, [])

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-24 00:47:18,960 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='The user requested the full content of `tests/migrations/test_commands.py`. This context block contains the first part of the file.', relative_path='tests/migrations/test_commands.py', start_line=1, end_line=1000), ContextOutput(reasoning='The user requested the full content of `tests/migrations/test_executor.py`. This context block contains the first part of the file.', relative_path='tests/migrations/test_executor.py', start_line=1, end_line=854)]
2025-12-24 00:47:18,963 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 2 contexts to memory for query: Please provide the full content of `tests/migrations/test_executor.py` and `tests/migrations/test_commands.py`.
2025-12-24 00:47:18,963 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-24 00:47:18,963 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-24 00:47:18,964 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 2 new contexts to 0 existing contexts
2025-12-24 00:47:18,964 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 2 total contexts (removed 0 duplicates)
2025-12-24 00:47:18,965 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   ├── special.py
|   |   |   |   └── utils.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── explicit_default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_empty_apps
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_mismatch_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── not_apps.py
    |   ├── explicit_default_config_without_apps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_middleware_mixin.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       └── custom_widget.html
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── absolute_root.js
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
    |   |   ├── included_content.html
    |   |   ├── inclusion.html
    |   |   ├── inclusion_base.html
    |   |   ├── inclusion_extends1.html
    |   |   ├── inclusion_extends2.html
    |   |   ├── index.html
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   ├── recursive_include.html
    |   |   ├── response.html
    |   |   ├── second
    |   |   |   └── test.html
    |   |   ├── ssi include with spaces.html
    |   |   ├── ssi_include.html
    |   |   ├── template_tests
    |   |   |   └── using.html
    |   |   ├── test_context.html
    |   |   ├── test_context_stack.html
    |   |   ├── test_extends_error.html
    |   |   ├── test_incl_tag_use_l10n.html
    |   |   └── test_include_error.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_autoreloader.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── base.html
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   |   ├── add_form.html
    |   |   ├── app_index.html
    |   |   ├── change_form.html
    |   |   ├── change_list.html
    |   |   ├── delete_confirmation.html
    |   |   ├── delete_selected_confirmation.html
    |   |   ├── index.html
    |   |   ├── login.html
    |   |   ├── logout.html
    |   |   ├── object_history.html
    |   |   ├── password_change_done.html
    |   |   ├── password_change_form.html
    |   |   └── popup_response.html
    |   ├── extended.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Squashed migration is not marked as unapplied

Description: Description
	 
		(last modified by Markus Holtermann)
	 
When unapplying a squashed migration and the replaced migration files are still around, the MigrationExecutor mark the squash migration as unapplied, too, not only the replaced migrations.

Patch information:
diff --git a/django/db/migrations/executor.py b/django/db/migrations/executor.py
index 57042a8690..f8da716120 100644
--- a/django/db/migrations/executor.py
+++ b/django/db/migrations/executor.py
@@ -254,6 +254,8 @@ class MigrationExecutor:
         if migration.replaces:
             for app_label, name in migration.replaces:
                 self.recorder.record_unapplied(app_label, name)
+            # Also unapply the replacement migration itself to keep recorder consistent.
+            self.recorder.record_unapplied(migration.app_label, migration.name)
         else:
             self.recorder.record_unapplied(migration.app_label, migration.name)
         # Report progress
@@ -277,6 +279,8 @@ class MigrationExecutor:
             all_applied = all(m in applied for m in migration.replaces)
             if all_applied and key not in applied:
                 self.recorder.record_applied(*key)
+            elif not all_applied and key in applied:
+                self.recorder.record_unapplied(*key)
 
     def detect_soft_applied(self, project_state, migration):
         """


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/migrations/test_executor.py` and `tests/migrations/test_commands.py`.
Extra Requirements: 
Purpose: I need to analyze these files to find test cases that involve applying and unapplying squashed migrations, which is directly related to the bug report.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/migrations/test_commands.py
Line number range: 1 - 1000
Content:
1. import datetime
2. import importlib
3. import io
4. import os
5. import sys
6. from unittest import mock
7. 
8. from django.apps import apps
9. from django.core.management import CommandError, call_command
10. from django.db import (
11.     ConnectionHandler, DatabaseError, OperationalError, connection,
12.     connections, models,
13. )
14. from django.db.backends.base.schema import BaseDatabaseSchemaEditor
15. from django.db.backends.utils import truncate_name
16. from django.db.migrations.exceptions import InconsistentMigrationHistory
17. from django.db.migrations.recorder import MigrationRecorder
18. from django.test import TestCase, override_settings, skipUnlessDBFeature
19. 
20. from .models import UnicodeModel, UnserializableModel
21. from .routers import TestRouter
22. from .test_base import MigrationTestBase
23. 
24. 
25. class MigrateTests(MigrationTestBase):
26.     """
27.     Tests running the migrate command.
28.     """
29.     databases = {'default', 'other'}
30. 
31.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
32.     def test_migrate(self):
33.         """
34.         Tests basic usage of the migrate command.
35.         """
36.         # No tables are created
37.         self.assertTableNotExists("migrations_author")
38.         self.assertTableNotExists("migrations_tribble")
39.         self.assertTableNotExists("migrations_book")
40.         # Run the migrations to 0001 only
41.         stdout = io.StringIO()
42.         call_command('migrate', 'migrations', '0001', verbosity=2, stdout=stdout, no_color=True)
43.         stdout = stdout.getvalue()
44.         self.assertIn('Target specific migration: 0001_initial, from migrations', stdout)
45.         self.assertIn('Applying migrations.0001_initial... OK', stdout)
46.         self.assertIn('Running pre-migrate handlers for application migrations', stdout)
47.         self.assertIn('Running post-migrate handlers for application migrations', stdout)
48.         # The correct tables exist
49.         self.assertTableExists("migrations_author")
50.         self.assertTableExists("migrations_tribble")
51.         self.assertTableNotExists("migrations_book")
52.         # Run migrations all the way
53.         call_command("migrate", verbosity=0)
54.         # The correct tables exist
55.         self.assertTableExists("migrations_author")
56.         self.assertTableNotExists("migrations_tribble")
57.         self.assertTableExists("migrations_book")
58.         # Unmigrate everything
59.         stdout = io.StringIO()
60.         call_command('migrate', 'migrations', 'zero', verbosity=2, stdout=stdout, no_color=True)
61.         stdout = stdout.getvalue()
62.         self.assertIn('Unapply all migrations: migrations', stdout)
63.         self.assertIn('Unapplying migrations.0002_second... OK', stdout)
64.         self.assertIn('Running pre-migrate handlers for application migrations', stdout)
65.         self.assertIn('Running post-migrate handlers for application migrations', stdout)
66.         # Tables are gone
67.         self.assertTableNotExists("migrations_author")
68.         self.assertTableNotExists("migrations_tribble")
69.         self.assertTableNotExists("migrations_book")
70. 
71.     @override_settings(INSTALLED_APPS=[
72.         'django.contrib.auth',
73.         'django.contrib.contenttypes',
74.         'migrations.migrations_test_apps.migrated_app',
75.     ])
76.     def test_migrate_with_system_checks(self):
77.         out = io.StringIO()
78.         call_command('migrate', skip_checks=False, no_color=True, stdout=out)
79.         self.assertIn('Apply all migrations: migrated_app', out.getvalue())
80. 
81.     @override_settings(INSTALLED_APPS=['migrations', 'migrations.migrations_test_apps.unmigrated_app_syncdb'])
82.     def test_app_without_migrations(self):
83.         msg = "App 'unmigrated_app_syncdb' does not have migrations."
84.         with self.assertRaisesMessage(CommandError, msg):
85.             call_command('migrate', app_label='unmigrated_app_syncdb')
86. 
87.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_clashing_prefix'})
88.     def test_ambiguous_prefix(self):
89.         msg = (
90.             "More than one migration matches 'a' in app 'migrations'. Please "
91.             "be more specific."
92.         )
93.         with self.assertRaisesMessage(CommandError, msg):
94.             call_command('migrate', app_label='migrations', migration_name='a')
95. 
96.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
97.     def test_unknown_prefix(self):
98.         msg = "Cannot find a migration matching 'nonexistent' from app 'migrations'."
99.         with self.assertRaisesMessage(CommandError, msg):
100.             call_command('migrate', app_label='migrations', migration_name='nonexistent')
101. 
102.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_initial_false"})
103.     def test_migrate_initial_false(self):
104.         """
105.         `Migration.initial = False` skips fake-initial detection.
106.         """
107.         # Make sure no tables are created
108.         self.assertTableNotExists("migrations_author")
109.         self.assertTableNotExists("migrations_tribble")
110.         # Run the migrations to 0001 only
111.         call_command("migrate", "migrations", "0001", verbosity=0)
112.         # Fake rollback
113.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
114.         # Make sure fake-initial detection does not run
115.         with self.assertRaises(DatabaseError):
116.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0)
117. 
118.         call_command("migrate", "migrations", "0001", fake=True, verbosity=0)
119.         # Real rollback
120.         call_command("migrate", "migrations", "zero", verbosity=0)
121.         # Make sure it's all gone
122.         self.assertTableNotExists("migrations_author")
123.         self.assertTableNotExists("migrations_tribble")
124.         self.assertTableNotExists("migrations_book")
125. 
126.     @override_settings(
127.         MIGRATION_MODULES={"migrations": "migrations.test_migrations"},
128.         DATABASE_ROUTERS=['migrations.routers.TestRouter'],
129.     )
130.     def test_migrate_fake_initial(self):
131.         """
132.         --fake-initial only works if all tables created in the initial
133.         migration of an app exists. Database routers must be obeyed when doing
134.         that check.
135.         """
136.         # Make sure no tables are created
137.         for db in self.databases:
138.             self.assertTableNotExists("migrations_author", using=db)
139.             self.assertTableNotExists("migrations_tribble", using=db)
140.         # Run the migrations to 0001 only
141.         call_command("migrate", "migrations", "0001", verbosity=0)
142.         call_command("migrate", "migrations", "0001", verbosity=0, database="other")
143.         # Make sure the right tables exist
144.         self.assertTableExists("migrations_author")
145.         self.assertTableNotExists("migrations_tribble")
146.         # Also check the "other" database
147.         self.assertTableNotExists("migrations_author", using="other")
148.         self.assertTableExists("migrations_tribble", using="other")
149. 
150.         # Fake a roll-back
151.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
152.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0, database="other")
153.         # Make sure the tables still exist
154.         self.assertTableExists("migrations_author")
155.         self.assertTableExists("migrations_tribble", using="other")
156.         # Try to run initial migration
157.         with self.assertRaises(DatabaseError):
158.             call_command("migrate", "migrations", "0001", verbosity=0)
159.         # Run initial migration with an explicit --fake-initial
160.         out = io.StringIO()
161.         with mock.patch('django.core.management.color.supports_color', lambda *args: False):
162.             call_command("migrate", "migrations", "0001", fake_initial=True, stdout=out, verbosity=1)
163.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0, database="other")
164.         self.assertIn(
165.             "migrations.0001_initial... faked",
166.             out.getvalue().lower()
167.         )
168.         try:
169.             # Run migrations all the way.
170.             call_command('migrate', verbosity=0)
171.             call_command('migrate', verbosity=0, database="other")
172.             self.assertTableExists('migrations_author')
173.             self.assertTableNotExists('migrations_tribble')
174.             self.assertTableExists('migrations_book')
175.             self.assertTableNotExists('migrations_author', using='other')
176.             self.assertTableNotExists('migrations_tribble', using='other')
177.             self.assertTableNotExists('migrations_book', using='other')
178.             # Fake a roll-back.
179.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
180.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0, database='other')
181.             self.assertTableExists('migrations_author')
182.             self.assertTableNotExists('migrations_tribble')
183.             self.assertTableExists('migrations_book')
184.             # Run initial migration.
185.             with self.assertRaises(DatabaseError):
186.                 call_command('migrate', 'migrations', verbosity=0)
187.             # Run initial migration with an explicit --fake-initial.
188.             with self.assertRaises(DatabaseError):
189.                 # Fails because "migrations_tribble" does not exist but needs
190.                 # to in order to make --fake-initial work.
191.                 call_command('migrate', 'migrations', fake_initial=True, verbosity=0)
192.             # Fake an apply.
193.             call_command('migrate', 'migrations', fake=True, verbosity=0)
194.             call_command('migrate', 'migrations', fake=True, verbosity=0, database='other')
195.         finally:
196.             # Unmigrate everything.
197.             call_command('migrate', 'migrations', 'zero', verbosity=0)
198.             call_command('migrate', 'migrations', 'zero', verbosity=0, database='other')
199.         # Make sure it's all gone
200.         for db in self.databases:
201.             self.assertTableNotExists("migrations_author", using=db)
202.             self.assertTableNotExists("migrations_tribble", using=db)
203.             self.assertTableNotExists("migrations_book", using=db)
204. 
205.     @skipUnlessDBFeature('ignores_table_name_case')
206.     def test_migrate_fake_initial_case_insensitive(self):
207.         with override_settings(MIGRATION_MODULES={
208.             'migrations': 'migrations.test_fake_initial_case_insensitive.initial',
209.         }):
210.             call_command('migrate', 'migrations', '0001', verbosity=0)
211.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
212. 
213.         with override_settings(MIGRATION_MODULES={
214.             'migrations': 'migrations.test_fake_initial_case_insensitive.fake_initial',
215.         }):
216.             out = io.StringIO()
217.             call_command(
218.                 'migrate',
219.                 'migrations',
220.                 '0001',
221.                 fake_initial=True,
222.                 stdout=out,
223.                 verbosity=1,
224.                 no_color=True,
225.             )
226.             self.assertIn(
227.                 'migrations.0001_initial... faked',
228.                 out.getvalue().lower(),
229.             )
230. 
231.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_fake_split_initial"})
232.     def test_migrate_fake_split_initial(self):
233.         """
234.         Split initial migrations can be faked with --fake-initial.
235.         """
236.         try:
237.             call_command('migrate', 'migrations', '0002', verbosity=0)
238.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
239.             out = io.StringIO()
240.             with mock.patch('django.core.management.color.supports_color', lambda *args: False):
241.                 call_command('migrate', 'migrations', '0002', fake_initial=True, stdout=out, verbosity=1)
242.             value = out.getvalue().lower()
243.             self.assertIn('migrations.0001_initial... faked', value)
244.             self.assertIn('migrations.0002_second... faked', value)
245.         finally:
246.             # Fake an apply.
247.             call_command('migrate', 'migrations', fake=True, verbosity=0)
248.             # Unmigrate everything.
249.             call_command('migrate', 'migrations', 'zero', verbosity=0)
250. 
251.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_conflict"})
252.     def test_migrate_conflict_exit(self):
253.         """
254.         migrate exits if it detects a conflict.
255.         """
256.         msg = (
257.             "Conflicting migrations detected; multiple leaf nodes in the "
258.             "migration graph: (0002_conflicting_second, 0002_second in "
259.             "migrations).\n"
260.             "To fix them run 'python manage.py makemigrations --merge'"
261.         )
262.         with self.assertRaisesMessage(CommandError, msg):
263.             call_command("migrate", "migrations")
264. 
265.     @override_settings(MIGRATION_MODULES={
266.         'migrations': 'migrations.test_migrations',
267.     })
268.     def test_migrate_check(self):
269.         with self.assertRaises(SystemExit):
270.             call_command('migrate', 'migrations', '0001', check_unapplied=True)
271.         self.assertTableNotExists('migrations_author')
272.         self.assertTableNotExists('migrations_tribble')
273.         self.assertTableNotExists('migrations_book')
274. 
275.     @override_settings(MIGRATION_MODULES={
276.         'migrations': 'migrations.test_migrations_plan',
277.     })
278.     def test_migrate_check_plan(self):
279.         out = io.StringIO()
280.         with self.assertRaises(SystemExit):
281.             call_command(
282.                 'migrate',
283.                 'migrations',
284.                 '0001',
285.                 check_unapplied=True,
286.                 plan=True,
287.                 stdout=out,
288.                 no_color=True,
289.             )
290.         self.assertEqual(
291.             'Planned operations:\n'
292.             'migrations.0001_initial\n'
293.             '    Create model Salamander\n'
294.             '    Raw Python operation -> Grow salamander tail.\n',
295.             out.getvalue(),
296.         )
297. 
298.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
299.     def test_showmigrations_list(self):
300.         """
301.         showmigrations --list  displays migrations and whether or not they're
302.         applied.
303.         """
304.         out = io.StringIO()
305.         with mock.patch('django.core.management.color.supports_color', lambda *args: True):
306.             call_command("showmigrations", format='list', stdout=out, verbosity=0, no_color=False)
307.         self.assertEqual(
308.             '\x1b[1mmigrations\n\x1b[0m'
309.             ' [ ] 0001_initial\n'
310.             ' [ ] 0002_second\n',
311.             out.getvalue().lower()
312.         )
313. 
314.         call_command("migrate", "migrations", "0001", verbosity=0)
315. 
316.         out = io.StringIO()
317.         # Giving the explicit app_label tests for selective `show_list` in the command
318.         call_command("showmigrations", "migrations", format='list', stdout=out, verbosity=0, no_color=True)
319.         self.assertEqual(
320.             'migrations\n'
321.             ' [x] 0001_initial\n'
322.             ' [ ] 0002_second\n',
323.             out.getvalue().lower()
324.         )
325.         out = io.StringIO()
326.         # Applied datetimes are displayed at verbosity 2+.
327.         call_command('showmigrations', 'migrations', stdout=out, verbosity=2, no_color=True)
328.         migration1 = MigrationRecorder(connection).migration_qs.get(app='migrations', name='0001_initial')
329.         self.assertEqual(
330.             'migrations\n'
331.             ' [x] 0001_initial (applied at %s)\n'
332.             ' [ ] 0002_second\n' % migration1.applied.strftime('%Y-%m-%d %H:%M:%S'),
333.             out.getvalue().lower()
334.         )
335.         # Cleanup by unmigrating everything
336.         call_command("migrate", "migrations", "zero", verbosity=0)
337. 
338.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
339.     def test_showmigrations_list_squashed(self):
340.         out = io.StringIO()
341.         call_command('showmigrations', format='list', stdout=out, verbosity=2, no_color=True)
342.         self.assertEqual(
343.             'migrations\n'
344.             ' [ ] 0001_squashed_0002 (2 squashed migrations)\n',
345.             out.getvalue().lower(),
346.         )
347.         out = io.StringIO()
348.         call_command(
349.             'migrate',
350.             'migrations',
351.             '0001_squashed_0002',
352.             stdout=out,
353.             verbosity=2,
354.             no_color=True,
355.         )
356.         try:
357.             self.assertIn(
358.                 'operations to perform:\n'
359.                 '  target specific migration: 0001_squashed_0002, from migrations\n'
360.                 'running pre-migrate handlers for application migrations\n'
361.                 'running migrations:\n'
362.                 '  applying migrations.0001_squashed_0002... ok (',
363.                 out.getvalue().lower(),
364.             )
365.             out = io.StringIO()
366.             call_command('showmigrations', format='list', stdout=out, verbosity=2, no_color=True)
367.             self.assertEqual(
368.                 'migrations\n'
369.                 ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
370.                 out.getvalue().lower(),
371.             )
372.         finally:
373.             # Unmigrate everything.
374.             call_command('migrate', 'migrations', 'zero', verbosity=0)
375. 
376.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_run_before"})
377.     def test_showmigrations_plan(self):
378.         """
379.         Tests --plan output of showmigrations command
380.         """
381.         out = io.StringIO()
382.         call_command("showmigrations", format='plan', stdout=out)
383.         self.assertEqual(
384.             "[ ]  migrations.0001_initial\n"
385.             "[ ]  migrations.0003_third\n"
386.             "[ ]  migrations.0002_second\n",
387.             out.getvalue().lower()
388.         )
389. 
390.         out = io.StringIO()
391.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
392.         self.assertEqual(
393.             "[ ]  migrations.0001_initial\n"
394.             "[ ]  migrations.0003_third ... (migrations.0001_initial)\n"
395.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
396.             out.getvalue().lower()
397.         )
398.         call_command("migrate", "migrations", "0003", verbosity=0)
399. 
400.         out = io.StringIO()
401.         call_command("showmigrations", format='plan', stdout=out)
402.         self.assertEqual(
403.             "[x]  migrations.0001_initial\n"
404.             "[x]  migrations.0003_third\n"
405.             "[ ]  migrations.0002_second\n",
406.             out.getvalue().lower()
407.         )
408. 
409.         out = io.StringIO()
410.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
411.         self.assertEqual(
412.             "[x]  migrations.0001_initial\n"
413.             "[x]  migrations.0003_third ... (migrations.0001_initial)\n"
414.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
415.             out.getvalue().lower()
416.         )
417. 
418.         # Cleanup by unmigrating everything
419.         call_command("migrate", "migrations", "zero", verbosity=0)
420. 
421.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_plan'})
422.     def test_migrate_plan(self):
423.         """Tests migrate --plan output."""
424.         out = io.StringIO()
425.         # Show the plan up to the third migration.
426.         call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
427.         self.assertEqual(
428.             'Planned operations:\n'
429.             'migrations.0001_initial\n'
430.             '    Create model Salamander\n'
431.             '    Raw Python operation -> Grow salamander tail.\n'
432.             'migrations.0002_second\n'
433.             '    Create model Book\n'
434.             "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
435.             'migrations.0003_third\n'
436.             '    Create model Author\n'
437.             "    Raw SQL operation -> ['SELECT * FROM migrations_author']\n",
438.             out.getvalue()
439.         )
440.         try:
441.             # Migrate to the third migration.
442.             call_command('migrate', 'migrations', '0003', verbosity=0)
443.             out = io.StringIO()
444.             # Show the plan for when there is nothing to apply.
445.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
446.             self.assertEqual(
447.                 'Planned operations:\n'
448.                 '  No planned migration operations.\n',
449.                 out.getvalue()
450.             )
451.             out = io.StringIO()
452.             # Show the plan for reverse migration back to 0001.
453.             call_command('migrate', 'migrations', '0001', plan=True, stdout=out, no_color=True)
454.             self.assertEqual(
455.                 'Planned operations:\n'
456.                 'migrations.0003_third\n'
457.                 '    Undo Create model Author\n'
458.                 "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
459.                 'migrations.0002_second\n'
460.                 '    Undo Create model Book\n'
461.                 "    Raw SQL operation -> ['SELECT * FROM migrations_salamand…\n",
462.                 out.getvalue()
463.             )
464.             out = io.StringIO()
465.             # Show the migration plan to fourth, with truncated details.
466.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)
467.             self.assertEqual(
468.                 'Planned operations:\n'
469.                 'migrations.0004_fourth\n'
470.                 '    Raw SQL operation -> SELECT * FROM migrations_author WHE…\n',
471.                 out.getvalue()
472.             )
473.             # Show the plan when an operation is irreversible.
474.             # Migrate to the fourth migration.
475.             call_command('migrate', 'migrations', '0004', verbosity=0)
476.             out = io.StringIO()
477.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
478.             self.assertEqual(
479.                 'Planned operations:\n'
480.                 'migrations.0004_fourth\n'
481.                 '    Raw SQL operation -> IRREVERSIBLE\n',
482.                 out.getvalue()
483.             )
484.             out = io.StringIO()
485.             call_command('migrate', 'migrations', '0005', plan=True, stdout=out, no_color=True)
486.             # Operation is marked as irreversible only in the revert plan.
487.             self.assertEqual(
488.                 'Planned operations:\n'
489.                 'migrations.0005_fifth\n'
490.                 '    Raw Python operation\n'
491.                 '    Raw Python operation\n'
492.                 '    Raw Python operation -> Feed salamander.\n',
493.                 out.getvalue()
494.             )
495.             call_command('migrate', 'migrations', '0005', verbosity=0)
496.             out = io.StringIO()
497.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)
498.             self.assertEqual(
499.                 'Planned operations:\n'
500.                 'migrations.0005_fifth\n'
501.                 '    Raw Python operation -> IRREVERSIBLE\n'
502.                 '    Raw Python operation -> IRREVERSIBLE\n'
503.                 '    Raw Python operation\n',
504.                 out.getvalue()
505.             )
506.         finally:
507.             # Cleanup by unmigrating everything: fake the irreversible, then
508.             # migrate all to zero.
509.             call_command('migrate', 'migrations', '0003', fake=True, verbosity=0)
510.             call_command('migrate', 'migrations', 'zero', verbosity=0)
511. 
512.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_empty'})
513.     def test_showmigrations_no_migrations(self):
514.         out = io.StringIO()
515.         call_command('showmigrations', stdout=out, no_color=True)
516.         self.assertEqual('migrations\n (no migrations)\n', out.getvalue().lower())
517. 
518.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app'])
519.     def test_showmigrations_unmigrated_app(self):
520.         out = io.StringIO()
521.         call_command('showmigrations', 'unmigrated_app', stdout=out, no_color=True)
522.         try:
523.             self.assertEqual('unmigrated_app\n (no migrations)\n', out.getvalue().lower())
524.         finally:
525.             # unmigrated_app.SillyModel has a foreign key to
526.             # 'migrations.Tribble', but that model is only defined in a
527.             # migration, so the global app registry never sees it and the
528.             # reference is left dangling. Remove it to avoid problems in
529.             # subsequent tests.
530.             apps._pending_operations.pop(('migrations', 'tribble'), None)
531. 
532.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_empty"})
533.     def test_showmigrations_plan_no_migrations(self):
534.         """
535.         Tests --plan output of showmigrations command without migrations
536.         """
537.         out = io.StringIO()
538.         call_command('showmigrations', format='plan', stdout=out, no_color=True)
539.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
540. 
541.         out = io.StringIO()
542.         call_command('showmigrations', format='plan', stdout=out, verbosity=2, no_color=True)
543.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
544. 
545.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed_complex"})
546.     def test_showmigrations_plan_squashed(self):
547.         """
548.         Tests --plan output of showmigrations command with squashed migrations.
549.         """
550.         out = io.StringIO()
551.         call_command("showmigrations", format='plan', stdout=out)
552.         self.assertEqual(
553.             "[ ]  migrations.1_auto\n"
554.             "[ ]  migrations.2_auto\n"
555.             "[ ]  migrations.3_squashed_5\n"
556.             "[ ]  migrations.6_auto\n"
557.             "[ ]  migrations.7_auto\n",
558.             out.getvalue().lower()
559.         )
560. 
561.         out = io.StringIO()
562.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
563.         self.assertEqual(
564.             "[ ]  migrations.1_auto\n"
565.             "[ ]  migrations.2_auto ... (migrations.1_auto)\n"
566.             "[ ]  migrations.3_squashed_5 ... (migrations.2_auto)\n"
567.             "[ ]  migrations.6_auto ... (migrations.3_squashed_5)\n"
568.             "[ ]  migrations.7_auto ... (migrations.6_auto)\n",
569.             out.getvalue().lower()
570.         )
571. 
572.         call_command("migrate", "migrations", "3_squashed_5", verbosity=0)
573. 
574.         out = io.StringIO()
575.         call_command("showmigrations", format='plan', stdout=out)
576.         self.assertEqual(
577.             "[x]  migrations.1_auto\n"
578.             "[x]  migrations.2_auto\n"
579.             "[x]  migrations.3_squashed_5\n"
580.             "[ ]  migrations.6_auto\n"
581.             "[ ]  migrations.7_auto\n",
582.             out.getvalue().lower()
583.         )
584. 
585.         out = io.StringIO()
586.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
587.         self.assertEqual(
588.             "[x]  migrations.1_auto\n"
589.             "[x]  migrations.2_auto ... (migrations.1_auto)\n"
590.             "[x]  migrations.3_squashed_5 ... (migrations.2_auto)\n"
591.             "[ ]  migrations.6_auto ... (migrations.3_squashed_5)\n"
592.             "[ ]  migrations.7_auto ... (migrations.6_auto)\n",
593.             out.getvalue().lower()
594.         )
595. 
596.     @override_settings(INSTALLED_APPS=[
597.         'migrations.migrations_test_apps.mutate_state_b',
598.         'migrations.migrations_test_apps.alter_fk.author_app',
599.         'migrations.migrations_test_apps.alter_fk.book_app',
600.     ])
601.     def test_showmigrations_plan_single_app_label(self):
602.         """
603.         `showmigrations --plan app_label` output with a single app_label.
604.         """
605.         # Single app with no dependencies on other apps.
606.         out = io.StringIO()
607.         call_command('showmigrations', 'mutate_state_b', format='plan', stdout=out)
608.         self.assertEqual(
609.             '[ ]  mutate_state_b.0001_initial\n'
610.             '[ ]  mutate_state_b.0002_add_field\n',
611.             out.getvalue()
612.         )
613.         # Single app with dependencies.
614.         out = io.StringIO()
615.         call_command('showmigrations', 'author_app', format='plan', stdout=out)
616.         self.assertEqual(
617.             '[ ]  author_app.0001_initial\n'
618.             '[ ]  book_app.0001_initial\n'
619.             '[ ]  author_app.0002_alter_id\n',
620.             out.getvalue()
621.         )
622.         # Some migrations already applied.
623.         call_command('migrate', 'author_app', '0001', verbosity=0)
624.         out = io.StringIO()
625.         call_command('showmigrations', 'author_app', format='plan', stdout=out)
626.         self.assertEqual(
627.             '[X]  author_app.0001_initial\n'
628.             '[ ]  book_app.0001_initial\n'
629.             '[ ]  author_app.0002_alter_id\n',
630.             out.getvalue()
631.         )
632.         # Cleanup by unmigrating author_app.
633.         call_command('migrate', 'author_app', 'zero', verbosity=0)
634. 
635.     @override_settings(INSTALLED_APPS=[
636.         'migrations.migrations_test_apps.mutate_state_b',
637.         'migrations.migrations_test_apps.alter_fk.author_app',
638.         'migrations.migrations_test_apps.alter_fk.book_app',
639.     ])
640.     def test_showmigrations_plan_multiple_app_labels(self):
641.         """
642.         `showmigrations --plan app_label` output with multiple app_labels.
643.         """
644.         # Multiple apps: author_app depends on book_app; mutate_state_b doesn't
645.         # depend on other apps.
646.         out = io.StringIO()
647.         call_command('showmigrations', 'mutate_state_b', 'author_app', format='plan', stdout=out)
648.         self.assertEqual(
649.             '[ ]  author_app.0001_initial\n'
650.             '[ ]  book_app.0001_initial\n'
651.             '[ ]  author_app.0002_alter_id\n'
652.             '[ ]  mutate_state_b.0001_initial\n'
653.             '[ ]  mutate_state_b.0002_add_field\n',
654.             out.getvalue()
655.         )
656.         # Multiple apps: args order shouldn't matter (the same result is
657.         # expected as above).
658.         out = io.StringIO()
659.         call_command('showmigrations', 'author_app', 'mutate_state_b', format='plan', stdout=out)
660.         self.assertEqual(
661.             '[ ]  author_app.0001_initial\n'
662.             '[ ]  book_app.0001_initial\n'
663.             '[ ]  author_app.0002_alter_id\n'
664.             '[ ]  mutate_state_b.0001_initial\n'
665.             '[ ]  mutate_state_b.0002_add_field\n',
666.             out.getvalue()
667.         )
668. 
669.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app'])
670.     def test_showmigrations_plan_app_label_no_migrations(self):
671.         out = io.StringIO()
672.         call_command('showmigrations', 'unmigrated_app', format='plan', stdout=out, no_color=True)
673.         try:
674.             self.assertEqual('(no migrations)\n', out.getvalue())
675.         finally:
676.             # unmigrated_app.SillyModel has a foreign key to
677.             # 'migrations.Tribble', but that model is only defined in a
678.             # migration, so the global app registry never sees it and the
679.             # reference is left dangling. Remove it to avoid problems in
680.             # subsequent tests.
681.             apps._pending_operations.pop(('migrations', 'tribble'), None)
682. 
683.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
684.     def test_sqlmigrate_forwards(self):
685.         """
686.         sqlmigrate outputs forward looking SQL.
687.         """
688.         out = io.StringIO()
689.         call_command("sqlmigrate", "migrations", "0001", stdout=out)
690.         output = out.getvalue().lower()
691. 
692.         index_tx_start = output.find(connection.ops.start_transaction_sql().lower())
693.         index_op_desc_author = output.find('-- create model author')
694.         index_create_table = output.find('create table')
695.         index_op_desc_tribble = output.find('-- create model tribble')
696.         index_op_desc_unique_together = output.find('-- alter unique_together')
697.         index_tx_end = output.find(connection.ops.end_transaction_sql().lower())
698. 
699.         if connection.features.can_rollback_ddl:
700.             self.assertGreater(index_tx_start, -1, "Transaction start not found")
701.             self.assertGreater(
702.                 index_tx_end, index_op_desc_unique_together,
703.                 "Transaction end not found or found before operation description (unique_together)"
704.             )
705. 
706.         self.assertGreater(
707.             index_op_desc_author, index_tx_start,
708.             "Operation description (author) not found or found before transaction start"
709.         )
710.         self.assertGreater(
711.             index_create_table, index_op_desc_author,
712.             "CREATE TABLE not found or found before operation description (author)"
713.         )
714.         self.assertGreater(
715.             index_op_desc_tribble, index_create_table,
716.             "Operation description (tribble) not found or found before CREATE TABLE (author)"
717.         )
718.         self.assertGreater(
719.             index_op_desc_unique_together, index_op_desc_tribble,
720.             "Operation description (unique_together) not found or found before operation description (tribble)"
721.         )
722. 
723.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
724.     def test_sqlmigrate_backwards(self):
725.         """
726.         sqlmigrate outputs reverse looking SQL.
727.         """
728.         # Cannot generate the reverse SQL unless we've applied the migration.
729.         call_command("migrate", "migrations", verbosity=0)
730. 
731.         out = io.StringIO()
732.         call_command("sqlmigrate", "migrations", "0001", stdout=out, backwards=True)
733.         output = out.getvalue().lower()
734. 
735.         index_tx_start = output.find(connection.ops.start_transaction_sql().lower())
736.         index_op_desc_unique_together = output.find('-- alter unique_together')
737.         index_op_desc_tribble = output.find('-- create model tribble')
738.         index_op_desc_author = output.find('-- create model author')
739.         index_drop_table = output.rfind('drop table')
740.         index_tx_end = output.find(connection.ops.end_transaction_sql().lower())
741. 
742.         if connection.features.can_rollback_ddl:
743.             self.assertGreater(index_tx_start, -1, "Transaction start not found")
744.             self.assertGreater(
745.                 index_tx_end, index_op_desc_unique_together,
746.                 "Transaction end not found or found before DROP TABLE"
747.             )
748.         self.assertGreater(
749.             index_op_desc_unique_together, index_tx_start,
750.             "Operation description (unique_together) not found or found before transaction start"
751.         )
752.         self.assertGreater(
753.             index_op_desc_tribble, index_op_desc_unique_together,
754.             "Operation description (tribble) not found or found before operation description (unique_together)"
755.         )
756.         self.assertGreater(
757.             index_op_desc_author, index_op_desc_tribble,
758.             "Operation description (author) not found or found before operation description (tribble)"
759.         )
760. 
761.         self.assertGreater(
762.             index_drop_table, index_op_desc_author,
763.             "DROP TABLE not found or found before operation description (author)"
764.         )
765. 
766.         # Cleanup by unmigrating everything
767.         call_command("migrate", "migrations", "zero", verbosity=0)
768. 
769.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_non_atomic"})
770.     def test_sqlmigrate_for_non_atomic_migration(self):
771.         """
772.         Transaction wrappers aren't shown for non-atomic migrations.
773.         """
774.         out = io.StringIO()
775.         call_command("sqlmigrate", "migrations", "0001", stdout=out)
776.         output = out.getvalue().lower()
777.         queries = [q.strip() for q in output.splitlines()]
778.         if connection.ops.start_transaction_sql():
779.             self.assertNotIn(connection.ops.start_transaction_sql().lower(), queries)
780.         self.assertNotIn(connection.ops.end_transaction_sql().lower(), queries)
781. 
782.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
783.     def test_sqlmigrate_for_non_transactional_databases(self):
784.         """
785.         Transaction wrappers aren't shown for databases that don't support
786.         transactional DDL.
787.         """
788.         out = io.StringIO()
789.         with mock.patch.object(connection.features, 'can_rollback_ddl', False):
790.             call_command('sqlmigrate', 'migrations', '0001', stdout=out)
791.         output = out.getvalue().lower()
792.         queries = [q.strip() for q in output.splitlines()]
793.         start_transaction_sql = connection.ops.start_transaction_sql()
794.         if start_transaction_sql:
795.             self.assertNotIn(start_transaction_sql.lower(), queries)
796.         self.assertNotIn(connection.ops.end_transaction_sql().lower(), queries)
797. 
798.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
799.     def test_sqlmigrate_ambiguous_prefix_squashed_migrations(self):
800.         msg = (
801.             "More than one migration matches '0001' in app 'migrations'. "
802.             "Please be more specific."
803.         )
804.         with self.assertRaisesMessage(CommandError, msg):
805.             call_command('sqlmigrate', 'migrations', '0001')
806. 
807.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
808.     def test_sqlmigrate_squashed_migration(self):
809.         out = io.StringIO()
810.         call_command('sqlmigrate', 'migrations', '0001_squashed_0002', stdout=out)
811.         output = out.getvalue().lower()
812.         self.assertIn('-- create model author', output)
813.         self.assertIn('-- create model book', output)
814.         self.assertNotIn('-- create model tribble', output)
815. 
816.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
817.     def test_sqlmigrate_replaced_migration(self):
818.         out = io.StringIO()
819.         call_command('sqlmigrate', 'migrations', '0001_initial', stdout=out)
820.         output = out.getvalue().lower()
821.         self.assertIn('-- create model author', output)
822.         self.assertIn('-- create model tribble', output)
823. 
824.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_no_operations'})
825.     def test_migrations_no_operations(self):
826.         err = io.StringIO()
827.         call_command('sqlmigrate', 'migrations', '0001_initial', stderr=err)
828.         self.assertEqual(err.getvalue(), 'No operations found.\n')
829. 
830.     @override_settings(
831.         INSTALLED_APPS=[
832.             "migrations.migrations_test_apps.migrated_app",
833.             "migrations.migrations_test_apps.migrated_unapplied_app",
834.             "migrations.migrations_test_apps.unmigrated_app",
835.         ],
836.     )
837.     def test_regression_22823_unmigrated_fk_to_migrated_model(self):
838.         """
839.         Assuming you have 3 apps, `A`, `B`, and `C`, such that:
840. 
841.         * `A` has migrations
842.         * `B` has a migration we want to apply
843.         * `C` has no migrations, but has an FK to `A`
844. 
845.         When we try to migrate "B", an exception occurs because the
846.         "B" was not included in the ProjectState that is used to detect
847.         soft-applied migrations (#22823).
848.         """
849.         call_command('migrate', 'migrated_unapplied_app', verbosity=0)
850. 
851.         # unmigrated_app.SillyModel has a foreign key to 'migrations.Tribble',
852.         # but that model is only defined in a migration, so the global app
853.         # registry never sees it and the reference is left dangling. Remove it
854.         # to avoid problems in subsequent tests.
855.         apps._pending_operations.pop(('migrations', 'tribble'), None)
856. 
857.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app_syncdb'])
858.     def test_migrate_syncdb_deferred_sql_executed_with_schemaeditor(self):
859.         """
860.         For an app without migrations, editor.execute() is used for executing
861.         the syncdb deferred SQL.
862.         """
863.         stdout = io.StringIO()
864.         with mock.patch.object(BaseDatabaseSchemaEditor, 'execute') as execute:
865.             call_command('migrate', run_syncdb=True, verbosity=1, stdout=stdout, no_color=True)
866.             create_table_count = len([call for call in execute.mock_calls if 'CREATE TABLE' in str(call)])
867.             self.assertEqual(create_table_count, 2)
868.             # There's at least one deferred SQL for creating the foreign key
869.             # index.
870.             self.assertGreater(len(execute.mock_calls), 2)
871.         stdout = stdout.getvalue()
872.         self.assertIn('Synchronize unmigrated apps: unmigrated_app_syncdb', stdout)
873.         self.assertIn('Creating tables...', stdout)
874.         table_name = truncate_name('unmigrated_app_syncdb_classroom', connection.ops.max_name_length())
875.         self.assertIn('Creating table %s' % table_name, stdout)
876. 
877.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
878.     def test_migrate_syncdb_app_with_migrations(self):
879.         msg = "Can't use run_syncdb with app 'migrations' as it has migrations."
880.         with self.assertRaisesMessage(CommandError, msg):
881.             call_command('migrate', 'migrations', run_syncdb=True, verbosity=0)
882. 
883.     @override_settings(INSTALLED_APPS=[
884.         'migrations.migrations_test_apps.unmigrated_app_syncdb',
885.         'migrations.migrations_test_apps.unmigrated_app_simple',
886.     ])
887.     def test_migrate_syncdb_app_label(self):
888.         """
889.         Running migrate --run-syncdb with an app_label only creates tables for
890.         the specified app.
891.         """
892.         stdout = io.StringIO()
893.         with mock.patch.object(BaseDatabaseSchemaEditor, 'execute') as execute:
894.             call_command('migrate', 'unmigrated_app_syncdb', run_syncdb=True, stdout=stdout)
895.             create_table_count = len([call for call in execute.mock_calls if 'CREATE TABLE' in str(call)])
896.             self.assertEqual(create_table_count, 2)
897.             self.assertGreater(len(execute.mock_calls), 2)
898.             self.assertIn('Synchronize unmigrated app: unmigrated_app_syncdb', stdout.getvalue())
899. 
900.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
901.     def test_migrate_record_replaced(self):
902.         """
903.         Running a single squashed migration should record all of the original
904.         replaced migrations as run.
905.         """
906.         recorder = MigrationRecorder(connection)
907.         out = io.StringIO()
908.         call_command("migrate", "migrations", verbosity=0)
909.         call_command("showmigrations", "migrations", stdout=out, no_color=True)
910.         self.assertEqual(
911.             'migrations\n'
912.             ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
913.             out.getvalue().lower()
914.         )
915.         applied_migrations = recorder.applied_migrations()
916.         self.assertIn(("migrations", "0001_initial"), applied_migrations)
917.         self.assertIn(("migrations", "0002_second"), applied_migrations)
918.         self.assertIn(("migrations", "0001_squashed_0002"), applied_migrations)
919.         # Rollback changes
920.         call_command("migrate", "migrations", "zero", verbosity=0)
921. 
922.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
923.     def test_migrate_record_squashed(self):
924.         """
925.         Running migrate for a squashed migration should record as run
926.         if all of the replaced migrations have been run (#25231).
927.         """
928.         recorder = MigrationRecorder(connection)
929.         recorder.record_applied("migrations", "0001_initial")
930.         recorder.record_applied("migrations", "0002_second")
931.         out = io.StringIO()
932.         call_command("migrate", "migrations", verbosity=0)
933.         call_command("showmigrations", "migrations", stdout=out, no_color=True)
934.         self.assertEqual(
935.             'migrations\n'
936.             ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
937.             out.getvalue().lower()
938.         )
939.         self.assertIn(
940.             ("migrations", "0001_squashed_0002"),
941.             recorder.applied_migrations()
942.         )
943.         # No changes were actually applied so there is nothing to rollback
944. 
945.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
946.     def test_migrate_inconsistent_history(self):
947.         """
948.         Running migrate with some migrations applied before their dependencies
949.         should not be allowed.
950.         """
951.         recorder = MigrationRecorder(connection)
952.         recorder.record_applied("migrations", "0002_second")
953.         msg = "Migration migrations.0002_second is applied before its dependency migrations.0001_initial"
954.         with self.assertRaisesMessage(InconsistentMigrationHistory, msg):
955.             call_command("migrate")
956.         applied_migrations = recorder.applied_migrations()
957.         self.assertNotIn(("migrations", "0001_initial"), applied_migrations)
958. 
959.     @override_settings(INSTALLED_APPS=[
960.         'migrations.migrations_test_apps.migrated_unapplied_app',
961.         'migrations.migrations_test_apps.migrated_app',
962.     ])
963.     def test_migrate_not_reflected_changes(self):
964.         class NewModel1(models.Model):
965.             class Meta():
966.                 app_label = 'migrated_app'
967. 
968.         class NewModel2(models.Model):
969.             class Meta():
970.                 app_label = 'migrated_unapplied_app'
971. 
972.         out = io.StringIO()
973.         try:
974.             call_command('migrate', verbosity=0)
975.             call_command('migrate', stdout=out, no_color=True)
976.             self.assertEqual(
977.                 "operations to perform:\n"
978.                 "  apply all migrations: migrated_app, migrated_unapplied_app\n"
979.                 "running migrations:\n"
980.                 "  no migrations to apply.\n"
981.                 "  your models in app(s): 'migrated_app', "
982.                 "'migrated_unapplied_app' have changes that are not yet "
983.                 "reflected in a migration, and so won't be applied.\n"
984.                 "  run 'manage.py makemigrations' to make new migrations, and "
985.                 "then re-run 'manage.py migrate' to apply them.\n",
986.                 out.getvalue().lower(),
987.             )
988.         finally:
989.             # Unmigrate everything.
990.             call_command('migrate', 'migrated_app', 'zero', verbosity=0)
991.             call_command('migrate', 'migrated_unapplied_app', 'zero', verbosity=0)
992. 
993. 
994. class MakeMigrationsTests(MigrationTestBase):
995.     """
996.     Tests running the makemigrations command.
997.     """
998. 
999.     def setUp(self):
1000.         super().setUp()


File: tests/migrations/test_executor.py
Line number range: 1 - 854
Content:
1. from unittest import mock
2. 
3. from django.apps.registry import apps as global_apps
4. from django.db import DatabaseError, connection, migrations, models
5. from django.db.migrations.exceptions import InvalidMigrationPlan
6. from django.db.migrations.executor import MigrationExecutor
7. from django.db.migrations.graph import MigrationGraph
8. from django.db.migrations.recorder import MigrationRecorder
9. from django.db.migrations.state import ProjectState
10. from django.test import (
11.     SimpleTestCase, modify_settings, override_settings, skipUnlessDBFeature,
12. )
13. 
14. from .test_base import MigrationTestBase
15. 
16. 
17. @modify_settings(INSTALLED_APPS={'append': 'migrations2'})
18. class ExecutorTests(MigrationTestBase):
19.     """
20.     Tests the migration executor (full end-to-end running).
21. 
22.     Bear in mind that if these are failing you should fix the other
23.     test failures first, as they may be propagating into here.
24.     """
25. 
26.     available_apps = ["migrations", "migrations2", "django.contrib.auth", "django.contrib.contenttypes"]
27. 
28.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
29.     def test_run(self):
30.         """
31.         Tests running a simple set of migrations.
32.         """
33.         executor = MigrationExecutor(connection)
34.         # Let's look at the plan first and make sure it's up to scratch
35.         plan = executor.migration_plan([("migrations", "0002_second")])
36.         self.assertEqual(
37.             plan,
38.             [
39.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
40.                 (executor.loader.graph.nodes["migrations", "0002_second"], False),
41.             ],
42.         )
43.         # Were the tables there before?
44.         self.assertTableNotExists("migrations_author")
45.         self.assertTableNotExists("migrations_book")
46.         # Alright, let's try running it
47.         executor.migrate([("migrations", "0002_second")])
48.         # Are the tables there now?
49.         self.assertTableExists("migrations_author")
50.         self.assertTableExists("migrations_book")
51.         # Rebuild the graph to reflect the new DB state
52.         executor.loader.build_graph()
53.         # Alright, let's undo what we did
54.         plan = executor.migration_plan([("migrations", None)])
55.         self.assertEqual(
56.             plan,
57.             [
58.                 (executor.loader.graph.nodes["migrations", "0002_second"], True),
59.                 (executor.loader.graph.nodes["migrations", "0001_initial"], True),
60.             ],
61.         )
62.         executor.migrate([("migrations", None)])
63.         # Are the tables gone?
64.         self.assertTableNotExists("migrations_author")
65.         self.assertTableNotExists("migrations_book")
66. 
67.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
68.     def test_run_with_squashed(self):
69.         """
70.         Tests running a squashed migration from zero (should ignore what it replaces)
71.         """
72.         executor = MigrationExecutor(connection)
73.         # Check our leaf node is the squashed one
74.         leaves = [key for key in executor.loader.graph.leaf_nodes() if key[0] == "migrations"]
75.         self.assertEqual(leaves, [("migrations", "0001_squashed_0002")])
76.         # Check the plan
77.         plan = executor.migration_plan([("migrations", "0001_squashed_0002")])
78.         self.assertEqual(
79.             plan,
80.             [
81.                 (executor.loader.graph.nodes["migrations", "0001_squashed_0002"], False),
82.             ],
83.         )
84.         # Were the tables there before?
85.         self.assertTableNotExists("migrations_author")
86.         self.assertTableNotExists("migrations_book")
87.         # Alright, let's try running it
88.         executor.migrate([("migrations", "0001_squashed_0002")])
89.         # Are the tables there now?
90.         self.assertTableExists("migrations_author")
91.         self.assertTableExists("migrations_book")
92.         # Rebuild the graph to reflect the new DB state
93.         executor.loader.build_graph()
94.         # Alright, let's undo what we did. Should also just use squashed.
95.         plan = executor.migration_plan([("migrations", None)])
96.         self.assertEqual(
97.             plan,
98.             [
99.                 (executor.loader.graph.nodes["migrations", "0001_squashed_0002"], True),
100.             ],
101.         )
102.         executor.migrate([("migrations", None)])
103.         # Are the tables gone?
104.         self.assertTableNotExists("migrations_author")
105.         self.assertTableNotExists("migrations_book")
106. 
107.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_non_atomic"})
108.     def test_non_atomic_migration(self):
109.         """
110.         Applying a non-atomic migration works as expected.
111.         """
112.         executor = MigrationExecutor(connection)
113.         with self.assertRaisesMessage(RuntimeError, "Abort migration"):
114.             executor.migrate([("migrations", "0001_initial")])
115.         self.assertTableExists("migrations_publisher")
116.         migrations_apps = executor.loader.project_state(("migrations", "0001_initial")).apps
117.         Publisher = migrations_apps.get_model("migrations", "Publisher")
118.         self.assertTrue(Publisher.objects.exists())
119.         self.assertTableNotExists("migrations_book")
120. 
121.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_atomic_operation"})
122.     def test_atomic_operation_in_non_atomic_migration(self):
123.         """
124.         An atomic operation is properly rolled back inside a non-atomic
125.         migration.
126.         """
127.         executor = MigrationExecutor(connection)
128.         with self.assertRaisesMessage(RuntimeError, "Abort migration"):
129.             executor.migrate([("migrations", "0001_initial")])
130.         migrations_apps = executor.loader.project_state(("migrations", "0001_initial")).apps
131.         Editor = migrations_apps.get_model("migrations", "Editor")
132.         self.assertFalse(Editor.objects.exists())
133.         # Record previous migration as successful.
134.         executor.migrate([("migrations", "0001_initial")], fake=True)
135.         # Rebuild the graph to reflect the new DB state.
136.         executor.loader.build_graph()
137.         # Migrating backwards is also atomic.
138.         with self.assertRaisesMessage(RuntimeError, "Abort migration"):
139.             executor.migrate([("migrations", None)])
140.         self.assertFalse(Editor.objects.exists())
141. 
142.     @override_settings(MIGRATION_MODULES={
143.         "migrations": "migrations.test_migrations",
144.         "migrations2": "migrations2.test_migrations_2",
145.     })
146.     def test_empty_plan(self):
147.         """
148.         Re-planning a full migration of a fully-migrated set doesn't
149.         perform spurious unmigrations and remigrations.
150. 
151.         There was previously a bug where the executor just always performed the
152.         backwards plan for applied migrations - which even for the most recent
153.         migration in an app, might include other, dependent apps, and these
154.         were being unmigrated.
155.         """
156.         # Make the initial plan, check it
157.         executor = MigrationExecutor(connection)
158.         plan = executor.migration_plan([
159.             ("migrations", "0002_second"),
160.             ("migrations2", "0001_initial"),
161.         ])
162.         self.assertEqual(
163.             plan,
164.             [
165.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
166.                 (executor.loader.graph.nodes["migrations", "0002_second"], False),
167.                 (executor.loader.graph.nodes["migrations2", "0001_initial"], False),
168.             ],
169.         )
170.         # Fake-apply all migrations
171.         executor.migrate([
172.             ("migrations", "0002_second"),
173.             ("migrations2", "0001_initial")
174.         ], fake=True)
175.         # Rebuild the graph to reflect the new DB state
176.         executor.loader.build_graph()
177.         # Now plan a second time and make sure it's empty
178.         plan = executor.migration_plan([
179.             ("migrations", "0002_second"),
180.             ("migrations2", "0001_initial"),
181.         ])
182.         self.assertEqual(plan, [])
183.         # The resulting state should include applied migrations.
184.         state = executor.migrate([
185.             ("migrations", "0002_second"),
186.             ("migrations2", "0001_initial"),
187.         ])
188.         self.assertIn(('migrations', 'book'), state.models)
189.         self.assertIn(('migrations', 'author'), state.models)
190.         self.assertIn(('migrations2', 'otherauthor'), state.models)
191.         # Erase all the fake records
192.         executor.recorder.record_unapplied("migrations2", "0001_initial")
193.         executor.recorder.record_unapplied("migrations", "0002_second")
194.         executor.recorder.record_unapplied("migrations", "0001_initial")
195. 
196.     @override_settings(MIGRATION_MODULES={
197.         "migrations": "migrations.test_migrations",
198.         "migrations2": "migrations2.test_migrations_2_no_deps",
199.     })
200.     def test_mixed_plan_not_supported(self):
201.         """
202.         Although the MigrationExecutor interfaces allows for mixed migration
203.         plans (combined forwards and backwards migrations) this is not
204.         supported.
205.         """
206.         # Prepare for mixed plan
207.         executor = MigrationExecutor(connection)
208.         plan = executor.migration_plan([("migrations", "0002_second")])
209.         self.assertEqual(
210.             plan,
211.             [
212.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
213.                 (executor.loader.graph.nodes["migrations", "0002_second"], False),
214.             ],
215.         )
216.         executor.migrate(None, plan)
217.         # Rebuild the graph to reflect the new DB state
218.         executor.loader.build_graph()
219.         self.assertIn(('migrations', '0001_initial'), executor.loader.applied_migrations)
220.         self.assertIn(('migrations', '0002_second'), executor.loader.applied_migrations)
221.         self.assertNotIn(('migrations2', '0001_initial'), executor.loader.applied_migrations)
222. 
223.         # Generate mixed plan
224.         plan = executor.migration_plan([
225.             ("migrations", None),
226.             ("migrations2", "0001_initial"),
227.         ])
228.         msg = (
229.             'Migration plans with both forwards and backwards migrations are '
230.             'not supported. Please split your migration process into separate '
231.             'plans of only forwards OR backwards migrations.'
232.         )
233.         with self.assertRaisesMessage(InvalidMigrationPlan, msg) as cm:
234.             executor.migrate(None, plan)
235.         self.assertEqual(
236.             cm.exception.args[1],
237.             [
238.                 (executor.loader.graph.nodes["migrations", "0002_second"], True),
239.                 (executor.loader.graph.nodes["migrations", "0001_initial"], True),
240.                 (executor.loader.graph.nodes["migrations2", "0001_initial"], False),
241.             ],
242.         )
243.         # Rebuild the graph to reflect the new DB state
244.         executor.loader.build_graph()
245.         executor.migrate([
246.             ("migrations", None),
247.             ("migrations2", None),
248.         ])
249.         # Are the tables gone?
250.         self.assertTableNotExists("migrations_author")
251.         self.assertTableNotExists("migrations_book")
252.         self.assertTableNotExists("migrations2_otherauthor")
253. 
254.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
255.     def test_soft_apply(self):
256.         """
257.         Tests detection of initial migrations already having been applied.
258.         """
259.         state = {"faked": None}
260. 
261.         def fake_storer(phase, migration=None, fake=None):
262.             state["faked"] = fake
263.         executor = MigrationExecutor(connection, progress_callback=fake_storer)
264.         # Were the tables there before?
265.         self.assertTableNotExists("migrations_author")
266.         self.assertTableNotExists("migrations_tribble")
267.         # Run it normally
268.         self.assertEqual(
269.             executor.migration_plan([("migrations", "0001_initial")]),
270.             [
271.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
272.             ],
273.         )
274.         executor.migrate([("migrations", "0001_initial")])
275.         # Are the tables there now?
276.         self.assertTableExists("migrations_author")
277.         self.assertTableExists("migrations_tribble")
278.         # We shouldn't have faked that one
279.         self.assertIs(state["faked"], False)
280.         # Rebuild the graph to reflect the new DB state
281.         executor.loader.build_graph()
282.         # Fake-reverse that
283.         executor.migrate([("migrations", None)], fake=True)
284.         # Are the tables still there?
285.         self.assertTableExists("migrations_author")
286.         self.assertTableExists("migrations_tribble")
287.         # Make sure that was faked
288.         self.assertIs(state["faked"], True)
289.         # Finally, migrate forwards; this should fake-apply our initial migration
290.         executor.loader.build_graph()
291.         self.assertEqual(
292.             executor.migration_plan([("migrations", "0001_initial")]),
293.             [
294.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
295.             ],
296.         )
297.         # Applying the migration should raise a database level error
298.         # because we haven't given the --fake-initial option
299.         with self.assertRaises(DatabaseError):
300.             executor.migrate([("migrations", "0001_initial")])
301.         # Reset the faked state
302.         state = {"faked": None}
303.         # Allow faking of initial CreateModel operations
304.         executor.migrate([("migrations", "0001_initial")], fake_initial=True)
305.         self.assertIs(state["faked"], True)
306.         # And migrate back to clean up the database
307.         executor.loader.build_graph()
308.         executor.migrate([("migrations", None)])
309.         self.assertTableNotExists("migrations_author")
310.         self.assertTableNotExists("migrations_tribble")
311. 
312.     @override_settings(
313.         MIGRATION_MODULES={
314.             "migrations": "migrations.test_migrations_custom_user",
315.             "django.contrib.auth": "django.contrib.auth.migrations",
316.         },
317.         AUTH_USER_MODEL="migrations.Author",
318.     )
319.     def test_custom_user(self):
320.         """
321.         Regression test for #22325 - references to a custom user model defined in the
322.         same app are not resolved correctly.
323.         """
324.         executor = MigrationExecutor(connection)
325.         self.assertTableNotExists("migrations_author")
326.         self.assertTableNotExists("migrations_tribble")
327.         # Migrate forwards
328.         executor.migrate([("migrations", "0001_initial")])
329.         self.assertTableExists("migrations_author")
330.         self.assertTableExists("migrations_tribble")
331.         # Make sure the soft-application detection works (#23093)
332.         # Change table_names to not return auth_user during this as
333.         # it wouldn't be there in a normal run, and ensure migrations.Author
334.         # exists in the global app registry temporarily.
335.         old_table_names = connection.introspection.table_names
336.         connection.introspection.table_names = lambda c: [x for x in old_table_names(c) if x != "auth_user"]
337.         migrations_apps = executor.loader.project_state(("migrations", "0001_initial")).apps
338.         global_apps.get_app_config("migrations").models["author"] = migrations_apps.get_model("migrations", "author")
339.         try:
340.             migration = executor.loader.get_migration("auth", "0001_initial")
341.             self.assertIs(executor.detect_soft_applied(None, migration)[0], True)
342.         finally:
343.             connection.introspection.table_names = old_table_names
344.             del global_apps.get_app_config("migrations").models["author"]
345.         # And migrate back to clean up the database
346.         executor.loader.build_graph()
347.         executor.migrate([("migrations", None)])
348.         self.assertTableNotExists("migrations_author")
349.         self.assertTableNotExists("migrations_tribble")
350. 
351.     @override_settings(
352.         MIGRATION_MODULES={
353.             "migrations": "migrations.test_add_many_to_many_field_initial",
354.         },
355.     )
356.     def test_detect_soft_applied_add_field_manytomanyfield(self):
357.         """
358.         executor.detect_soft_applied() detects ManyToManyField tables from an
359.         AddField operation. This checks the case of AddField in a migration
360.         with other operations (0001) and the case of AddField in its own
361.         migration (0002).
362.         """
363.         tables = [
364.             # from 0001
365.             "migrations_project",
366.             "migrations_task",
367.             "migrations_project_tasks",
368.             # from 0002
369.             "migrations_task_projects",
370.         ]
371.         executor = MigrationExecutor(connection)
372.         # Create the tables for 0001 but make it look like the migration hasn't
373.         # been applied.
374.         executor.migrate([("migrations", "0001_initial")])
375.         executor.migrate([("migrations", None)], fake=True)
376.         for table in tables[:3]:
377.             self.assertTableExists(table)
378.         # Table detection sees 0001 is applied but not 0002.
379.         migration = executor.loader.get_migration("migrations", "0001_initial")
380.         self.assertIs(executor.detect_soft_applied(None, migration)[0], True)
381.         migration = executor.loader.get_migration("migrations", "0002_initial")
382.         self.assertIs(executor.detect_soft_applied(None, migration)[0], False)
383. 
384.         # Create the tables for both migrations but make it look like neither
385.         # has been applied.
386.         executor.loader.build_graph()
387.         executor.migrate([("migrations", "0001_initial")], fake=True)
388.         executor.migrate([("migrations", "0002_initial")])
389.         executor.loader.build_graph()
390.         executor.migrate([("migrations", None)], fake=True)
391.         # Table detection sees 0002 is applied.
392.         migration = executor.loader.get_migration("migrations", "0002_initial")
393.         self.assertIs(executor.detect_soft_applied(None, migration)[0], True)
394. 
395.         # Leave the tables for 0001 except the many-to-many table. That missing
396.         # table should cause detect_soft_applied() to return False.
397.         with connection.schema_editor() as editor:
398.             for table in tables[2:]:
399.                 editor.execute(editor.sql_delete_table % {"table": table})
400.         migration = executor.loader.get_migration("migrations", "0001_initial")
401.         self.assertIs(executor.detect_soft_applied(None, migration)[0], False)
402. 
403.         # Cleanup by removing the remaining tables.
404.         with connection.schema_editor() as editor:
405.             for table in tables[:2]:
406.                 editor.execute(editor.sql_delete_table % {"table": table})
407.         for table in tables:
408.             self.assertTableNotExists(table)
409. 
410.     @override_settings(
411.         INSTALLED_APPS=[
412.             "migrations.migrations_test_apps.lookuperror_a",
413.             "migrations.migrations_test_apps.lookuperror_b",
414.             "migrations.migrations_test_apps.lookuperror_c"
415.         ]
416.     )
417.     def test_unrelated_model_lookups_forwards(self):
418.         """
419.         #24123 - All models of apps already applied which are
420.         unrelated to the first app being applied are part of the initial model
421.         state.
422.         """
423.         try:
424.             executor = MigrationExecutor(connection)
425.             self.assertTableNotExists("lookuperror_a_a1")
426.             self.assertTableNotExists("lookuperror_b_b1")
427.             self.assertTableNotExists("lookuperror_c_c1")
428.             executor.migrate([("lookuperror_b", "0003_b3")])
429.             self.assertTableExists("lookuperror_b_b3")
430.             # Rebuild the graph to reflect the new DB state
431.             executor.loader.build_graph()
432. 
433.             # Migrate forwards -- This led to a lookup LookupErrors because
434.             # lookuperror_b.B2 is already applied
435.             executor.migrate([
436.                 ("lookuperror_a", "0004_a4"),
437.                 ("lookuperror_c", "0003_c3"),
438.             ])
439.             self.assertTableExists("lookuperror_a_a4")
440.             self.assertTableExists("lookuperror_c_c3")
441. 
442.             # Rebuild the graph to reflect the new DB state
443.             executor.loader.build_graph()
444.         finally:
445.             # Cleanup
446.             executor.migrate([
447.                 ("lookuperror_a", None),
448.                 ("lookuperror_b", None),
449.                 ("lookuperror_c", None),
450.             ])
451.             self.assertTableNotExists("lookuperror_a_a1")
452.             self.assertTableNotExists("lookuperror_b_b1")
453.             self.assertTableNotExists("lookuperror_c_c1")
454. 
455.     @override_settings(
456.         INSTALLED_APPS=[
457.             "migrations.migrations_test_apps.lookuperror_a",
458.             "migrations.migrations_test_apps.lookuperror_b",
459.             "migrations.migrations_test_apps.lookuperror_c"
460.         ]
461.     )
462.     def test_unrelated_model_lookups_backwards(self):
463.         """
464.         #24123 - All models of apps being unapplied which are
465.         unrelated to the first app being unapplied are part of the initial
466.         model state.
467.         """
468.         try:
469.             executor = MigrationExecutor(connection)
470.             self.assertTableNotExists("lookuperror_a_a1")
471.             self.assertTableNotExists("lookuperror_b_b1")
472.             self.assertTableNotExists("lookuperror_c_c1")
473.             executor.migrate([
474.                 ("lookuperror_a", "0004_a4"),
475.                 ("lookuperror_b", "0003_b3"),
476.                 ("lookuperror_c", "0003_c3"),
477.             ])
478.             self.assertTableExists("lookuperror_b_b3")
479.             self.assertTableExists("lookuperror_a_a4")
480.             self.assertTableExists("lookuperror_c_c3")
481.             # Rebuild the graph to reflect the new DB state
482.             executor.loader.build_graph()
483. 
484.             # Migrate backwards -- This led to a lookup LookupErrors because
485.             # lookuperror_b.B2 is not in the initial state (unrelated to app c)
486.             executor.migrate([("lookuperror_a", None)])
487. 
488.             # Rebuild the graph to reflect the new DB state
489.             executor.loader.build_graph()
490.         finally:
491.             # Cleanup
492.             executor.migrate([
493.                 ("lookuperror_b", None),
494.                 ("lookuperror_c", None)
495.             ])
496.             self.assertTableNotExists("lookuperror_a_a1")
497.             self.assertTableNotExists("lookuperror_b_b1")
498.             self.assertTableNotExists("lookuperror_c_c1")
499. 
500.     @override_settings(
501.         INSTALLED_APPS=[
502.             'migrations.migrations_test_apps.mutate_state_a',
503.             'migrations.migrations_test_apps.mutate_state_b',
504.         ]
505.     )
506.     def test_unrelated_applied_migrations_mutate_state(self):
507.         """
508.         #26647 - Unrelated applied migrations should be part of the final
509.         state in both directions.
510.         """
511.         executor = MigrationExecutor(connection)
512.         executor.migrate([
513.             ('mutate_state_b', '0002_add_field'),
514.         ])
515.         # Migrate forward.
516.         executor.loader.build_graph()
517.         state = executor.migrate([
518.             ('mutate_state_a', '0001_initial'),
519.         ])
520.         self.assertIn('added', state.models['mutate_state_b', 'b'].fields)
521.         executor.loader.build_graph()
522.         # Migrate backward.
523.         state = executor.migrate([
524.             ('mutate_state_a', None),
525.         ])
526.         self.assertIn('added', state.models['mutate_state_b', 'b'].fields)
527.         executor.migrate([
528.             ('mutate_state_b', None),
529.         ])
530. 
531.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
532.     def test_process_callback(self):
533.         """
534.         #24129 - Tests callback process
535.         """
536.         call_args_list = []
537. 
538.         def callback(*args):
539.             call_args_list.append(args)
540. 
541.         executor = MigrationExecutor(connection, progress_callback=callback)
542.         # Were the tables there before?
543.         self.assertTableNotExists("migrations_author")
544.         self.assertTableNotExists("migrations_tribble")
545.         executor.migrate([
546.             ("migrations", "0001_initial"),
547.             ("migrations", "0002_second"),
548.         ])
549.         # Rebuild the graph to reflect the new DB state
550.         executor.loader.build_graph()
551. 
552.         executor.migrate([
553.             ("migrations", None),
554.             ("migrations", None),
555.         ])
556.         self.assertTableNotExists("migrations_author")
557.         self.assertTableNotExists("migrations_tribble")
558. 
559.         migrations = executor.loader.graph.nodes
560.         expected = [
561.             ("render_start",),
562.             ("render_success",),
563.             ("apply_start", migrations['migrations', '0001_initial'], False),
564.             ("apply_success", migrations['migrations', '0001_initial'], False),
565.             ("apply_start", migrations['migrations', '0002_second'], False),
566.             ("apply_success", migrations['migrations', '0002_second'], False),
567.             ("render_start",),
568.             ("render_success",),
569.             ("unapply_start", migrations['migrations', '0002_second'], False),
570.             ("unapply_success", migrations['migrations', '0002_second'], False),
571.             ("unapply_start", migrations['migrations', '0001_initial'], False),
572.             ("unapply_success", migrations['migrations', '0001_initial'], False),
573.         ]
574.         self.assertEqual(call_args_list, expected)
575. 
576.     @override_settings(
577.         INSTALLED_APPS=[
578.             "migrations.migrations_test_apps.alter_fk.author_app",
579.             "migrations.migrations_test_apps.alter_fk.book_app",
580.         ]
581.     )
582.     def test_alter_id_type_with_fk(self):
583.         try:
584.             executor = MigrationExecutor(connection)
585.             self.assertTableNotExists("author_app_author")
586.             self.assertTableNotExists("book_app_book")
587.             # Apply initial migrations
588.             executor.migrate([
589.                 ("author_app", "0001_initial"),
590.                 ("book_app", "0001_initial"),
591.             ])
592.             self.assertTableExists("author_app_author")
593.             self.assertTableExists("book_app_book")
594.             # Rebuild the graph to reflect the new DB state
595.             executor.loader.build_graph()
596. 
597.             # Apply PK type alteration
598.             executor.migrate([("author_app", "0002_alter_id")])
599. 
600.             # Rebuild the graph to reflect the new DB state
601.             executor.loader.build_graph()
602.         finally:
603.             # We can't simply unapply the migrations here because there is no
604.             # implicit cast from VARCHAR to INT on the database level.
605.             with connection.schema_editor() as editor:
606.                 editor.execute(editor.sql_delete_table % {"table": "book_app_book"})
607.                 editor.execute(editor.sql_delete_table % {"table": "author_app_author"})
608.             self.assertTableNotExists("author_app_author")
609.             self.assertTableNotExists("book_app_book")
610.             executor.migrate([("author_app", None)], fake=True)
611. 
612.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
613.     def test_apply_all_replaced_marks_replacement_as_applied(self):
614.         """
615.         Applying all replaced migrations marks replacement as applied (#24628).
616.         """
617.         recorder = MigrationRecorder(connection)
618.         # Place the database in a state where the replaced migrations are
619.         # partially applied: 0001 is applied, 0002 is not.
620.         recorder.record_applied("migrations", "0001_initial")
621.         executor = MigrationExecutor(connection)
622.         # Use fake because we don't actually have the first migration
623.         # applied, so the second will fail. And there's no need to actually
624.         # create/modify tables here, we're just testing the
625.         # MigrationRecord, which works the same with or without fake.
626.         executor.migrate([("migrations", "0002_second")], fake=True)
627. 
628.         # Because we've now applied 0001 and 0002 both, their squashed
629.         # replacement should be marked as applied.
630.         self.assertIn(
631.             ("migrations", "0001_squashed_0002"),
632.             recorder.applied_migrations(),
633.         )
634. 
635.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
636.     def test_migrate_marks_replacement_applied_even_if_it_did_nothing(self):
637.         """
638.         A new squash migration will be marked as applied even if all its
639.         replaced migrations were previously already applied (#24628).
640.         """
641.         recorder = MigrationRecorder(connection)
642.         # Record all replaced migrations as applied
643.         recorder.record_applied("migrations", "0001_initial")
644.         recorder.record_applied("migrations", "0002_second")
645.         executor = MigrationExecutor(connection)
646.         executor.migrate([("migrations", "0001_squashed_0002")])
647. 
648.         # Because 0001 and 0002 are both applied, even though this migrate run
649.         # didn't apply anything new, their squashed replacement should be
650.         # marked as applied.
651.         self.assertIn(
652.             ("migrations", "0001_squashed_0002"),
653.             recorder.applied_migrations(),
654.         )
655. 
656.     # When the feature is False, the operation and the record won't be
657.     # performed in a transaction and the test will systematically pass.
658.     @skipUnlessDBFeature('can_rollback_ddl')
659.     def test_migrations_applied_and_recorded_atomically(self):
660.         """Migrations are applied and recorded atomically."""
661.         class Migration(migrations.Migration):
662.             operations = [
663.                 migrations.CreateModel('model', [
664.                     ('id', models.AutoField(primary_key=True)),
665.                 ]),
666.             ]
667. 
668.         executor = MigrationExecutor(connection)
669.         with mock.patch('django.db.migrations.executor.MigrationExecutor.record_migration') as record_migration:
670.             record_migration.side_effect = RuntimeError('Recording migration failed.')
671.             with self.assertRaisesMessage(RuntimeError, 'Recording migration failed.'):
672.                 executor.apply_migration(
673.                     ProjectState(),
674.                     Migration('0001_initial', 'record_migration'),
675.                 )
676.                 executor.migrate([('migrations', '0001_initial')])
677.         # The migration isn't recorded as applied since it failed.
678.         migration_recorder = MigrationRecorder(connection)
679.         self.assertIs(
680.             migration_recorder.migration_qs.filter(
681.                 app='record_migration', name='0001_initial',
682.             ).exists(),
683.             False,
684.         )
685.         self.assertTableNotExists('record_migration_model')
686. 
687.     def test_migrations_not_applied_on_deferred_sql_failure(self):
688.         """Migrations are not recorded if deferred SQL application fails."""
689.         class DeferredSQL:
690.             def __str__(self):
691.                 raise DatabaseError('Failed to apply deferred SQL')
692. 
693.         class Migration(migrations.Migration):
694.             atomic = False
695. 
696.             def apply(self, project_state, schema_editor, collect_sql=False):
697.                 schema_editor.deferred_sql.append(DeferredSQL())
698. 
699.         executor = MigrationExecutor(connection)
700.         with self.assertRaisesMessage(DatabaseError, 'Failed to apply deferred SQL'):
701.             executor.apply_migration(
702.                 ProjectState(),
703.                 Migration('0001_initial', 'deferred_sql'),
704.             )
705.         # The migration isn't recorded as applied since it failed.
706.         migration_recorder = MigrationRecorder(connection)
707.         self.assertIs(
708.             migration_recorder.migration_qs.filter(
709.                 app='deferred_sql', name='0001_initial',
710.             ).exists(),
711.             False,
712.         )
713. 
714. 
715. class FakeLoader:
716.     def __init__(self, graph, applied):
717.         self.graph = graph
718.         self.applied_migrations = applied
719. 
720. 
721. class FakeMigration:
722.     """Really all we need is any object with a debug-useful repr."""
723.     def __init__(self, name):
724.         self.name = name
725. 
726.     def __repr__(self):
727.         return 'M<%s>' % self.name
728. 
729. 
730. class ExecutorUnitTests(SimpleTestCase):
731.     """(More) isolated unit tests for executor methods."""
732.     def test_minimize_rollbacks(self):
733.         """
734.         Minimize unnecessary rollbacks in connected apps.
735. 
736.         When you say "./manage.py migrate appA 0001", rather than migrating to
737.         just after appA-0001 in the linearized migration plan (which could roll
738.         back migrations in other apps that depend on appA 0001, but don't need
739.         to be rolled back since we're not rolling back appA 0001), we migrate
740.         to just before appA-0002.
741.         """
742.         a1_impl = FakeMigration('a1')
743.         a1 = ('a', '1')
744.         a2_impl = FakeMigration('a2')
745.         a2 = ('a', '2')
746.         b1_impl = FakeMigration('b1')
747.         b1 = ('b', '1')
748.         graph = MigrationGraph()
749.         graph.add_node(a1, a1_impl)
750.         graph.add_node(a2, a2_impl)
751.         graph.add_node(b1, b1_impl)
752.         graph.add_dependency(None, b1, a1)
753.         graph.add_dependency(None, a2, a1)
754. 
755.         executor = MigrationExecutor(None)
756.         executor.loader = FakeLoader(graph, {
757.             a1: a1_impl,
758.             b1: b1_impl,
759.             a2: a2_impl,
760.         })
761. 
762.         plan = executor.migration_plan({a1})
763. 
764.         self.assertEqual(plan, [(a2_impl, True)])
765. 
766.     def test_minimize_rollbacks_branchy(self):
767.         r"""
768.         Minimize rollbacks when target has multiple in-app children.
769. 
770.         a: 1 <---- 3 <--\
771.               \ \- 2 <--- 4
772.                \       \
773.         b:      \- 1 <--- 2
774.         """
775.         a1_impl = FakeMigration('a1')
776.         a1 = ('a', '1')
777.         a2_impl = FakeMigration('a2')
778.         a2 = ('a', '2')
779.         a3_impl = FakeMigration('a3')
780.         a3 = ('a', '3')
781.         a4_impl = FakeMigration('a4')
782.         a4 = ('a', '4')
783.         b1_impl = FakeMigration('b1')
784.         b1 = ('b', '1')
785.         b2_impl = FakeMigration('b2')
786.         b2 = ('b', '2')
787.         graph = MigrationGraph()
788.         graph.add_node(a1, a1_impl)
789.         graph.add_node(a2, a2_impl)
790.         graph.add_node(a3, a3_impl)
791.         graph.add_node(a4, a4_impl)
792.         graph.add_node(b1, b1_impl)
793.         graph.add_node(b2, b2_impl)
794.         graph.add_dependency(None, a2, a1)
795.         graph.add_dependency(None, a3, a1)
796.         graph.add_dependency(None, a4, a2)
797.         graph.add_dependency(None, a4, a3)
798.         graph.add_dependency(None, b2, b1)
799.         graph.add_dependency(None, b1, a1)
800.         graph.add_dependency(None, b2, a2)
801. 
802.         executor = MigrationExecutor(None)
803.         executor.loader = FakeLoader(graph, {
804.             a1: a1_impl,
805.             b1: b1_impl,
806.             a2: a2_impl,
807.             b2: b2_impl,
808.             a3: a3_impl,
809.             a4: a4_impl,
810.         })
811. 
812.         plan = executor.migration_plan({a1})
813. 
814.         should_be_rolled_back = [b2_impl, a4_impl, a2_impl, a3_impl]
815.         exp = [(m, True) for m in should_be_rolled_back]
816.         self.assertEqual(plan, exp)
817. 
818.     def test_backwards_nothing_to_do(self):
819.         r"""
820.         If the current state satisfies the given target, do nothing.
821. 
822.         a: 1 <--- 2
823.         b:    \- 1
824.         c:     \- 1
825. 
826.         If a1 is applied already and a2 is not, and we're asked to migrate to
827.         a1, don't apply or unapply b1 or c1, regardless of their current state.
828.         """
829.         a1_impl = FakeMigration('a1')
830.         a1 = ('a', '1')
831.         a2_impl = FakeMigration('a2')
832.         a2 = ('a', '2')
833.         b1_impl = FakeMigration('b1')
834.         b1 = ('b', '1')
835.         c1_impl = FakeMigration('c1')
836.         c1 = ('c', '1')
837.         graph = MigrationGraph()
838.         graph.add_node(a1, a1_impl)
839.         graph.add_node(a2, a2_impl)
840.         graph.add_node(b1, b1_impl)
841.         graph.add_node(c1, c1_impl)
842.         graph.add_dependency(None, a2, a1)
843.         graph.add_dependency(None, b1, a1)
844.         graph.add_dependency(None, c1, a1)
845. 
846.         executor = MigrationExecutor(None)
847.         executor.loader = FakeLoader(graph, {
848.             a1: a1_impl,
849.             b1: b1_impl,
850.         })
851. 
852.         plan = executor.migration_plan({a1})
853. 
854.         self.assertEqual(plan, [])

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-24 00:48:15,092 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants three complete and self-contained test cases. The most relevant test cases from `tests/migrations/test_commands.py` and `tests/migrations/test_executor.py` inherit from `MigrationTestBase`, which is defined in `tests/migrations/test_base.py`. To understand the full test setup, including any helper methods or assertions, I need the content of this base class.' query='Please provide the full content of tests/migrations/test_base.py.' extra_requirements='' purpose='I need the content of the base test class to provide complete and self-contained test cases as requested by the user.'
2025-12-24 00:48:15,093 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of tests/migrations/test_base.py.
2025-12-24 00:48:15,093 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-24 00:48:15,094 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-24 00:48:15,095 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-24 00:48:15,095 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of tests/migrations/test_base.py.
Purpose: I need the content of the base test class to provide complete and self-contained test cases as requested by the user.
2025-12-24 00:48:17,431 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of `tests/migrations/test_base.py`. This file likely contains the base test class that other migration tests inherit from. Having the full content will help in understanding the complete testing framework.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/migrations/test_base.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2104, 'candidates_token_count': 69, 'total_token_count': 2262, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2104}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 69}], 'thoughts_token_count': 89, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1285851934681768, 'model_name': 'gemini-2.5-pro'} id='run--50784382-9a29-49fd-8999-cc63dafdb735-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_base.py'}, 'id': '35c9cc87-2ec0-43ef-a07a-d85acac7c678', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2104, 'output_tokens': 69, 'total_tokens': 2262, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 89}}
2025-12-24 00:48:19,599 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of `tests/migrations/test_base.py`. This file likely contains the base test class that other migration tests inherit from. Having the full content will help in understanding the complete testing framework.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 6693, 'candidates_token_count': 46, 'total_token_count': 6874, 'cached_content_token_count': 1777, 'prompt_tokens_details': [{'modality': 1, 'token_count': 6693}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1777}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 46}], 'thoughts_token_count': 135}, 'finish_reason': 'STOP', 'avg_logprobs': -0.18351753898288892, 'model_name': 'gemini-2.5-pro'} id='run--fb739284-c119-4dc1-844a-883e4803228a-0' usage_metadata={'input_tokens': 6693, 'output_tokens': 46, 'total_tokens': 6874, 'input_token_details': {'cache_read': 1777}, 'output_token_details': {'reasoning': 135}}
2025-12-24 00:48:19,600 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of tests/migrations/test_base.py.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need the content of the base test class to provide complete and self-contained test cases as requested by the user.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/migrations/test_base.py
Line number range: 1 - 309
Content:
1. import os
2. import shutil
3. import tempfile
4. from contextlib import contextmanager
5. from importlib import import_module
6. 
7. from django.apps import apps
8. from django.db import connection, connections, migrations, models
9. from django.db.migrations.migration import Migration
10. from django.db.migrations.recorder import MigrationRecorder
11. from django.db.migrations.state import ProjectState
12. from django.test import TransactionTestCase
13. from django.test.utils import extend_sys_path
14. from django.utils.module_loading import module_dir
15. 
16. 
17. class MigrationTestBase(TransactionTestCase):
18.     """
19.     Contains an extended set of asserts for testing migrations and schema operations.
20.     """
21. 
22.     available_apps = ["migrations"]
23.     databases = {'default', 'other'}
24. 
25.     def tearDown(self):
26.         # Reset applied-migrations state.
27.         for db in self.databases:
28.             recorder = MigrationRecorder(connections[db])
29.             recorder.migration_qs.filter(app='migrations').delete()
30. 
31.     def get_table_description(self, table, using='default'):
32.         with connections[using].cursor() as cursor:
33.             return connections[using].introspection.get_table_description(cursor, table)
34. 
35.     def assertTableExists(self, table, using='default'):
36.         with connections[using].cursor() as cursor:
37.             self.assertIn(table, connections[using].introspection.table_names(cursor))
38. 
39.     def assertTableNotExists(self, table, using='default'):
40.         with connections[using].cursor() as cursor:
41.             self.assertNotIn(table, connections[using].introspection.table_names(cursor))
42. 
43.     def assertColumnExists(self, table, column, using='default'):
44.         self.assertIn(column, [c.name for c in self.get_table_description(table, using=using)])
45. 
46.     def assertColumnNotExists(self, table, column, using='default'):
47.         self.assertNotIn(column, [c.name for c in self.get_table_description(table, using=using)])
48. 
49.     def _get_column_allows_null(self, table, column, using):
50.         return [c.null_ok for c in self.get_table_description(table, using=using) if c.name == column][0]
51. 
52.     def assertColumnNull(self, table, column, using='default'):
53.         self.assertTrue(self._get_column_allows_null(table, column, using))
54. 
55.     def assertColumnNotNull(self, table, column, using='default'):
56.         self.assertFalse(self._get_column_allows_null(table, column, using))
57. 
58.     def assertIndexExists(self, table, columns, value=True, using='default', index_type=None):
59.         with connections[using].cursor() as cursor:
60.             self.assertEqual(
61.                 value,
62.                 any(
63.                     c["index"]
64.                     for c in connections[using].introspection.get_constraints(cursor, table).values()
65.                     if (
66.                         c['columns'] == list(columns) and
67.                         (index_type is None or c['type'] == index_type) and
68.                         not c['unique']
69.                     )
70.                 ),
71.             )
72. 
73.     def assertIndexNotExists(self, table, columns):
74.         return self.assertIndexExists(table, columns, False)
75. 
76.     def assertIndexNameExists(self, table, index, using='default'):
77.         with connections[using].cursor() as cursor:
78.             self.assertIn(
79.                 index,
80.                 connection.introspection.get_constraints(cursor, table),
81.             )
82. 
83.     def assertIndexNameNotExists(self, table, index, using='default'):
84.         with connections[using].cursor() as cursor:
85.             self.assertNotIn(
86.                 index,
87.                 connection.introspection.get_constraints(cursor, table),
88.             )
89. 
90.     def assertConstraintExists(self, table, name, value=True, using='default'):
91.         with connections[using].cursor() as cursor:
92.             constraints = connections[using].introspection.get_constraints(cursor, table).items()
93.             self.assertEqual(
94.                 value,
95.                 any(c['check'] for n, c in constraints if n == name),
96.             )
97. 
98.     def assertConstraintNotExists(self, table, name):
99.         return self.assertConstraintExists(table, name, False)
100. 
101.     def assertUniqueConstraintExists(self, table, columns, value=True, using='default'):
102.         with connections[using].cursor() as cursor:
103.             constraints = connections[using].introspection.get_constraints(cursor, table).values()
104.             self.assertEqual(
105.                 value,
106.                 any(c['unique'] for c in constraints if c['columns'] == list(columns)),
107.             )
108. 
109.     def assertFKExists(self, table, columns, to, value=True, using='default'):
110.         with connections[using].cursor() as cursor:
111.             self.assertEqual(
112.                 value,
113.                 any(
114.                     c["foreign_key"] == to
115.                     for c in connections[using].introspection.get_constraints(cursor, table).values()
116.                     if c['columns'] == list(columns)
117.                 ),
118.             )
119. 
120.     def assertFKNotExists(self, table, columns, to):
121.         return self.assertFKExists(table, columns, to, False)
122. 
123.     @contextmanager
124.     def temporary_migration_module(self, app_label='migrations', module=None):
125.         """
126.         Allows testing management commands in a temporary migrations module.
127. 
128.         Wrap all invocations to makemigrations and squashmigrations with this
129.         context manager in order to avoid creating migration files in your
130.         source tree inadvertently.
131. 
132.         Takes the application label that will be passed to makemigrations or
133.         squashmigrations and the Python path to a migrations module.
134. 
135.         The migrations module is used as a template for creating the temporary
136.         migrations module. If it isn't provided, the application's migrations
137.         module is used, if it exists.
138. 
139.         Returns the filesystem path to the temporary migrations module.
140.         """
141.         with tempfile.TemporaryDirectory() as temp_dir:
142.             target_dir = tempfile.mkdtemp(dir=temp_dir)
143.             with open(os.path.join(target_dir, '__init__.py'), 'w'):
144.                 pass
145.             target_migrations_dir = os.path.join(target_dir, 'migrations')
146. 
147.             if module is None:
148.                 module = apps.get_app_config(app_label).name + '.migrations'
149. 
150.             try:
151.                 source_migrations_dir = module_dir(import_module(module))
152.             except (ImportError, ValueError):
153.                 pass
154.             else:
155.                 shutil.copytree(source_migrations_dir, target_migrations_dir)
156. 
157.             with extend_sys_path(temp_dir):
158.                 new_module = os.path.basename(target_dir) + '.migrations'
159.                 with self.settings(MIGRATION_MODULES={app_label: new_module}):
160.                     yield target_migrations_dir
161. 
162. 
163. class OperationTestBase(MigrationTestBase):
164.     """Common functions to help test operations."""
165. 
166.     @classmethod
167.     def setUpClass(cls):
168.         super().setUpClass()
169.         cls._initial_table_names = frozenset(connection.introspection.table_names())
170. 
171.     def tearDown(self):
172.         self.cleanup_test_tables()
173.         super().tearDown()
174. 
175.     def cleanup_test_tables(self):
176.         table_names = frozenset(connection.introspection.table_names()) - self._initial_table_names
177.         with connection.schema_editor() as editor:
178.             with connection.constraint_checks_disabled():
179.                 for table_name in table_names:
180.                     editor.execute(editor.sql_delete_table % {
181.                         'table': editor.quote_name(table_name),
182.                     })
183. 
184.     def apply_operations(self, app_label, project_state, operations, atomic=True):
185.         migration = Migration('name', app_label)
186.         migration.operations = operations
187.         with connection.schema_editor(atomic=atomic) as editor:
188.             return migration.apply(project_state, editor)
189. 
190.     def unapply_operations(self, app_label, project_state, operations, atomic=True):
191.         migration = Migration('name', app_label)
192.         migration.operations = operations
193.         with connection.schema_editor(atomic=atomic) as editor:
194.             return migration.unapply(project_state, editor)
195. 
196.     def make_test_state(self, app_label, operation, **kwargs):
197.         """
198.         Makes a test state using set_up_test_model and returns the
199.         original state and the state after the migration is applied.
200.         """
201.         project_state = self.set_up_test_model(app_label, **kwargs)
202.         new_state = project_state.clone()
203.         operation.state_forwards(app_label, new_state)
204.         return project_state, new_state
205. 
206.     def set_up_test_model(
207.         self, app_label, second_model=False, third_model=False, index=False,
208.         multicol_index=False, related_model=False, mti_model=False,
209.         proxy_model=False, manager_model=False, unique_together=False,
210.         options=False, db_table=None, index_together=False, constraints=None,
211.         indexes=None,
212.     ):
213.         """Creates a test model state and database table."""
214.         # Make the "current" state.
215.         model_options = {
216.             'swappable': 'TEST_SWAP_MODEL',
217.             'index_together': [['weight', 'pink']] if index_together else [],
218.             'unique_together': [['pink', 'weight']] if unique_together else [],
219.         }
220.         if options:
221.             model_options['permissions'] = [('can_groom', 'Can groom')]
222.         if db_table:
223.             model_options['db_table'] = db_table
224.         operations = [migrations.CreateModel(
225.             'Pony',
226.             [
227.                 ('id', models.AutoField(primary_key=True)),
228.                 ('pink', models.IntegerField(default=3)),
229.                 ('weight', models.FloatField()),
230.             ],
231.             options=model_options,
232.         )]
233.         if index:
234.             operations.append(migrations.AddIndex(
235.                 'Pony',
236.                 models.Index(fields=['pink'], name='pony_pink_idx'),
237.             ))
238.         if multicol_index:
239.             operations.append(migrations.AddIndex(
240.                 'Pony',
241.                 models.Index(fields=['pink', 'weight'], name='pony_test_idx'),
242.             ))
243.         if indexes:
244.             for index in indexes:
245.                 operations.append(migrations.AddIndex('Pony', index))
246.         if constraints:
247.             for constraint in constraints:
248.                 operations.append(migrations.AddConstraint('Pony', constraint))
249.         if second_model:
250.             operations.append(migrations.CreateModel(
251.                 'Stable',
252.                 [
253.                     ('id', models.AutoField(primary_key=True)),
254.                 ]
255.             ))
256.         if third_model:
257.             operations.append(migrations.CreateModel(
258.                 'Van',
259.                 [
260.                     ('id', models.AutoField(primary_key=True)),
261.                 ]
262.             ))
263.         if related_model:
264.             operations.append(migrations.CreateModel(
265.                 'Rider',
266.                 [
267.                     ('id', models.AutoField(primary_key=True)),
268.                     ('pony', models.ForeignKey('Pony', models.CASCADE)),
269.                     ('friend', models.ForeignKey('self', models.CASCADE, null=True))
270.                 ],
271.             ))
272.         if mti_model:
273.             operations.append(migrations.CreateModel(
274.                 'ShetlandPony',
275.                 fields=[
276.                     ('pony_ptr', models.OneToOneField(
277.                         'Pony',
278.                         models.CASCADE,
279.                         auto_created=True,
280.                         parent_link=True,
281.                         primary_key=True,
282.                         to_field='id',
283.                         serialize=False,
284.                     )),
285.                     ('cuteness', models.IntegerField(default=1)),
286.                 ],
287.                 bases=['%s.Pony' % app_label],
288.             ))
289.         if proxy_model:
290.             operations.append(migrations.CreateModel(
291.                 'ProxyPony',
292.                 fields=[],
293.                 options={'proxy': True},
294.                 bases=['%s.Pony' % app_label],
295.             ))
296.         if manager_model:
297.             from .models import FoodManager, FoodQuerySet
298.             operations.append(migrations.CreateModel(
299.                 'Food',
300.                 fields=[
301.                     ('id', models.AutoField(primary_key=True)),
302.                 ],
303.                 managers=[
304.                     ('food_qs', FoodQuerySet.as_manager()),
305.                     ('food_mgr', FoodManager('a', 'b')),
306.                     ('food_mgr_kwargs', FoodManager('x', 'y', 3, 4)),
307.                 ]
308.             ))
309.         return self.apply_operations(app_label, ProjectState(), operations)

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-24 00:48:24,370 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user query explicitly asks for the full content of the file 'tests/migrations/test_base.py'.\n\n2. Extended relevance:\n   - The provided context contains the entire content of the requested file, from line 1 to 309. Therefore, the whole file is relevant to fulfill the user's request.", relative_path='tests/migrations/test_base.py', start_line=1, end_line=309)]
2025-12-24 00:48:24,372 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of tests/migrations/test_base.py.
2025-12-24 00:48:24,372 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-24 00:48:24,372 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-24 00:48:24,372 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 2 existing contexts
2025-12-24 00:48:24,372 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 3 total contexts (removed 0 duplicates)
2025-12-24 00:48:24,373 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── memcached.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   ├── special.py
|   |   |   |   └── utils.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       └── noargs_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── explicit_default_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_empty_apps
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── explicit_default_config_mismatch_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── not_apps.py
    |   ├── explicit_default_config_without_apps
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   └── tests.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_middleware_mixin.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       └── custom_widget.html
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   └── custom_sitemap_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       └── index_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── absolute_root.js
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
    |   |   ├── included_content.html
    |   |   ├── inclusion.html
    |   |   ├── inclusion_base.html
    |   |   ├── inclusion_extends1.html
    |   |   ├── inclusion_extends2.html
    |   |   ├── index.html
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   ├── recursive_include.html
    |   |   ├── response.html
    |   |   ├── second
    |   |   |   └── test.html
    |   |   ├── ssi include with spaces.html
    |   |   ├── ssi_include.html
    |   |   ├── template_tests
    |   |   |   └── using.html
    |   |   ├── test_context.html
    |   |   ├── test_context_stack.html
    |   |   ├── test_extends_error.html
    |   |   ├── test_incl_tag_use_l10n.html
    |   |   └── test_include_error.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   ├── bad_tag.py
    |   |   ├── custom.py
    |   |   ├── inclusion.py
    |   |   ├── subpackage
    |   |   |   ├── __init__.py
    |   |   |   └── echo.py
    |   |   ├── tag_27584.py
    |   |   └── testtags.py
    |   ├── test_autoreloader.py
    |   ├── test_base.py
    |   ├── test_callables.py
    |   ├── test_context.py
    |   ├── test_custom.py
    |   ├── test_engine.py
    |   ├── test_extends.py
    |   ├── test_extends_relative.py
    |   ├── test_library.py
    |   ├── test_loaders.py
    |   ├── test_logging.py
    |   ├── test_nodelist.py
    |   ├── test_origin.py
    |   ├── test_parser.py
    |   ├── test_response.py
    |   ├── test_smartif.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── utils.py
    |   └── views.py
    ├── templates
    |   ├── base.html
    |   ├── comments
    |   |   └── comment_notification_email.txt
    |   ├── custom_admin
    |   |   ├── add_form.html
    |   |   ├── app_index.html
    |   |   ├── change_form.html
    |   |   ├── change_list.html
    |   |   ├── delete_confirmation.html
    |   |   ├── delete_selected_confirmation.html
    |   |   ├── index.html
    |   |   ├── login.html
    |   |   ├── logout.html
    |   |   ├── object_history.html
    |   |   ├── password_change_done.html
    |   |   ├── password_change_form.html
    |   |   └── popup_response.html
    |   ├── extended.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Squashed migration is not marked as unapplied

Description: Description
	 
		(last modified by Markus Holtermann)
	 
When unapplying a squashed migration and the replaced migration files are still around, the MigrationExecutor mark the squash migration as unapplied, too, not only the replaced migrations.

Patch information:
diff --git a/django/db/migrations/executor.py b/django/db/migrations/executor.py
index 57042a8690..f8da716120 100644
--- a/django/db/migrations/executor.py
+++ b/django/db/migrations/executor.py
@@ -254,6 +254,8 @@ class MigrationExecutor:
         if migration.replaces:
             for app_label, name in migration.replaces:
                 self.recorder.record_unapplied(app_label, name)
+            # Also unapply the replacement migration itself to keep recorder consistent.
+            self.recorder.record_unapplied(migration.app_label, migration.name)
         else:
             self.recorder.record_unapplied(migration.app_label, migration.name)
         # Report progress
@@ -277,6 +279,8 @@ class MigrationExecutor:
             all_applied = all(m in applied for m in migration.replaces)
             if all_applied and key not in applied:
                 self.recorder.record_applied(*key)
+            elif not all_applied and key in applied:
+                self.recorder.record_unapplied(*key)
 
     def detect_soft_applied(self, project_state, migration):
         """


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/migrations/test_executor.py` and `tests/migrations/test_commands.py`.
Extra Requirements: 
Purpose: I need to analyze these files to find test cases that involve applying and unapplying squashed migrations, which is directly related to the bug report.

Previous refined query 2:
Essential Query: Please provide the full content of tests/migrations/test_base.py.
Extra Requirements: 
Purpose: I need the content of the base test class to provide complete and self-contained test cases as requested by the user.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/migrations/test_base.py
Line number range: 1 - 309
Content:
1. import os
2. import shutil
3. import tempfile
4. from contextlib import contextmanager
5. from importlib import import_module
6. 
7. from django.apps import apps
8. from django.db import connection, connections, migrations, models
9. from django.db.migrations.migration import Migration
10. from django.db.migrations.recorder import MigrationRecorder
11. from django.db.migrations.state import ProjectState
12. from django.test import TransactionTestCase
13. from django.test.utils import extend_sys_path
14. from django.utils.module_loading import module_dir
15. 
16. 
17. class MigrationTestBase(TransactionTestCase):
18.     """
19.     Contains an extended set of asserts for testing migrations and schema operations.
20.     """
21. 
22.     available_apps = ["migrations"]
23.     databases = {'default', 'other'}
24. 
25.     def tearDown(self):
26.         # Reset applied-migrations state.
27.         for db in self.databases:
28.             recorder = MigrationRecorder(connections[db])
29.             recorder.migration_qs.filter(app='migrations').delete()
30. 
31.     def get_table_description(self, table, using='default'):
32.         with connections[using].cursor() as cursor:
33.             return connections[using].introspection.get_table_description(cursor, table)
34. 
35.     def assertTableExists(self, table, using='default'):
36.         with connections[using].cursor() as cursor:
37.             self.assertIn(table, connections[using].introspection.table_names(cursor))
38. 
39.     def assertTableNotExists(self, table, using='default'):
40.         with connections[using].cursor() as cursor:
41.             self.assertNotIn(table, connections[using].introspection.table_names(cursor))
42. 
43.     def assertColumnExists(self, table, column, using='default'):
44.         self.assertIn(column, [c.name for c in self.get_table_description(table, using=using)])
45. 
46.     def assertColumnNotExists(self, table, column, using='default'):
47.         self.assertNotIn(column, [c.name for c in self.get_table_description(table, using=using)])
48. 
49.     def _get_column_allows_null(self, table, column, using):
50.         return [c.null_ok for c in self.get_table_description(table, using=using) if c.name == column][0]
51. 
52.     def assertColumnNull(self, table, column, using='default'):
53.         self.assertTrue(self._get_column_allows_null(table, column, using))
54. 
55.     def assertColumnNotNull(self, table, column, using='default'):
56.         self.assertFalse(self._get_column_allows_null(table, column, using))
57. 
58.     def assertIndexExists(self, table, columns, value=True, using='default', index_type=None):
59.         with connections[using].cursor() as cursor:
60.             self.assertEqual(
61.                 value,
62.                 any(
63.                     c["index"]
64.                     for c in connections[using].introspection.get_constraints(cursor, table).values()
65.                     if (
66.                         c['columns'] == list(columns) and
67.                         (index_type is None or c['type'] == index_type) and
68.                         not c['unique']
69.                     )
70.                 ),
71.             )
72. 
73.     def assertIndexNotExists(self, table, columns):
74.         return self.assertIndexExists(table, columns, False)
75. 
76.     def assertIndexNameExists(self, table, index, using='default'):
77.         with connections[using].cursor() as cursor:
78.             self.assertIn(
79.                 index,
80.                 connection.introspection.get_constraints(cursor, table),
81.             )
82. 
83.     def assertIndexNameNotExists(self, table, index, using='default'):
84.         with connections[using].cursor() as cursor:
85.             self.assertNotIn(
86.                 index,
87.                 connection.introspection.get_constraints(cursor, table),
88.             )
89. 
90.     def assertConstraintExists(self, table, name, value=True, using='default'):
91.         with connections[using].cursor() as cursor:
92.             constraints = connections[using].introspection.get_constraints(cursor, table).items()
93.             self.assertEqual(
94.                 value,
95.                 any(c['check'] for n, c in constraints if n == name),
96.             )
97. 
98.     def assertConstraintNotExists(self, table, name):
99.         return self.assertConstraintExists(table, name, False)
100. 
101.     def assertUniqueConstraintExists(self, table, columns, value=True, using='default'):
102.         with connections[using].cursor() as cursor:
103.             constraints = connections[using].introspection.get_constraints(cursor, table).values()
104.             self.assertEqual(
105.                 value,
106.                 any(c['unique'] for c in constraints if c['columns'] == list(columns)),
107.             )
108. 
109.     def assertFKExists(self, table, columns, to, value=True, using='default'):
110.         with connections[using].cursor() as cursor:
111.             self.assertEqual(
112.                 value,
113.                 any(
114.                     c["foreign_key"] == to
115.                     for c in connections[using].introspection.get_constraints(cursor, table).values()
116.                     if c['columns'] == list(columns)
117.                 ),
118.             )
119. 
120.     def assertFKNotExists(self, table, columns, to):
121.         return self.assertFKExists(table, columns, to, False)
122. 
123.     @contextmanager
124.     def temporary_migration_module(self, app_label='migrations', module=None):
125.         """
126.         Allows testing management commands in a temporary migrations module.
127. 
128.         Wrap all invocations to makemigrations and squashmigrations with this
129.         context manager in order to avoid creating migration files in your
130.         source tree inadvertently.
131. 
132.         Takes the application label that will be passed to makemigrations or
133.         squashmigrations and the Python path to a migrations module.
134. 
135.         The migrations module is used as a template for creating the temporary
136.         migrations module. If it isn't provided, the application's migrations
137.         module is used, if it exists.
138. 
139.         Returns the filesystem path to the temporary migrations module.
140.         """
141.         with tempfile.TemporaryDirectory() as temp_dir:
142.             target_dir = tempfile.mkdtemp(dir=temp_dir)
143.             with open(os.path.join(target_dir, '__init__.py'), 'w'):
144.                 pass
145.             target_migrations_dir = os.path.join(target_dir, 'migrations')
146. 
147.             if module is None:
148.                 module = apps.get_app_config(app_label).name + '.migrations'
149. 
150.             try:
151.                 source_migrations_dir = module_dir(import_module(module))
152.             except (ImportError, ValueError):
153.                 pass
154.             else:
155.                 shutil.copytree(source_migrations_dir, target_migrations_dir)
156. 
157.             with extend_sys_path(temp_dir):
158.                 new_module = os.path.basename(target_dir) + '.migrations'
159.                 with self.settings(MIGRATION_MODULES={app_label: new_module}):
160.                     yield target_migrations_dir
161. 
162. 
163. class OperationTestBase(MigrationTestBase):
164.     """Common functions to help test operations."""
165. 
166.     @classmethod
167.     def setUpClass(cls):
168.         super().setUpClass()
169.         cls._initial_table_names = frozenset(connection.introspection.table_names())
170. 
171.     def tearDown(self):
172.         self.cleanup_test_tables()
173.         super().tearDown()
174. 
175.     def cleanup_test_tables(self):
176.         table_names = frozenset(connection.introspection.table_names()) - self._initial_table_names
177.         with connection.schema_editor() as editor:
178.             with connection.constraint_checks_disabled():
179.                 for table_name in table_names:
180.                     editor.execute(editor.sql_delete_table % {
181.                         'table': editor.quote_name(table_name),
182.                     })
183. 
184.     def apply_operations(self, app_label, project_state, operations, atomic=True):
185.         migration = Migration('name', app_label)
186.         migration.operations = operations
187.         with connection.schema_editor(atomic=atomic) as editor:
188.             return migration.apply(project_state, editor)
189. 
190.     def unapply_operations(self, app_label, project_state, operations, atomic=True):
191.         migration = Migration('name', app_label)
192.         migration.operations = operations
193.         with connection.schema_editor(atomic=atomic) as editor:
194.             return migration.unapply(project_state, editor)
195. 
196.     def make_test_state(self, app_label, operation, **kwargs):
197.         """
198.         Makes a test state using set_up_test_model and returns the
199.         original state and the state after the migration is applied.
200.         """
201.         project_state = self.set_up_test_model(app_label, **kwargs)
202.         new_state = project_state.clone()
203.         operation.state_forwards(app_label, new_state)
204.         return project_state, new_state
205. 
206.     def set_up_test_model(
207.         self, app_label, second_model=False, third_model=False, index=False,
208.         multicol_index=False, related_model=False, mti_model=False,
209.         proxy_model=False, manager_model=False, unique_together=False,
210.         options=False, db_table=None, index_together=False, constraints=None,
211.         indexes=None,
212.     ):
213.         """Creates a test model state and database table."""
214.         # Make the "current" state.
215.         model_options = {
216.             'swappable': 'TEST_SWAP_MODEL',
217.             'index_together': [['weight', 'pink']] if index_together else [],
218.             'unique_together': [['pink', 'weight']] if unique_together else [],
219.         }
220.         if options:
221.             model_options['permissions'] = [('can_groom', 'Can groom')]
222.         if db_table:
223.             model_options['db_table'] = db_table
224.         operations = [migrations.CreateModel(
225.             'Pony',
226.             [
227.                 ('id', models.AutoField(primary_key=True)),
228.                 ('pink', models.IntegerField(default=3)),
229.                 ('weight', models.FloatField()),
230.             ],
231.             options=model_options,
232.         )]
233.         if index:
234.             operations.append(migrations.AddIndex(
235.                 'Pony',
236.                 models.Index(fields=['pink'], name='pony_pink_idx'),
237.             ))
238.         if multicol_index:
239.             operations.append(migrations.AddIndex(
240.                 'Pony',
241.                 models.Index(fields=['pink', 'weight'], name='pony_test_idx'),
242.             ))
243.         if indexes:
244.             for index in indexes:
245.                 operations.append(migrations.AddIndex('Pony', index))
246.         if constraints:
247.             for constraint in constraints:
248.                 operations.append(migrations.AddConstraint('Pony', constraint))
249.         if second_model:
250.             operations.append(migrations.CreateModel(
251.                 'Stable',
252.                 [
253.                     ('id', models.AutoField(primary_key=True)),
254.                 ]
255.             ))
256.         if third_model:
257.             operations.append(migrations.CreateModel(
258.                 'Van',
259.                 [
260.                     ('id', models.AutoField(primary_key=True)),
261.                 ]
262.             ))
263.         if related_model:
264.             operations.append(migrations.CreateModel(
265.                 'Rider',
266.                 [
267.                     ('id', models.AutoField(primary_key=True)),
268.                     ('pony', models.ForeignKey('Pony', models.CASCADE)),
269.                     ('friend', models.ForeignKey('self', models.CASCADE, null=True))
270.                 ],
271.             ))
272.         if mti_model:
273.             operations.append(migrations.CreateModel(
274.                 'ShetlandPony',
275.                 fields=[
276.                     ('pony_ptr', models.OneToOneField(
277.                         'Pony',
278.                         models.CASCADE,
279.                         auto_created=True,
280.                         parent_link=True,
281.                         primary_key=True,
282.                         to_field='id',
283.                         serialize=False,
284.                     )),
285.                     ('cuteness', models.IntegerField(default=1)),
286.                 ],
287.                 bases=['%s.Pony' % app_label],
288.             ))
289.         if proxy_model:
290.             operations.append(migrations.CreateModel(
291.                 'ProxyPony',
292.                 fields=[],
293.                 options={'proxy': True},
294.                 bases=['%s.Pony' % app_label],
295.             ))
296.         if manager_model:
297.             from .models import FoodManager, FoodQuerySet
298.             operations.append(migrations.CreateModel(
299.                 'Food',
300.                 fields=[
301.                     ('id', models.AutoField(primary_key=True)),
302.                 ],
303.                 managers=[
304.                     ('food_qs', FoodQuerySet.as_manager()),
305.                     ('food_mgr', FoodManager('a', 'b')),
306.                     ('food_mgr_kwargs', FoodManager('x', 'y', 3, 4)),
307.                 ]
308.             ))
309.         return self.apply_operations(app_label, ProjectState(), operations)


File: tests/migrations/test_commands.py
Line number range: 1 - 1000
Content:
1. import datetime
2. import importlib
3. import io
4. import os
5. import sys
6. from unittest import mock
7. 
8. from django.apps import apps
9. from django.core.management import CommandError, call_command
10. from django.db import (
11.     ConnectionHandler, DatabaseError, OperationalError, connection,
12.     connections, models,
13. )
14. from django.db.backends.base.schema import BaseDatabaseSchemaEditor
15. from django.db.backends.utils import truncate_name
16. from django.db.migrations.exceptions import InconsistentMigrationHistory
17. from django.db.migrations.recorder import MigrationRecorder
18. from django.test import TestCase, override_settings, skipUnlessDBFeature
19. 
20. from .models import UnicodeModel, UnserializableModel
21. from .routers import TestRouter
22. from .test_base import MigrationTestBase
23. 
24. 
25. class MigrateTests(MigrationTestBase):
26.     """
27.     Tests running the migrate command.
28.     """
29.     databases = {'default', 'other'}
30. 
31.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
32.     def test_migrate(self):
33.         """
34.         Tests basic usage of the migrate command.
35.         """
36.         # No tables are created
37.         self.assertTableNotExists("migrations_author")
38.         self.assertTableNotExists("migrations_tribble")
39.         self.assertTableNotExists("migrations_book")
40.         # Run the migrations to 0001 only
41.         stdout = io.StringIO()
42.         call_command('migrate', 'migrations', '0001', verbosity=2, stdout=stdout, no_color=True)
43.         stdout = stdout.getvalue()
44.         self.assertIn('Target specific migration: 0001_initial, from migrations', stdout)
45.         self.assertIn('Applying migrations.0001_initial... OK', stdout)
46.         self.assertIn('Running pre-migrate handlers for application migrations', stdout)
47.         self.assertIn('Running post-migrate handlers for application migrations', stdout)
48.         # The correct tables exist
49.         self.assertTableExists("migrations_author")
50.         self.assertTableExists("migrations_tribble")
51.         self.assertTableNotExists("migrations_book")
52.         # Run migrations all the way
53.         call_command("migrate", verbosity=0)
54.         # The correct tables exist
55.         self.assertTableExists("migrations_author")
56.         self.assertTableNotExists("migrations_tribble")
57.         self.assertTableExists("migrations_book")
58.         # Unmigrate everything
59.         stdout = io.StringIO()
60.         call_command('migrate', 'migrations', 'zero', verbosity=2, stdout=stdout, no_color=True)
61.         stdout = stdout.getvalue()
62.         self.assertIn('Unapply all migrations: migrations', stdout)
63.         self.assertIn('Unapplying migrations.0002_second... OK', stdout)
64.         self.assertIn('Running pre-migrate handlers for application migrations', stdout)
65.         self.assertIn('Running post-migrate handlers for application migrations', stdout)
66.         # Tables are gone
67.         self.assertTableNotExists("migrations_author")
68.         self.assertTableNotExists("migrations_tribble")
69.         self.assertTableNotExists("migrations_book")
70. 
71.     @override_settings(INSTALLED_APPS=[
72.         'django.contrib.auth',
73.         'django.contrib.contenttypes',
74.         'migrations.migrations_test_apps.migrated_app',
75.     ])
76.     def test_migrate_with_system_checks(self):
77.         out = io.StringIO()
78.         call_command('migrate', skip_checks=False, no_color=True, stdout=out)
79.         self.assertIn('Apply all migrations: migrated_app', out.getvalue())
80. 
81.     @override_settings(INSTALLED_APPS=['migrations', 'migrations.migrations_test_apps.unmigrated_app_syncdb'])
82.     def test_app_without_migrations(self):
83.         msg = "App 'unmigrated_app_syncdb' does not have migrations."
84.         with self.assertRaisesMessage(CommandError, msg):
85.             call_command('migrate', app_label='unmigrated_app_syncdb')
86. 
87.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_clashing_prefix'})
88.     def test_ambiguous_prefix(self):
89.         msg = (
90.             "More than one migration matches 'a' in app 'migrations'. Please "
91.             "be more specific."
92.         )
93.         with self.assertRaisesMessage(CommandError, msg):
94.             call_command('migrate', app_label='migrations', migration_name='a')
95. 
96.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
97.     def test_unknown_prefix(self):
98.         msg = "Cannot find a migration matching 'nonexistent' from app 'migrations'."
99.         with self.assertRaisesMessage(CommandError, msg):
100.             call_command('migrate', app_label='migrations', migration_name='nonexistent')
101. 
102.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_initial_false"})
103.     def test_migrate_initial_false(self):
104.         """
105.         `Migration.initial = False` skips fake-initial detection.
106.         """
107.         # Make sure no tables are created
108.         self.assertTableNotExists("migrations_author")
109.         self.assertTableNotExists("migrations_tribble")
110.         # Run the migrations to 0001 only
111.         call_command("migrate", "migrations", "0001", verbosity=0)
112.         # Fake rollback
113.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
114.         # Make sure fake-initial detection does not run
115.         with self.assertRaises(DatabaseError):
116.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0)
117. 
118.         call_command("migrate", "migrations", "0001", fake=True, verbosity=0)
119.         # Real rollback
120.         call_command("migrate", "migrations", "zero", verbosity=0)
121.         # Make sure it's all gone
122.         self.assertTableNotExists("migrations_author")
123.         self.assertTableNotExists("migrations_tribble")
124.         self.assertTableNotExists("migrations_book")
125. 
126.     @override_settings(
127.         MIGRATION_MODULES={"migrations": "migrations.test_migrations"},
128.         DATABASE_ROUTERS=['migrations.routers.TestRouter'],
129.     )
130.     def test_migrate_fake_initial(self):
131.         """
132.         --fake-initial only works if all tables created in the initial
133.         migration of an app exists. Database routers must be obeyed when doing
134.         that check.
135.         """
136.         # Make sure no tables are created
137.         for db in self.databases:
138.             self.assertTableNotExists("migrations_author", using=db)
139.             self.assertTableNotExists("migrations_tribble", using=db)
140.         # Run the migrations to 0001 only
141.         call_command("migrate", "migrations", "0001", verbosity=0)
142.         call_command("migrate", "migrations", "0001", verbosity=0, database="other")
143.         # Make sure the right tables exist
144.         self.assertTableExists("migrations_author")
145.         self.assertTableNotExists("migrations_tribble")
146.         # Also check the "other" database
147.         self.assertTableNotExists("migrations_author", using="other")
148.         self.assertTableExists("migrations_tribble", using="other")
149. 
150.         # Fake a roll-back
151.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
152.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0, database="other")
153.         # Make sure the tables still exist
154.         self.assertTableExists("migrations_author")
155.         self.assertTableExists("migrations_tribble", using="other")
156.         # Try to run initial migration
157.         with self.assertRaises(DatabaseError):
158.             call_command("migrate", "migrations", "0001", verbosity=0)
159.         # Run initial migration with an explicit --fake-initial
160.         out = io.StringIO()
161.         with mock.patch('django.core.management.color.supports_color', lambda *args: False):
162.             call_command("migrate", "migrations", "0001", fake_initial=True, stdout=out, verbosity=1)
163.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0, database="other")
164.         self.assertIn(
165.             "migrations.0001_initial... faked",
166.             out.getvalue().lower()
167.         )
168.         try:
169.             # Run migrations all the way.
170.             call_command('migrate', verbosity=0)
171.             call_command('migrate', verbosity=0, database="other")
172.             self.assertTableExists('migrations_author')
173.             self.assertTableNotExists('migrations_tribble')
174.             self.assertTableExists('migrations_book')
175.             self.assertTableNotExists('migrations_author', using='other')
176.             self.assertTableNotExists('migrations_tribble', using='other')
177.             self.assertTableNotExists('migrations_book', using='other')
178.             # Fake a roll-back.
179.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
180.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0, database='other')
181.             self.assertTableExists('migrations_author')
182.             self.assertTableNotExists('migrations_tribble')
183.             self.assertTableExists('migrations_book')
184.             # Run initial migration.
185.             with self.assertRaises(DatabaseError):
186.                 call_command('migrate', 'migrations', verbosity=0)
187.             # Run initial migration with an explicit --fake-initial.
188.             with self.assertRaises(DatabaseError):
189.                 # Fails because "migrations_tribble" does not exist but needs
190.                 # to in order to make --fake-initial work.
191.                 call_command('migrate', 'migrations', fake_initial=True, verbosity=0)
192.             # Fake an apply.
193.             call_command('migrate', 'migrations', fake=True, verbosity=0)
194.             call_command('migrate', 'migrations', fake=True, verbosity=0, database='other')
195.         finally:
196.             # Unmigrate everything.
197.             call_command('migrate', 'migrations', 'zero', verbosity=0)
198.             call_command('migrate', 'migrations', 'zero', verbosity=0, database='other')
199.         # Make sure it's all gone
200.         for db in self.databases:
201.             self.assertTableNotExists("migrations_author", using=db)
202.             self.assertTableNotExists("migrations_tribble", using=db)
203.             self.assertTableNotExists("migrations_book", using=db)
204. 
205.     @skipUnlessDBFeature('ignores_table_name_case')
206.     def test_migrate_fake_initial_case_insensitive(self):
207.         with override_settings(MIGRATION_MODULES={
208.             'migrations': 'migrations.test_fake_initial_case_insensitive.initial',
209.         }):
210.             call_command('migrate', 'migrations', '0001', verbosity=0)
211.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
212. 
213.         with override_settings(MIGRATION_MODULES={
214.             'migrations': 'migrations.test_fake_initial_case_insensitive.fake_initial',
215.         }):
216.             out = io.StringIO()
217.             call_command(
218.                 'migrate',
219.                 'migrations',
220.                 '0001',
221.                 fake_initial=True,
222.                 stdout=out,
223.                 verbosity=1,
224.                 no_color=True,
225.             )
226.             self.assertIn(
227.                 'migrations.0001_initial... faked',
228.                 out.getvalue().lower(),
229.             )
230. 
231.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_fake_split_initial"})
232.     def test_migrate_fake_split_initial(self):
233.         """
234.         Split initial migrations can be faked with --fake-initial.
235.         """
236.         try:
237.             call_command('migrate', 'migrations', '0002', verbosity=0)
238.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
239.             out = io.StringIO()
240.             with mock.patch('django.core.management.color.supports_color', lambda *args: False):
241.                 call_command('migrate', 'migrations', '0002', fake_initial=True, stdout=out, verbosity=1)
242.             value = out.getvalue().lower()
243.             self.assertIn('migrations.0001_initial... faked', value)
244.             self.assertIn('migrations.0002_second... faked', value)
245.         finally:
246.             # Fake an apply.
247.             call_command('migrate', 'migrations', fake=True, verbosity=0)
248.             # Unmigrate everything.
249.             call_command('migrate', 'migrations', 'zero', verbosity=0)
250. 
251.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_conflict"})
252.     def test_migrate_conflict_exit(self):
253.         """
254.         migrate exits if it detects a conflict.
255.         """
256.         msg = (
257.             "Conflicting migrations detected; multiple leaf nodes in the "
258.             "migration graph: (0002_conflicting_second, 0002_second in "
259.             "migrations).\n"
260.             "To fix them run 'python manage.py makemigrations --merge'"
261.         )
262.         with self.assertRaisesMessage(CommandError, msg):
263.             call_command("migrate", "migrations")
264. 
265.     @override_settings(MIGRATION_MODULES={
266.         'migrations': 'migrations.test_migrations',
267.     })
268.     def test_migrate_check(self):
269.         with self.assertRaises(SystemExit):
270.             call_command('migrate', 'migrations', '0001', check_unapplied=True)
271.         self.assertTableNotExists('migrations_author')
272.         self.assertTableNotExists('migrations_tribble')
273.         self.assertTableNotExists('migrations_book')
274. 
275.     @override_settings(MIGRATION_MODULES={
276.         'migrations': 'migrations.test_migrations_plan',
277.     })
278.     def test_migrate_check_plan(self):
279.         out = io.StringIO()
280.         with self.assertRaises(SystemExit):
281.             call_command(
282.                 'migrate',
283.                 'migrations',
284.                 '0001',
285.                 check_unapplied=True,
286.                 plan=True,
287.                 stdout=out,
288.                 no_color=True,
289.             )
290.         self.assertEqual(
291.             'Planned operations:\n'
292.             'migrations.0001_initial\n'
293.             '    Create model Salamander\n'
294.             '    Raw Python operation -> Grow salamander tail.\n',
295.             out.getvalue(),
296.         )
297. 
298.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
299.     def test_showmigrations_list(self):
300.         """
301.         showmigrations --list  displays migrations and whether or not they're
302.         applied.
303.         """
304.         out = io.StringIO()
305.         with mock.patch('django.core.management.color.supports_color', lambda *args: True):
306.             call_command("showmigrations", format='list', stdout=out, verbosity=0, no_color=False)
307.         self.assertEqual(
308.             '\x1b[1mmigrations\n\x1b[0m'
309.             ' [ ] 0001_initial\n'
310.             ' [ ] 0002_second\n',
311.             out.getvalue().lower()
312.         )
313. 
314.         call_command("migrate", "migrations", "0001", verbosity=0)
315. 
316.         out = io.StringIO()
317.         # Giving the explicit app_label tests for selective `show_list` in the command
318.         call_command("showmigrations", "migrations", format='list', stdout=out, verbosity=0, no_color=True)
319.         self.assertEqual(
320.             'migrations\n'
321.             ' [x] 0001_initial\n'
322.             ' [ ] 0002_second\n',
323.             out.getvalue().lower()
324.         )
325.         out = io.StringIO()
326.         # Applied datetimes are displayed at verbosity 2+.
327.         call_command('showmigrations', 'migrations', stdout=out, verbosity=2, no_color=True)
328.         migration1 = MigrationRecorder(connection).migration_qs.get(app='migrations', name='0001_initial')
329.         self.assertEqual(
330.             'migrations\n'
331.             ' [x] 0001_initial (applied at %s)\n'
332.             ' [ ] 0002_second\n' % migration1.applied.strftime('%Y-%m-%d %H:%M:%S'),
333.             out.getvalue().lower()
334.         )
335.         # Cleanup by unmigrating everything
336.         call_command("migrate", "migrations", "zero", verbosity=0)
337. 
338.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
339.     def test_showmigrations_list_squashed(self):
340.         out = io.StringIO()
341.         call_command('showmigrations', format='list', stdout=out, verbosity=2, no_color=True)
342.         self.assertEqual(
343.             'migrations\n'
344.             ' [ ] 0001_squashed_0002 (2 squashed migrations)\n',
345.             out.getvalue().lower(),
346.         )
347.         out = io.StringIO()
348.         call_command(
349.             'migrate',
350.             'migrations',
351.             '0001_squashed_0002',
352.             stdout=out,
353.             verbosity=2,
354.             no_color=True,
355.         )
356.         try:
357.             self.assertIn(
358.                 'operations to perform:\n'
359.                 '  target specific migration: 0001_squashed_0002, from migrations\n'
360.                 'running pre-migrate handlers for application migrations\n'
361.                 'running migrations:\n'
362.                 '  applying migrations.0001_squashed_0002... ok (',
363.                 out.getvalue().lower(),
364.             )
365.             out = io.StringIO()
366.             call_command('showmigrations', format='list', stdout=out, verbosity=2, no_color=True)
367.             self.assertEqual(
368.                 'migrations\n'
369.                 ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
370.                 out.getvalue().lower(),
371.             )
372.         finally:
373.             # Unmigrate everything.
374.             call_command('migrate', 'migrations', 'zero', verbosity=0)
375. 
376.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_run_before"})
377.     def test_showmigrations_plan(self):
378.         """
379.         Tests --plan output of showmigrations command
380.         """
381.         out = io.StringIO()
382.         call_command("showmigrations", format='plan', stdout=out)
383.         self.assertEqual(
384.             "[ ]  migrations.0001_initial\n"
385.             "[ ]  migrations.0003_third\n"
386.             "[ ]  migrations.0002_second\n",
387.             out.getvalue().lower()
388.         )
389. 
390.         out = io.StringIO()
391.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
392.         self.assertEqual(
393.             "[ ]  migrations.0001_initial\n"
394.             "[ ]  migrations.0003_third ... (migrations.0001_initial)\n"
395.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
396.             out.getvalue().lower()
397.         )
398.         call_command("migrate", "migrations", "0003", verbosity=0)
399. 
400.         out = io.StringIO()
401.         call_command("showmigrations", format='plan', stdout=out)
402.         self.assertEqual(
403.             "[x]  migrations.0001_initial\n"
404.             "[x]  migrations.0003_third\n"
405.             "[ ]  migrations.0002_second\n",
406.             out.getvalue().lower()
407.         )
408. 
409.         out = io.StringIO()
410.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
411.         self.assertEqual(
412.             "[x]  migrations.0001_initial\n"
413.             "[x]  migrations.0003_third ... (migrations.0001_initial)\n"
414.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
415.             out.getvalue().lower()
416.         )
417. 
418.         # Cleanup by unmigrating everything
419.         call_command("migrate", "migrations", "zero", verbosity=0)
420. 
421.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_plan'})
422.     def test_migrate_plan(self):
423.         """Tests migrate --plan output."""
424.         out = io.StringIO()
425.         # Show the plan up to the third migration.
426.         call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
427.         self.assertEqual(
428.             'Planned operations:\n'
429.             'migrations.0001_initial\n'
430.             '    Create model Salamander\n'
431.             '    Raw Python operation -> Grow salamander tail.\n'
432.             'migrations.0002_second\n'
433.             '    Create model Book\n'
434.             "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
435.             'migrations.0003_third\n'
436.             '    Create model Author\n'
437.             "    Raw SQL operation -> ['SELECT * FROM migrations_author']\n",
438.             out.getvalue()
439.         )
440.         try:
441.             # Migrate to the third migration.
442.             call_command('migrate', 'migrations', '0003', verbosity=0)
443.             out = io.StringIO()
444.             # Show the plan for when there is nothing to apply.
445.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
446.             self.assertEqual(
447.                 'Planned operations:\n'
448.                 '  No planned migration operations.\n',
449.                 out.getvalue()
450.             )
451.             out = io.StringIO()
452.             # Show the plan for reverse migration back to 0001.
453.             call_command('migrate', 'migrations', '0001', plan=True, stdout=out, no_color=True)
454.             self.assertEqual(
455.                 'Planned operations:\n'
456.                 'migrations.0003_third\n'
457.                 '    Undo Create model Author\n'
458.                 "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
459.                 'migrations.0002_second\n'
460.                 '    Undo Create model Book\n'
461.                 "    Raw SQL operation -> ['SELECT * FROM migrations_salamand…\n",
462.                 out.getvalue()
463.             )
464.             out = io.StringIO()
465.             # Show the migration plan to fourth, with truncated details.
466.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)
467.             self.assertEqual(
468.                 'Planned operations:\n'
469.                 'migrations.0004_fourth\n'
470.                 '    Raw SQL operation -> SELECT * FROM migrations_author WHE…\n',
471.                 out.getvalue()
472.             )
473.             # Show the plan when an operation is irreversible.
474.             # Migrate to the fourth migration.
475.             call_command('migrate', 'migrations', '0004', verbosity=0)
476.             out = io.StringIO()
477.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
478.             self.assertEqual(
479.                 'Planned operations:\n'
480.                 'migrations.0004_fourth\n'
481.                 '    Raw SQL operation -> IRREVERSIBLE\n',
482.                 out.getvalue()
483.             )
484.             out = io.StringIO()
485.             call_command('migrate', 'migrations', '0005', plan=True, stdout=out, no_color=True)
486.             # Operation is marked as irreversible only in the revert plan.
487.             self.assertEqual(
488.                 'Planned operations:\n'
489.                 'migrations.0005_fifth\n'
490.                 '    Raw Python operation\n'
491.                 '    Raw Python operation\n'
492.                 '    Raw Python operation -> Feed salamander.\n',
493.                 out.getvalue()
494.             )
495.             call_command('migrate', 'migrations', '0005', verbosity=0)
496.             out = io.StringIO()
497.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)
498.             self.assertEqual(
499.                 'Planned operations:\n'
500.                 'migrations.0005_fifth\n'
501.                 '    Raw Python operation -> IRREVERSIBLE\n'
502.                 '    Raw Python operation -> IRREVERSIBLE\n'
503.                 '    Raw Python operation\n',
504.                 out.getvalue()
505.             )
506.         finally:
507.             # Cleanup by unmigrating everything: fake the irreversible, then
508.             # migrate all to zero.
509.             call_command('migrate', 'migrations', '0003', fake=True, verbosity=0)
510.             call_command('migrate', 'migrations', 'zero', verbosity=0)
511. 
512.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_empty'})
513.     def test_showmigrations_no_migrations(self):
514.         out = io.StringIO()
515.         call_command('showmigrations', stdout=out, no_color=True)
516.         self.assertEqual('migrations\n (no migrations)\n', out.getvalue().lower())
517. 
518.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app'])
519.     def test_showmigrations_unmigrated_app(self):
520.         out = io.StringIO()
521.         call_command('showmigrations', 'unmigrated_app', stdout=out, no_color=True)
522.         try:
523.             self.assertEqual('unmigrated_app\n (no migrations)\n', out.getvalue().lower())
524.         finally:
525.             # unmigrated_app.SillyModel has a foreign key to
526.             # 'migrations.Tribble', but that model is only defined in a
527.             # migration, so the global app registry never sees it and the
528.             # reference is left dangling. Remove it to avoid problems in
529.             # subsequent tests.
530.             apps._pending_operations.pop(('migrations', 'tribble'), None)
531. 
532.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_empty"})
533.     def test_showmigrations_plan_no_migrations(self):
534.         """
535.         Tests --plan output of showmigrations command without migrations
536.         """
537.         out = io.StringIO()
538.         call_command('showmigrations', format='plan', stdout=out, no_color=True)
539.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
540. 
541.         out = io.StringIO()
542.         call_command('showmigrations', format='plan', stdout=out, verbosity=2, no_color=True)
543.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
544. 
545.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed_complex"})
546.     def test_showmigrations_plan_squashed(self):
547.         """
548.         Tests --plan output of showmigrations command with squashed migrations.
549.         """
550.         out = io.StringIO()
551.         call_command("showmigrations", format='plan', stdout=out)
552.         self.assertEqual(
553.             "[ ]  migrations.1_auto\n"
554.             "[ ]  migrations.2_auto\n"
555.             "[ ]  migrations.3_squashed_5\n"
556.             "[ ]  migrations.6_auto\n"
557.             "[ ]  migrations.7_auto\n",
558.             out.getvalue().lower()
559.         )
560. 
561.         out = io.StringIO()
562.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
563.         self.assertEqual(
564.             "[ ]  migrations.1_auto\n"
565.             "[ ]  migrations.2_auto ... (migrations.1_auto)\n"
566.             "[ ]  migrations.3_squashed_5 ... (migrations.2_auto)\n"
567.             "[ ]  migrations.6_auto ... (migrations.3_squashed_5)\n"
568.             "[ ]  migrations.7_auto ... (migrations.6_auto)\n",
569.             out.getvalue().lower()
570.         )
571. 
572.         call_command("migrate", "migrations", "3_squashed_5", verbosity=0)
573. 
574.         out = io.StringIO()
575.         call_command("showmigrations", format='plan', stdout=out)
576.         self.assertEqual(
577.             "[x]  migrations.1_auto\n"
578.             "[x]  migrations.2_auto\n"
579.             "[x]  migrations.3_squashed_5\n"
580.             "[ ]  migrations.6_auto\n"
581.             "[ ]  migrations.7_auto\n",
582.             out.getvalue().lower()
583.         )
584. 
585.         out = io.StringIO()
586.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
587.         self.assertEqual(
588.             "[x]  migrations.1_auto\n"
589.             "[x]  migrations.2_auto ... (migrations.1_auto)\n"
590.             "[x]  migrations.3_squashed_5 ... (migrations.2_auto)\n"
591.             "[ ]  migrations.6_auto ... (migrations.3_squashed_5)\n"
592.             "[ ]  migrations.7_auto ... (migrations.6_auto)\n",
593.             out.getvalue().lower()
594.         )
595. 
596.     @override_settings(INSTALLED_APPS=[
597.         'migrations.migrations_test_apps.mutate_state_b',
598.         'migrations.migrations_test_apps.alter_fk.author_app',
599.         'migrations.migrations_test_apps.alter_fk.book_app',
600.     ])
601.     def test_showmigrations_plan_single_app_label(self):
602.         """
603.         `showmigrations --plan app_label` output with a single app_label.
604.         """
605.         # Single app with no dependencies on other apps.
606.         out = io.StringIO()
607.         call_command('showmigrations', 'mutate_state_b', format='plan', stdout=out)
608.         self.assertEqual(
609.             '[ ]  mutate_state_b.0001_initial\n'
610.             '[ ]  mutate_state_b.0002_add_field\n',
611.             out.getvalue()
612.         )
613.         # Single app with dependencies.
614.         out = io.StringIO()
615.         call_command('showmigrations', 'author_app', format='plan', stdout=out)
616.         self.assertEqual(
617.             '[ ]  author_app.0001_initial\n'
618.             '[ ]  book_app.0001_initial\n'
619.             '[ ]  author_app.0002_alter_id\n',
620.             out.getvalue()
621.         )
622.         # Some migrations already applied.
623.         call_command('migrate', 'author_app', '0001', verbosity=0)
624.         out = io.StringIO()
625.         call_command('showmigrations', 'author_app', format='plan', stdout=out)
626.         self.assertEqual(
627.             '[X]  author_app.0001_initial\n'
628.             '[ ]  book_app.0001_initial\n'
629.             '[ ]  author_app.0002_alter_id\n',
630.             out.getvalue()
631.         )
632.         # Cleanup by unmigrating author_app.
633.         call_command('migrate', 'author_app', 'zero', verbosity=0)
634. 
635.     @override_settings(INSTALLED_APPS=[
636.         'migrations.migrations_test_apps.mutate_state_b',
637.         'migrations.migrations_test_apps.alter_fk.author_app',
638.         'migrations.migrations_test_apps.alter_fk.book_app',
639.     ])
640.     def test_showmigrations_plan_multiple_app_labels(self):
641.         """
642.         `showmigrations --plan app_label` output with multiple app_labels.
643.         """
644.         # Multiple apps: author_app depends on book_app; mutate_state_b doesn't
645.         # depend on other apps.
646.         out = io.StringIO()
647.         call_command('showmigrations', 'mutate_state_b', 'author_app', format='plan', stdout=out)
648.         self.assertEqual(
649.             '[ ]  author_app.0001_initial\n'
650.             '[ ]  book_app.0001_initial\n'
651.             '[ ]  author_app.0002_alter_id\n'
652.             '[ ]  mutate_state_b.0001_initial\n'
653.             '[ ]  mutate_state_b.0002_add_field\n',
654.             out.getvalue()
655.         )
656.         # Multiple apps: args order shouldn't matter (the same result is
657.         # expected as above).
658.         out = io.StringIO()
659.         call_command('showmigrations', 'author_app', 'mutate_state_b', format='plan', stdout=out)
660.         self.assertEqual(
661.             '[ ]  author_app.0001_initial\n'
662.             '[ ]  book_app.0001_initial\n'
663.             '[ ]  author_app.0002_alter_id\n'
664.             '[ ]  mutate_state_b.0001_initial\n'
665.             '[ ]  mutate_state_b.0002_add_field\n',
666.             out.getvalue()
667.         )
668. 
669.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app'])
670.     def test_showmigrations_plan_app_label_no_migrations(self):
671.         out = io.StringIO()
672.         call_command('showmigrations', 'unmigrated_app', format='plan', stdout=out, no_color=True)
673.         try:
674.             self.assertEqual('(no migrations)\n', out.getvalue())
675.         finally:
676.             # unmigrated_app.SillyModel has a foreign key to
677.             # 'migrations.Tribble', but that model is only defined in a
678.             # migration, so the global app registry never sees it and the
679.             # reference is left dangling. Remove it to avoid problems in
680.             # subsequent tests.
681.             apps._pending_operations.pop(('migrations', 'tribble'), None)
682. 
683.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
684.     def test_sqlmigrate_forwards(self):
685.         """
686.         sqlmigrate outputs forward looking SQL.
687.         """
688.         out = io.StringIO()
689.         call_command("sqlmigrate", "migrations", "0001", stdout=out)
690.         output = out.getvalue().lower()
691. 
692.         index_tx_start = output.find(connection.ops.start_transaction_sql().lower())
693.         index_op_desc_author = output.find('-- create model author')
694.         index_create_table = output.find('create table')
695.         index_op_desc_tribble = output.find('-- create model tribble')
696.         index_op_desc_unique_together = output.find('-- alter unique_together')
697.         index_tx_end = output.find(connection.ops.end_transaction_sql().lower())
698. 
699.         if connection.features.can_rollback_ddl:
700.             self.assertGreater(index_tx_start, -1, "Transaction start not found")
701.             self.assertGreater(
702.                 index_tx_end, index_op_desc_unique_together,
703.                 "Transaction end not found or found before operation description (unique_together)"
704.             )
705. 
706.         self.assertGreater(
707.             index_op_desc_author, index_tx_start,
708.             "Operation description (author) not found or found before transaction start"
709.         )
710.         self.assertGreater(
711.             index_create_table, index_op_desc_author,
712.             "CREATE TABLE not found or found before operation description (author)"
713.         )
714.         self.assertGreater(
715.             index_op_desc_tribble, index_create_table,
716.             "Operation description (tribble) not found or found before CREATE TABLE (author)"
717.         )
718.         self.assertGreater(
719.             index_op_desc_unique_together, index_op_desc_tribble,
720.             "Operation description (unique_together) not found or found before operation description (tribble)"
721.         )
722. 
723.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
724.     def test_sqlmigrate_backwards(self):
725.         """
726.         sqlmigrate outputs reverse looking SQL.
727.         """
728.         # Cannot generate the reverse SQL unless we've applied the migration.
729.         call_command("migrate", "migrations", verbosity=0)
730. 
731.         out = io.StringIO()
732.         call_command("sqlmigrate", "migrations", "0001", stdout=out, backwards=True)
733.         output = out.getvalue().lower()
734. 
735.         index_tx_start = output.find(connection.ops.start_transaction_sql().lower())
736.         index_op_desc_unique_together = output.find('-- alter unique_together')
737.         index_op_desc_tribble = output.find('-- create model tribble')
738.         index_op_desc_author = output.find('-- create model author')
739.         index_drop_table = output.rfind('drop table')
740.         index_tx_end = output.find(connection.ops.end_transaction_sql().lower())
741. 
742.         if connection.features.can_rollback_ddl:
743.             self.assertGreater(index_tx_start, -1, "Transaction start not found")
744.             self.assertGreater(
745.                 index_tx_end, index_op_desc_unique_together,
746.                 "Transaction end not found or found before DROP TABLE"
747.             )
748.         self.assertGreater(
749.             index_op_desc_unique_together, index_tx_start,
750.             "Operation description (unique_together) not found or found before transaction start"
751.         )
752.         self.assertGreater(
753.             index_op_desc_tribble, index_op_desc_unique_together,
754.             "Operation description (tribble) not found or found before operation description (unique_together)"
755.         )
756.         self.assertGreater(
757.             index_op_desc_author, index_op_desc_tribble,
758.             "Operation description (author) not found or found before operation description (tribble)"
759.         )
760. 
761.         self.assertGreater(
762.             index_drop_table, index_op_desc_author,
763.             "DROP TABLE not found or found before operation description (author)"
764.         )
765. 
766.         # Cleanup by unmigrating everything
767.         call_command("migrate", "migrations", "zero", verbosity=0)
768. 
769.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_non_atomic"})
770.     def test_sqlmigrate_for_non_atomic_migration(self):
771.         """
772.         Transaction wrappers aren't shown for non-atomic migrations.
773.         """
774.         out = io.StringIO()
775.         call_command("sqlmigrate", "migrations", "0001", stdout=out)
776.         output = out.getvalue().lower()
777.         queries = [q.strip() for q in output.splitlines()]
778.         if connection.ops.start_transaction_sql():
779.             self.assertNotIn(connection.ops.start_transaction_sql().lower(), queries)
780.         self.assertNotIn(connection.ops.end_transaction_sql().lower(), queries)
781. 
782.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
783.     def test_sqlmigrate_for_non_transactional_databases(self):
784.         """
785.         Transaction wrappers aren't shown for databases that don't support
786.         transactional DDL.
787.         """
788.         out = io.StringIO()
789.         with mock.patch.object(connection.features, 'can_rollback_ddl', False):
790.             call_command('sqlmigrate', 'migrations', '0001', stdout=out)
791.         output = out.getvalue().lower()
792.         queries = [q.strip() for q in output.splitlines()]
793.         start_transaction_sql = connection.ops.start_transaction_sql()
794.         if start_transaction_sql:
795.             self.assertNotIn(start_transaction_sql.lower(), queries)
796.         self.assertNotIn(connection.ops.end_transaction_sql().lower(), queries)
797. 
798.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
799.     def test_sqlmigrate_ambiguous_prefix_squashed_migrations(self):
800.         msg = (
801.             "More than one migration matches '0001' in app 'migrations'. "
802.             "Please be more specific."
803.         )
804.         with self.assertRaisesMessage(CommandError, msg):
805.             call_command('sqlmigrate', 'migrations', '0001')
806. 
807.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
808.     def test_sqlmigrate_squashed_migration(self):
809.         out = io.StringIO()
810.         call_command('sqlmigrate', 'migrations', '0001_squashed_0002', stdout=out)
811.         output = out.getvalue().lower()
812.         self.assertIn('-- create model author', output)
813.         self.assertIn('-- create model book', output)
814.         self.assertNotIn('-- create model tribble', output)
815. 
816.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
817.     def test_sqlmigrate_replaced_migration(self):
818.         out = io.StringIO()
819.         call_command('sqlmigrate', 'migrations', '0001_initial', stdout=out)
820.         output = out.getvalue().lower()
821.         self.assertIn('-- create model author', output)
822.         self.assertIn('-- create model tribble', output)
823. 
824.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_no_operations'})
825.     def test_migrations_no_operations(self):
826.         err = io.StringIO()
827.         call_command('sqlmigrate', 'migrations', '0001_initial', stderr=err)
828.         self.assertEqual(err.getvalue(), 'No operations found.\n')
829. 
830.     @override_settings(
831.         INSTALLED_APPS=[
832.             "migrations.migrations_test_apps.migrated_app",
833.             "migrations.migrations_test_apps.migrated_unapplied_app",
834.             "migrations.migrations_test_apps.unmigrated_app",
835.         ],
836.     )
837.     def test_regression_22823_unmigrated_fk_to_migrated_model(self):
838.         """
839.         Assuming you have 3 apps, `A`, `B`, and `C`, such that:
840. 
841.         * `A` has migrations
842.         * `B` has a migration we want to apply
843.         * `C` has no migrations, but has an FK to `A`
844. 
845.         When we try to migrate "B", an exception occurs because the
846.         "B" was not included in the ProjectState that is used to detect
847.         soft-applied migrations (#22823).
848.         """
849.         call_command('migrate', 'migrated_unapplied_app', verbosity=0)
850. 
851.         # unmigrated_app.SillyModel has a foreign key to 'migrations.Tribble',
852.         # but that model is only defined in a migration, so the global app
853.         # registry never sees it and the reference is left dangling. Remove it
854.         # to avoid problems in subsequent tests.
855.         apps._pending_operations.pop(('migrations', 'tribble'), None)
856. 
857.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app_syncdb'])
858.     def test_migrate_syncdb_deferred_sql_executed_with_schemaeditor(self):
859.         """
860.         For an app without migrations, editor.execute() is used for executing
861.         the syncdb deferred SQL.
862.         """
863.         stdout = io.StringIO()
864.         with mock.patch.object(BaseDatabaseSchemaEditor, 'execute') as execute:
865.             call_command('migrate', run_syncdb=True, verbosity=1, stdout=stdout, no_color=True)
866.             create_table_count = len([call for call in execute.mock_calls if 'CREATE TABLE' in str(call)])
867.             self.assertEqual(create_table_count, 2)
868.             # There's at least one deferred SQL for creating the foreign key
869.             # index.
870.             self.assertGreater(len(execute.mock_calls), 2)
871.         stdout = stdout.getvalue()
872.         self.assertIn('Synchronize unmigrated apps: unmigrated_app_syncdb', stdout)
873.         self.assertIn('Creating tables...', stdout)
874.         table_name = truncate_name('unmigrated_app_syncdb_classroom', connection.ops.max_name_length())
875.         self.assertIn('Creating table %s' % table_name, stdout)
876. 
877.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
878.     def test_migrate_syncdb_app_with_migrations(self):
879.         msg = "Can't use run_syncdb with app 'migrations' as it has migrations."
880.         with self.assertRaisesMessage(CommandError, msg):
881.             call_command('migrate', 'migrations', run_syncdb=True, verbosity=0)
882. 
883.     @override_settings(INSTALLED_APPS=[
884.         'migrations.migrations_test_apps.unmigrated_app_syncdb',
885.         'migrations.migrations_test_apps.unmigrated_app_simple',
886.     ])
887.     def test_migrate_syncdb_app_label(self):
888.         """
889.         Running migrate --run-syncdb with an app_label only creates tables for
890.         the specified app.
891.         """
892.         stdout = io.StringIO()
893.         with mock.patch.object(BaseDatabaseSchemaEditor, 'execute') as execute:
894.             call_command('migrate', 'unmigrated_app_syncdb', run_syncdb=True, stdout=stdout)
895.             create_table_count = len([call for call in execute.mock_calls if 'CREATE TABLE' in str(call)])
896.             self.assertEqual(create_table_count, 2)
897.             self.assertGreater(len(execute.mock_calls), 2)
898.             self.assertIn('Synchronize unmigrated app: unmigrated_app_syncdb', stdout.getvalue())
899. 
900.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
901.     def test_migrate_record_replaced(self):
902.         """
903.         Running a single squashed migration should record all of the original
904.         replaced migrations as run.
905.         """
906.         recorder = MigrationRecorder(connection)
907.         out = io.StringIO()
908.         call_command("migrate", "migrations", verbosity=0)
909.         call_command("showmigrations", "migrations", stdout=out, no_color=True)
910.         self.assertEqual(
911.             'migrations\n'
912.             ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
913.             out.getvalue().lower()
914.         )
915.         applied_migrations = recorder.applied_migrations()
916.         self.assertIn(("migrations", "0001_initial"), applied_migrations)
917.         self.assertIn(("migrations", "0002_second"), applied_migrations)
918.         self.assertIn(("migrations", "0001_squashed_0002"), applied_migrations)
919.         # Rollback changes
920.         call_command("migrate", "migrations", "zero", verbosity=0)
921. 
922.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
923.     def test_migrate_record_squashed(self):
924.         """
925.         Running migrate for a squashed migration should record as run
926.         if all of the replaced migrations have been run (#25231).
927.         """
928.         recorder = MigrationRecorder(connection)
929.         recorder.record_applied("migrations", "0001_initial")
930.         recorder.record_applied("migrations", "0002_second")
931.         out = io.StringIO()
932.         call_command("migrate", "migrations", verbosity=0)
933.         call_command("showmigrations", "migrations", stdout=out, no_color=True)
934.         self.assertEqual(
935.             'migrations\n'
936.             ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
937.             out.getvalue().lower()
938.         )
939.         self.assertIn(
940.             ("migrations", "0001_squashed_0002"),
941.             recorder.applied_migrations()
942.         )
943.         # No changes were actually applied so there is nothing to rollback
944. 
945.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
946.     def test_migrate_inconsistent_history(self):
947.         """
948.         Running migrate with some migrations applied before their dependencies
949.         should not be allowed.
950.         """
951.         recorder = MigrationRecorder(connection)
952.         recorder.record_applied("migrations", "0002_second")
953.         msg = "Migration migrations.0002_second is applied before its dependency migrations.0001_initial"
954.         with self.assertRaisesMessage(InconsistentMigrationHistory, msg):
955.             call_command("migrate")
956.         applied_migrations = recorder.applied_migrations()
957.         self.assertNotIn(("migrations", "0001_initial"), applied_migrations)
958. 
959.     @override_settings(INSTALLED_APPS=[
960.         'migrations.migrations_test_apps.migrated_unapplied_app',
961.         'migrations.migrations_test_apps.migrated_app',
962.     ])
963.     def test_migrate_not_reflected_changes(self):
964.         class NewModel1(models.Model):
965.             class Meta():
966.                 app_label = 'migrated_app'
967. 
968.         class NewModel2(models.Model):
969.             class Meta():
970.                 app_label = 'migrated_unapplied_app'
971. 
972.         out = io.StringIO()
973.         try:
974.             call_command('migrate', verbosity=0)
975.             call_command('migrate', stdout=out, no_color=True)
976.             self.assertEqual(
977.                 "operations to perform:\n"
978.                 "  apply all migrations: migrated_app, migrated_unapplied_app\n"
979.                 "running migrations:\n"
980.                 "  no migrations to apply.\n"
981.                 "  your models in app(s): 'migrated_app', "
982.                 "'migrated_unapplied_app' have changes that are not yet "
983.                 "reflected in a migration, and so won't be applied.\n"
984.                 "  run 'manage.py makemigrations' to make new migrations, and "
985.                 "then re-run 'manage.py migrate' to apply them.\n",
986.                 out.getvalue().lower(),
987.             )
988.         finally:
989.             # Unmigrate everything.
990.             call_command('migrate', 'migrated_app', 'zero', verbosity=0)
991.             call_command('migrate', 'migrated_unapplied_app', 'zero', verbosity=0)
992. 
993. 
994. class MakeMigrationsTests(MigrationTestBase):
995.     """
996.     Tests running the makemigrations command.
997.     """
998. 
999.     def setUp(self):
1000.         super().setUp()


File: tests/migrations/test_executor.py
Line number range: 1 - 854
Content:
1. from unittest import mock
2. 
3. from django.apps.registry import apps as global_apps
4. from django.db import DatabaseError, connection, migrations, models
5. from django.db.migrations.exceptions import InvalidMigrationPlan
6. from django.db.migrations.executor import MigrationExecutor
7. from django.db.migrations.graph import MigrationGraph
8. from django.db.migrations.recorder import MigrationRecorder
9. from django.db.migrations.state import ProjectState
10. from django.test import (
11.     SimpleTestCase, modify_settings, override_settings, skipUnlessDBFeature,
12. )
13. 
14. from .test_base import MigrationTestBase
15. 
16. 
17. @modify_settings(INSTALLED_APPS={'append': 'migrations2'})
18. class ExecutorTests(MigrationTestBase):
19.     """
20.     Tests the migration executor (full end-to-end running).
21. 
22.     Bear in mind that if these are failing you should fix the other
23.     test failures first, as they may be propagating into here.
24.     """
25. 
26.     available_apps = ["migrations", "migrations2", "django.contrib.auth", "django.contrib.contenttypes"]
27. 
28.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
29.     def test_run(self):
30.         """
31.         Tests running a simple set of migrations.
32.         """
33.         executor = MigrationExecutor(connection)
34.         # Let's look at the plan first and make sure it's up to scratch
35.         plan = executor.migration_plan([("migrations", "0002_second")])
36.         self.assertEqual(
37.             plan,
38.             [
39.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
40.                 (executor.loader.graph.nodes["migrations", "0002_second"], False),
41.             ],
42.         )
43.         # Were the tables there before?
44.         self.assertTableNotExists("migrations_author")
45.         self.assertTableNotExists("migrations_book")
46.         # Alright, let's try running it
47.         executor.migrate([("migrations", "0002_second")])
48.         # Are the tables there now?
49.         self.assertTableExists("migrations_author")
50.         self.assertTableExists("migrations_book")
51.         # Rebuild the graph to reflect the new DB state
52.         executor.loader.build_graph()
53.         # Alright, let's undo what we did
54.         plan = executor.migration_plan([("migrations", None)])
55.         self.assertEqual(
56.             plan,
57.             [
58.                 (executor.loader.graph.nodes["migrations", "0002_second"], True),
59.                 (executor.loader.graph.nodes["migrations", "0001_initial"], True),
60.             ],
61.         )
62.         executor.migrate([("migrations", None)])
63.         # Are the tables gone?
64.         self.assertTableNotExists("migrations_author")
65.         self.assertTableNotExists("migrations_book")
66. 
67.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
68.     def test_run_with_squashed(self):
69.         """
70.         Tests running a squashed migration from zero (should ignore what it replaces)
71.         """
72.         executor = MigrationExecutor(connection)
73.         # Check our leaf node is the squashed one
74.         leaves = [key for key in executor.loader.graph.leaf_nodes() if key[0] == "migrations"]
75.         self.assertEqual(leaves, [("migrations", "0001_squashed_0002")])
76.         # Check the plan
77.         plan = executor.migration_plan([("migrations", "0001_squashed_0002")])
78.         self.assertEqual(
79.             plan,
80.             [
81.                 (executor.loader.graph.nodes["migrations", "0001_squashed_0002"], False),
82.             ],
83.         )
84.         # Were the tables there before?
85.         self.assertTableNotExists("migrations_author")
86.         self.assertTableNotExists("migrations_book")
87.         # Alright, let's try running it
88.         executor.migrate([("migrations", "0001_squashed_0002")])
89.         # Are the tables there now?
90.         self.assertTableExists("migrations_author")
91.         self.assertTableExists("migrations_book")
92.         # Rebuild the graph to reflect the new DB state
93.         executor.loader.build_graph()
94.         # Alright, let's undo what we did. Should also just use squashed.
95.         plan = executor.migration_plan([("migrations", None)])
96.         self.assertEqual(
97.             plan,
98.             [
99.                 (executor.loader.graph.nodes["migrations", "0001_squashed_0002"], True),
100.             ],
101.         )
102.         executor.migrate([("migrations", None)])
103.         # Are the tables gone?
104.         self.assertTableNotExists("migrations_author")
105.         self.assertTableNotExists("migrations_book")
106. 
107.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_non_atomic"})
108.     def test_non_atomic_migration(self):
109.         """
110.         Applying a non-atomic migration works as expected.
111.         """
112.         executor = MigrationExecutor(connection)
113.         with self.assertRaisesMessage(RuntimeError, "Abort migration"):
114.             executor.migrate([("migrations", "0001_initial")])
115.         self.assertTableExists("migrations_publisher")
116.         migrations_apps = executor.loader.project_state(("migrations", "0001_initial")).apps
117.         Publisher = migrations_apps.get_model("migrations", "Publisher")
118.         self.assertTrue(Publisher.objects.exists())
119.         self.assertTableNotExists("migrations_book")
120. 
121.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_atomic_operation"})
122.     def test_atomic_operation_in_non_atomic_migration(self):
123.         """
124.         An atomic operation is properly rolled back inside a non-atomic
125.         migration.
126.         """
127.         executor = MigrationExecutor(connection)
128.         with self.assertRaisesMessage(RuntimeError, "Abort migration"):
129.             executor.migrate([("migrations", "0001_initial")])
130.         migrations_apps = executor.loader.project_state(("migrations", "0001_initial")).apps
131.         Editor = migrations_apps.get_model("migrations", "Editor")
132.         self.assertFalse(Editor.objects.exists())
133.         # Record previous migration as successful.
134.         executor.migrate([("migrations", "0001_initial")], fake=True)
135.         # Rebuild the graph to reflect the new DB state.
136.         executor.loader.build_graph()
137.         # Migrating backwards is also atomic.
138.         with self.assertRaisesMessage(RuntimeError, "Abort migration"):
139.             executor.migrate([("migrations", None)])
140.         self.assertFalse(Editor.objects.exists())
141. 
142.     @override_settings(MIGRATION_MODULES={
143.         "migrations": "migrations.test_migrations",
144.         "migrations2": "migrations2.test_migrations_2",
145.     })
146.     def test_empty_plan(self):
147.         """
148.         Re-planning a full migration of a fully-migrated set doesn't
149.         perform spurious unmigrations and remigrations.
150. 
151.         There was previously a bug where the executor just always performed the
152.         backwards plan for applied migrations - which even for the most recent
153.         migration in an app, might include other, dependent apps, and these
154.         were being unmigrated.
155.         """
156.         # Make the initial plan, check it
157.         executor = MigrationExecutor(connection)
158.         plan = executor.migration_plan([
159.             ("migrations", "0002_second"),
160.             ("migrations2", "0001_initial"),
161.         ])
162.         self.assertEqual(
163.             plan,
164.             [
165.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
166.                 (executor.loader.graph.nodes["migrations", "0002_second"], False),
167.                 (executor.loader.graph.nodes["migrations2", "0001_initial"], False),
168.             ],
169.         )
170.         # Fake-apply all migrations
171.         executor.migrate([
172.             ("migrations", "0002_second"),
173.             ("migrations2", "0001_initial")
174.         ], fake=True)
175.         # Rebuild the graph to reflect the new DB state
176.         executor.loader.build_graph()
177.         # Now plan a second time and make sure it's empty
178.         plan = executor.migration_plan([
179.             ("migrations", "0002_second"),
180.             ("migrations2", "0001_initial"),
181.         ])
182.         self.assertEqual(plan, [])
183.         # The resulting state should include applied migrations.
184.         state = executor.migrate([
185.             ("migrations", "0002_second"),
186.             ("migrations2", "0001_initial"),
187.         ])
188.         self.assertIn(('migrations', 'book'), state.models)
189.         self.assertIn(('migrations', 'author'), state.models)
190.         self.assertIn(('migrations2', 'otherauthor'), state.models)
191.         # Erase all the fake records
192.         executor.recorder.record_unapplied("migrations2", "0001_initial")
193.         executor.recorder.record_unapplied("migrations", "0002_second")
194.         executor.recorder.record_unapplied("migrations", "0001_initial")
195. 
196.     @override_settings(MIGRATION_MODULES={
197.         "migrations": "migrations.test_migrations",
198.         "migrations2": "migrations2.test_migrations_2_no_deps",
199.     })
200.     def test_mixed_plan_not_supported(self):
201.         """
202.         Although the MigrationExecutor interfaces allows for mixed migration
203.         plans (combined forwards and backwards migrations) this is not
204.         supported.
205.         """
206.         # Prepare for mixed plan
207.         executor = MigrationExecutor(connection)
208.         plan = executor.migration_plan([("migrations", "0002_second")])
209.         self.assertEqual(
210.             plan,
211.             [
212.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
213.                 (executor.loader.graph.nodes["migrations", "0002_second"], False),
214.             ],
215.         )
216.         executor.migrate(None, plan)
217.         # Rebuild the graph to reflect the new DB state
218.         executor.loader.build_graph()
219.         self.assertIn(('migrations', '0001_initial'), executor.loader.applied_migrations)
220.         self.assertIn(('migrations', '0002_second'), executor.loader.applied_migrations)
221.         self.assertNotIn(('migrations2', '0001_initial'), executor.loader.applied_migrations)
222. 
223.         # Generate mixed plan
224.         plan = executor.migration_plan([
225.             ("migrations", None),
226.             ("migrations2", "0001_initial"),
227.         ])
228.         msg = (
229.             'Migration plans with both forwards and backwards migrations are '
230.             'not supported. Please split your migration process into separate '
231.             'plans of only forwards OR backwards migrations.'
232.         )
233.         with self.assertRaisesMessage(InvalidMigrationPlan, msg) as cm:
234.             executor.migrate(None, plan)
235.         self.assertEqual(
236.             cm.exception.args[1],
237.             [
238.                 (executor.loader.graph.nodes["migrations", "0002_second"], True),
239.                 (executor.loader.graph.nodes["migrations", "0001_initial"], True),
240.                 (executor.loader.graph.nodes["migrations2", "0001_initial"], False),
241.             ],
242.         )
243.         # Rebuild the graph to reflect the new DB state
244.         executor.loader.build_graph()
245.         executor.migrate([
246.             ("migrations", None),
247.             ("migrations2", None),
248.         ])
249.         # Are the tables gone?
250.         self.assertTableNotExists("migrations_author")
251.         self.assertTableNotExists("migrations_book")
252.         self.assertTableNotExists("migrations2_otherauthor")
253. 
254.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
255.     def test_soft_apply(self):
256.         """
257.         Tests detection of initial migrations already having been applied.
258.         """
259.         state = {"faked": None}
260. 
261.         def fake_storer(phase, migration=None, fake=None):
262.             state["faked"] = fake
263.         executor = MigrationExecutor(connection, progress_callback=fake_storer)
264.         # Were the tables there before?
265.         self.assertTableNotExists("migrations_author")
266.         self.assertTableNotExists("migrations_tribble")
267.         # Run it normally
268.         self.assertEqual(
269.             executor.migration_plan([("migrations", "0001_initial")]),
270.             [
271.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
272.             ],
273.         )
274.         executor.migrate([("migrations", "0001_initial")])
275.         # Are the tables there now?
276.         self.assertTableExists("migrations_author")
277.         self.assertTableExists("migrations_tribble")
278.         # We shouldn't have faked that one
279.         self.assertIs(state["faked"], False)
280.         # Rebuild the graph to reflect the new DB state
281.         executor.loader.build_graph()
282.         # Fake-reverse that
283.         executor.migrate([("migrations", None)], fake=True)
284.         # Are the tables still there?
285.         self.assertTableExists("migrations_author")
286.         self.assertTableExists("migrations_tribble")
287.         # Make sure that was faked
288.         self.assertIs(state["faked"], True)
289.         # Finally, migrate forwards; this should fake-apply our initial migration
290.         executor.loader.build_graph()
291.         self.assertEqual(
292.             executor.migration_plan([("migrations", "0001_initial")]),
293.             [
294.                 (executor.loader.graph.nodes["migrations", "0001_initial"], False),
295.             ],
296.         )
297.         # Applying the migration should raise a database level error
298.         # because we haven't given the --fake-initial option
299.         with self.assertRaises(DatabaseError):
300.             executor.migrate([("migrations", "0001_initial")])
301.         # Reset the faked state
302.         state = {"faked": None}
303.         # Allow faking of initial CreateModel operations
304.         executor.migrate([("migrations", "0001_initial")], fake_initial=True)
305.         self.assertIs(state["faked"], True)
306.         # And migrate back to clean up the database
307.         executor.loader.build_graph()
308.         executor.migrate([("migrations", None)])
309.         self.assertTableNotExists("migrations_author")
310.         self.assertTableNotExists("migrations_tribble")
311. 
312.     @override_settings(
313.         MIGRATION_MODULES={
314.             "migrations": "migrations.test_migrations_custom_user",
315.             "django.contrib.auth": "django.contrib.auth.migrations",
316.         },
317.         AUTH_USER_MODEL="migrations.Author",
318.     )
319.     def test_custom_user(self):
320.         """
321.         Regression test for #22325 - references to a custom user model defined in the
322.         same app are not resolved correctly.
323.         """
324.         executor = MigrationExecutor(connection)
325.         self.assertTableNotExists("migrations_author")
326.         self.assertTableNotExists("migrations_tribble")
327.         # Migrate forwards
328.         executor.migrate([("migrations", "0001_initial")])
329.         self.assertTableExists("migrations_author")
330.         self.assertTableExists("migrations_tribble")
331.         # Make sure the soft-application detection works (#23093)
332.         # Change table_names to not return auth_user during this as
333.         # it wouldn't be there in a normal run, and ensure migrations.Author
334.         # exists in the global app registry temporarily.
335.         old_table_names = connection.introspection.table_names
336.         connection.introspection.table_names = lambda c: [x for x in old_table_names(c) if x != "auth_user"]
337.         migrations_apps = executor.loader.project_state(("migrations", "0001_initial")).apps
338.         global_apps.get_app_config("migrations").models["author"] = migrations_apps.get_model("migrations", "author")
339.         try:
340.             migration = executor.loader.get_migration("auth", "0001_initial")
341.             self.assertIs(executor.detect_soft_applied(None, migration)[0], True)
342.         finally:
343.             connection.introspection.table_names = old_table_names
344.             del global_apps.get_app_config("migrations").models["author"]
345.         # And migrate back to clean up the database
346.         executor.loader.build_graph()
347.         executor.migrate([("migrations", None)])
348.         self.assertTableNotExists("migrations_author")
349.         self.assertTableNotExists("migrations_tribble")
350. 
351.     @override_settings(
352.         MIGRATION_MODULES={
353.             "migrations": "migrations.test_add_many_to_many_field_initial",
354.         },
355.     )
356.     def test_detect_soft_applied_add_field_manytomanyfield(self):
357.         """
358.         executor.detect_soft_applied() detects ManyToManyField tables from an
359.         AddField operation. This checks the case of AddField in a migration
360.         with other operations (0001) and the case of AddField in its own
361.         migration (0002).
362.         """
363.         tables = [
364.             # from 0001
365.             "migrations_project",
366.             "migrations_task",
367.             "migrations_project_tasks",
368.             # from 0002
369.             "migrations_task_projects",
370.         ]
371.         executor = MigrationExecutor(connection)
372.         # Create the tables for 0001 but make it look like the migration hasn't
373.         # been applied.
374.         executor.migrate([("migrations", "0001_initial")])
375.         executor.migrate([("migrations", None)], fake=True)
376.         for table in tables[:3]:
377.             self.assertTableExists(table)
378.         # Table detection sees 0001 is applied but not 0002.
379.         migration = executor.loader.get_migration("migrations", "0001_initial")
380.         self.assertIs(executor.detect_soft_applied(None, migration)[0], True)
381.         migration = executor.loader.get_migration("migrations", "0002_initial")
382.         self.assertIs(executor.detect_soft_applied(None, migration)[0], False)
383. 
384.         # Create the tables for both migrations but make it look like neither
385.         # has been applied.
386.         executor.loader.build_graph()
387.         executor.migrate([("migrations", "0001_initial")], fake=True)
388.         executor.migrate([("migrations", "0002_initial")])
389.         executor.loader.build_graph()
390.         executor.migrate([("migrations", None)], fake=True)
391.         # Table detection sees 0002 is applied.
392.         migration = executor.loader.get_migration("migrations", "0002_initial")
393.         self.assertIs(executor.detect_soft_applied(None, migration)[0], True)
394. 
395.         # Leave the tables for 0001 except the many-to-many table. That missing
396.         # table should cause detect_soft_applied() to return False.
397.         with connection.schema_editor() as editor:
398.             for table in tables[2:]:
399.                 editor.execute(editor.sql_delete_table % {"table": table})
400.         migration = executor.loader.get_migration("migrations", "0001_initial")
401.         self.assertIs(executor.detect_soft_applied(None, migration)[0], False)
402. 
403.         # Cleanup by removing the remaining tables.
404.         with connection.schema_editor() as editor:
405.             for table in tables[:2]:
406.                 editor.execute(editor.sql_delete_table % {"table": table})
407.         for table in tables:
408.             self.assertTableNotExists(table)
409. 
410.     @override_settings(
411.         INSTALLED_APPS=[
412.             "migrations.migrations_test_apps.lookuperror_a",
413.             "migrations.migrations_test_apps.lookuperror_b",
414.             "migrations.migrations_test_apps.lookuperror_c"
415.         ]
416.     )
417.     def test_unrelated_model_lookups_forwards(self):
418.         """
419.         #24123 - All models of apps already applied which are
420.         unrelated to the first app being applied are part of the initial model
421.         state.
422.         """
423.         try:
424.             executor = MigrationExecutor(connection)
425.             self.assertTableNotExists("lookuperror_a_a1")
426.             self.assertTableNotExists("lookuperror_b_b1")
427.             self.assertTableNotExists("lookuperror_c_c1")
428.             executor.migrate([("lookuperror_b", "0003_b3")])
429.             self.assertTableExists("lookuperror_b_b3")
430.             # Rebuild the graph to reflect the new DB state
431.             executor.loader.build_graph()
432. 
433.             # Migrate forwards -- This led to a lookup LookupErrors because
434.             # lookuperror_b.B2 is already applied
435.             executor.migrate([
436.                 ("lookuperror_a", "0004_a4"),
437.                 ("lookuperror_c", "0003_c3"),
438.             ])
439.             self.assertTableExists("lookuperror_a_a4")
440.             self.assertTableExists("lookuperror_c_c3")
441. 
442.             # Rebuild the graph to reflect the new DB state
443.             executor.loader.build_graph()
444.         finally:
445.             # Cleanup
446.             executor.migrate([
447.                 ("lookuperror_a", None),
448.                 ("lookuperror_b", None),
449.                 ("lookuperror_c", None),
450.             ])
451.             self.assertTableNotExists("lookuperror_a_a1")
452.             self.assertTableNotExists("lookuperror_b_b1")
453.             self.assertTableNotExists("lookuperror_c_c1")
454. 
455.     @override_settings(
456.         INSTALLED_APPS=[
457.             "migrations.migrations_test_apps.lookuperror_a",
458.             "migrations.migrations_test_apps.lookuperror_b",
459.             "migrations.migrations_test_apps.lookuperror_c"
460.         ]
461.     )
462.     def test_unrelated_model_lookups_backwards(self):
463.         """
464.         #24123 - All models of apps being unapplied which are
465.         unrelated to the first app being unapplied are part of the initial
466.         model state.
467.         """
468.         try:
469.             executor = MigrationExecutor(connection)
470.             self.assertTableNotExists("lookuperror_a_a1")
471.             self.assertTableNotExists("lookuperror_b_b1")
472.             self.assertTableNotExists("lookuperror_c_c1")
473.             executor.migrate([
474.                 ("lookuperror_a", "0004_a4"),
475.                 ("lookuperror_b", "0003_b3"),
476.                 ("lookuperror_c", "0003_c3"),
477.             ])
478.             self.assertTableExists("lookuperror_b_b3")
479.             self.assertTableExists("lookuperror_a_a4")
480.             self.assertTableExists("lookuperror_c_c3")
481.             # Rebuild the graph to reflect the new DB state
482.             executor.loader.build_graph()
483. 
484.             # Migrate backwards -- This led to a lookup LookupErrors because
485.             # lookuperror_b.B2 is not in the initial state (unrelated to app c)
486.             executor.migrate([("lookuperror_a", None)])
487. 
488.             # Rebuild the graph to reflect the new DB state
489.             executor.loader.build_graph()
490.         finally:
491.             # Cleanup
492.             executor.migrate([
493.                 ("lookuperror_b", None),
494.                 ("lookuperror_c", None)
495.             ])
496.             self.assertTableNotExists("lookuperror_a_a1")
497.             self.assertTableNotExists("lookuperror_b_b1")
498.             self.assertTableNotExists("lookuperror_c_c1")
499. 
500.     @override_settings(
501.         INSTALLED_APPS=[
502.             'migrations.migrations_test_apps.mutate_state_a',
503.             'migrations.migrations_test_apps.mutate_state_b',
504.         ]
505.     )
506.     def test_unrelated_applied_migrations_mutate_state(self):
507.         """
508.         #26647 - Unrelated applied migrations should be part of the final
509.         state in both directions.
510.         """
511.         executor = MigrationExecutor(connection)
512.         executor.migrate([
513.             ('mutate_state_b', '0002_add_field'),
514.         ])
515.         # Migrate forward.
516.         executor.loader.build_graph()
517.         state = executor.migrate([
518.             ('mutate_state_a', '0001_initial'),
519.         ])
520.         self.assertIn('added', state.models['mutate_state_b', 'b'].fields)
521.         executor.loader.build_graph()
522.         # Migrate backward.
523.         state = executor.migrate([
524.             ('mutate_state_a', None),
525.         ])
526.         self.assertIn('added', state.models['mutate_state_b', 'b'].fields)
527.         executor.migrate([
528.             ('mutate_state_b', None),
529.         ])
530. 
531.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
532.     def test_process_callback(self):
533.         """
534.         #24129 - Tests callback process
535.         """
536.         call_args_list = []
537. 
538.         def callback(*args):
539.             call_args_list.append(args)
540. 
541.         executor = MigrationExecutor(connection, progress_callback=callback)
542.         # Were the tables there before?
543.         self.assertTableNotExists("migrations_author")
544.         self.assertTableNotExists("migrations_tribble")
545.         executor.migrate([
546.             ("migrations", "0001_initial"),
547.             ("migrations", "0002_second"),
548.         ])
549.         # Rebuild the graph to reflect the new DB state
550.         executor.loader.build_graph()
551. 
552.         executor.migrate([
553.             ("migrations", None),
554.             ("migrations", None),
555.         ])
556.         self.assertTableNotExists("migrations_author")
557.         self.assertTableNotExists("migrations_tribble")
558. 
559.         migrations = executor.loader.graph.nodes
560.         expected = [
561.             ("render_start",),
562.             ("render_success",),
563.             ("apply_start", migrations['migrations', '0001_initial'], False),
564.             ("apply_success", migrations['migrations', '0001_initial'], False),
565.             ("apply_start", migrations['migrations', '0002_second'], False),
566.             ("apply_success", migrations['migrations', '0002_second'], False),
567.             ("render_start",),
568.             ("render_success",),
569.             ("unapply_start", migrations['migrations', '0002_second'], False),
570.             ("unapply_success", migrations['migrations', '0002_second'], False),
571.             ("unapply_start", migrations['migrations', '0001_initial'], False),
572.             ("unapply_success", migrations['migrations', '0001_initial'], False),
573.         ]
574.         self.assertEqual(call_args_list, expected)
575. 
576.     @override_settings(
577.         INSTALLED_APPS=[
578.             "migrations.migrations_test_apps.alter_fk.author_app",
579.             "migrations.migrations_test_apps.alter_fk.book_app",
580.         ]
581.     )
582.     def test_alter_id_type_with_fk(self):
583.         try:
584.             executor = MigrationExecutor(connection)
585.             self.assertTableNotExists("author_app_author")
586.             self.assertTableNotExists("book_app_book")
587.             # Apply initial migrations
588.             executor.migrate([
589.                 ("author_app", "0001_initial"),
590.                 ("book_app", "0001_initial"),
591.             ])
592.             self.assertTableExists("author_app_author")
593.             self.assertTableExists("book_app_book")
594.             # Rebuild the graph to reflect the new DB state
595.             executor.loader.build_graph()
596. 
597.             # Apply PK type alteration
598.             executor.migrate([("author_app", "0002_alter_id")])
599. 
600.             # Rebuild the graph to reflect the new DB state
601.             executor.loader.build_graph()
602.         finally:
603.             # We can't simply unapply the migrations here because there is no
604.             # implicit cast from VARCHAR to INT on the database level.
605.             with connection.schema_editor() as editor:
606.                 editor.execute(editor.sql_delete_table % {"table": "book_app_book"})
607.                 editor.execute(editor.sql_delete_table % {"table": "author_app_author"})
608.             self.assertTableNotExists("author_app_author")
609.             self.assertTableNotExists("book_app_book")
610.             executor.migrate([("author_app", None)], fake=True)
611. 
612.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
613.     def test_apply_all_replaced_marks_replacement_as_applied(self):
614.         """
615.         Applying all replaced migrations marks replacement as applied (#24628).
616.         """
617.         recorder = MigrationRecorder(connection)
618.         # Place the database in a state where the replaced migrations are
619.         # partially applied: 0001 is applied, 0002 is not.
620.         recorder.record_applied("migrations", "0001_initial")
621.         executor = MigrationExecutor(connection)
622.         # Use fake because we don't actually have the first migration
623.         # applied, so the second will fail. And there's no need to actually
624.         # create/modify tables here, we're just testing the
625.         # MigrationRecord, which works the same with or without fake.
626.         executor.migrate([("migrations", "0002_second")], fake=True)
627. 
628.         # Because we've now applied 0001 and 0002 both, their squashed
629.         # replacement should be marked as applied.
630.         self.assertIn(
631.             ("migrations", "0001_squashed_0002"),
632.             recorder.applied_migrations(),
633.         )
634. 
635.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
636.     def test_migrate_marks_replacement_applied_even_if_it_did_nothing(self):
637.         """
638.         A new squash migration will be marked as applied even if all its
639.         replaced migrations were previously already applied (#24628).
640.         """
641.         recorder = MigrationRecorder(connection)
642.         # Record all replaced migrations as applied
643.         recorder.record_applied("migrations", "0001_initial")
644.         recorder.record_applied("migrations", "0002_second")
645.         executor = MigrationExecutor(connection)
646.         executor.migrate([("migrations", "0001_squashed_0002")])
647. 
648.         # Because 0001 and 0002 are both applied, even though this migrate run
649.         # didn't apply anything new, their squashed replacement should be
650.         # marked as applied.
651.         self.assertIn(
652.             ("migrations", "0001_squashed_0002"),
653.             recorder.applied_migrations(),
654.         )
655. 
656.     # When the feature is False, the operation and the record won't be
657.     # performed in a transaction and the test will systematically pass.
658.     @skipUnlessDBFeature('can_rollback_ddl')
659.     def test_migrations_applied_and_recorded_atomically(self):
660.         """Migrations are applied and recorded atomically."""
661.         class Migration(migrations.Migration):
662.             operations = [
663.                 migrations.CreateModel('model', [
664.                     ('id', models.AutoField(primary_key=True)),
665.                 ]),
666.             ]
667. 
668.         executor = MigrationExecutor(connection)
669.         with mock.patch('django.db.migrations.executor.MigrationExecutor.record_migration') as record_migration:
670.             record_migration.side_effect = RuntimeError('Recording migration failed.')
671.             with self.assertRaisesMessage(RuntimeError, 'Recording migration failed.'):
672.                 executor.apply_migration(
673.                     ProjectState(),
674.                     Migration('0001_initial', 'record_migration'),
675.                 )
676.                 executor.migrate([('migrations', '0001_initial')])
677.         # The migration isn't recorded as applied since it failed.
678.         migration_recorder = MigrationRecorder(connection)
679.         self.assertIs(
680.             migration_recorder.migration_qs.filter(
681.                 app='record_migration', name='0001_initial',
682.             ).exists(),
683.             False,
684.         )
685.         self.assertTableNotExists('record_migration_model')
686. 
687.     def test_migrations_not_applied_on_deferred_sql_failure(self):
688.         """Migrations are not recorded if deferred SQL application fails."""
689.         class DeferredSQL:
690.             def __str__(self):
691.                 raise DatabaseError('Failed to apply deferred SQL')
692. 
693.         class Migration(migrations.Migration):
694.             atomic = False
695. 
696.             def apply(self, project_state, schema_editor, collect_sql=False):
697.                 schema_editor.deferred_sql.append(DeferredSQL())
698. 
699.         executor = MigrationExecutor(connection)
700.         with self.assertRaisesMessage(DatabaseError, 'Failed to apply deferred SQL'):
701.             executor.apply_migration(
702.                 ProjectState(),
703.                 Migration('0001_initial', 'deferred_sql'),
704.             )
705.         # The migration isn't recorded as applied since it failed.
706.         migration_recorder = MigrationRecorder(connection)
707.         self.assertIs(
708.             migration_recorder.migration_qs.filter(
709.                 app='deferred_sql', name='0001_initial',
710.             ).exists(),
711.             False,
712.         )
713. 
714. 
715. class FakeLoader:
716.     def __init__(self, graph, applied):
717.         self.graph = graph
718.         self.applied_migrations = applied
719. 
720. 
721. class FakeMigration:
722.     """Really all we need is any object with a debug-useful repr."""
723.     def __init__(self, name):
724.         self.name = name
725. 
726.     def __repr__(self):
727.         return 'M<%s>' % self.name
728. 
729. 
730. class ExecutorUnitTests(SimpleTestCase):
731.     """(More) isolated unit tests for executor methods."""
732.     def test_minimize_rollbacks(self):
733.         """
734.         Minimize unnecessary rollbacks in connected apps.
735. 
736.         When you say "./manage.py migrate appA 0001", rather than migrating to
737.         just after appA-0001 in the linearized migration plan (which could roll
738.         back migrations in other apps that depend on appA 0001, but don't need
739.         to be rolled back since we're not rolling back appA 0001), we migrate
740.         to just before appA-0002.
741.         """
742.         a1_impl = FakeMigration('a1')
743.         a1 = ('a', '1')
744.         a2_impl = FakeMigration('a2')
745.         a2 = ('a', '2')
746.         b1_impl = FakeMigration('b1')
747.         b1 = ('b', '1')
748.         graph = MigrationGraph()
749.         graph.add_node(a1, a1_impl)
750.         graph.add_node(a2, a2_impl)
751.         graph.add_node(b1, b1_impl)
752.         graph.add_dependency(None, b1, a1)
753.         graph.add_dependency(None, a2, a1)
754. 
755.         executor = MigrationExecutor(None)
756.         executor.loader = FakeLoader(graph, {
757.             a1: a1_impl,
758.             b1: b1_impl,
759.             a2: a2_impl,
760.         })
761. 
762.         plan = executor.migration_plan({a1})
763. 
764.         self.assertEqual(plan, [(a2_impl, True)])
765. 
766.     def test_minimize_rollbacks_branchy(self):
767.         r"""
768.         Minimize rollbacks when target has multiple in-app children.
769. 
770.         a: 1 <---- 3 <--\
771.               \ \- 2 <--- 4
772.                \       \
773.         b:      \- 1 <--- 2
774.         """
775.         a1_impl = FakeMigration('a1')
776.         a1 = ('a', '1')
777.         a2_impl = FakeMigration('a2')
778.         a2 = ('a', '2')
779.         a3_impl = FakeMigration('a3')
780.         a3 = ('a', '3')
781.         a4_impl = FakeMigration('a4')
782.         a4 = ('a', '4')
783.         b1_impl = FakeMigration('b1')
784.         b1 = ('b', '1')
785.         b2_impl = FakeMigration('b2')
786.         b2 = ('b', '2')
787.         graph = MigrationGraph()
788.         graph.add_node(a1, a1_impl)
789.         graph.add_node(a2, a2_impl)
790.         graph.add_node(a3, a3_impl)
791.         graph.add_node(a4, a4_impl)
792.         graph.add_node(b1, b1_impl)
793.         graph.add_node(b2, b2_impl)
794.         graph.add_dependency(None, a2, a1)
795.         graph.add_dependency(None, a3, a1)
796.         graph.add_dependency(None, a4, a2)
797.         graph.add_dependency(None, a4, a3)
798.         graph.add_dependency(None, b2, b1)
799.         graph.add_dependency(None, b1, a1)
800.         graph.add_dependency(None, b2, a2)
801. 
802.         executor = MigrationExecutor(None)
803.         executor.loader = FakeLoader(graph, {
804.             a1: a1_impl,
805.             b1: b1_impl,
806.             a2: a2_impl,
807.             b2: b2_impl,
808.             a3: a3_impl,
809.             a4: a4_impl,
810.         })
811. 
812.         plan = executor.migration_plan({a1})
813. 
814.         should_be_rolled_back = [b2_impl, a4_impl, a2_impl, a3_impl]
815.         exp = [(m, True) for m in should_be_rolled_back]
816.         self.assertEqual(plan, exp)
817. 
818.     def test_backwards_nothing_to_do(self):
819.         r"""
820.         If the current state satisfies the given target, do nothing.
821. 
822.         a: 1 <--- 2
823.         b:    \- 1
824.         c:     \- 1
825. 
826.         If a1 is applied already and a2 is not, and we're asked to migrate to
827.         a1, don't apply or unapply b1 or c1, regardless of their current state.
828.         """
829.         a1_impl = FakeMigration('a1')
830.         a1 = ('a', '1')
831.         a2_impl = FakeMigration('a2')
832.         a2 = ('a', '2')
833.         b1_impl = FakeMigration('b1')
834.         b1 = ('b', '1')
835.         c1_impl = FakeMigration('c1')
836.         c1 = ('c', '1')
837.         graph = MigrationGraph()
838.         graph.add_node(a1, a1_impl)
839.         graph.add_node(a2, a2_impl)
840.         graph.add_node(b1, b1_impl)
841.         graph.add_node(c1, c1_impl)
842.         graph.add_dependency(None, a2, a1)
843.         graph.add_dependency(None, b1, a1)
844.         graph.add_dependency(None, c1, a1)
845. 
846.         executor = MigrationExecutor(None)
847.         executor.loader = FakeLoader(graph, {
848.             a1: a1_impl,
849.             b1: b1_impl,
850.         })
851. 
852.         plan = executor.migration_plan({a1})
853. 
854.         self.assertEqual(plan, [])

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-24 00:49:34,605 - thread-124466737706688.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="I have analyzed the user's request and the provided context. The user wants three test cases related to a bug in unapplying squashed migrations. The context contains `tests/migrations/test_commands.py`, `tests/migrations/test_executor.py`, and the base test class `tests/migrations/test_base.py`. These files contain several tests for squashed migrations. I've identified three tests that cover applying, unapplying, and recording squashed migrations, which are directly related to the bug and the patch. The full source code for these tests and their base class is available. Therefore, I have sufficient information and do not require additional context." query='' extra_requirements='' purpose=''
2025-12-24 00:49:34,607 - thread-124466737706688.prometheus_context_collector - INFO - Successfully retrieved 3 context snippets
