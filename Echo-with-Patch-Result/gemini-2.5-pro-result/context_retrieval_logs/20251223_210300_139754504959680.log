2025-12-23 21:03:00,883 - thread-139754504959680.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: Make pylint XDG Base Directory Specification compliant

Description: I have this really annoying `.pylint.d` directory in my home folder. From what I can tell (I don't do C or C++), this directory is storing data. 

The problem with this is, quite simply, that data storage has a designated spot. The `$HOME/.local/share/<PROGRAM_NAME>` folder. This is a part of the [XDG Base Directory Specification](https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html). A system that designates the folders for specific things like cached files (`$HOME/.cache/<PROGRAM_NAME>`), configuration files (`$HOME/.config/<PROGRAM_NAME>`), and data files (`$HOME/.local/share/<PROGRAM_NAME>`), among other things. The point is to keep user home directories clean and the user sane. 

This should be pretty easy to implement. Simply change the variables/constants for where these files are made and stored to the appropriate directory. Simple as that, even for a large codebase (if it was done right). 

Patch information:
diff --git a/doc/faq.rst b/doc/faq.rst
index c817855f8..32d54bc2a 100644
--- a/doc/faq.rst
+++ b/doc/faq.rst
@@ -93,10 +93,12 @@ localized using the following rules:
 
 * value of the PYLINTHOME environment variable if set
 
-* ".pylint.d" subdirectory of the user's home directory if it is found
-	(not always findable on Windows platforms)
+* Otherwise, under the XDG Base Directory Specification data directory:
+  $XDG_DATA_HOME/pylint (by default: ~/.local/share/pylint)
 
-* ".pylint.d" directory in the current directory
+For backward compatibility, Pylint may still read existing data from legacy
+locations such as ~/.pylint.d or ./.pylint.d if present, but new data will be
+stored under the XDG-compliant path.
 
 3.3 How do I find the option name (for pylintrc) corresponding to a specific command line option?
 --------------------------------------------------------------------------------------------------------
diff --git a/pylint/config/__init__.py b/pylint/config/__init__.py
index 84774d0e3..6577e23ad 100644
--- a/pylint/config/__init__.py
+++ b/pylint/config/__init__.py
@@ -60,10 +60,17 @@ if "PYLINTHOME" in os.environ:
     PYLINT_HOME = os.environ["PYLINTHOME"]
     if USER_HOME == "~":
         USER_HOME = os.path.dirname(PYLINT_HOME)
-elif USER_HOME == "~":
-    PYLINT_HOME = ".pylint.d"
 else:
-    PYLINT_HOME = os.path.join(USER_HOME, ".pylint.d")
+    xdg_data_home = os.environ.get("XDG_DATA_HOME")
+    if not xdg_data_home:
+        if USER_HOME == "~":
+            # Fall back to legacy behavior if the user home cannot be resolved
+            PYLINT_HOME = ".pylint.d"
+        else:
+            xdg_data_home = os.path.join(USER_HOME, ".local", "share")
+            PYLINT_HOME = os.path.join(xdg_data_home, "pylint")
+    else:
+        PYLINT_HOME = os.path.join(xdg_data_home, "pylint")
 
 
 def _get_pdata_path(base_name, recurs):
@@ -73,9 +80,28 @@ def _get_pdata_path(base_name, recurs):
 
 def load_results(base):
     data_file = _get_pdata_path(base, 1)
+    # Try XDG/PYLINTHOME path first
     try:
         with open(data_file, "rb") as stream:
             return pickle.load(stream)
+    except FileNotFoundError:
+        # Try legacy paths for backward compatibility
+        if "PYLINTHOME" not in os.environ:
+            legacy_dirs = []
+            if USER_HOME != "~":
+                legacy_dirs.append(os.path.join(USER_HOME, ".pylint.d"))
+            legacy_dirs.append(os.path.join(os.getcwd(), ".pylint.d"))
+            base_name = base.replace(os.sep, "_")
+            for legacy_home in legacy_dirs:
+                legacy_file = os.path.join(legacy_home, f"{base_name}1.stats")
+                try:
+                    with open(legacy_file, "rb") as stream:
+                        return pickle.load(stream)
+                except FileNotFoundError:
+                    continue
+                except Exception:  # pylint: disable=broad-except
+                    return {}
+        return {}
     except Exception:  # pylint: disable=broad-except
         return {}
 
@@ -83,7 +109,7 @@ def load_results(base):
 def save_results(results, base):
     if not os.path.exists(PYLINT_HOME):
         try:
-            os.mkdir(PYLINT_HOME)
+            os.makedirs(PYLINT_HOME, exist_ok=True)
         except OSError:
             print("Unable to create directory %s" % PYLINT_HOME, file=sys.stderr)
     data_file = _get_pdata_path(base, 1)
@@ -110,11 +136,15 @@ ENV_HELP = (
 The following environment variables are used:
     * PYLINTHOME
     Path to the directory where persistent data for the run will be stored. If
-not found, it defaults to ~/.pylint.d/ or .pylint.d (in the current working
-directory).
+    not set, Pylint will use the XDG Base Directory Specification and store
+    persistent data under $XDG_DATA_HOME/pylint (default: ~/.local/share/pylint).
+    * XDG_DATA_HOME
+    Base directory for user-specific data files. Defaults to ~/.local/share.
+    * XDG_CONFIG_HOME
+    Base directory for user-specific configuration files. Defaults to ~/.config.
     * PYLINTRC
     Path to the configuration file. See the documentation for the method used
-to search for configuration file.
+    to search for configuration file.
 """
     % globals()  # type: ignore
 )
diff --git a/pylint/config/find_default_config_files.py b/pylint/config/find_default_config_files.py
index 2a8937e52..086c2de61 100644
--- a/pylint/config/find_default_config_files.py
+++ b/pylint/config/find_default_config_files.py
@@ -58,6 +58,17 @@ def find_default_config_files():
     else:
         user_home = os.path.expanduser("~")
         if user_home not in ("~", "/root"):
+            # XDG config locations
+            xdg_config_home = os.environ.get("XDG_CONFIG_HOME") or os.path.join(
+                user_home, ".config"
+            )
+            home_rc = os.path.join(xdg_config_home, "pylintrc")
+            if os.path.isfile(home_rc):
+                yield home_rc
+            home_rc = os.path.join(xdg_config_home, "pylint", "pylintrc")
+            if os.path.isfile(home_rc):
+                yield home_rc
+            # Legacy locations
             home_rc = os.path.join(user_home, ".pylintrc")
             if os.path.isfile(home_rc):
                 yield home_rc


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-12-23 21:03:01,296 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
pylint
├── .github
|   ├── CONTRIBUTING.md
|   ├── FUNDING.yml
|   ├── ISSUE_TEMPLATE
|   |   ├── BUG-REPORT.yml
|   |   ├── FEATURE-REQUEST.yml
|   |   ├── QUESTION.yml
|   |   └── config.yml
|   ├── PULL_REQUEST_TEMPLATE.md
|   ├── SECURITY.md
|   ├── dependabot.yml
|   └── workflows
|       ├── ci.yaml
|       ├── codeql-analysis.yml
|       └── release.yml
├── .pre-commit-config.yaml
├── .pre-commit-hooks.yaml
├── .readthedocs.yaml
├── CONTRIBUTORS.txt
├── Dockerfile
├── README.rst
├── doc
|   ├── backlinks.rst
|   ├── conf.py
|   ├── development_guide
|   |   ├── contribute.rst
|   |   └── index.rst
|   ├── exts
|   |   ├── pylint_extensions.py
|   |   └── pylint_features.py
|   ├── faq.rst
|   ├── how_tos
|   |   ├── custom_checkers.rst
|   |   ├── index.rst
|   |   ├── plugins.rst
|   |   └── transform_plugins.rst
|   ├── index.rst
|   ├── intro.rst
|   ├── media
|   ├── release.md
|   ├── requirements.txt
|   ├── support.rst
|   ├── technical_reference
|   |   ├── c_extensions.rst
|   |   ├── checkers.rst
|   |   ├── index.rst
|   |   └── startup.rst
|   ├── tutorial.rst
|   ├── user_guide
|   |   ├── ide-integration.rst
|   |   ├── index.rst
|   |   ├── installation.rst
|   |   ├── message-control.rst
|   |   ├── options.rst
|   |   ├── output.rst
|   |   └── run.rst
|   └── whatsnew
|       ├── 1.6.rst
|       ├── 1.7.rst
|       ├── 1.8.rst
|       ├── 1.9.rst
|       ├── 2.0.rst
|       ├── 2.1.rst
|       ├── 2.10.rst
|       ├── 2.2.rst
|       ├── 2.3.rst
|       ├── 2.4.rst
|       ├── 2.5.rst
|       ├── 2.6.rst
|       ├── 2.7.rst
|       ├── 2.8.rst
|       ├── 2.9.rst
|       ├── changelog.rst
|       └── index.rst
├── elisp
├── examples
|   ├── custom.py
|   ├── custom_raw.py
|   └── deprecation_checker.py
├── pylint
|   ├── __init__.py
|   ├── __main__.py
|   ├── __pkginfo__.py
|   ├── checkers
|   |   ├── __init__.py
|   |   ├── async.py
|   |   ├── base.py
|   |   ├── base_checker.py
|   |   ├── classes.py
|   |   ├── deprecated.py
|   |   ├── design_analysis.py
|   |   ├── exceptions.py
|   |   ├── format.py
|   |   ├── imports.py
|   |   ├── logging.py
|   |   ├── mapreduce_checker.py
|   |   ├── misc.py
|   |   ├── newstyle.py
|   |   ├── python3.py
|   |   ├── raw_metrics.py
|   |   ├── refactoring
|   |   |   ├── __init__.py
|   |   |   ├── len_checker.py
|   |   |   ├── not_checker.py
|   |   |   ├── recommendation_checker.py
|   |   |   └── refactoring_checker.py
|   |   ├── similar.py
|   |   ├── spelling.py
|   |   ├── stdlib.py
|   |   ├── strings.py
|   |   ├── typecheck.py
|   |   ├── utils.py
|   |   └── variables.py
|   ├── config
|   |   ├── __init__.py
|   |   ├── configuration_mixin.py
|   |   ├── find_default_config_files.py
|   |   ├── man_help_formatter.py
|   |   ├── option.py
|   |   ├── option_manager_mixin.py
|   |   ├── option_parser.py
|   |   └── options_provider_mixin.py
|   ├── constants.py
|   ├── epylint.py
|   ├── exceptions.py
|   ├── extensions
|   |   ├── __init__.py
|   |   ├── _check_docs_utils.py
|   |   ├── bad_builtin.py
|   |   ├── bad_builtin.rst
|   |   ├── broad_try_clause.py
|   |   ├── check_docs.py
|   |   ├── check_elif.py
|   |   ├── code_style.py
|   |   ├── code_style.rst
|   |   ├── comparetozero.py
|   |   ├── confusing_elif.py
|   |   ├── docparams.py
|   |   ├── docparams.rst
|   |   ├── docstyle.py
|   |   ├── empty_comment.py
|   |   ├── emptystring.py
|   |   ├── mccabe.py
|   |   ├── mccabe.rst
|   |   ├── overlapping_exceptions.py
|   |   ├── redefined_variable_type.py
|   |   ├── typing.py
|   |   └── typing.rst
|   ├── graph.py
|   ├── interfaces.py
|   ├── lint
|   |   ├── __init__.py
|   |   ├── expand_modules.py
|   |   ├── parallel.py
|   |   ├── pylinter.py
|   |   ├── report_functions.py
|   |   ├── run.py
|   |   └── utils.py
|   ├── message
|   |   ├── __init__.py
|   |   ├── message.py
|   |   ├── message_definition.py
|   |   ├── message_definition_store.py
|   |   ├── message_handler_mix_in.py
|   |   └── message_id_store.py
|   ├── pyreverse
|   |   ├── __init__.py
|   |   ├── diadefslib.py
|   |   ├── diagrams.py
|   |   ├── inspector.py
|   |   ├── main.py
|   |   ├── utils.py
|   |   ├── vcgutils.py
|   |   └── writer.py
|   ├── reporters
|   |   ├── __init__.py
|   |   ├── base_reporter.py
|   |   ├── collecting_reporter.py
|   |   ├── json_reporter.py
|   |   ├── multi_reporter.py
|   |   ├── reports_handler_mix_in.py
|   |   ├── text.py
|   |   └── ureports
|   |       ├── __init__.py
|   |       ├── nodes.py
|   |       └── text_writer.py
|   ├── testutils
|   |   ├── __init__.py
|   |   ├── checker_test_case.py
|   |   ├── constants.py
|   |   ├── decorator.py
|   |   ├── functional_test_file.py
|   |   ├── get_test_info.py
|   |   ├── global_test_linter.py
|   |   ├── lint_module_test.py
|   |   ├── output_line.py
|   |   ├── reporter_for_tests.py
|   |   ├── tokenize_str.py
|   |   └── unittest_linter.py
|   └── utils
|       ├── __init__.py
|       ├── ast_walker.py
|       ├── file_state.py
|       ├── pragma_parser.py
|       └── utils.py
├── requirements_test.txt
├── requirements_test_min.txt
├── requirements_test_pre_commit.txt
├── script
|   ├── __init__.py
|   ├── bump_changelog.py
|   └── fix_documentation.py
├── setup.py
└── tests
    ├── acceptance
    |   └── test_stdlib.py
    ├── benchmark
    |   └── test_baseline_benchmarks.py
    ├── checkers
    |   ├── __init__.py
    |   ├── conftest.py
    |   ├── unittest_base.py
    |   ├── unittest_classes.py
    |   ├── unittest_deprecated.py
    |   ├── unittest_exceptions.py
    |   ├── unittest_format.py
    |   ├── unittest_imports.py
    |   ├── unittest_logging.py
    |   ├── unittest_misc.py
    |   ├── unittest_python3.py
    |   ├── unittest_refactoring.py
    |   ├── unittest_similar.py
    |   ├── unittest_spelling.py
    |   ├── unittest_stdlib.py
    |   ├── unittest_strings.py
    |   ├── unittest_typecheck.py
    |   ├── unittest_utils.py
    |   └── unittest_variables.py
    ├── conftest.py
    ├── data
    |   ├── __init__.py
    |   ├── clientmodule_test.py
    |   └── suppliermodule_test.py
    ├── extensions
    |   ├── __init__.py
    |   ├── data
    |   |   ├── bad_builtin.py
    |   |   ├── broad_try_clause.py
    |   |   ├── compare_to_zero.py
    |   |   ├── docstring.py
    |   |   ├── elif.py
    |   |   ├── empty_comment.py
    |   |   ├── empty_string_comparison.py
    |   |   ├── mccabe.py
    |   |   ├── overlapping_exceptions.py
    |   |   ├── overlapping_exceptions_py33.py
    |   |   └── redefined.py
    |   ├── test_bad_builtin.py
    |   ├── test_broad_try_clause.py
    |   ├── test_check_docs.py
    |   ├── test_check_docs_utils.py
    |   ├── test_check_mccabe.py
    |   ├── test_check_raise_docs.py
    |   ├── test_check_return_docs.py
    |   ├── test_check_yields_docs.py
    |   ├── test_comparetozero.py
    |   ├── test_confusing_elif.py
    |   ├── test_docstyle.py
    |   ├── test_elseif_used.py
    |   ├── test_empty_comment.py
    |   ├── test_emptystring.py
    |   ├── test_overlapping_exceptions.py
    |   └── test_redefined.py
    ├── functional
    |   ├── __init__.py
    |   ├── a
    |   |   ├── __init__.py
    |   |   ├── abstract
    |   |   |   ├── abstract_abc_methods.py
    |   |   |   ├── abstract_class_instantiated_in_class.py
    |   |   |   ├── abstract_class_instantiated_py3.py
    |   |   |   ├── abstract_class_instantiated_py3.txt
    |   |   |   ├── abstract_class_instantiated_py34.py
    |   |   |   ├── abstract_class_instantiated_py34.txt
    |   |   |   ├── abstract_method_py3.py
    |   |   |   └── abstract_method_py3.txt
    |   |   ├── access
    |   |   |   ├── access_attr_before_def_false_positive.py
    |   |   |   ├── access_member_before_definition.py
    |   |   |   ├── access_member_before_definition.txt
    |   |   |   ├── access_to__name__.py
    |   |   |   ├── access_to__name__.txt
    |   |   |   ├── access_to_protected_members.py
    |   |   |   └── access_to_protected_members.txt
    |   |   ├── alternative
    |   |   |   ├── alternative_union_syntax.py
    |   |   |   ├── alternative_union_syntax_error.py
    |   |   |   ├── alternative_union_syntax_error.txt
    |   |   |   ├── alternative_union_syntax_py37.py
    |   |   |   └── alternative_union_syntax_py37.txt
    |   |   ├── anomalous_backslash_escape.py
    |   |   ├── anomalous_backslash_escape.txt
    |   |   ├── anomalous_unicode_escape_py3.py
    |   |   ├── anomalous_unicode_escape_py3.txt
    |   |   ├── arguments.py
    |   |   ├── arguments.txt
    |   |   ├── arguments_differ.py
    |   |   ├── arguments_differ.txt
    |   |   ├── arguments_out_of_order.py
    |   |   ├── arguments_out_of_order.txt
    |   |   ├── arguments_renamed.py
    |   |   ├── arguments_renamed.txt
    |   |   ├── assert_on_string_literal.py
    |   |   ├── assert_on_string_literal.txt
    |   |   ├── assert_on_tuple.py
    |   |   ├── assert_on_tuple.txt
    |   |   ├── assign
    |   |   |   ├── assigment_from_no_return.py
    |   |   |   ├── assigment_from_no_return.txt
    |   |   |   ├── assigning_non_slot.py
    |   |   |   ├── assigning_non_slot.txt
    |   |   |   ├── assigning_non_slot_4509.py
    |   |   |   ├── assigning_non_slot_4509.txt
    |   |   |   ├── assignment_expression.py
    |   |   |   ├── assignment_expression.txt
    |   |   |   ├── assignment_from_no_return.py
    |   |   |   ├── assignment_from_no_return.txt
    |   |   |   └── assignment_from_no_return_py3.py
    |   |   ├── async_functions.py
    |   |   ├── async_functions.txt
    |   |   ├── attribute_defined_outside_init.py
    |   |   ├── attribute_defined_outside_init.txt
    |   |   ├── await_outside_async.py
    |   |   └── await_outside_async.txt
    |   ├── b
    |   |   ├── __init__.py
    |   |   ├── bad_except_order.py
    |   |   ├── bad_except_order.txt
    |   |   ├── bad_exception_context.py
    |   |   ├── bad_exception_context.txt
    |   |   ├── bad_indentation.py
    |   |   ├── bad_indentation.txt
    |   |   ├── bad_inline_option.py
    |   |   ├── bad_inline_option.txt
    |   |   ├── bad_open_mode_py3.py
    |   |   ├── bad_open_mode_py3.txt
    |   |   ├── bad_option_value.py
    |   |   ├── bad_option_value.txt
    |   |   ├── bad_reversed_sequence.py
    |   |   ├── bad_reversed_sequence.txt
    |   |   ├── bad_reversed_sequence_py37.py
    |   |   ├── bad_reversed_sequence_py37.txt
    |   |   ├── bad_reversed_sequence_py38.py
    |   |   ├── bad_staticmethod_argument.py
    |   |   ├── bad_staticmethod_argument.txt
    |   |   ├── bad_thread_instantiation.py
    |   |   ├── bad_thread_instantiation.txt
    |   |   ├── bare_except.py
    |   |   ├── bare_except.txt
    |   |   ├── base_init_vars.py
    |   |   ├── blacklisted_name.py
    |   |   ├── blacklisted_name.txt
    |   |   ├── broad_except.py
    |   |   ├── broad_except.txt
    |   |   ├── bugfix_local_scope_metaclass_1177.py
    |   |   └── builtin_module_test.py
    |   ├── c
    |   |   ├── __init__.py
    |   |   ├── cached_property.py
    |   |   ├── cached_property.txt
    |   |   ├── cellvar_escaping_loop.py
    |   |   ├── cellvar_escaping_loop.txt
    |   |   ├── class_attributes.py
    |   |   ├── class_members_py30.py
    |   |   ├── class_members_py30.txt
    |   |   ├── class_members_py36.py
    |   |   ├── class_scope.py
    |   |   ├── class_scope.txt
    |   |   ├── class_variable_slots_conflict_exempted.py
    |   |   ├── classes_meth_could_be_a_function.py
    |   |   ├── classes_protected_member_access.py
    |   |   ├── comparison_with_callable.py
    |   |   ├── comparison_with_callable.txt
    |   |   ├── condition_evals_to_constant.py
    |   |   ├── condition_evals_to_constant.txt
    |   |   ├── confidence_filter.py
    |   |   ├── confidence_filter.txt
    |   |   ├── confusing_with_statement.py
    |   |   ├── confusing_with_statement.txt
    |   |   ├── consider
    |   |   |   ├── consider_iterating_dictionary.py
    |   |   |   ├── consider_iterating_dictionary.txt
    |   |   |   ├── consider_join.py
    |   |   |   ├── consider_join.txt
    |   |   |   ├── consider_merging_isinstance.py
    |   |   |   ├── consider_merging_isinstance.txt
    |   |   |   ├── consider_swap_variables.py
    |   |   |   ├── consider_swap_variables.txt
    |   |   |   ├── consider_using_dict_comprehension.py
    |   |   |   ├── consider_using_dict_comprehension.txt
    |   |   |   ├── consider_using_dict_items.py
    |   |   |   ├── consider_using_dict_items.txt
    |   |   |   ├── consider_using_enumerate.py
    |   |   |   ├── consider_using_enumerate.txt
    |   |   |   ├── consider_using_generator.py
    |   |   |   ├── consider_using_generator.txt
    |   |   |   ├── consider_using_get.py
    |   |   |   ├── consider_using_get.txt
    |   |   |   ├── consider_using_in.py
    |   |   |   ├── consider_using_in.txt
    |   |   |   ├── consider_using_min_max_builtin.py
    |   |   |   ├── consider_using_min_max_builtin.txt
    |   |   |   ├── consider_using_set_comprehension.py
    |   |   |   ├── consider_using_set_comprehension.txt
    |   |   |   ├── consider_using_sys_exit.py
    |   |   |   ├── consider_using_sys_exit.txt
    |   |   |   ├── consider_using_sys_exit_exempted.py
    |   |   |   ├── consider_using_sys_exit_local_scope.py
    |   |   |   ├── consider_using_with.py
    |   |   |   ├── consider_using_with.txt
    |   |   |   ├── consider_using_with_open.py
    |   |   |   └── consider_using_with_open.txt
    |   |   ├── continue_in_finally.py
    |   |   ├── continue_in_finally.txt
    |   |   ├── control_pragmas.py
    |   |   ├── crash_missing_module_type.py
    |   |   ├── ctor_arguments.py
    |   |   └── ctor_arguments.txt
    |   ├── d
    |   |   ├── __init__.py
    |   |   ├── dangerous_default_value_py30.py
    |   |   ├── dangerous_default_value_py30.txt
    |   |   ├── dataclass_with_default_factory.py
    |   |   ├── decorator_scope.py
    |   |   ├── decorator_unused.py
    |   |   ├── defined_and_used_on_same_line.py
    |   |   ├── deprecated
    |   |   |   ├── deprecated_class_py33.py
    |   |   |   ├── deprecated_class_py33.txt
    |   |   |   ├── deprecated_decorators.py
    |   |   |   ├── deprecated_decorators.txt
    |   |   |   ├── deprecated_method_getmoduleinfo.py
    |   |   |   ├── deprecated_method_getmoduleinfo.txt
    |   |   |   ├── deprecated_methods_py3.py
    |   |   |   ├── deprecated_methods_py3.txt
    |   |   |   ├── deprecated_methods_py36.py
    |   |   |   ├── deprecated_methods_py36.txt
    |   |   |   ├── deprecated_methods_py38.py
    |   |   |   ├── deprecated_methods_py38.txt
    |   |   |   ├── deprecated_module_py3.py
    |   |   |   ├── deprecated_module_py3.txt
    |   |   |   ├── deprecated_module_py36.py
    |   |   |   ├── deprecated_module_py36.txt
    |   |   |   ├── deprecated_module_py4.py
    |   |   |   ├── deprecated_module_py4.txt
    |   |   |   ├── deprecated_module_uninstalled.py
    |   |   |   ├── deprecated_module_uninstalled.txt
    |   |   |   └── deprecated_relative_import
    |   |   ├── dict_iter_missing_items.py
    |   |   ├── dict_iter_missing_items.txt
    |   |   ├── disable_msg_github_issue_1389.py
    |   |   ├── disable_ungrouped_imports.py
    |   |   ├── disable_ungrouped_imports.txt
    |   |   ├── disable_wrong_import_order.py
    |   |   ├── disable_wrong_import_order.txt
    |   |   ├── disable_wrong_import_position.py
    |   |   ├── disabled_msgid_in_pylintrc.py
    |   |   ├── docstrings.py
    |   |   ├── docstrings.txt
    |   |   ├── dotted_ancestor.py
    |   |   ├── dotted_ancestor.txt
    |   |   ├── duplicate_argument_name.py
    |   |   ├── duplicate_argument_name.txt
    |   |   ├── duplicate_argument_name_py3.py
    |   |   ├── duplicate_argument_name_py3.txt
    |   |   ├── duplicate_bases.py
    |   |   ├── duplicate_bases.txt
    |   |   ├── duplicate_dict_literal_key.py
    |   |   ├── duplicate_dict_literal_key.txt
    |   |   ├── duplicate_except.py
    |   |   ├── duplicate_except.txt
    |   |   ├── duplicate_string_formatting_argument.py
    |   |   └── duplicate_string_formatting_argument.txt
    |   ├── e
    |   |   ├── __init__.py
    |   |   ├── e1101_9588_base_attr_aug_assign.py
    |   |   ├── enum_subclasses.py
    |   |   ├── eval_used.py
    |   |   ├── eval_used.txt
    |   |   ├── exception_is_binary_op.py
    |   |   ├── exception_is_binary_op.txt
    |   |   ├── excess_escapes.py
    |   |   ├── excess_escapes.txt
    |   |   ├── exec_used_py3.py
    |   |   ├── exec_used_py3.txt
    |   |   └── external_classmethod_crash.py
    |   ├── ext
    |   |   ├── bad_builtins.py
    |   |   ├── bad_builtins.txt
    |   |   ├── code_style
    |   |   |   ├── code_style_consider_using_namedtuple_or_dataclass.py
    |   |   |   ├── code_style_consider_using_namedtuple_or_dataclass.txt
    |   |   |   ├── code_style_consider_using_tuple.py
    |   |   |   └── code_style_consider_using_tuple.txt
    |   |   ├── confusing_elif.py
    |   |   ├── confusing_elif.txt
    |   |   ├── docparams.py
    |   |   ├── docparams.txt
    |   |   └── typing
    |   |       ├── typing_consider_using_alias.py
    |   |       ├── typing_consider_using_alias.txt
    |   |       ├── typing_consider_using_alias_without_future.py
    |   |       ├── typing_consider_using_alias_without_future.txt
    |   |       ├── typing_consider_using_union.py
    |   |       ├── typing_consider_using_union.txt
    |   |       ├── typing_consider_using_union_py310.py
    |   |       ├── typing_consider_using_union_py310.txt
    |   |       ├── typing_consider_using_union_without_future.py
    |   |       ├── typing_consider_using_union_without_future.txt
    |   |       ├── typing_deprecated_alias.py
    |   |       └── typing_deprecated_alias.txt
    |   ├── f
    |   |   ├── __init__.py
    |   |   ├── f_string_without_interpolation.py
    |   |   ├── f_string_without_interpolation.txt
    |   |   ├── fallback_import_disabled.py
    |   |   ├── fallback_import_enabled.py
    |   |   ├── fallback_import_enabled.txt
    |   |   ├── first_arg.py
    |   |   ├── first_arg.txt
    |   |   ├── fixme.py
    |   |   ├── fixme.txt
    |   |   ├── fixme_bad_formatting_1139.py
    |   |   ├── fixme_bad_formatting_1139.txt
    |   |   ├── formatted_string_literal_with_if_py36.py
    |   |   ├── func_disable_linebased.py
    |   |   ├── func_disable_linebased.txt
    |   |   ├── function_redefined.py
    |   |   ├── function_redefined.txt
    |   |   ├── function_redefined_2540.py
    |   |   ├── future_import.py
    |   |   ├── future_unicode_literals.py
    |   |   └── future_unicode_literals.txt
    |   ├── g
    |   |   ├── __init__.py
    |   |   ├── generated_members.py
    |   |   ├── generated_members.txt
    |   |   ├── generic_alias
    |   |   |   ├── __init__.py
    |   |   |   ├── generic_alias_collections.py
    |   |   |   ├── generic_alias_collections.txt
    |   |   |   ├── generic_alias_collections_py37.py
    |   |   |   ├── generic_alias_collections_py37.txt
    |   |   |   ├── generic_alias_collections_py37_with_typing.py
    |   |   |   ├── generic_alias_collections_py37_with_typing.txt
    |   |   |   ├── generic_alias_mixed_py37.py
    |   |   |   ├── generic_alias_mixed_py37.txt
    |   |   |   ├── generic_alias_mixed_py39.py
    |   |   |   ├── generic_alias_mixed_py39.txt
    |   |   |   ├── generic_alias_postponed_evaluation_py37.py
    |   |   |   ├── generic_alias_postponed_evaluation_py37.txt
    |   |   |   ├── generic_alias_related.py
    |   |   |   ├── generic_alias_related.txt
    |   |   |   ├── generic_alias_related_py39.py
    |   |   |   ├── generic_alias_related_py39.txt
    |   |   |   ├── generic_alias_side_effects.py
    |   |   |   ├── generic_alias_side_effects.txt
    |   |   |   ├── generic_alias_typing.py
    |   |   |   └── generic_alias_typing.txt
    |   |   ├── genexp_in_class_scope.py
    |   |   ├── genexpr_variable_scope.py
    |   |   ├── genexpr_variable_scope.txt
    |   |   ├── globals.py
    |   |   └── globals.txt
    |   ├── i
    |   |   ├── __init__.py
    |   |   ├── implicit
    |   |   |   ├── implicit_str_concat.py
    |   |   |   ├── implicit_str_concat.txt
    |   |   |   ├── implicit_str_concat_latin1.py
    |   |   |   ├── implicit_str_concat_multiline.py
    |   |   |   ├── implicit_str_concat_multiline.txt
    |   |   |   └── implicit_str_concat_utf8.py
    |   |   ├── import_aliasing.py
    |   |   ├── import_aliasing.txt
    |   |   ├── import_error.py
    |   |   ├── import_error.txt
    |   |   ├── import_itself.py
    |   |   ├── import_itself.txt
    |   |   ├── inconsistent
    |   |   |   ├── inconsistent_mro.py
    |   |   |   ├── inconsistent_mro.txt
    |   |   |   ├── inconsistent_quotes.py
    |   |   |   ├── inconsistent_quotes.txt
    |   |   |   ├── inconsistent_quotes2.py
    |   |   |   ├── inconsistent_quotes2.txt
    |   |   |   ├── inconsistent_returns.py
    |   |   |   ├── inconsistent_returns.txt
    |   |   |   ├── inconsistent_returns_noreturn.py
    |   |   |   └── inconsistent_returns_noreturn.txt
    |   |   ├── inference_crash_4692.py
    |   |   ├── inference_crash_4692.txt
    |   |   ├── inherit_non_class.py
    |   |   ├── inherit_non_class.txt
    |   |   ├── init_is_generator.py
    |   |   ├── init_is_generator.txt
    |   |   ├── init_not_called.py
    |   |   ├── init_not_called.txt
    |   |   ├── init_return_from_inner_function.py
    |   |   ├── init_subclass_classmethod_py36.py
    |   |   ├── inner_classes.py
    |   |   ├── invalid
    |   |   |   ├── b
    |   |   |   ├── e
    |   |   |   ├── g
    |   |   |   ├── invalid_all_format.py
    |   |   |   ├── invalid_all_format.txt
    |   |   |   ├── invalid_all_format_valid_1.py
    |   |   |   ├── invalid_all_format_valid_2.py
    |   |   |   ├── invalid_all_object.py
    |   |   |   ├── invalid_all_object.txt
    |   |   |   ├── invalid_class_object.py
    |   |   |   ├── invalid_class_object.txt
    |   |   |   ├── invalid_format_returned.py
    |   |   |   ├── invalid_format_returned.txt
    |   |   |   ├── invalid_hash_returned.py
    |   |   |   ├── invalid_hash_returned.txt
    |   |   |   ├── invalid_index_returned.py
    |   |   |   ├── invalid_index_returned.txt
    |   |   |   ├── invalid_name.py
    |   |   |   ├── invalid_name.txt
    |   |   |   ├── invalid_overridden_method.py
    |   |   |   ├── invalid_overridden_method.txt
    |   |   |   ├── invalid_repr_returned.py
    |   |   |   ├── invalid_repr_returned.txt
    |   |   |   ├── invalid_unary_operand_type.py
    |   |   |   ├── invalid_unary_operand_type.txt
    |   |   |   ├── l
    |   |   |   ├── m
    |   |   |   └── s
    |   |   ├── isinstance_second_argument.py
    |   |   ├── isinstance_second_argument.txt
    |   |   ├── iterable_context.py
    |   |   ├── iterable_context.txt
    |   |   ├── iterable_context_py3.py
    |   |   ├── iterable_context_py3.txt
    |   |   ├── iterable_context_py36.py
    |   |   └── iterable_context_py36.txt
    |   ├── import_outside_toplevel.py
    |   ├── import_outside_toplevel.txt
    |   ├── k
    |   |   ├── __init__.py
    |   |   ├── keyword_arg_before_vararg.py
    |   |   └── keyword_arg_before_vararg.txt
    |   ├── l
    |   |   ├── __init__.py
    |   |   ├── lambda_use_before_assign.py
    |   |   ├── len_checks.py
    |   |   ├── len_checks.txt
    |   |   ├── line_endings.py
    |   |   ├── line_endings.txt
    |   |   ├── line_too_long.py
    |   |   ├── line_too_long.txt
    |   |   ├── line_too_long_end_of_module.py
    |   |   ├── literal_comparison.py
    |   |   ├── literal_comparison.txt
    |   |   ├── logging_format_interpolation.py
    |   |   ├── logging_format_interpolation.txt
    |   |   ├── logging_format_interpolation_py36.py
    |   |   ├── logging_format_interpolation_py36.txt
    |   |   ├── logging_fstring_interpolation_py36.py
    |   |   ├── logging_fstring_interpolation_py36.txt
    |   |   ├── logging_not_lazy.py
    |   |   ├── logging_not_lazy.txt
    |   |   ├── logging_not_lazy_with_logger.py
    |   |   ├── logging_not_lazy_with_logger.txt
    |   |   ├── logical_tautology.py
    |   |   ├── logical_tautology.txt
    |   |   ├── long_lines_with_utf8.py
    |   |   ├── long_lines_with_utf8.txt
    |   |   ├── long_utf8_lines.py
    |   |   ├── loopvar_in_dict_comp_py27.py
    |   |   ├── loopvar_in_dict_comp_py27.txt
    |   |   ├── lost_exception.py
    |   |   └── lost_exception.txt
    |   ├── m
    |   |   ├── __init__.py
    |   |   ├── mapping_context.py
    |   |   ├── mapping_context.txt
    |   |   ├── mapping_context_py3.py
    |   |   ├── mapping_context_py3.txt
    |   |   ├── member
    |   |   |   ├── member_checks.py
    |   |   |   ├── member_checks.txt
    |   |   |   ├── member_checks_hints.py
    |   |   |   ├── member_checks_hints.txt
    |   |   |   ├── member_checks_ignore_none.py
    |   |   |   ├── member_checks_ignore_none.txt
    |   |   |   ├── member_checks_inference_improvements.py
    |   |   |   ├── member_checks_no_hints.py
    |   |   |   ├── member_checks_no_hints.txt
    |   |   |   ├── member_checks_opaque.py
    |   |   |   ├── member_checks_opaque.txt
    |   |   |   ├── member_checks_py37.py
    |   |   |   ├── member_checks_py37.txt
    |   |   |   ├── member_checks_typed_annotations.py
    |   |   |   ├── member_checks_typed_annotations.txt
    |   |   |   ├── membership_protocol.py
    |   |   |   ├── membership_protocol.txt
    |   |   |   ├── membership_protocol_py3.py
    |   |   |   └── membership_protocol_py3.txt
    |   |   ├── metaclass_attr_access.py
    |   |   ├── method_hidden.py
    |   |   ├── method_hidden.txt
    |   |   ├── misplaced_bare_raise.py
    |   |   ├── misplaced_bare_raise.txt
    |   |   ├── misplaced_comparison_constant.py
    |   |   ├── misplaced_comparison_constant.txt
    |   |   ├── misplaced_format_function.py
    |   |   ├── misplaced_format_function.txt
    |   |   ├── misplaced_future.py
    |   |   ├── misplaced_future.txt
    |   |   ├── missing
    |   |   |   ├── missing_docstring.py
    |   |   |   ├── missing_docstring.txt
    |   |   |   ├── missing_docstring_new_style.py
    |   |   |   ├── missing_docstring_new_style.txt
    |   |   |   ├── missing_final_newline.py
    |   |   |   ├── missing_final_newline.txt
    |   |   |   ├── missing_kwoa_py3.py
    |   |   |   ├── missing_kwoa_py3.txt
    |   |   |   ├── missing_module_docstring_disabled.py
    |   |   |   ├── missing_parentheses_for_call_in_test.py
    |   |   |   ├── missing_parentheses_for_call_in_test.txt
    |   |   |   ├── missing_self_argument.py
    |   |   |   └── missing_self_argument.txt
    |   |   ├── module___dict__.py
    |   |   ├── module___dict__.txt
    |   |   ├── monkeypatch_method.py
    |   |   ├── multiple_imports.py
    |   |   └── multiple_imports.txt
    |   ├── n
    |   |   ├── __init__.py
    |   |   ├── name
    |   |   |   ├── namePresetCamelCase.py
    |   |   |   ├── namePresetCamelCase.txt
    |   |   |   ├── name_final.py
    |   |   |   ├── name_final.txt
    |   |   |   ├── name_final_snake_case.py
    |   |   |   ├── name_final_snake_case.txt
    |   |   |   ├── name_good_bad_names_regex.py
    |   |   |   ├── name_good_bad_names_regex.txt
    |   |   |   ├── name_preset_snake_case.py
    |   |   |   ├── name_preset_snake_case.txt
    |   |   |   ├── name_styles.py
    |   |   |   ├── name_styles.txt
    |   |   |   ├── namedtuple_member_inference.py
    |   |   |   ├── namedtuple_member_inference.txt
    |   |   |   ├── names_in__all__.py
    |   |   |   └── names_in__all__.txt
    |   |   ├── nan_comparison_check.py
    |   |   ├── nan_comparison_check.txt
    |   |   ├── nested_blocks_issue1088.py
    |   |   ├── nested_blocks_issue1088.txt
    |   |   ├── nested_func_defined_in_loop.py
    |   |   ├── nested_func_defined_in_loop.txt
    |   |   ├── new_style_class_py_30.py
    |   |   ├── new_style_class_py_30.txt
    |   |   ├── no
    |   |   |   ├── __init__.py
    |   |   |   ├── no_classmethod_decorator.py
    |   |   |   ├── no_classmethod_decorator.txt
    |   |   |   ├── no_dummy_redefined.py
    |   |   |   ├── no_dummy_redefined.txt
    |   |   |   ├── no_else_break.py
    |   |   |   ├── no_else_break.txt
    |   |   |   ├── no_else_continue.py
    |   |   |   ├── no_else_continue.txt
    |   |   |   ├── no_else_raise.py
    |   |   |   ├── no_else_raise.txt
    |   |   |   ├── no_else_return.py
    |   |   |   ├── no_else_return.txt
    |   |   |   ├── no_method_argument_py38.py
    |   |   |   ├── no_name_in_module.py
    |   |   |   ├── no_name_in_module.txt
    |   |   |   ├── no_self_argument.py
    |   |   |   ├── no_self_argument.txt
    |   |   |   ├── no_self_argument_py37.py
    |   |   |   ├── no_self_argument_py37.txt
    |   |   |   ├── no_self_use.py
    |   |   |   ├── no_self_use.txt
    |   |   |   ├── no_self_use_py3.py
    |   |   |   ├── no_staticmethod_decorator.py
    |   |   |   ├── no_staticmethod_decorator.txt
    |   |   |   └── no_warning_docstring.py
    |   |   ├── non
    |   |   |   ├── __init__.py
    |   |   |   ├── non_ascii_name.py
    |   |   |   ├── non_ascii_name.txt
    |   |   |   ├── non_init_parent_called.py
    |   |   |   ├── non_init_parent_called.txt
    |   |   |   ├── non_iterator_returned.py
    |   |   |   ├── non_iterator_returned.txt
    |   |   |   ├── non_str_assignment_to_dunder_name.py
    |   |   |   └── non_str_assignment_to_dunder_name.txt
    |   |   ├── none_dunder_protocols_py36.py
    |   |   ├── none_dunder_protocols_py36.txt
    |   |   ├── nonexistent_operator.py
    |   |   ├── nonexistent_operator.txt
    |   |   ├── nonlocal_and_global.py
    |   |   ├── nonlocal_and_global.txt
    |   |   ├── nonlocal_without_binding.py
    |   |   ├── nonlocal_without_binding.txt
    |   |   ├── not_async_context_manager.py
    |   |   ├── not_async_context_manager.txt
    |   |   ├── not_async_context_manager_py37.py
    |   |   ├── not_callable.py
    |   |   ├── not_callable.txt
    |   |   ├── not_context_manager.py
    |   |   ├── not_context_manager.txt
    |   |   ├── not_in_loop.py
    |   |   └── not_in_loop.txt
    |   ├── o
    |   |   ├── __init__.py
    |   |   ├── object_as_class_attribute.py
    |   |   ├── old_division_floats.py
    |   |   ├── old_division_manually.py
    |   |   └── overloaded_operator.py
    |   ├── p
    |   |   ├── __init__.py
    |   |   ├── pattern_matching.py
    |   |   ├── plugin_does_not_exists.py
    |   |   ├── plugin_does_not_exists.txt
    |   |   ├── postponed_evaluation_activated.py
    |   |   ├── postponed_evaluation_activated_with_alias.py
    |   |   ├── postponed_evaluation_not_activated.py
    |   |   ├── postponed_evaluation_not_activated.txt
    |   |   ├── postponed_evaluation_pep585.py
    |   |   ├── postponed_evaluation_pep585.txt
    |   |   ├── postponed_evaluation_pep585_error.py
    |   |   ├── postponed_evaluation_pep585_error.txt
    |   |   ├── postponed_evaluation_pep585_py39.py
    |   |   ├── postponed_evaluation_pep585_py39.txt
    |   |   ├── pragma_after_backslash.py
    |   |   ├── preferred_module.py
    |   |   ├── preferred_module.txt
    |   |   ├── property_affectation_py26.py
    |   |   ├── property_with_parameters.py
    |   |   ├── property_with_parameters.txt
    |   |   ├── protected_access_access_different_scopes.py
    |   |   ├── protected_access_access_different_scopes.txt
    |   |   ├── protocol_classes.py
    |   |   └── protocol_classes.txt
    |   ├── r
    |   |   ├── __init__.py
    |   |   ├── raise
    |   |   |   ├── raise_missing_from.py
    |   |   |   ├── raise_missing_from.txt
    |   |   |   ├── raising_format_tuple.py
    |   |   |   ├── raising_format_tuple.txt
    |   |   |   ├── raising_non_exception_py3.py
    |   |   |   ├── raising_non_exception_py3.txt
    |   |   |   └── raising_self.py
    |   |   ├── recursion
    |   |   |   ├── recursion_error_2667.py
    |   |   |   ├── recursion_error_2836.py
    |   |   |   ├── recursion_error_2861.py
    |   |   |   ├── recursion_error_2899.py
    |   |   |   ├── recursion_error_2906.py
    |   |   |   ├── recursion_error_3152.py
    |   |   |   ├── recursion_error_3159.py
    |   |   |   ├── recursion_error_940.py
    |   |   |   ├── recursion_error_crash.py
    |   |   |   ├── recursion_error_crash_2683.py
    |   |   |   ├── recursion_error_crash_astroid_623.py
    |   |   |   └── recursion_regression_2960.py
    |   |   ├── redeclared_assigned_name.py
    |   |   ├── redeclared_assigned_name.txt
    |   |   ├── redefine_loop.py
    |   |   ├── redefine_loop.txt
    |   |   ├── redefined_argument_from_local.py
    |   |   ├── redefined_argument_from_local.txt
    |   |   ├── redefined_builtin.py
    |   |   ├── redefined_builtin.txt
    |   |   ├── redefined_builtin_allowed.py
    |   |   ├── redefined_builtin_allowed.txt
    |   |   ├── redefined_outer_name_type_checking.py
    |   |   ├── redundant_unittest_assert.py
    |   |   ├── redundant_unittest_assert.txt
    |   |   ├── regression
    |   |   |   ├── regression_1326_crash_uninferable.py
    |   |   |   ├── regression_2306_enum_value.py
    |   |   |   ├── regression_2443_duplicate_bases.py
    |   |   |   ├── regression_2913.py
    |   |   |   ├── regression_2913.txt
    |   |   |   ├── regression_2937_ifexp.py
    |   |   |   ├── regression_3091.py
    |   |   |   ├── regression_3231_no_member_property.py
    |   |   |   ├── regression_3416_unused_argument_raise.py
    |   |   |   ├── regression_3416_unused_argument_raise.txt
    |   |   |   ├── regression_3535_double_enum_inherit.py
    |   |   |   ├── regression_3595_notcallable_collections.py
    |   |   |   ├── regression_4221_object_instanceattr.py
    |   |   |   ├── regression_4358_unsubscriptable_enum.py
    |   |   |   ├── regression_4439.py
    |   |   |   ├── regression_4439.txt
    |   |   |   ├── regression_4612_crash_pytest_fixture.py
    |   |   |   ├── regression_4680.py
    |   |   |   ├── regression_4680.txt
    |   |   |   ├── regression_4688_duplicated_bases_member_hints.py
    |   |   |   ├── regression_4688_duplicated_bases_member_hints.txt
    |   |   |   ├── regression_4723.py
    |   |   |   ├── regression_4723.txt
    |   |   |   ├── regression___file___global.py
    |   |   |   ├── regression___file___global.txt
    |   |   |   ├── regression_implicit_none_with_no_return.py
    |   |   |   ├── regression_implicit_none_with_no_return.txt
    |   |   |   ├── regression_infer_call_result_3690.py
    |   |   |   ├── regression_infer_call_result_3690.txt
    |   |   |   ├── regression_issue_4631.py
    |   |   |   ├── regression_issue_4633.py
    |   |   |   ├── regression_no_member_1078.py
    |   |   |   ├── regression_no_value_for_parameter.py
    |   |   |   ├── regression_posonly_args.py
    |   |   |   ├── regression_properties_in_class_context.py
    |   |   |   ├── regression_properties_in_class_context.txt
    |   |   |   ├── regression_property_no_member_2641.py
    |   |   |   ├── regression_property_no_member_3269.py
    |   |   |   ├── regression_property_no_member_844.py
    |   |   |   ├── regression_property_no_member_870.py
    |   |   |   ├── regression_property_slots_2439.py
    |   |   |   └── regression_too_many_arguments_2335.py
    |   |   ├── reimport.py
    |   |   ├── reimport.txt
    |   |   ├── reimported.py
    |   |   ├── reimported.txt
    |   |   ├── renamed_import_logging_not_lazy.py
    |   |   ├── renamed_import_logging_not_lazy.txt
    |   |   ├── repeated_keyword.py
    |   |   ├── repeated_keyword.txt
    |   |   ├── return_in_init.py
    |   |   ├── return_in_init.txt
    |   |   ├── return_outside_function.py
    |   |   ├── return_outside_function.txt
    |   |   ├── reused_outer_loop_variable.py
    |   |   ├── reused_outer_loop_variable.txt
    |   |   ├── reused_outer_loop_variable_py3.py
    |   |   └── reused_outer_loop_variable_py3.txt
    |   ├── s
    |   |   ├── __init__.py
    |   |   ├── self
    |   |   |   ├── self_assigning_variable.py
    |   |   |   ├── self_assigning_variable.txt
    |   |   |   ├── self_cls_assignment.py
    |   |   |   └── self_cls_assignment.txt
    |   |   ├── signature_differs.py
    |   |   ├── signature_differs.txt
    |   |   ├── simplifiable
    |   |   |   ├── simplifiable_condition.py
    |   |   |   ├── simplifiable_condition.txt
    |   |   |   ├── simplifiable_if_expression.py
    |   |   |   ├── simplifiable_if_expression.txt
    |   |   |   ├── simplifiable_if_statement.py
    |   |   |   ├── simplifiable_if_statement.txt
    |   |   |   ├── simplify_chained_comparison.py
    |   |   |   └── simplify_chained_comparison.txt
    |   |   ├── singledispatch_functions_py3.py
    |   |   ├── singledispatch_functions_py3.txt
    |   |   ├── singleton_comparison.py
    |   |   ├── singleton_comparison.txt
    |   |   ├── slots_checks.py
    |   |   ├── slots_checks.txt
    |   |   ├── socketerror_import.py
    |   |   ├── star
    |   |   |   ├── star_needs_assignment_target.py
    |   |   |   ├── star_needs_assignment_target.txt
    |   |   |   ├── star_needs_assignment_target_py35.py
    |   |   |   └── star_needs_assignment_target_py35.txt
    |   |   ├── statement_without_effect.py
    |   |   ├── statement_without_effect.txt
    |   |   ├── statement_without_effect_py36.py
    |   |   ├── statement_without_effect_py36.txt
    |   |   ├── stop_iteration_inside_generator.py
    |   |   ├── stop_iteration_inside_generator.txt
    |   |   ├── string
    |   |   |   ├── string_formatting.py
    |   |   |   ├── string_formatting.txt
    |   |   |   ├── string_formatting_disable.py
    |   |   |   ├── string_formatting_disable.txt
    |   |   |   ├── string_formatting_error.py
    |   |   |   ├── string_formatting_error.txt
    |   |   |   ├── string_formatting_failed_inference.py
    |   |   |   ├── string_formatting_failed_inference_py35.py
    |   |   |   ├── string_formatting_py3.py
    |   |   |   ├── string_formatting_py3.txt
    |   |   |   ├── string_log_formatting.py
    |   |   |   └── string_log_formatting.txt
    |   |   ├── subprocess_popen_preexec_fn.py
    |   |   ├── subprocess_popen_preexec_fn.txt
    |   |   ├── subprocess_run_check35.py
    |   |   ├── subprocess_run_check35.txt
    |   |   ├── super
    |   |   |   ├── super_checks.py
    |   |   |   ├── super_checks.txt
    |   |   |   ├── super_with_arguments.py
    |   |   |   └── super_with_arguments.txt
    |   |   ├── superfluous_parens.py
    |   |   ├── superfluous_parens.txt
    |   |   ├── suspicious_str_strip_call_py3.py
    |   |   ├── suspicious_str_strip_call_py3.txt
    |   |   ├── syntax_error.py
    |   |   ├── syntax_error.txt
    |   |   ├── syntax_error_jython.py
    |   |   ├── syntax_error_jython.txt
    |   |   ├── sys_stream_regression_1004.py
    |   |   └── sys_stream_regression_1004.txt
    |   ├── t
    |   |   ├── __init__.py
    |   |   ├── ternary.py
    |   |   ├── ternary.txt
    |   |   ├── test_compile.py
    |   |   ├── tokenize_error.py
    |   |   ├── tokenize_error.txt
    |   |   ├── tokenize_error_jython.py
    |   |   ├── tokenize_error_jython.txt
    |   |   ├── too
    |   |   |   ├── __init__.py
    |   |   |   ├── too_few_public_methods.py
    |   |   |   ├── too_few_public_methods.txt
    |   |   |   ├── too_few_public_methods_37.py
    |   |   |   ├── too_many_ancestors.py
    |   |   |   ├── too_many_ancestors.txt
    |   |   |   ├── too_many_arguments.py
    |   |   |   ├── too_many_arguments.txt
    |   |   |   ├── too_many_arguments_issue_1045.py
    |   |   |   ├── too_many_arguments_overload.py
    |   |   |   ├── too_many_boolean_expressions.py
    |   |   |   ├── too_many_boolean_expressions.txt
    |   |   |   ├── too_many_branches.py
    |   |   |   ├── too_many_branches.txt
    |   |   |   ├── too_many_instance_attributes.py
    |   |   |   ├── too_many_instance_attributes.txt
    |   |   |   ├── too_many_lines.py
    |   |   |   ├── too_many_lines.txt
    |   |   |   ├── too_many_lines_disabled.py
    |   |   |   ├── too_many_locals.py
    |   |   |   ├── too_many_locals.txt
    |   |   |   ├── too_many_nested_blocks.py
    |   |   |   ├── too_many_nested_blocks.txt
    |   |   |   ├── too_many_public_methods.py
    |   |   |   ├── too_many_public_methods.txt
    |   |   |   ├── too_many_return_statements.py
    |   |   |   ├── too_many_return_statements.txt
    |   |   |   ├── too_many_star_expressions.py
    |   |   |   ├── too_many_star_expressions.txt
    |   |   |   ├── too_many_statements.py
    |   |   |   └── too_many_statements.txt
    |   |   ├── trailing_comma_tuple.py
    |   |   ├── trailing_comma_tuple.txt
    |   |   ├── trailing_newlines.py
    |   |   ├── trailing_newlines.txt
    |   |   ├── trailing_whitespaces.py
    |   |   ├── trailing_whitespaces.txt
    |   |   ├── try_except_raise.py
    |   |   ├── try_except_raise.txt
    |   |   ├── try_except_raise_crash.py
    |   |   ├── try_except_raise_crash.txt
    |   |   ├── typedDict.py
    |   |   ├── typing_generic.py
    |   |   ├── typing_use.py
    |   |   └── typing_use.txt
    |   ├── u
    |   |   ├── __init__.py
    |   |   ├── unbalanced_tuple_unpacking.py
    |   |   ├── unbalanced_tuple_unpacking.txt
    |   |   ├── unbalanced_tuple_unpacking_py30.py
    |   |   ├── undefined
    |   |   |   ├── undefined_loop_variable.py
    |   |   |   ├── undefined_loop_variable.txt
    |   |   |   ├── undefined_variable.py
    |   |   |   ├── undefined_variable.txt
    |   |   |   ├── undefined_variable_crash_on_attribute.py
    |   |   |   ├── undefined_variable_py30.py
    |   |   |   └── undefined_variable_py30.txt
    |   |   ├── unexpected_special_method_signature.py
    |   |   ├── unexpected_special_method_signature.txt
    |   |   ├── ungrouped_imports.py
    |   |   ├── ungrouped_imports.txt
    |   |   ├── ungrouped_imports_isort_compatible.py
    |   |   ├── unhashable_dict_key.py
    |   |   ├── unhashable_dict_key.txt
    |   |   ├── unidiomatic_typecheck.py
    |   |   ├── unidiomatic_typecheck.txt
    |   |   ├── uninferable_all_object.py
    |   |   ├── unknown_encoding_jython.py
    |   |   ├── unknown_encoding_jython.txt
    |   |   ├── unnecessary
    |   |   |   ├── unnecessary_comprehension.py
    |   |   |   ├── unnecessary_comprehension.txt
    |   |   |   ├── unnecessary_dict_index_lookup.py
    |   |   |   ├── unnecessary_dict_index_lookup.txt
    |   |   |   ├── unnecessary_lambda.py
    |   |   |   ├── unnecessary_lambda.txt
    |   |   |   ├── unnecessary_not.py
    |   |   |   ├── unnecessary_not.txt
    |   |   |   ├── unnecessary_pass.py
    |   |   |   └── unnecessary_pass.txt
    |   |   ├── unpacking.py
    |   |   ├── unpacking_generalizations.py
    |   |   ├── unpacking_generalizations.txt
    |   |   ├── unpacking_non_sequence.py
    |   |   ├── unpacking_non_sequence.txt
    |   |   ├── unreachable.py
    |   |   ├── unreachable.txt
    |   |   ├── unrecognized_inline_option.py
    |   |   ├── unrecognized_inline_option.txt
    |   |   ├── unspecified_encoding_py38.py
    |   |   ├── unspecified_encoding_py38.txt
    |   |   ├── unsubscriptable_value.py
    |   |   ├── unsubscriptable_value.txt
    |   |   ├── unsubscriptable_value_py37.py
    |   |   ├── unsubscriptable_value_py37.txt
    |   |   ├── unsupported
    |   |   |   ├── unsupported_assignment_operation.py
    |   |   |   ├── unsupported_assignment_operation.txt
    |   |   |   ├── unsupported_binary_operation.py
    |   |   |   ├── unsupported_binary_operation.txt
    |   |   |   ├── unsupported_delete_operation.py
    |   |   |   └── unsupported_delete_operation.txt
    |   |   ├── unused
    |   |   |   ├── __init__.py
    |   |   |   ├── unused_argument.py
    |   |   |   ├── unused_argument.txt
    |   |   |   ├── unused_argument_py3.py
    |   |   |   ├── unused_argument_py3.txt
    |   |   |   ├── unused_global_variable1.py
    |   |   |   ├── unused_global_variable2.py
    |   |   |   ├── unused_global_variable2.txt
    |   |   |   ├── unused_global_variable3.py
    |   |   |   ├── unused_global_variable4.py
    |   |   |   ├── unused_global_variable4.txt
    |   |   |   ├── unused_import.py
    |   |   |   ├── unused_import.txt
    |   |   |   ├── unused_import_assigned_to.py
    |   |   |   ├── unused_import_class_def_keyword.py
    |   |   |   ├── unused_import_everything_disabled.py
    |   |   |   ├── unused_import_positional_only_py38.py
    |   |   |   ├── unused_import_py30.py
    |   |   |   ├── unused_import_py30.txt
    |   |   |   ├── unused_name_from_wilcard_import.py
    |   |   |   ├── unused_name_from_wilcard_import.txt
    |   |   |   ├── unused_private_member.py
    |   |   |   ├── unused_private_member.txt
    |   |   |   ├── unused_typing_imports.py
    |   |   |   ├── unused_variable.py
    |   |   |   ├── unused_variable.txt
    |   |   |   └── unused_variable_py36.py
    |   |   ├── use
    |   |   |   ├── use_a_generator.py
    |   |   |   ├── use_a_generator.txt
    |   |   |   ├── use_maxsplit_arg.py
    |   |   |   ├── use_maxsplit_arg.txt
    |   |   |   ├── use_symbolic_message_instead.py
    |   |   |   ├── use_symbolic_message_instead.txt
    |   |   |   ├── used_before_assignement.py
    |   |   |   ├── used_before_assignement.txt
    |   |   |   ├── used_before_assignment_488.py
    |   |   |   ├── used_before_assignment_issue1081.py
    |   |   |   ├── used_before_assignment_issue1081.txt
    |   |   |   ├── used_before_assignment_issue853.py
    |   |   |   ├── used_before_assignment_nonlocal.py
    |   |   |   ├── used_before_assignment_nonlocal.txt
    |   |   |   ├── used_prior_global_declaration.py
    |   |   |   ├── used_prior_global_declaration.txt
    |   |   |   ├── using_constant_test.py
    |   |   |   └── using_constant_test.txt
    |   |   └── useless
    |   |       ├── useless_else_on_loop.py
    |   |       ├── useless_else_on_loop.txt
    |   |       ├── useless_object_inheritance.py
    |   |       ├── useless_object_inheritance.txt
    |   |       ├── useless_return.py
    |   |       ├── useless_return.txt
    |   |       ├── useless_super_delegation.py
    |   |       ├── useless_super_delegation.txt
    |   |       ├── useless_super_delegation_py3.py
    |   |       ├── useless_super_delegation_py3.txt
    |   |       ├── useless_super_delegation_py35.py
    |   |       ├── useless_super_delegation_py35.txt
    |   |       ├── useless_super_delegation_py38.py
    |   |       ├── useless_super_delegation_py38.txt
    |   |       ├── useless_type_doc.py
    |   |       └── useless_type_doc.txt
    |   ├── w
    |   |   ├── __init__.py
    |   |   ├── wildcard_import.py
    |   |   ├── wildcard_import.txt
    |   |   ├── wildcard_import_allowed.py
    |   |   ├── wildcard_import_allowed.txt
    |   |   ├── with_used_before_assign.py
    |   |   ├── with_used_before_assign.txt
    |   |   ├── with_using_generator.py
    |   |   ├── with_using_generator.txt
    |   |   ├── wrong_exception_operation.py
    |   |   ├── wrong_exception_operation.txt
    |   |   ├── wrong_import_order.py
    |   |   ├── wrong_import_order.txt
    |   |   ├── wrong_import_order2.py
    |   |   ├── wrong_import_position.py
    |   |   ├── wrong_import_position.txt
    |   |   ├── wrong_import_position10.py
    |   |   ├── wrong_import_position11.py
    |   |   ├── wrong_import_position11.txt
    |   |   ├── wrong_import_position12.py
    |   |   ├── wrong_import_position12.txt
    |   |   ├── wrong_import_position13.py
    |   |   ├── wrong_import_position13.txt
    |   |   ├── wrong_import_position14.py
    |   |   ├── wrong_import_position14.txt
    |   |   ├── wrong_import_position15.py
    |   |   ├── wrong_import_position2.py
    |   |   ├── wrong_import_position3.py
    |   |   ├── wrong_import_position4.py
    |   |   ├── wrong_import_position5.py
    |   |   ├── wrong_import_position6.py
    |   |   ├── wrong_import_position7.py
    |   |   ├── wrong_import_position8.py
    |   |   ├── wrong_import_position9.py
    |   |   └── wrong_import_position_exclude_dunder_main.py
    |   └── y
    |       ├── __init__.py
    |       ├── yield_assign_py25.py
    |       ├── yield_from_iterable_py33.py
    |       ├── yield_from_iterable_py33.txt
    |       ├── yield_from_outside_func.py
    |       ├── yield_from_outside_func.txt
    |       ├── yield_inside_async_function.py
    |       ├── yield_inside_async_function.txt
    |       ├── yield_inside_async_function_py36.py
    |       ├── yield_inside_async_function_py36.txt
    |       ├── yield_outside_func.py
    |       ├── yield_outside_func.txt
    |       └── yield_return_mix.py
    ├── input
    |   ├── __init__.py
    |   ├── benchmark_minimal_file.py
    |   ├── func_3k_removed_stuff_py_30.py
    |   ├── func_i0011.py
    |   ├── func_i0012.py
    |   ├── func_i0013.py
    |   ├── func_i0014.py
    |   ├── func_i0020.py
    |   ├── func_i0022.py
    |   ├── func_noerror_cycle
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── b.py
    |   ├── func_return_yield_mix_py_33.py
    |   ├── func_w0122_py_30.py
    |   ├── func_w0332_py_30.py
    |   ├── func_w0401.py
    |   ├── func_w0401_disabled.py
    |   ├── func_w0401_disabled_in_func.py
    |   ├── func_w0401_package
    |   |   ├── __init__.py
    |   |   ├── all_the_things.py
    |   |   ├── thing1.py
    |   |   └── thing2.py
    |   ├── func_w0801.py
    |   ├── hide_code_with_imports.py
    |   ├── ignore_except_pass_by_default.py
    |   ├── no_absolute_import.py
    |   ├── not__init__.py
    |   ├── similar_empty_func_1.py
    |   ├── similar_empty_func_2.py
    |   ├── similar_lines_a.py
    |   ├── similar_lines_b.py
    |   ├── w0401_cycle.py
    |   └── w0801_same.py
    ├── lint
    |   ├── __init__.py
    |   ├── unittest_expand_modules.py
    |   └── unittest_lint.py
    ├── message
    |   ├── __init__.py
    |   ├── conftest.py
    |   ├── unittest_message.py
    |   ├── unittest_message_definition.py
    |   ├── unittest_message_definition_store.py
    |   └── unittest_message_id_store.py
    ├── messages
    |   ├── builtin_module.txt
    |   ├── func_3k_removed_stuff_py_30.txt
    |   ├── func_bad_cont_dictcomp_py27.txt
    |   ├── func_bug113231.txt
    |   ├── func_disable_linebased.txt
    |   ├── func_disable_linebased_py30.txt
    |   ├── func_i0011.txt
    |   ├── func_i0012.txt
    |   ├── func_i0013.txt
    |   ├── func_i0014.txt
    |   ├── func_i0020.txt
    |   ├── func_i0022.txt
    |   ├── func_noerror_cycle.txt
    |   ├── func_raw_escapes.txt
    |   ├── func_return_yield_mix_py_33.txt
    |   ├── func_toolonglines_py30.txt
    |   ├── func_typecheck_callfunc_assigment.txt
    |   ├── func_typecheck_getattr_py30.txt
    |   ├── func_typecheck_non_callable_call.txt
    |   ├── func_unicode_literal_py26.txt
    |   ├── func_unicode_literal_py274.txt
    |   ├── func_use_for_or_listcomp_var_py29.txt
    |   ├── func_use_for_or_listcomp_var_py30.txt
    |   ├── func_variables_unused_name_from_wilcard_import.txt
    |   ├── func_w0122_py_30.txt
    |   ├── func_w0312.txt
    |   ├── func_w0332_py_30.txt
    |   ├── func_w0401.txt
    |   ├── func_w0401_disabled.txt
    |   ├── func_w0401_disabled_in_func.txt
    |   ├── func_w0401_package.txt
    |   ├── func_w0622.txt
    |   ├── func_w0623.txt
    |   ├── func_w0623_py_30.txt
    |   ├── func_w0801.txt
    |   └── func_with_without_as_py25.txt
    ├── profile
    |   └── test_profile_against_externals.py
    ├── regrtest_data
    |   ├── absimp
    |   |   ├── __init__.py
    |   |   └── string.py
    |   ├── application_crash.py
    |   ├── bad_package
    |   |   ├── __init__.py
    |   |   └── wrong.py
    |   ├── beyond_top
    |   |   ├── __init__.py
    |   |   └── data.py
    |   ├── classdoc_usage.py
    |   ├── dataclasses_pyreverse
    |   |   └── __init__.py
    |   ├── decimal_inference.py
    |   ├── descriptor_crash.py
    |   ├── dummy
    |   |   ├── __init__.py
    |   |   ├── another.py
    |   |   └── dummy.py
    |   ├── dummy_plugin
    |   |   ├── dummy_conf_plugin.py
    |   |   └── dummy_plugin.py
    |   ├── duplicate_data_raw_strings
    |   |   ├── __init__.py
    |   |   ├── first.py
    |   |   └── second.py
    |   ├── empty.py
    |   ├── fail_on.py
    |   ├── fail_on_info_only.py
    |   ├── fail_under_minus10.py
    |   ├── fail_under_plus7_5.py
    |   ├── func_block_disable_msg.py
    |   ├── import_assign.py
    |   ├── import_package_subpackage_module.py
    |   ├── import_something.py
    |   ├── init_wildcard
    |   |   └── __init__.py
    |   ├── meta.py
    |   ├── module_global.py
    |   ├── no_stdout_encoding.py
    |   ├── numarray_import.py
    |   ├── numarray_inf.py
    |   ├── package
    |   |   ├── AudioTime.py
    |   |   ├── __init__.py
    |   |   └── subpackage
    |   |       ├── __init__.py
    |   |       └── module.py
    |   ├── package_all
    |   |   ├── __init__.py
    |   |   └── notmissing.py
    |   ├── precedence_test.py
    |   ├── py3k_error_flag.py
    |   ├── py3k_errors_and_warnings.py
    |   ├── regression_missing_init_3564
    |   |   └── subdirectory
    |   |       └── file.py
    |   ├── special_attr_scope_lookup_crash.py
    |   ├── syntax_error.py
    |   ├── test_pylintrc_comments.py
    |   ├── try_finally_disable_msg_crash.py
    |   ├── unused_variable.py
    |   ├── wildcard.py
    |   └── wrong_import_position.py
    ├── test_check_parallel.py
    ├── test_config.py
    ├── test_epylint.py
    ├── test_func.py
    ├── test_functional.py
    ├── test_import_graph.py
    ├── test_numversion.py
    ├── test_pragma_parser.py
    ├── test_pylint_runners.py
    ├── test_regr.py
    ├── test_self.py
    ├── testutils
    |   └── test_output_line.py
    ├── unittest_config.py
    ├── unittest_pyreverse_diadefs.py
    ├── unittest_pyreverse_inspector.py
    ├── unittest_pyreverse_writer.py
    ├── unittest_reporters_json.py
    ├── unittest_reporting.py
    └── utils
        ├── __init__.py
        ├── unittest_ast_walker.py
        └── unittest_utils.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Make pylint XDG Base Directory Specification compliant

Description: I have this really annoying `.pylint.d` directory in my home folder. From what I can tell (I don't do C or C++), this directory is storing data. 

The problem with this is, quite simply, that data storage has a designated spot. The `$HOME/.local/share/<PROGRAM_NAME>` folder. This is a part of the [XDG Base Directory Specification](https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html). A system that designates the folders for specific things like cached files (`$HOME/.cache/<PROGRAM_NAME>`), configuration files (`$HOME/.config/<PROGRAM_NAME>`), and data files (`$HOME/.local/share/<PROGRAM_NAME>`), among other things. The point is to keep user home directories clean and the user sane. 

This should be pretty easy to implement. Simply change the variables/constants for where these files are made and stored to the appropriate directory. Simple as that, even for a large codebase (if it was done right). 

Patch information:
diff --git a/doc/faq.rst b/doc/faq.rst
index c817855f8..32d54bc2a 100644
--- a/doc/faq.rst
+++ b/doc/faq.rst
@@ -93,10 +93,12 @@ localized using the following rules:
 
 * value of the PYLINTHOME environment variable if set
 
-* ".pylint.d" subdirectory of the user's home directory if it is found
-	(not always findable on Windows platforms)
+* Otherwise, under the XDG Base Directory Specification data directory:
+  $XDG_DATA_HOME/pylint (by default: ~/.local/share/pylint)
 
-* ".pylint.d" directory in the current directory
+For backward compatibility, Pylint may still read existing data from legacy
+locations such as ~/.pylint.d or ./.pylint.d if present, but new data will be
+stored under the XDG-compliant path.
 
 3.3 How do I find the option name (for pylintrc) corresponding to a specific command line option?
 --------------------------------------------------------------------------------------------------------
diff --git a/pylint/config/__init__.py b/pylint/config/__init__.py
index 84774d0e3..6577e23ad 100644
--- a/pylint/config/__init__.py
+++ b/pylint/config/__init__.py
@@ -60,10 +60,17 @@ if "PYLINTHOME" in os.environ:
     PYLINT_HOME = os.environ["PYLINTHOME"]
     if USER_HOME == "~":
         USER_HOME = os.path.dirname(PYLINT_HOME)
-elif USER_HOME == "~":
-    PYLINT_HOME = ".pylint.d"
 else:
-    PYLINT_HOME = os.path.join(USER_HOME, ".pylint.d")
+    xdg_data_home = os.environ.get("XDG_DATA_HOME")
+    if not xdg_data_home:
+        if USER_HOME == "~":
+            # Fall back to legacy behavior if the user home cannot be resolved
+            PYLINT_HOME = ".pylint.d"
+        else:
+            xdg_data_home = os.path.join(USER_HOME, ".local", "share")
+            PYLINT_HOME = os.path.join(xdg_data_home, "pylint")
+    else:
+        PYLINT_HOME = os.path.join(xdg_data_home, "pylint")
 
 
 def _get_pdata_path(base_name, recurs):
@@ -73,9 +80,28 @@ def _get_pdata_path(base_name, recurs):
 
 def load_results(base):
     data_file = _get_pdata_path(base, 1)
+    # Try XDG/PYLINTHOME path first
     try:
         with open(data_file, "rb") as stream:
             return pickle.load(stream)
+    except FileNotFoundError:
+        # Try legacy paths for backward compatibility
+        if "PYLINTHOME" not in os.environ:
+            legacy_dirs = []
+            if USER_HOME != "~":
+                legacy_dirs.append(os.path.join(USER_HOME, ".pylint.d"))
+            legacy_dirs.append(os.path.join(os.getcwd(), ".pylint.d"))
+            base_name = base.replace(os.sep, "_")
+            for legacy_home in legacy_dirs:
+                legacy_file = os.path.join(legacy_home, f"{base_name}1.stats")
+                try:
+                    with open(legacy_file, "rb") as stream:
+                        return pickle.load(stream)
+                except FileNotFoundError:
+                    continue
+                except Exception:  # pylint: disable=broad-except
+                    return {}
+        return {}
     except Exception:  # pylint: disable=broad-except
         return {}
 
@@ -83,7 +109,7 @@ def load_results(base):
 def save_results(results, base):
     if not os.path.exists(PYLINT_HOME):
         try:
-            os.mkdir(PYLINT_HOME)
+            os.makedirs(PYLINT_HOME, exist_ok=True)
         except OSError:
             print("Unable to create directory %s" % PYLINT_HOME, file=sys.stderr)
     data_file = _get_pdata_path(base, 1)
@@ -110,11 +136,15 @@ ENV_HELP = (
 The following environment variables are used:
     * PYLINTHOME
     Path to the directory where persistent data for the run will be stored. If
-not found, it defaults to ~/.pylint.d/ or .pylint.d (in the current working
-directory).
+    not set, Pylint will use the XDG Base Directory Specification and store
+    persistent data under $XDG_DATA_HOME/pylint (default: ~/.local/share/pylint).
+    * XDG_DATA_HOME
+    Base directory for user-specific data files. Defaults to ~/.local/share.
+    * XDG_CONFIG_HOME
+    Base directory for user-specific configuration files. Defaults to ~/.config.
     * PYLINTRC
     Path to the configuration file. See the documentation for the method used
-to search for configuration file.
+    to search for configuration file.
 """
     % globals()  # type: ignore
 )
diff --git a/pylint/config/find_default_config_files.py b/pylint/config/find_default_config_files.py
index 2a8937e52..086c2de61 100644
--- a/pylint/config/find_default_config_files.py
+++ b/pylint/config/find_default_config_files.py
@@ -58,6 +58,17 @@ def find_default_config_files():
     else:
         user_home = os.path.expanduser("~")
         if user_home not in ("~", "/root"):
+            # XDG config locations
+            xdg_config_home = os.environ.get("XDG_CONFIG_HOME") or os.path.join(
+                user_home, ".config"
+            )
+            home_rc = os.path.join(xdg_config_home, "pylintrc")
+            if os.path.isfile(home_rc):
+                yield home_rc
+            home_rc = os.path.join(xdg_config_home, "pylint", "pylintrc")
+            if os.path.isfile(home_rc):
+                yield home_rc
+            # Legacy locations
             home_rc = os.path.join(user_home, ".pylintrc")
             if os.path.isfile(home_rc):
                 yield home_rc


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 21:03:45,128 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user wants to find three relevant test cases for a patch that changes pylint's configuration and data directory handling to be XDG compliant. The main changes are in `pylint/config/__init__.py` and `pylint/config/find_default_config_files.py`. To find relevant tests, I need to look at the tests for the configuration system. Based on the file structure, `tests/test_config.py` and `tests/unittest_config.py` are the most likely files to contain tests for this functionality. I am requesting both to get a comprehensive view of how configuration is tested." query='Please provide the full content of `tests/test_config.py` and `tests/unittest_config.py`.' extra_requirements='' purpose="I need to analyze these files to find existing tests that cover configuration loading, environment variable handling, and data persistence, which are the core areas affected by the user's patch."
2025-12-23 21:03:45,129 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/test_config.py` and `tests/unittest_config.py`.
2025-12-23 21:03:45,129 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 21:03:45,130 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 21:03:45,131 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 21:03:45,131 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/test_config.py` and `tests/unittest_config.py`.
Purpose: I need to analyze these files to find existing tests that cover configuration loading, environment variable handling, and data persistence, which are the core areas affected by the user's patch.
2025-12-23 21:03:47,906 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the contents of both `tests/test_config.py` and `tests/unittest_config.py` so you can analyze them for existing tests related to configuration loading, environment variable handling, and data persistence.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/unittest_config.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2129, 'candidates_token_count': 89, 'total_token_count': 2344, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2129}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 89}], 'thoughts_token_count': 126, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.09746852617585257, 'model_name': 'gemini-2.5-pro'} id='run--179270c2-a08c-4458-b6cf-49126c6d7aca-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/test_config.py'}, 'id': '8dafdc3a-b9cb-40dd-a81e-6e02d7fe3641', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/unittest_config.py'}, 'id': '535c5470-3fae-4812-898e-b1b629cecb4e', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2129, 'output_tokens': 89, 'total_tokens': 2344, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 126}}
2025-12-23 21:03:51,474 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the contents of both `tests/test_config.py` and `tests/unittest_config.py`. You can now analyze these files for existing tests related to configuration loading, environment variable handling, and data persistence. The first file contains tests for various configuration file formats, while the second focuses on unit tests for configuration validators.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 4645, 'candidates_token_count': 70, 'total_token_count': 4935, 'cached_content_token_count': 1688, 'prompt_tokens_details': [{'modality': 1, 'token_count': 4645}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1688}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 70}], 'thoughts_token_count': 220}, 'finish_reason': 'STOP', 'avg_logprobs': -0.30827069963727677, 'model_name': 'gemini-2.5-pro'} id='run--35f0a5b4-4608-4418-a84e-50a62e31e492-0' usage_metadata={'input_tokens': 4645, 'output_tokens': 70, 'total_tokens': 4935, 'input_token_details': {'cache_read': 1688}, 'output_token_details': {'reasoning': 220}}
2025-12-23 21:03:51,476 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/test_config.py` and `tests/unittest_config.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need to analyze these files to find existing tests that cover configuration loading, environment variable handling, and data persistence, which are the core areas affected by the user's patch.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/test_config.py
Line number range: 1 - 93
Content:
1. # pylint: disable=missing-module-docstring, missing-function-docstring, protected-access
2. import unittest.mock
3. 
4. import pylint.lint
5. 
6. 
7. def check_configuration_file_reader(config_file):
8.     """Initialize pylint with the given configuration file and check that
9.     what we initialized the linter with what was expected.
10.     """
11.     args = ["--rcfile", str(config_file), __file__]
12.     # If we used `pytest.raises(SystemExit)`, the `runner` variable
13.     # would not be accessible outside the `with` block.
14.     with unittest.mock.patch("sys.exit") as mocked_exit:
15.         # Do not actually run checks, that could be slow. Do not mock
16.         # `Pylinter.check`: it calls `Pylinter.initialize` which is
17.         # needed to properly set up messages inclusion/exclusion
18.         # in `_msg_states`, used by `is_message_enabled`.
19.         with unittest.mock.patch("pylint.lint.pylinter.check_parallel"):
20.             runner = pylint.lint.Run(args)
21. 
22.     # "logging-not-lazy" and "logging-format-interpolation"
23.     expected_disabled = {"W1201", "W1202"}
24.     for msgid in expected_disabled:
25.         assert not runner.linter.is_message_enabled(msgid)
26.     assert runner.linter.config.jobs == 10
27.     assert runner.linter.config.reports
28. 
29.     mocked_exit.assert_called_once_with(0)
30.     return runner
31. 
32. 
33. def test_can_read_ini(tmp_path):
34.     # Check that we can read the "regular" INI .pylintrc file
35.     config_file = tmp_path / ".pylintrc"
36.     config_file.write_text(
37.         """
38. [messages control]
39. disable = logging-not-lazy,logging-format-interpolation
40. jobs = 10
41. reports = yes
42. """
43.     )
44.     check_configuration_file_reader(config_file)
45. 
46. 
47. def test_can_read_setup_cfg(tmp_path):
48.     # Check that we can read a setup.cfg (which is an INI file where
49.     # section names are prefixed with "pylint."
50.     config_file = tmp_path / "setup.cfg"
51.     config_file.write_text(
52.         """
53. [pylint.messages control]
54. disable = logging-not-lazy,logging-format-interpolation
55. jobs = 10
56. reports = yes
57. """
58.     )
59.     check_configuration_file_reader(config_file)
60. 
61. 
62. def test_can_read_toml(tmp_path):
63.     # Check that we can read a TOML file where lists and integers are
64.     # expressed as strings.
65.     config_file = tmp_path / "pyproject.toml"
66.     config_file.write_text(
67.         """
68. [tool.pylint."messages control"]
69. disable = "logging-not-lazy,logging-format-interpolation"
70. jobs = "10"
71. reports = "yes"
72. """
73.     )
74.     check_configuration_file_reader(config_file)
75. 
76. 
77. def test_can_read_toml_rich_types(tmp_path):
78.     # Check that we can read a TOML file where lists, integers and
79.     # booleans are expressed as such (and not as strings), using TOML
80.     # type system.
81.     config_file = tmp_path / "pyproject.toml"
82.     config_file.write_text(
83.         """
84. [tool.pylint."messages control"]
85. disable = [
86.     "logging-not-lazy",
87.     "logging-format-interpolation",
88. ]
89. jobs = 10
90. reports = true
91. """
92.     )
93.     check_configuration_file_reader(config_file)


File: tests/unittest_config.py
Line number range: 1 - 66
Content:
1. # Copyright (c) 2015 Aru Sahni <arusahni@gmail.com>
2. # Copyright (c) 2016-2018, 2020 Claudiu Popa <pcmanticore@gmail.com>
3. # Copyright (c) 2016 Derek Gustafson <degustaf@gmail.com>
4. # Copyright (c) 2017 Ville Skyttä <ville.skytta@iki.fi>
5. # Copyright (c) 2019-2021 Pierre Sassoulas <pierre.sassoulas@gmail.com>
6. # Copyright (c) 2019 Ashley Whetter <ashley@awhetter.co.uk>
7. # Copyright (c) 2020 hippo91 <guillaume.peillex@gmail.com>
8. # Copyright (c) 2020 Anthony Sottile <asottile@umich.edu>
9. # Copyright (c) 2021 Marc Mueller <30130371+cdce8p@users.noreply.github.com>
10. 
11. # Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
12. # For details: https://github.com/PyCQA/pylint/blob/main/LICENSE
13. 
14. """Unit tests for the config module."""
15. 
16. import re
17. import sre_constants
18. 
19. import pytest
20. 
21. from pylint import config
22. 
23. RE_PATTERN_TYPE = getattr(re, "Pattern", getattr(re, "_pattern_type", None))
24. 
25. 
26. def test__regexp_validator_valid():
27.     result = config.option._regexp_validator(None, None, "test_.*")
28.     assert isinstance(result, RE_PATTERN_TYPE)
29.     assert result.pattern == "test_.*"
30. 
31. 
32. def test__regexp_validator_invalid():
33.     with pytest.raises(sre_constants.error):
34.         config.option._regexp_validator(None, None, "test_)")
35. 
36. 
37. def test__csv_validator_no_spaces():
38.     values = ["One", "Two", "Three"]
39.     result = config.option._csv_validator(None, None, ",".join(values))
40.     assert isinstance(result, list)
41.     assert len(result) == 3
42.     for i, value in enumerate(values):
43.         assert result[i] == value
44. 
45. 
46. def test__csv_validator_spaces():
47.     values = ["One", "Two", "Three"]
48.     result = config.option._csv_validator(None, None, ", ".join(values))
49.     assert isinstance(result, list)
50.     assert len(result) == 3
51.     for i, value in enumerate(values):
52.         assert result[i] == value
53. 
54. 
55. def test__regexp_csv_validator_valid():
56.     pattern_strings = ["test_.*", "foo\\.bar", "^baz$"]
57.     result = config.option._regexp_csv_validator(None, None, ",".join(pattern_strings))
58.     for i, regex in enumerate(result):
59.         assert isinstance(regex, RE_PATTERN_TYPE)
60.         assert regex.pattern == pattern_strings[i]
61. 
62. 
63. def test__regexp_csv_validator_invalid():
64.     pattern_strings = ["test_.*", "foo\\.bar", "^baz)$"]
65.     with pytest.raises(sre_constants.error):
66.         config.option._regexp_csv_validator(None, None, ",".join(pattern_strings))

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 21:03:56,563 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='The user requested the full content of `tests/test_config.py`.', relative_path='tests/test_config.py', start_line=1, end_line=93), ContextOutput(reasoning='The user requested the full content of `tests/unittest_config.py`.', relative_path='tests/unittest_config.py', start_line=1, end_line=66)]
2025-12-23 21:03:56,565 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 2 contexts to memory for query: Please provide the full content of `tests/test_config.py` and `tests/unittest_config.py`.
2025-12-23 21:03:56,565 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 21:03:56,565 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 21:03:56,566 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 2 new contexts to 0 existing contexts
2025-12-23 21:03:56,566 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 2 total contexts (removed 0 duplicates)
2025-12-23 21:03:56,566 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
pylint
├── .github
|   ├── CONTRIBUTING.md
|   ├── FUNDING.yml
|   ├── ISSUE_TEMPLATE
|   |   ├── BUG-REPORT.yml
|   |   ├── FEATURE-REQUEST.yml
|   |   ├── QUESTION.yml
|   |   └── config.yml
|   ├── PULL_REQUEST_TEMPLATE.md
|   ├── SECURITY.md
|   ├── dependabot.yml
|   └── workflows
|       ├── ci.yaml
|       ├── codeql-analysis.yml
|       └── release.yml
├── .pre-commit-config.yaml
├── .pre-commit-hooks.yaml
├── .readthedocs.yaml
├── CONTRIBUTORS.txt
├── Dockerfile
├── README.rst
├── doc
|   ├── backlinks.rst
|   ├── conf.py
|   ├── development_guide
|   |   ├── contribute.rst
|   |   └── index.rst
|   ├── exts
|   |   ├── pylint_extensions.py
|   |   └── pylint_features.py
|   ├── faq.rst
|   ├── how_tos
|   |   ├── custom_checkers.rst
|   |   ├── index.rst
|   |   ├── plugins.rst
|   |   └── transform_plugins.rst
|   ├── index.rst
|   ├── intro.rst
|   ├── media
|   ├── release.md
|   ├── requirements.txt
|   ├── support.rst
|   ├── technical_reference
|   |   ├── c_extensions.rst
|   |   ├── checkers.rst
|   |   ├── index.rst
|   |   └── startup.rst
|   ├── tutorial.rst
|   ├── user_guide
|   |   ├── ide-integration.rst
|   |   ├── index.rst
|   |   ├── installation.rst
|   |   ├── message-control.rst
|   |   ├── options.rst
|   |   ├── output.rst
|   |   └── run.rst
|   └── whatsnew
|       ├── 1.6.rst
|       ├── 1.7.rst
|       ├── 1.8.rst
|       ├── 1.9.rst
|       ├── 2.0.rst
|       ├── 2.1.rst
|       ├── 2.10.rst
|       ├── 2.2.rst
|       ├── 2.3.rst
|       ├── 2.4.rst
|       ├── 2.5.rst
|       ├── 2.6.rst
|       ├── 2.7.rst
|       ├── 2.8.rst
|       ├── 2.9.rst
|       ├── changelog.rst
|       └── index.rst
├── elisp
├── examples
|   ├── custom.py
|   ├── custom_raw.py
|   └── deprecation_checker.py
├── pylint
|   ├── __init__.py
|   ├── __main__.py
|   ├── __pkginfo__.py
|   ├── checkers
|   |   ├── __init__.py
|   |   ├── async.py
|   |   ├── base.py
|   |   ├── base_checker.py
|   |   ├── classes.py
|   |   ├── deprecated.py
|   |   ├── design_analysis.py
|   |   ├── exceptions.py
|   |   ├── format.py
|   |   ├── imports.py
|   |   ├── logging.py
|   |   ├── mapreduce_checker.py
|   |   ├── misc.py
|   |   ├── newstyle.py
|   |   ├── python3.py
|   |   ├── raw_metrics.py
|   |   ├── refactoring
|   |   |   ├── __init__.py
|   |   |   ├── len_checker.py
|   |   |   ├── not_checker.py
|   |   |   ├── recommendation_checker.py
|   |   |   └── refactoring_checker.py
|   |   ├── similar.py
|   |   ├── spelling.py
|   |   ├── stdlib.py
|   |   ├── strings.py
|   |   ├── typecheck.py
|   |   ├── utils.py
|   |   └── variables.py
|   ├── config
|   |   ├── __init__.py
|   |   ├── configuration_mixin.py
|   |   ├── find_default_config_files.py
|   |   ├── man_help_formatter.py
|   |   ├── option.py
|   |   ├── option_manager_mixin.py
|   |   ├── option_parser.py
|   |   └── options_provider_mixin.py
|   ├── constants.py
|   ├── epylint.py
|   ├── exceptions.py
|   ├── extensions
|   |   ├── __init__.py
|   |   ├── _check_docs_utils.py
|   |   ├── bad_builtin.py
|   |   ├── bad_builtin.rst
|   |   ├── broad_try_clause.py
|   |   ├── check_docs.py
|   |   ├── check_elif.py
|   |   ├── code_style.py
|   |   ├── code_style.rst
|   |   ├── comparetozero.py
|   |   ├── confusing_elif.py
|   |   ├── docparams.py
|   |   ├── docparams.rst
|   |   ├── docstyle.py
|   |   ├── empty_comment.py
|   |   ├── emptystring.py
|   |   ├── mccabe.py
|   |   ├── mccabe.rst
|   |   ├── overlapping_exceptions.py
|   |   ├── redefined_variable_type.py
|   |   ├── typing.py
|   |   └── typing.rst
|   ├── graph.py
|   ├── interfaces.py
|   ├── lint
|   |   ├── __init__.py
|   |   ├── expand_modules.py
|   |   ├── parallel.py
|   |   ├── pylinter.py
|   |   ├── report_functions.py
|   |   ├── run.py
|   |   └── utils.py
|   ├── message
|   |   ├── __init__.py
|   |   ├── message.py
|   |   ├── message_definition.py
|   |   ├── message_definition_store.py
|   |   ├── message_handler_mix_in.py
|   |   └── message_id_store.py
|   ├── pyreverse
|   |   ├── __init__.py
|   |   ├── diadefslib.py
|   |   ├── diagrams.py
|   |   ├── inspector.py
|   |   ├── main.py
|   |   ├── utils.py
|   |   ├── vcgutils.py
|   |   └── writer.py
|   ├── reporters
|   |   ├── __init__.py
|   |   ├── base_reporter.py
|   |   ├── collecting_reporter.py
|   |   ├── json_reporter.py
|   |   ├── multi_reporter.py
|   |   ├── reports_handler_mix_in.py
|   |   ├── text.py
|   |   └── ureports
|   |       ├── __init__.py
|   |       ├── nodes.py
|   |       └── text_writer.py
|   ├── testutils
|   |   ├── __init__.py
|   |   ├── checker_test_case.py
|   |   ├── constants.py
|   |   ├── decorator.py
|   |   ├── functional_test_file.py
|   |   ├── get_test_info.py
|   |   ├── global_test_linter.py
|   |   ├── lint_module_test.py
|   |   ├── output_line.py
|   |   ├── reporter_for_tests.py
|   |   ├── tokenize_str.py
|   |   └── unittest_linter.py
|   └── utils
|       ├── __init__.py
|       ├── ast_walker.py
|       ├── file_state.py
|       ├── pragma_parser.py
|       └── utils.py
├── requirements_test.txt
├── requirements_test_min.txt
├── requirements_test_pre_commit.txt
├── script
|   ├── __init__.py
|   ├── bump_changelog.py
|   └── fix_documentation.py
├── setup.py
└── tests
    ├── acceptance
    |   └── test_stdlib.py
    ├── benchmark
    |   └── test_baseline_benchmarks.py
    ├── checkers
    |   ├── __init__.py
    |   ├── conftest.py
    |   ├── unittest_base.py
    |   ├── unittest_classes.py
    |   ├── unittest_deprecated.py
    |   ├── unittest_exceptions.py
    |   ├── unittest_format.py
    |   ├── unittest_imports.py
    |   ├── unittest_logging.py
    |   ├── unittest_misc.py
    |   ├── unittest_python3.py
    |   ├── unittest_refactoring.py
    |   ├── unittest_similar.py
    |   ├── unittest_spelling.py
    |   ├── unittest_stdlib.py
    |   ├── unittest_strings.py
    |   ├── unittest_typecheck.py
    |   ├── unittest_utils.py
    |   └── unittest_variables.py
    ├── conftest.py
    ├── data
    |   ├── __init__.py
    |   ├── clientmodule_test.py
    |   └── suppliermodule_test.py
    ├── extensions
    |   ├── __init__.py
    |   ├── data
    |   |   ├── bad_builtin.py
    |   |   ├── broad_try_clause.py
    |   |   ├── compare_to_zero.py
    |   |   ├── docstring.py
    |   |   ├── elif.py
    |   |   ├── empty_comment.py
    |   |   ├── empty_string_comparison.py
    |   |   ├── mccabe.py
    |   |   ├── overlapping_exceptions.py
    |   |   ├── overlapping_exceptions_py33.py
    |   |   └── redefined.py
    |   ├── test_bad_builtin.py
    |   ├── test_broad_try_clause.py
    |   ├── test_check_docs.py
    |   ├── test_check_docs_utils.py
    |   ├── test_check_mccabe.py
    |   ├── test_check_raise_docs.py
    |   ├── test_check_return_docs.py
    |   ├── test_check_yields_docs.py
    |   ├── test_comparetozero.py
    |   ├── test_confusing_elif.py
    |   ├── test_docstyle.py
    |   ├── test_elseif_used.py
    |   ├── test_empty_comment.py
    |   ├── test_emptystring.py
    |   ├── test_overlapping_exceptions.py
    |   └── test_redefined.py
    ├── functional
    |   ├── __init__.py
    |   ├── a
    |   |   ├── __init__.py
    |   |   ├── abstract
    |   |   |   ├── abstract_abc_methods.py
    |   |   |   ├── abstract_class_instantiated_in_class.py
    |   |   |   ├── abstract_class_instantiated_py3.py
    |   |   |   ├── abstract_class_instantiated_py3.txt
    |   |   |   ├── abstract_class_instantiated_py34.py
    |   |   |   ├── abstract_class_instantiated_py34.txt
    |   |   |   ├── abstract_method_py3.py
    |   |   |   └── abstract_method_py3.txt
    |   |   ├── access
    |   |   |   ├── access_attr_before_def_false_positive.py
    |   |   |   ├── access_member_before_definition.py
    |   |   |   ├── access_member_before_definition.txt
    |   |   |   ├── access_to__name__.py
    |   |   |   ├── access_to__name__.txt
    |   |   |   ├── access_to_protected_members.py
    |   |   |   └── access_to_protected_members.txt
    |   |   ├── alternative
    |   |   |   ├── alternative_union_syntax.py
    |   |   |   ├── alternative_union_syntax_error.py
    |   |   |   ├── alternative_union_syntax_error.txt
    |   |   |   ├── alternative_union_syntax_py37.py
    |   |   |   └── alternative_union_syntax_py37.txt
    |   |   ├── anomalous_backslash_escape.py
    |   |   ├── anomalous_backslash_escape.txt
    |   |   ├── anomalous_unicode_escape_py3.py
    |   |   ├── anomalous_unicode_escape_py3.txt
    |   |   ├── arguments.py
    |   |   ├── arguments.txt
    |   |   ├── arguments_differ.py
    |   |   ├── arguments_differ.txt
    |   |   ├── arguments_out_of_order.py
    |   |   ├── arguments_out_of_order.txt
    |   |   ├── arguments_renamed.py
    |   |   ├── arguments_renamed.txt
    |   |   ├── assert_on_string_literal.py
    |   |   ├── assert_on_string_literal.txt
    |   |   ├── assert_on_tuple.py
    |   |   ├── assert_on_tuple.txt
    |   |   ├── assign
    |   |   |   ├── assigment_from_no_return.py
    |   |   |   ├── assigment_from_no_return.txt
    |   |   |   ├── assigning_non_slot.py
    |   |   |   ├── assigning_non_slot.txt
    |   |   |   ├── assigning_non_slot_4509.py
    |   |   |   ├── assigning_non_slot_4509.txt
    |   |   |   ├── assignment_expression.py
    |   |   |   ├── assignment_expression.txt
    |   |   |   ├── assignment_from_no_return.py
    |   |   |   ├── assignment_from_no_return.txt
    |   |   |   └── assignment_from_no_return_py3.py
    |   |   ├── async_functions.py
    |   |   ├── async_functions.txt
    |   |   ├── attribute_defined_outside_init.py
    |   |   ├── attribute_defined_outside_init.txt
    |   |   ├── await_outside_async.py
    |   |   └── await_outside_async.txt
    |   ├── b
    |   |   ├── __init__.py
    |   |   ├── bad_except_order.py
    |   |   ├── bad_except_order.txt
    |   |   ├── bad_exception_context.py
    |   |   ├── bad_exception_context.txt
    |   |   ├── bad_indentation.py
    |   |   ├── bad_indentation.txt
    |   |   ├── bad_inline_option.py
    |   |   ├── bad_inline_option.txt
    |   |   ├── bad_open_mode_py3.py
    |   |   ├── bad_open_mode_py3.txt
    |   |   ├── bad_option_value.py
    |   |   ├── bad_option_value.txt
    |   |   ├── bad_reversed_sequence.py
    |   |   ├── bad_reversed_sequence.txt
    |   |   ├── bad_reversed_sequence_py37.py
    |   |   ├── bad_reversed_sequence_py37.txt
    |   |   ├── bad_reversed_sequence_py38.py
    |   |   ├── bad_staticmethod_argument.py
    |   |   ├── bad_staticmethod_argument.txt
    |   |   ├── bad_thread_instantiation.py
    |   |   ├── bad_thread_instantiation.txt
    |   |   ├── bare_except.py
    |   |   ├── bare_except.txt
    |   |   ├── base_init_vars.py
    |   |   ├── blacklisted_name.py
    |   |   ├── blacklisted_name.txt
    |   |   ├── broad_except.py
    |   |   ├── broad_except.txt
    |   |   ├── bugfix_local_scope_metaclass_1177.py
    |   |   └── builtin_module_test.py
    |   ├── c
    |   |   ├── __init__.py
    |   |   ├── cached_property.py
    |   |   ├── cached_property.txt
    |   |   ├── cellvar_escaping_loop.py
    |   |   ├── cellvar_escaping_loop.txt
    |   |   ├── class_attributes.py
    |   |   ├── class_members_py30.py
    |   |   ├── class_members_py30.txt
    |   |   ├── class_members_py36.py
    |   |   ├── class_scope.py
    |   |   ├── class_scope.txt
    |   |   ├── class_variable_slots_conflict_exempted.py
    |   |   ├── classes_meth_could_be_a_function.py
    |   |   ├── classes_protected_member_access.py
    |   |   ├── comparison_with_callable.py
    |   |   ├── comparison_with_callable.txt
    |   |   ├── condition_evals_to_constant.py
    |   |   ├── condition_evals_to_constant.txt
    |   |   ├── confidence_filter.py
    |   |   ├── confidence_filter.txt
    |   |   ├── confusing_with_statement.py
    |   |   ├── confusing_with_statement.txt
    |   |   ├── consider
    |   |   |   ├── consider_iterating_dictionary.py
    |   |   |   ├── consider_iterating_dictionary.txt
    |   |   |   ├── consider_join.py
    |   |   |   ├── consider_join.txt
    |   |   |   ├── consider_merging_isinstance.py
    |   |   |   ├── consider_merging_isinstance.txt
    |   |   |   ├── consider_swap_variables.py
    |   |   |   ├── consider_swap_variables.txt
    |   |   |   ├── consider_using_dict_comprehension.py
    |   |   |   ├── consider_using_dict_comprehension.txt
    |   |   |   ├── consider_using_dict_items.py
    |   |   |   ├── consider_using_dict_items.txt
    |   |   |   ├── consider_using_enumerate.py
    |   |   |   ├── consider_using_enumerate.txt
    |   |   |   ├── consider_using_generator.py
    |   |   |   ├── consider_using_generator.txt
    |   |   |   ├── consider_using_get.py
    |   |   |   ├── consider_using_get.txt
    |   |   |   ├── consider_using_in.py
    |   |   |   ├── consider_using_in.txt
    |   |   |   ├── consider_using_min_max_builtin.py
    |   |   |   ├── consider_using_min_max_builtin.txt
    |   |   |   ├── consider_using_set_comprehension.py
    |   |   |   ├── consider_using_set_comprehension.txt
    |   |   |   ├── consider_using_sys_exit.py
    |   |   |   ├── consider_using_sys_exit.txt
    |   |   |   ├── consider_using_sys_exit_exempted.py
    |   |   |   ├── consider_using_sys_exit_local_scope.py
    |   |   |   ├── consider_using_with.py
    |   |   |   ├── consider_using_with.txt
    |   |   |   ├── consider_using_with_open.py
    |   |   |   └── consider_using_with_open.txt
    |   |   ├── continue_in_finally.py
    |   |   ├── continue_in_finally.txt
    |   |   ├── control_pragmas.py
    |   |   ├── crash_missing_module_type.py
    |   |   ├── ctor_arguments.py
    |   |   └── ctor_arguments.txt
    |   ├── d
    |   |   ├── __init__.py
    |   |   ├── dangerous_default_value_py30.py
    |   |   ├── dangerous_default_value_py30.txt
    |   |   ├── dataclass_with_default_factory.py
    |   |   ├── decorator_scope.py
    |   |   ├── decorator_unused.py
    |   |   ├── defined_and_used_on_same_line.py
    |   |   ├── deprecated
    |   |   |   ├── deprecated_class_py33.py
    |   |   |   ├── deprecated_class_py33.txt
    |   |   |   ├── deprecated_decorators.py
    |   |   |   ├── deprecated_decorators.txt
    |   |   |   ├── deprecated_method_getmoduleinfo.py
    |   |   |   ├── deprecated_method_getmoduleinfo.txt
    |   |   |   ├── deprecated_methods_py3.py
    |   |   |   ├── deprecated_methods_py3.txt
    |   |   |   ├── deprecated_methods_py36.py
    |   |   |   ├── deprecated_methods_py36.txt
    |   |   |   ├── deprecated_methods_py38.py
    |   |   |   ├── deprecated_methods_py38.txt
    |   |   |   ├── deprecated_module_py3.py
    |   |   |   ├── deprecated_module_py3.txt
    |   |   |   ├── deprecated_module_py36.py
    |   |   |   ├── deprecated_module_py36.txt
    |   |   |   ├── deprecated_module_py4.py
    |   |   |   ├── deprecated_module_py4.txt
    |   |   |   ├── deprecated_module_uninstalled.py
    |   |   |   ├── deprecated_module_uninstalled.txt
    |   |   |   └── deprecated_relative_import
    |   |   ├── dict_iter_missing_items.py
    |   |   ├── dict_iter_missing_items.txt
    |   |   ├── disable_msg_github_issue_1389.py
    |   |   ├── disable_ungrouped_imports.py
    |   |   ├── disable_ungrouped_imports.txt
    |   |   ├── disable_wrong_import_order.py
    |   |   ├── disable_wrong_import_order.txt
    |   |   ├── disable_wrong_import_position.py
    |   |   ├── disabled_msgid_in_pylintrc.py
    |   |   ├── docstrings.py
    |   |   ├── docstrings.txt
    |   |   ├── dotted_ancestor.py
    |   |   ├── dotted_ancestor.txt
    |   |   ├── duplicate_argument_name.py
    |   |   ├── duplicate_argument_name.txt
    |   |   ├── duplicate_argument_name_py3.py
    |   |   ├── duplicate_argument_name_py3.txt
    |   |   ├── duplicate_bases.py
    |   |   ├── duplicate_bases.txt
    |   |   ├── duplicate_dict_literal_key.py
    |   |   ├── duplicate_dict_literal_key.txt
    |   |   ├── duplicate_except.py
    |   |   ├── duplicate_except.txt
    |   |   ├── duplicate_string_formatting_argument.py
    |   |   └── duplicate_string_formatting_argument.txt
    |   ├── e
    |   |   ├── __init__.py
    |   |   ├── e1101_9588_base_attr_aug_assign.py
    |   |   ├── enum_subclasses.py
    |   |   ├── eval_used.py
    |   |   ├── eval_used.txt
    |   |   ├── exception_is_binary_op.py
    |   |   ├── exception_is_binary_op.txt
    |   |   ├── excess_escapes.py
    |   |   ├── excess_escapes.txt
    |   |   ├── exec_used_py3.py
    |   |   ├── exec_used_py3.txt
    |   |   └── external_classmethod_crash.py
    |   ├── ext
    |   |   ├── bad_builtins.py
    |   |   ├── bad_builtins.txt
    |   |   ├── code_style
    |   |   |   ├── code_style_consider_using_namedtuple_or_dataclass.py
    |   |   |   ├── code_style_consider_using_namedtuple_or_dataclass.txt
    |   |   |   ├── code_style_consider_using_tuple.py
    |   |   |   └── code_style_consider_using_tuple.txt
    |   |   ├── confusing_elif.py
    |   |   ├── confusing_elif.txt
    |   |   ├── docparams.py
    |   |   ├── docparams.txt
    |   |   └── typing
    |   |       ├── typing_consider_using_alias.py
    |   |       ├── typing_consider_using_alias.txt
    |   |       ├── typing_consider_using_alias_without_future.py
    |   |       ├── typing_consider_using_alias_without_future.txt
    |   |       ├── typing_consider_using_union.py
    |   |       ├── typing_consider_using_union.txt
    |   |       ├── typing_consider_using_union_py310.py
    |   |       ├── typing_consider_using_union_py310.txt
    |   |       ├── typing_consider_using_union_without_future.py
    |   |       ├── typing_consider_using_union_without_future.txt
    |   |       ├── typing_deprecated_alias.py
    |   |       └── typing_deprecated_alias.txt
    |   ├── f
    |   |   ├── __init__.py
    |   |   ├── f_string_without_interpolation.py
    |   |   ├── f_string_without_interpolation.txt
    |   |   ├── fallback_import_disabled.py
    |   |   ├── fallback_import_enabled.py
    |   |   ├── fallback_import_enabled.txt
    |   |   ├── first_arg.py
    |   |   ├── first_arg.txt
    |   |   ├── fixme.py
    |   |   ├── fixme.txt
    |   |   ├── fixme_bad_formatting_1139.py
    |   |   ├── fixme_bad_formatting_1139.txt
    |   |   ├── formatted_string_literal_with_if_py36.py
    |   |   ├── func_disable_linebased.py
    |   |   ├── func_disable_linebased.txt
    |   |   ├── function_redefined.py
    |   |   ├── function_redefined.txt
    |   |   ├── function_redefined_2540.py
    |   |   ├── future_import.py
    |   |   ├── future_unicode_literals.py
    |   |   └── future_unicode_literals.txt
    |   ├── g
    |   |   ├── __init__.py
    |   |   ├── generated_members.py
    |   |   ├── generated_members.txt
    |   |   ├── generic_alias
    |   |   |   ├── __init__.py
    |   |   |   ├── generic_alias_collections.py
    |   |   |   ├── generic_alias_collections.txt
    |   |   |   ├── generic_alias_collections_py37.py
    |   |   |   ├── generic_alias_collections_py37.txt
    |   |   |   ├── generic_alias_collections_py37_with_typing.py
    |   |   |   ├── generic_alias_collections_py37_with_typing.txt
    |   |   |   ├── generic_alias_mixed_py37.py
    |   |   |   ├── generic_alias_mixed_py37.txt
    |   |   |   ├── generic_alias_mixed_py39.py
    |   |   |   ├── generic_alias_mixed_py39.txt
    |   |   |   ├── generic_alias_postponed_evaluation_py37.py
    |   |   |   ├── generic_alias_postponed_evaluation_py37.txt
    |   |   |   ├── generic_alias_related.py
    |   |   |   ├── generic_alias_related.txt
    |   |   |   ├── generic_alias_related_py39.py
    |   |   |   ├── generic_alias_related_py39.txt
    |   |   |   ├── generic_alias_side_effects.py
    |   |   |   ├── generic_alias_side_effects.txt
    |   |   |   ├── generic_alias_typing.py
    |   |   |   └── generic_alias_typing.txt
    |   |   ├── genexp_in_class_scope.py
    |   |   ├── genexpr_variable_scope.py
    |   |   ├── genexpr_variable_scope.txt
    |   |   ├── globals.py
    |   |   └── globals.txt
    |   ├── i
    |   |   ├── __init__.py
    |   |   ├── implicit
    |   |   |   ├── implicit_str_concat.py
    |   |   |   ├── implicit_str_concat.txt
    |   |   |   ├── implicit_str_concat_latin1.py
    |   |   |   ├── implicit_str_concat_multiline.py
    |   |   |   ├── implicit_str_concat_multiline.txt
    |   |   |   └── implicit_str_concat_utf8.py
    |   |   ├── import_aliasing.py
    |   |   ├── import_aliasing.txt
    |   |   ├── import_error.py
    |   |   ├── import_error.txt
    |   |   ├── import_itself.py
    |   |   ├── import_itself.txt
    |   |   ├── inconsistent
    |   |   |   ├── inconsistent_mro.py
    |   |   |   ├── inconsistent_mro.txt
    |   |   |   ├── inconsistent_quotes.py
    |   |   |   ├── inconsistent_quotes.txt
    |   |   |   ├── inconsistent_quotes2.py
    |   |   |   ├── inconsistent_quotes2.txt
    |   |   |   ├── inconsistent_returns.py
    |   |   |   ├── inconsistent_returns.txt
    |   |   |   ├── inconsistent_returns_noreturn.py
    |   |   |   └── inconsistent_returns_noreturn.txt
    |   |   ├── inference_crash_4692.py
    |   |   ├── inference_crash_4692.txt
    |   |   ├── inherit_non_class.py
    |   |   ├── inherit_non_class.txt
    |   |   ├── init_is_generator.py
    |   |   ├── init_is_generator.txt
    |   |   ├── init_not_called.py
    |   |   ├── init_not_called.txt
    |   |   ├── init_return_from_inner_function.py
    |   |   ├── init_subclass_classmethod_py36.py
    |   |   ├── inner_classes.py
    |   |   ├── invalid
    |   |   |   ├── b
    |   |   |   ├── e
    |   |   |   ├── g
    |   |   |   ├── invalid_all_format.py
    |   |   |   ├── invalid_all_format.txt
    |   |   |   ├── invalid_all_format_valid_1.py
    |   |   |   ├── invalid_all_format_valid_2.py
    |   |   |   ├── invalid_all_object.py
    |   |   |   ├── invalid_all_object.txt
    |   |   |   ├── invalid_class_object.py
    |   |   |   ├── invalid_class_object.txt
    |   |   |   ├── invalid_format_returned.py
    |   |   |   ├── invalid_format_returned.txt
    |   |   |   ├── invalid_hash_returned.py
    |   |   |   ├── invalid_hash_returned.txt
    |   |   |   ├── invalid_index_returned.py
    |   |   |   ├── invalid_index_returned.txt
    |   |   |   ├── invalid_name.py
    |   |   |   ├── invalid_name.txt
    |   |   |   ├── invalid_overridden_method.py
    |   |   |   ├── invalid_overridden_method.txt
    |   |   |   ├── invalid_repr_returned.py
    |   |   |   ├── invalid_repr_returned.txt
    |   |   |   ├── invalid_unary_operand_type.py
    |   |   |   ├── invalid_unary_operand_type.txt
    |   |   |   ├── l
    |   |   |   ├── m
    |   |   |   └── s
    |   |   ├── isinstance_second_argument.py
    |   |   ├── isinstance_second_argument.txt
    |   |   ├── iterable_context.py
    |   |   ├── iterable_context.txt
    |   |   ├── iterable_context_py3.py
    |   |   ├── iterable_context_py3.txt
    |   |   ├── iterable_context_py36.py
    |   |   └── iterable_context_py36.txt
    |   ├── import_outside_toplevel.py
    |   ├── import_outside_toplevel.txt
    |   ├── k
    |   |   ├── __init__.py
    |   |   ├── keyword_arg_before_vararg.py
    |   |   └── keyword_arg_before_vararg.txt
    |   ├── l
    |   |   ├── __init__.py
    |   |   ├── lambda_use_before_assign.py
    |   |   ├── len_checks.py
    |   |   ├── len_checks.txt
    |   |   ├── line_endings.py
    |   |   ├── line_endings.txt
    |   |   ├── line_too_long.py
    |   |   ├── line_too_long.txt
    |   |   ├── line_too_long_end_of_module.py
    |   |   ├── literal_comparison.py
    |   |   ├── literal_comparison.txt
    |   |   ├── logging_format_interpolation.py
    |   |   ├── logging_format_interpolation.txt
    |   |   ├── logging_format_interpolation_py36.py
    |   |   ├── logging_format_interpolation_py36.txt
    |   |   ├── logging_fstring_interpolation_py36.py
    |   |   ├── logging_fstring_interpolation_py36.txt
    |   |   ├── logging_not_lazy.py
    |   |   ├── logging_not_lazy.txt
    |   |   ├── logging_not_lazy_with_logger.py
    |   |   ├── logging_not_lazy_with_logger.txt
    |   |   ├── logical_tautology.py
    |   |   ├── logical_tautology.txt
    |   |   ├── long_lines_with_utf8.py
    |   |   ├── long_lines_with_utf8.txt
    |   |   ├── long_utf8_lines.py
    |   |   ├── loopvar_in_dict_comp_py27.py
    |   |   ├── loopvar_in_dict_comp_py27.txt
    |   |   ├── lost_exception.py
    |   |   └── lost_exception.txt
    |   ├── m
    |   |   ├── __init__.py
    |   |   ├── mapping_context.py
    |   |   ├── mapping_context.txt
    |   |   ├── mapping_context_py3.py
    |   |   ├── mapping_context_py3.txt
    |   |   ├── member
    |   |   |   ├── member_checks.py
    |   |   |   ├── member_checks.txt
    |   |   |   ├── member_checks_hints.py
    |   |   |   ├── member_checks_hints.txt
    |   |   |   ├── member_checks_ignore_none.py
    |   |   |   ├── member_checks_ignore_none.txt
    |   |   |   ├── member_checks_inference_improvements.py
    |   |   |   ├── member_checks_no_hints.py
    |   |   |   ├── member_checks_no_hints.txt
    |   |   |   ├── member_checks_opaque.py
    |   |   |   ├── member_checks_opaque.txt
    |   |   |   ├── member_checks_py37.py
    |   |   |   ├── member_checks_py37.txt
    |   |   |   ├── member_checks_typed_annotations.py
    |   |   |   ├── member_checks_typed_annotations.txt
    |   |   |   ├── membership_protocol.py
    |   |   |   ├── membership_protocol.txt
    |   |   |   ├── membership_protocol_py3.py
    |   |   |   └── membership_protocol_py3.txt
    |   |   ├── metaclass_attr_access.py
    |   |   ├── method_hidden.py
    |   |   ├── method_hidden.txt
    |   |   ├── misplaced_bare_raise.py
    |   |   ├── misplaced_bare_raise.txt
    |   |   ├── misplaced_comparison_constant.py
    |   |   ├── misplaced_comparison_constant.txt
    |   |   ├── misplaced_format_function.py
    |   |   ├── misplaced_format_function.txt
    |   |   ├── misplaced_future.py
    |   |   ├── misplaced_future.txt
    |   |   ├── missing
    |   |   |   ├── missing_docstring.py
    |   |   |   ├── missing_docstring.txt
    |   |   |   ├── missing_docstring_new_style.py
    |   |   |   ├── missing_docstring_new_style.txt
    |   |   |   ├── missing_final_newline.py
    |   |   |   ├── missing_final_newline.txt
    |   |   |   ├── missing_kwoa_py3.py
    |   |   |   ├── missing_kwoa_py3.txt
    |   |   |   ├── missing_module_docstring_disabled.py
    |   |   |   ├── missing_parentheses_for_call_in_test.py
    |   |   |   ├── missing_parentheses_for_call_in_test.txt
    |   |   |   ├── missing_self_argument.py
    |   |   |   └── missing_self_argument.txt
    |   |   ├── module___dict__.py
    |   |   ├── module___dict__.txt
    |   |   ├── monkeypatch_method.py
    |   |   ├── multiple_imports.py
    |   |   └── multiple_imports.txt
    |   ├── n
    |   |   ├── __init__.py
    |   |   ├── name
    |   |   |   ├── namePresetCamelCase.py
    |   |   |   ├── namePresetCamelCase.txt
    |   |   |   ├── name_final.py
    |   |   |   ├── name_final.txt
    |   |   |   ├── name_final_snake_case.py
    |   |   |   ├── name_final_snake_case.txt
    |   |   |   ├── name_good_bad_names_regex.py
    |   |   |   ├── name_good_bad_names_regex.txt
    |   |   |   ├── name_preset_snake_case.py
    |   |   |   ├── name_preset_snake_case.txt
    |   |   |   ├── name_styles.py
    |   |   |   ├── name_styles.txt
    |   |   |   ├── namedtuple_member_inference.py
    |   |   |   ├── namedtuple_member_inference.txt
    |   |   |   ├── names_in__all__.py
    |   |   |   └── names_in__all__.txt
    |   |   ├── nan_comparison_check.py
    |   |   ├── nan_comparison_check.txt
    |   |   ├── nested_blocks_issue1088.py
    |   |   ├── nested_blocks_issue1088.txt
    |   |   ├── nested_func_defined_in_loop.py
    |   |   ├── nested_func_defined_in_loop.txt
    |   |   ├── new_style_class_py_30.py
    |   |   ├── new_style_class_py_30.txt
    |   |   ├── no
    |   |   |   ├── __init__.py
    |   |   |   ├── no_classmethod_decorator.py
    |   |   |   ├── no_classmethod_decorator.txt
    |   |   |   ├── no_dummy_redefined.py
    |   |   |   ├── no_dummy_redefined.txt
    |   |   |   ├── no_else_break.py
    |   |   |   ├── no_else_break.txt
    |   |   |   ├── no_else_continue.py
    |   |   |   ├── no_else_continue.txt
    |   |   |   ├── no_else_raise.py
    |   |   |   ├── no_else_raise.txt
    |   |   |   ├── no_else_return.py
    |   |   |   ├── no_else_return.txt
    |   |   |   ├── no_method_argument_py38.py
    |   |   |   ├── no_name_in_module.py
    |   |   |   ├── no_name_in_module.txt
    |   |   |   ├── no_self_argument.py
    |   |   |   ├── no_self_argument.txt
    |   |   |   ├── no_self_argument_py37.py
    |   |   |   ├── no_self_argument_py37.txt
    |   |   |   ├── no_self_use.py
    |   |   |   ├── no_self_use.txt
    |   |   |   ├── no_self_use_py3.py
    |   |   |   ├── no_staticmethod_decorator.py
    |   |   |   ├── no_staticmethod_decorator.txt
    |   |   |   └── no_warning_docstring.py
    |   |   ├── non
    |   |   |   ├── __init__.py
    |   |   |   ├── non_ascii_name.py
    |   |   |   ├── non_ascii_name.txt
    |   |   |   ├── non_init_parent_called.py
    |   |   |   ├── non_init_parent_called.txt
    |   |   |   ├── non_iterator_returned.py
    |   |   |   ├── non_iterator_returned.txt
    |   |   |   ├── non_str_assignment_to_dunder_name.py
    |   |   |   └── non_str_assignment_to_dunder_name.txt
    |   |   ├── none_dunder_protocols_py36.py
    |   |   ├── none_dunder_protocols_py36.txt
    |   |   ├── nonexistent_operator.py
    |   |   ├── nonexistent_operator.txt
    |   |   ├── nonlocal_and_global.py
    |   |   ├── nonlocal_and_global.txt
    |   |   ├── nonlocal_without_binding.py
    |   |   ├── nonlocal_without_binding.txt
    |   |   ├── not_async_context_manager.py
    |   |   ├── not_async_context_manager.txt
    |   |   ├── not_async_context_manager_py37.py
    |   |   ├── not_callable.py
    |   |   ├── not_callable.txt
    |   |   ├── not_context_manager.py
    |   |   ├── not_context_manager.txt
    |   |   ├── not_in_loop.py
    |   |   └── not_in_loop.txt
    |   ├── o
    |   |   ├── __init__.py
    |   |   ├── object_as_class_attribute.py
    |   |   ├── old_division_floats.py
    |   |   ├── old_division_manually.py
    |   |   └── overloaded_operator.py
    |   ├── p
    |   |   ├── __init__.py
    |   |   ├── pattern_matching.py
    |   |   ├── plugin_does_not_exists.py
    |   |   ├── plugin_does_not_exists.txt
    |   |   ├── postponed_evaluation_activated.py
    |   |   ├── postponed_evaluation_activated_with_alias.py
    |   |   ├── postponed_evaluation_not_activated.py
    |   |   ├── postponed_evaluation_not_activated.txt
    |   |   ├── postponed_evaluation_pep585.py
    |   |   ├── postponed_evaluation_pep585.txt
    |   |   ├── postponed_evaluation_pep585_error.py
    |   |   ├── postponed_evaluation_pep585_error.txt
    |   |   ├── postponed_evaluation_pep585_py39.py
    |   |   ├── postponed_evaluation_pep585_py39.txt
    |   |   ├── pragma_after_backslash.py
    |   |   ├── preferred_module.py
    |   |   ├── preferred_module.txt
    |   |   ├── property_affectation_py26.py
    |   |   ├── property_with_parameters.py
    |   |   ├── property_with_parameters.txt
    |   |   ├── protected_access_access_different_scopes.py
    |   |   ├── protected_access_access_different_scopes.txt
    |   |   ├── protocol_classes.py
    |   |   └── protocol_classes.txt
    |   ├── r
    |   |   ├── __init__.py
    |   |   ├── raise
    |   |   |   ├── raise_missing_from.py
    |   |   |   ├── raise_missing_from.txt
    |   |   |   ├── raising_format_tuple.py
    |   |   |   ├── raising_format_tuple.txt
    |   |   |   ├── raising_non_exception_py3.py
    |   |   |   ├── raising_non_exception_py3.txt
    |   |   |   └── raising_self.py
    |   |   ├── recursion
    |   |   |   ├── recursion_error_2667.py
    |   |   |   ├── recursion_error_2836.py
    |   |   |   ├── recursion_error_2861.py
    |   |   |   ├── recursion_error_2899.py
    |   |   |   ├── recursion_error_2906.py
    |   |   |   ├── recursion_error_3152.py
    |   |   |   ├── recursion_error_3159.py
    |   |   |   ├── recursion_error_940.py
    |   |   |   ├── recursion_error_crash.py
    |   |   |   ├── recursion_error_crash_2683.py
    |   |   |   ├── recursion_error_crash_astroid_623.py
    |   |   |   └── recursion_regression_2960.py
    |   |   ├── redeclared_assigned_name.py
    |   |   ├── redeclared_assigned_name.txt
    |   |   ├── redefine_loop.py
    |   |   ├── redefine_loop.txt
    |   |   ├── redefined_argument_from_local.py
    |   |   ├── redefined_argument_from_local.txt
    |   |   ├── redefined_builtin.py
    |   |   ├── redefined_builtin.txt
    |   |   ├── redefined_builtin_allowed.py
    |   |   ├── redefined_builtin_allowed.txt
    |   |   ├── redefined_outer_name_type_checking.py
    |   |   ├── redundant_unittest_assert.py
    |   |   ├── redundant_unittest_assert.txt
    |   |   ├── regression
    |   |   |   ├── regression_1326_crash_uninferable.py
    |   |   |   ├── regression_2306_enum_value.py
    |   |   |   ├── regression_2443_duplicate_bases.py
    |   |   |   ├── regression_2913.py
    |   |   |   ├── regression_2913.txt
    |   |   |   ├── regression_2937_ifexp.py
    |   |   |   ├── regression_3091.py
    |   |   |   ├── regression_3231_no_member_property.py
    |   |   |   ├── regression_3416_unused_argument_raise.py
    |   |   |   ├── regression_3416_unused_argument_raise.txt
    |   |   |   ├── regression_3535_double_enum_inherit.py
    |   |   |   ├── regression_3595_notcallable_collections.py
    |   |   |   ├── regression_4221_object_instanceattr.py
    |   |   |   ├── regression_4358_unsubscriptable_enum.py
    |   |   |   ├── regression_4439.py
    |   |   |   ├── regression_4439.txt
    |   |   |   ├── regression_4612_crash_pytest_fixture.py
    |   |   |   ├── regression_4680.py
    |   |   |   ├── regression_4680.txt
    |   |   |   ├── regression_4688_duplicated_bases_member_hints.py
    |   |   |   ├── regression_4688_duplicated_bases_member_hints.txt
    |   |   |   ├── regression_4723.py
    |   |   |   ├── regression_4723.txt
    |   |   |   ├── regression___file___global.py
    |   |   |   ├── regression___file___global.txt
    |   |   |   ├── regression_implicit_none_with_no_return.py
    |   |   |   ├── regression_implicit_none_with_no_return.txt
    |   |   |   ├── regression_infer_call_result_3690.py
    |   |   |   ├── regression_infer_call_result_3690.txt
    |   |   |   ├── regression_issue_4631.py
    |   |   |   ├── regression_issue_4633.py
    |   |   |   ├── regression_no_member_1078.py
    |   |   |   ├── regression_no_value_for_parameter.py
    |   |   |   ├── regression_posonly_args.py
    |   |   |   ├── regression_properties_in_class_context.py
    |   |   |   ├── regression_properties_in_class_context.txt
    |   |   |   ├── regression_property_no_member_2641.py
    |   |   |   ├── regression_property_no_member_3269.py
    |   |   |   ├── regression_property_no_member_844.py
    |   |   |   ├── regression_property_no_member_870.py
    |   |   |   ├── regression_property_slots_2439.py
    |   |   |   └── regression_too_many_arguments_2335.py
    |   |   ├── reimport.py
    |   |   ├── reimport.txt
    |   |   ├── reimported.py
    |   |   ├── reimported.txt
    |   |   ├── renamed_import_logging_not_lazy.py
    |   |   ├── renamed_import_logging_not_lazy.txt
    |   |   ├── repeated_keyword.py
    |   |   ├── repeated_keyword.txt
    |   |   ├── return_in_init.py
    |   |   ├── return_in_init.txt
    |   |   ├── return_outside_function.py
    |   |   ├── return_outside_function.txt
    |   |   ├── reused_outer_loop_variable.py
    |   |   ├── reused_outer_loop_variable.txt
    |   |   ├── reused_outer_loop_variable_py3.py
    |   |   └── reused_outer_loop_variable_py3.txt
    |   ├── s
    |   |   ├── __init__.py
    |   |   ├── self
    |   |   |   ├── self_assigning_variable.py
    |   |   |   ├── self_assigning_variable.txt
    |   |   |   ├── self_cls_assignment.py
    |   |   |   └── self_cls_assignment.txt
    |   |   ├── signature_differs.py
    |   |   ├── signature_differs.txt
    |   |   ├── simplifiable
    |   |   |   ├── simplifiable_condition.py
    |   |   |   ├── simplifiable_condition.txt
    |   |   |   ├── simplifiable_if_expression.py
    |   |   |   ├── simplifiable_if_expression.txt
    |   |   |   ├── simplifiable_if_statement.py
    |   |   |   ├── simplifiable_if_statement.txt
    |   |   |   ├── simplify_chained_comparison.py
    |   |   |   └── simplify_chained_comparison.txt
    |   |   ├── singledispatch_functions_py3.py
    |   |   ├── singledispatch_functions_py3.txt
    |   |   ├── singleton_comparison.py
    |   |   ├── singleton_comparison.txt
    |   |   ├── slots_checks.py
    |   |   ├── slots_checks.txt
    |   |   ├── socketerror_import.py
    |   |   ├── star
    |   |   |   ├── star_needs_assignment_target.py
    |   |   |   ├── star_needs_assignment_target.txt
    |   |   |   ├── star_needs_assignment_target_py35.py
    |   |   |   └── star_needs_assignment_target_py35.txt
    |   |   ├── statement_without_effect.py
    |   |   ├── statement_without_effect.txt
    |   |   ├── statement_without_effect_py36.py
    |   |   ├── statement_without_effect_py36.txt
    |   |   ├── stop_iteration_inside_generator.py
    |   |   ├── stop_iteration_inside_generator.txt
    |   |   ├── string
    |   |   |   ├── string_formatting.py
    |   |   |   ├── string_formatting.txt
    |   |   |   ├── string_formatting_disable.py
    |   |   |   ├── string_formatting_disable.txt
    |   |   |   ├── string_formatting_error.py
    |   |   |   ├── string_formatting_error.txt
    |   |   |   ├── string_formatting_failed_inference.py
    |   |   |   ├── string_formatting_failed_inference_py35.py
    |   |   |   ├── string_formatting_py3.py
    |   |   |   ├── string_formatting_py3.txt
    |   |   |   ├── string_log_formatting.py
    |   |   |   └── string_log_formatting.txt
    |   |   ├── subprocess_popen_preexec_fn.py
    |   |   ├── subprocess_popen_preexec_fn.txt
    |   |   ├── subprocess_run_check35.py
    |   |   ├── subprocess_run_check35.txt
    |   |   ├── super
    |   |   |   ├── super_checks.py
    |   |   |   ├── super_checks.txt
    |   |   |   ├── super_with_arguments.py
    |   |   |   └── super_with_arguments.txt
    |   |   ├── superfluous_parens.py
    |   |   ├── superfluous_parens.txt
    |   |   ├── suspicious_str_strip_call_py3.py
    |   |   ├── suspicious_str_strip_call_py3.txt
    |   |   ├── syntax_error.py
    |   |   ├── syntax_error.txt
    |   |   ├── syntax_error_jython.py
    |   |   ├── syntax_error_jython.txt
    |   |   ├── sys_stream_regression_1004.py
    |   |   └── sys_stream_regression_1004.txt
    |   ├── t
    |   |   ├── __init__.py
    |   |   ├── ternary.py
    |   |   ├── ternary.txt
    |   |   ├── test_compile.py
    |   |   ├── tokenize_error.py
    |   |   ├── tokenize_error.txt
    |   |   ├── tokenize_error_jython.py
    |   |   ├── tokenize_error_jython.txt
    |   |   ├── too
    |   |   |   ├── __init__.py
    |   |   |   ├── too_few_public_methods.py
    |   |   |   ├── too_few_public_methods.txt
    |   |   |   ├── too_few_public_methods_37.py
    |   |   |   ├── too_many_ancestors.py
    |   |   |   ├── too_many_ancestors.txt
    |   |   |   ├── too_many_arguments.py
    |   |   |   ├── too_many_arguments.txt
    |   |   |   ├── too_many_arguments_issue_1045.py
    |   |   |   ├── too_many_arguments_overload.py
    |   |   |   ├── too_many_boolean_expressions.py
    |   |   |   ├── too_many_boolean_expressions.txt
    |   |   |   ├── too_many_branches.py
    |   |   |   ├── too_many_branches.txt
    |   |   |   ├── too_many_instance_attributes.py
    |   |   |   ├── too_many_instance_attributes.txt
    |   |   |   ├── too_many_lines.py
    |   |   |   ├── too_many_lines.txt
    |   |   |   ├── too_many_lines_disabled.py
    |   |   |   ├── too_many_locals.py
    |   |   |   ├── too_many_locals.txt
    |   |   |   ├── too_many_nested_blocks.py
    |   |   |   ├── too_many_nested_blocks.txt
    |   |   |   ├── too_many_public_methods.py
    |   |   |   ├── too_many_public_methods.txt
    |   |   |   ├── too_many_return_statements.py
    |   |   |   ├── too_many_return_statements.txt
    |   |   |   ├── too_many_star_expressions.py
    |   |   |   ├── too_many_star_expressions.txt
    |   |   |   ├── too_many_statements.py
    |   |   |   └── too_many_statements.txt
    |   |   ├── trailing_comma_tuple.py
    |   |   ├── trailing_comma_tuple.txt
    |   |   ├── trailing_newlines.py
    |   |   ├── trailing_newlines.txt
    |   |   ├── trailing_whitespaces.py
    |   |   ├── trailing_whitespaces.txt
    |   |   ├── try_except_raise.py
    |   |   ├── try_except_raise.txt
    |   |   ├── try_except_raise_crash.py
    |   |   ├── try_except_raise_crash.txt
    |   |   ├── typedDict.py
    |   |   ├── typing_generic.py
    |   |   ├── typing_use.py
    |   |   └── typing_use.txt
    |   ├── u
    |   |   ├── __init__.py
    |   |   ├── unbalanced_tuple_unpacking.py
    |   |   ├── unbalanced_tuple_unpacking.txt
    |   |   ├── unbalanced_tuple_unpacking_py30.py
    |   |   ├── undefined
    |   |   |   ├── undefined_loop_variable.py
    |   |   |   ├── undefined_loop_variable.txt
    |   |   |   ├── undefined_variable.py
    |   |   |   ├── undefined_variable.txt
    |   |   |   ├── undefined_variable_crash_on_attribute.py
    |   |   |   ├── undefined_variable_py30.py
    |   |   |   └── undefined_variable_py30.txt
    |   |   ├── unexpected_special_method_signature.py
    |   |   ├── unexpected_special_method_signature.txt
    |   |   ├── ungrouped_imports.py
    |   |   ├── ungrouped_imports.txt
    |   |   ├── ungrouped_imports_isort_compatible.py
    |   |   ├── unhashable_dict_key.py
    |   |   ├── unhashable_dict_key.txt
    |   |   ├── unidiomatic_typecheck.py
    |   |   ├── unidiomatic_typecheck.txt
    |   |   ├── uninferable_all_object.py
    |   |   ├── unknown_encoding_jython.py
    |   |   ├── unknown_encoding_jython.txt
    |   |   ├── unnecessary
    |   |   |   ├── unnecessary_comprehension.py
    |   |   |   ├── unnecessary_comprehension.txt
    |   |   |   ├── unnecessary_dict_index_lookup.py
    |   |   |   ├── unnecessary_dict_index_lookup.txt
    |   |   |   ├── unnecessary_lambda.py
    |   |   |   ├── unnecessary_lambda.txt
    |   |   |   ├── unnecessary_not.py
    |   |   |   ├── unnecessary_not.txt
    |   |   |   ├── unnecessary_pass.py
    |   |   |   └── unnecessary_pass.txt
    |   |   ├── unpacking.py
    |   |   ├── unpacking_generalizations.py
    |   |   ├── unpacking_generalizations.txt
    |   |   ├── unpacking_non_sequence.py
    |   |   ├── unpacking_non_sequence.txt
    |   |   ├── unreachable.py
    |   |   ├── unreachable.txt
    |   |   ├── unrecognized_inline_option.py
    |   |   ├── unrecognized_inline_option.txt
    |   |   ├── unspecified_encoding_py38.py
    |   |   ├── unspecified_encoding_py38.txt
    |   |   ├── unsubscriptable_value.py
    |   |   ├── unsubscriptable_value.txt
    |   |   ├── unsubscriptable_value_py37.py
    |   |   ├── unsubscriptable_value_py37.txt
    |   |   ├── unsupported
    |   |   |   ├── unsupported_assignment_operation.py
    |   |   |   ├── unsupported_assignment_operation.txt
    |   |   |   ├── unsupported_binary_operation.py
    |   |   |   ├── unsupported_binary_operation.txt
    |   |   |   ├── unsupported_delete_operation.py
    |   |   |   └── unsupported_delete_operation.txt
    |   |   ├── unused
    |   |   |   ├── __init__.py
    |   |   |   ├── unused_argument.py
    |   |   |   ├── unused_argument.txt
    |   |   |   ├── unused_argument_py3.py
    |   |   |   ├── unused_argument_py3.txt
    |   |   |   ├── unused_global_variable1.py
    |   |   |   ├── unused_global_variable2.py
    |   |   |   ├── unused_global_variable2.txt
    |   |   |   ├── unused_global_variable3.py
    |   |   |   ├── unused_global_variable4.py
    |   |   |   ├── unused_global_variable4.txt
    |   |   |   ├── unused_import.py
    |   |   |   ├── unused_import.txt
    |   |   |   ├── unused_import_assigned_to.py
    |   |   |   ├── unused_import_class_def_keyword.py
    |   |   |   ├── unused_import_everything_disabled.py
    |   |   |   ├── unused_import_positional_only_py38.py
    |   |   |   ├── unused_import_py30.py
    |   |   |   ├── unused_import_py30.txt
    |   |   |   ├── unused_name_from_wilcard_import.py
    |   |   |   ├── unused_name_from_wilcard_import.txt
    |   |   |   ├── unused_private_member.py
    |   |   |   ├── unused_private_member.txt
    |   |   |   ├── unused_typing_imports.py
    |   |   |   ├── unused_variable.py
    |   |   |   ├── unused_variable.txt
    |   |   |   └── unused_variable_py36.py
    |   |   ├── use
    |   |   |   ├── use_a_generator.py
    |   |   |   ├── use_a_generator.txt
    |   |   |   ├── use_maxsplit_arg.py
    |   |   |   ├── use_maxsplit_arg.txt
    |   |   |   ├── use_symbolic_message_instead.py
    |   |   |   ├── use_symbolic_message_instead.txt
    |   |   |   ├── used_before_assignement.py
    |   |   |   ├── used_before_assignement.txt
    |   |   |   ├── used_before_assignment_488.py
    |   |   |   ├── used_before_assignment_issue1081.py
    |   |   |   ├── used_before_assignment_issue1081.txt
    |   |   |   ├── used_before_assignment_issue853.py
    |   |   |   ├── used_before_assignment_nonlocal.py
    |   |   |   ├── used_before_assignment_nonlocal.txt
    |   |   |   ├── used_prior_global_declaration.py
    |   |   |   ├── used_prior_global_declaration.txt
    |   |   |   ├── using_constant_test.py
    |   |   |   └── using_constant_test.txt
    |   |   └── useless
    |   |       ├── useless_else_on_loop.py
    |   |       ├── useless_else_on_loop.txt
    |   |       ├── useless_object_inheritance.py
    |   |       ├── useless_object_inheritance.txt
    |   |       ├── useless_return.py
    |   |       ├── useless_return.txt
    |   |       ├── useless_super_delegation.py
    |   |       ├── useless_super_delegation.txt
    |   |       ├── useless_super_delegation_py3.py
    |   |       ├── useless_super_delegation_py3.txt
    |   |       ├── useless_super_delegation_py35.py
    |   |       ├── useless_super_delegation_py35.txt
    |   |       ├── useless_super_delegation_py38.py
    |   |       ├── useless_super_delegation_py38.txt
    |   |       ├── useless_type_doc.py
    |   |       └── useless_type_doc.txt
    |   ├── w
    |   |   ├── __init__.py
    |   |   ├── wildcard_import.py
    |   |   ├── wildcard_import.txt
    |   |   ├── wildcard_import_allowed.py
    |   |   ├── wildcard_import_allowed.txt
    |   |   ├── with_used_before_assign.py
    |   |   ├── with_used_before_assign.txt
    |   |   ├── with_using_generator.py
    |   |   ├── with_using_generator.txt
    |   |   ├── wrong_exception_operation.py
    |   |   ├── wrong_exception_operation.txt
    |   |   ├── wrong_import_order.py
    |   |   ├── wrong_import_order.txt
    |   |   ├── wrong_import_order2.py
    |   |   ├── wrong_import_position.py
    |   |   ├── wrong_import_position.txt
    |   |   ├── wrong_import_position10.py
    |   |   ├── wrong_import_position11.py
    |   |   ├── wrong_import_position11.txt
    |   |   ├── wrong_import_position12.py
    |   |   ├── wrong_import_position12.txt
    |   |   ├── wrong_import_position13.py
    |   |   ├── wrong_import_position13.txt
    |   |   ├── wrong_import_position14.py
    |   |   ├── wrong_import_position14.txt
    |   |   ├── wrong_import_position15.py
    |   |   ├── wrong_import_position2.py
    |   |   ├── wrong_import_position3.py
    |   |   ├── wrong_import_position4.py
    |   |   ├── wrong_import_position5.py
    |   |   ├── wrong_import_position6.py
    |   |   ├── wrong_import_position7.py
    |   |   ├── wrong_import_position8.py
    |   |   ├── wrong_import_position9.py
    |   |   └── wrong_import_position_exclude_dunder_main.py
    |   └── y
    |       ├── __init__.py
    |       ├── yield_assign_py25.py
    |       ├── yield_from_iterable_py33.py
    |       ├── yield_from_iterable_py33.txt
    |       ├── yield_from_outside_func.py
    |       ├── yield_from_outside_func.txt
    |       ├── yield_inside_async_function.py
    |       ├── yield_inside_async_function.txt
    |       ├── yield_inside_async_function_py36.py
    |       ├── yield_inside_async_function_py36.txt
    |       ├── yield_outside_func.py
    |       ├── yield_outside_func.txt
    |       └── yield_return_mix.py
    ├── input
    |   ├── __init__.py
    |   ├── benchmark_minimal_file.py
    |   ├── func_3k_removed_stuff_py_30.py
    |   ├── func_i0011.py
    |   ├── func_i0012.py
    |   ├── func_i0013.py
    |   ├── func_i0014.py
    |   ├── func_i0020.py
    |   ├── func_i0022.py
    |   ├── func_noerror_cycle
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── b.py
    |   ├── func_return_yield_mix_py_33.py
    |   ├── func_w0122_py_30.py
    |   ├── func_w0332_py_30.py
    |   ├── func_w0401.py
    |   ├── func_w0401_disabled.py
    |   ├── func_w0401_disabled_in_func.py
    |   ├── func_w0401_package
    |   |   ├── __init__.py
    |   |   ├── all_the_things.py
    |   |   ├── thing1.py
    |   |   └── thing2.py
    |   ├── func_w0801.py
    |   ├── hide_code_with_imports.py
    |   ├── ignore_except_pass_by_default.py
    |   ├── no_absolute_import.py
    |   ├── not__init__.py
    |   ├── similar_empty_func_1.py
    |   ├── similar_empty_func_2.py
    |   ├── similar_lines_a.py
    |   ├── similar_lines_b.py
    |   ├── w0401_cycle.py
    |   └── w0801_same.py
    ├── lint
    |   ├── __init__.py
    |   ├── unittest_expand_modules.py
    |   └── unittest_lint.py
    ├── message
    |   ├── __init__.py
    |   ├── conftest.py
    |   ├── unittest_message.py
    |   ├── unittest_message_definition.py
    |   ├── unittest_message_definition_store.py
    |   └── unittest_message_id_store.py
    ├── messages
    |   ├── builtin_module.txt
    |   ├── func_3k_removed_stuff_py_30.txt
    |   ├── func_bad_cont_dictcomp_py27.txt
    |   ├── func_bug113231.txt
    |   ├── func_disable_linebased.txt
    |   ├── func_disable_linebased_py30.txt
    |   ├── func_i0011.txt
    |   ├── func_i0012.txt
    |   ├── func_i0013.txt
    |   ├── func_i0014.txt
    |   ├── func_i0020.txt
    |   ├── func_i0022.txt
    |   ├── func_noerror_cycle.txt
    |   ├── func_raw_escapes.txt
    |   ├── func_return_yield_mix_py_33.txt
    |   ├── func_toolonglines_py30.txt
    |   ├── func_typecheck_callfunc_assigment.txt
    |   ├── func_typecheck_getattr_py30.txt
    |   ├── func_typecheck_non_callable_call.txt
    |   ├── func_unicode_literal_py26.txt
    |   ├── func_unicode_literal_py274.txt
    |   ├── func_use_for_or_listcomp_var_py29.txt
    |   ├── func_use_for_or_listcomp_var_py30.txt
    |   ├── func_variables_unused_name_from_wilcard_import.txt
    |   ├── func_w0122_py_30.txt
    |   ├── func_w0312.txt
    |   ├── func_w0332_py_30.txt
    |   ├── func_w0401.txt
    |   ├── func_w0401_disabled.txt
    |   ├── func_w0401_disabled_in_func.txt
    |   ├── func_w0401_package.txt
    |   ├── func_w0622.txt
    |   ├── func_w0623.txt
    |   ├── func_w0623_py_30.txt
    |   ├── func_w0801.txt
    |   └── func_with_without_as_py25.txt
    ├── profile
    |   └── test_profile_against_externals.py
    ├── regrtest_data
    |   ├── absimp
    |   |   ├── __init__.py
    |   |   └── string.py
    |   ├── application_crash.py
    |   ├── bad_package
    |   |   ├── __init__.py
    |   |   └── wrong.py
    |   ├── beyond_top
    |   |   ├── __init__.py
    |   |   └── data.py
    |   ├── classdoc_usage.py
    |   ├── dataclasses_pyreverse
    |   |   └── __init__.py
    |   ├── decimal_inference.py
    |   ├── descriptor_crash.py
    |   ├── dummy
    |   |   ├── __init__.py
    |   |   ├── another.py
    |   |   └── dummy.py
    |   ├── dummy_plugin
    |   |   ├── dummy_conf_plugin.py
    |   |   └── dummy_plugin.py
    |   ├── duplicate_data_raw_strings
    |   |   ├── __init__.py
    |   |   ├── first.py
    |   |   └── second.py
    |   ├── empty.py
    |   ├── fail_on.py
    |   ├── fail_on_info_only.py
    |   ├── fail_under_minus10.py
    |   ├── fail_under_plus7_5.py
    |   ├── func_block_disable_msg.py
    |   ├── import_assign.py
    |   ├── import_package_subpackage_module.py
    |   ├── import_something.py
    |   ├── init_wildcard
    |   |   └── __init__.py
    |   ├── meta.py
    |   ├── module_global.py
    |   ├── no_stdout_encoding.py
    |   ├── numarray_import.py
    |   ├── numarray_inf.py
    |   ├── package
    |   |   ├── AudioTime.py
    |   |   ├── __init__.py
    |   |   └── subpackage
    |   |       ├── __init__.py
    |   |       └── module.py
    |   ├── package_all
    |   |   ├── __init__.py
    |   |   └── notmissing.py
    |   ├── precedence_test.py
    |   ├── py3k_error_flag.py
    |   ├── py3k_errors_and_warnings.py
    |   ├── regression_missing_init_3564
    |   |   └── subdirectory
    |   |       └── file.py
    |   ├── special_attr_scope_lookup_crash.py
    |   ├── syntax_error.py
    |   ├── test_pylintrc_comments.py
    |   ├── try_finally_disable_msg_crash.py
    |   ├── unused_variable.py
    |   ├── wildcard.py
    |   └── wrong_import_position.py
    ├── test_check_parallel.py
    ├── test_config.py
    ├── test_epylint.py
    ├── test_func.py
    ├── test_functional.py
    ├── test_import_graph.py
    ├── test_numversion.py
    ├── test_pragma_parser.py
    ├── test_pylint_runners.py
    ├── test_regr.py
    ├── test_self.py
    ├── testutils
    |   └── test_output_line.py
    ├── unittest_config.py
    ├── unittest_pyreverse_diadefs.py
    ├── unittest_pyreverse_inspector.py
    ├── unittest_pyreverse_writer.py
    ├── unittest_reporters_json.py
    ├── unittest_reporting.py
    └── utils
        ├── __init__.py
        ├── unittest_ast_walker.py
        └── unittest_utils.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Make pylint XDG Base Directory Specification compliant

Description: I have this really annoying `.pylint.d` directory in my home folder. From what I can tell (I don't do C or C++), this directory is storing data. 

The problem with this is, quite simply, that data storage has a designated spot. The `$HOME/.local/share/<PROGRAM_NAME>` folder. This is a part of the [XDG Base Directory Specification](https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html). A system that designates the folders for specific things like cached files (`$HOME/.cache/<PROGRAM_NAME>`), configuration files (`$HOME/.config/<PROGRAM_NAME>`), and data files (`$HOME/.local/share/<PROGRAM_NAME>`), among other things. The point is to keep user home directories clean and the user sane. 

This should be pretty easy to implement. Simply change the variables/constants for where these files are made and stored to the appropriate directory. Simple as that, even for a large codebase (if it was done right). 

Patch information:
diff --git a/doc/faq.rst b/doc/faq.rst
index c817855f8..32d54bc2a 100644
--- a/doc/faq.rst
+++ b/doc/faq.rst
@@ -93,10 +93,12 @@ localized using the following rules:
 
 * value of the PYLINTHOME environment variable if set
 
-* ".pylint.d" subdirectory of the user's home directory if it is found
-	(not always findable on Windows platforms)
+* Otherwise, under the XDG Base Directory Specification data directory:
+  $XDG_DATA_HOME/pylint (by default: ~/.local/share/pylint)
 
-* ".pylint.d" directory in the current directory
+For backward compatibility, Pylint may still read existing data from legacy
+locations such as ~/.pylint.d or ./.pylint.d if present, but new data will be
+stored under the XDG-compliant path.
 
 3.3 How do I find the option name (for pylintrc) corresponding to a specific command line option?
 --------------------------------------------------------------------------------------------------------
diff --git a/pylint/config/__init__.py b/pylint/config/__init__.py
index 84774d0e3..6577e23ad 100644
--- a/pylint/config/__init__.py
+++ b/pylint/config/__init__.py
@@ -60,10 +60,17 @@ if "PYLINTHOME" in os.environ:
     PYLINT_HOME = os.environ["PYLINTHOME"]
     if USER_HOME == "~":
         USER_HOME = os.path.dirname(PYLINT_HOME)
-elif USER_HOME == "~":
-    PYLINT_HOME = ".pylint.d"
 else:
-    PYLINT_HOME = os.path.join(USER_HOME, ".pylint.d")
+    xdg_data_home = os.environ.get("XDG_DATA_HOME")
+    if not xdg_data_home:
+        if USER_HOME == "~":
+            # Fall back to legacy behavior if the user home cannot be resolved
+            PYLINT_HOME = ".pylint.d"
+        else:
+            xdg_data_home = os.path.join(USER_HOME, ".local", "share")
+            PYLINT_HOME = os.path.join(xdg_data_home, "pylint")
+    else:
+        PYLINT_HOME = os.path.join(xdg_data_home, "pylint")
 
 
 def _get_pdata_path(base_name, recurs):
@@ -73,9 +80,28 @@ def _get_pdata_path(base_name, recurs):
 
 def load_results(base):
     data_file = _get_pdata_path(base, 1)
+    # Try XDG/PYLINTHOME path first
     try:
         with open(data_file, "rb") as stream:
             return pickle.load(stream)
+    except FileNotFoundError:
+        # Try legacy paths for backward compatibility
+        if "PYLINTHOME" not in os.environ:
+            legacy_dirs = []
+            if USER_HOME != "~":
+                legacy_dirs.append(os.path.join(USER_HOME, ".pylint.d"))
+            legacy_dirs.append(os.path.join(os.getcwd(), ".pylint.d"))
+            base_name = base.replace(os.sep, "_")
+            for legacy_home in legacy_dirs:
+                legacy_file = os.path.join(legacy_home, f"{base_name}1.stats")
+                try:
+                    with open(legacy_file, "rb") as stream:
+                        return pickle.load(stream)
+                except FileNotFoundError:
+                    continue
+                except Exception:  # pylint: disable=broad-except
+                    return {}
+        return {}
     except Exception:  # pylint: disable=broad-except
         return {}
 
@@ -83,7 +109,7 @@ def load_results(base):
 def save_results(results, base):
     if not os.path.exists(PYLINT_HOME):
         try:
-            os.mkdir(PYLINT_HOME)
+            os.makedirs(PYLINT_HOME, exist_ok=True)
         except OSError:
             print("Unable to create directory %s" % PYLINT_HOME, file=sys.stderr)
     data_file = _get_pdata_path(base, 1)
@@ -110,11 +136,15 @@ ENV_HELP = (
 The following environment variables are used:
     * PYLINTHOME
     Path to the directory where persistent data for the run will be stored. If
-not found, it defaults to ~/.pylint.d/ or .pylint.d (in the current working
-directory).
+    not set, Pylint will use the XDG Base Directory Specification and store
+    persistent data under $XDG_DATA_HOME/pylint (default: ~/.local/share/pylint).
+    * XDG_DATA_HOME
+    Base directory for user-specific data files. Defaults to ~/.local/share.
+    * XDG_CONFIG_HOME
+    Base directory for user-specific configuration files. Defaults to ~/.config.
     * PYLINTRC
     Path to the configuration file. See the documentation for the method used
-to search for configuration file.
+    to search for configuration file.
 """
     % globals()  # type: ignore
 )
diff --git a/pylint/config/find_default_config_files.py b/pylint/config/find_default_config_files.py
index 2a8937e52..086c2de61 100644
--- a/pylint/config/find_default_config_files.py
+++ b/pylint/config/find_default_config_files.py
@@ -58,6 +58,17 @@ def find_default_config_files():
     else:
         user_home = os.path.expanduser("~")
         if user_home not in ("~", "/root"):
+            # XDG config locations
+            xdg_config_home = os.environ.get("XDG_CONFIG_HOME") or os.path.join(
+                user_home, ".config"
+            )
+            home_rc = os.path.join(xdg_config_home, "pylintrc")
+            if os.path.isfile(home_rc):
+                yield home_rc
+            home_rc = os.path.join(xdg_config_home, "pylint", "pylintrc")
+            if os.path.isfile(home_rc):
+                yield home_rc
+            # Legacy locations
             home_rc = os.path.join(user_home, ".pylintrc")
             if os.path.isfile(home_rc):
                 yield home_rc


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/test_config.py` and `tests/unittest_config.py`.
Extra Requirements: 
Purpose: I need to analyze these files to find existing tests that cover configuration loading, environment variable handling, and data persistence, which are the core areas affected by the user's patch.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/test_config.py
Line number range: 1 - 93
Content:
1. # pylint: disable=missing-module-docstring, missing-function-docstring, protected-access
2. import unittest.mock
3. 
4. import pylint.lint
5. 
6. 
7. def check_configuration_file_reader(config_file):
8.     """Initialize pylint with the given configuration file and check that
9.     what we initialized the linter with what was expected.
10.     """
11.     args = ["--rcfile", str(config_file), __file__]
12.     # If we used `pytest.raises(SystemExit)`, the `runner` variable
13.     # would not be accessible outside the `with` block.
14.     with unittest.mock.patch("sys.exit") as mocked_exit:
15.         # Do not actually run checks, that could be slow. Do not mock
16.         # `Pylinter.check`: it calls `Pylinter.initialize` which is
17.         # needed to properly set up messages inclusion/exclusion
18.         # in `_msg_states`, used by `is_message_enabled`.
19.         with unittest.mock.patch("pylint.lint.pylinter.check_parallel"):
20.             runner = pylint.lint.Run(args)
21. 
22.     # "logging-not-lazy" and "logging-format-interpolation"
23.     expected_disabled = {"W1201", "W1202"}
24.     for msgid in expected_disabled:
25.         assert not runner.linter.is_message_enabled(msgid)
26.     assert runner.linter.config.jobs == 10
27.     assert runner.linter.config.reports
28. 
29.     mocked_exit.assert_called_once_with(0)
30.     return runner
31. 
32. 
33. def test_can_read_ini(tmp_path):
34.     # Check that we can read the "regular" INI .pylintrc file
35.     config_file = tmp_path / ".pylintrc"
36.     config_file.write_text(
37.         """
38. [messages control]
39. disable = logging-not-lazy,logging-format-interpolation
40. jobs = 10
41. reports = yes
42. """
43.     )
44.     check_configuration_file_reader(config_file)
45. 
46. 
47. def test_can_read_setup_cfg(tmp_path):
48.     # Check that we can read a setup.cfg (which is an INI file where
49.     # section names are prefixed with "pylint."
50.     config_file = tmp_path / "setup.cfg"
51.     config_file.write_text(
52.         """
53. [pylint.messages control]
54. disable = logging-not-lazy,logging-format-interpolation
55. jobs = 10
56. reports = yes
57. """
58.     )
59.     check_configuration_file_reader(config_file)
60. 
61. 
62. def test_can_read_toml(tmp_path):
63.     # Check that we can read a TOML file where lists and integers are
64.     # expressed as strings.
65.     config_file = tmp_path / "pyproject.toml"
66.     config_file.write_text(
67.         """
68. [tool.pylint."messages control"]
69. disable = "logging-not-lazy,logging-format-interpolation"
70. jobs = "10"
71. reports = "yes"
72. """
73.     )
74.     check_configuration_file_reader(config_file)
75. 
76. 
77. def test_can_read_toml_rich_types(tmp_path):
78.     # Check that we can read a TOML file where lists, integers and
79.     # booleans are expressed as such (and not as strings), using TOML
80.     # type system.
81.     config_file = tmp_path / "pyproject.toml"
82.     config_file.write_text(
83.         """
84. [tool.pylint."messages control"]
85. disable = [
86.     "logging-not-lazy",
87.     "logging-format-interpolation",
88. ]
89. jobs = 10
90. reports = true
91. """
92.     )
93.     check_configuration_file_reader(config_file)


File: tests/unittest_config.py
Line number range: 1 - 66
Content:
1. # Copyright (c) 2015 Aru Sahni <arusahni@gmail.com>
2. # Copyright (c) 2016-2018, 2020 Claudiu Popa <pcmanticore@gmail.com>
3. # Copyright (c) 2016 Derek Gustafson <degustaf@gmail.com>
4. # Copyright (c) 2017 Ville Skyttä <ville.skytta@iki.fi>
5. # Copyright (c) 2019-2021 Pierre Sassoulas <pierre.sassoulas@gmail.com>
6. # Copyright (c) 2019 Ashley Whetter <ashley@awhetter.co.uk>
7. # Copyright (c) 2020 hippo91 <guillaume.peillex@gmail.com>
8. # Copyright (c) 2020 Anthony Sottile <asottile@umich.edu>
9. # Copyright (c) 2021 Marc Mueller <30130371+cdce8p@users.noreply.github.com>
10. 
11. # Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
12. # For details: https://github.com/PyCQA/pylint/blob/main/LICENSE
13. 
14. """Unit tests for the config module."""
15. 
16. import re
17. import sre_constants
18. 
19. import pytest
20. 
21. from pylint import config
22. 
23. RE_PATTERN_TYPE = getattr(re, "Pattern", getattr(re, "_pattern_type", None))
24. 
25. 
26. def test__regexp_validator_valid():
27.     result = config.option._regexp_validator(None, None, "test_.*")
28.     assert isinstance(result, RE_PATTERN_TYPE)
29.     assert result.pattern == "test_.*"
30. 
31. 
32. def test__regexp_validator_invalid():
33.     with pytest.raises(sre_constants.error):
34.         config.option._regexp_validator(None, None, "test_)")
35. 
36. 
37. def test__csv_validator_no_spaces():
38.     values = ["One", "Two", "Three"]
39.     result = config.option._csv_validator(None, None, ",".join(values))
40.     assert isinstance(result, list)
41.     assert len(result) == 3
42.     for i, value in enumerate(values):
43.         assert result[i] == value
44. 
45. 
46. def test__csv_validator_spaces():
47.     values = ["One", "Two", "Three"]
48.     result = config.option._csv_validator(None, None, ", ".join(values))
49.     assert isinstance(result, list)
50.     assert len(result) == 3
51.     for i, value in enumerate(values):
52.         assert result[i] == value
53. 
54. 
55. def test__regexp_csv_validator_valid():
56.     pattern_strings = ["test_.*", "foo\\.bar", "^baz$"]
57.     result = config.option._regexp_csv_validator(None, None, ",".join(pattern_strings))
58.     for i, regex in enumerate(result):
59.         assert isinstance(regex, RE_PATTERN_TYPE)
60.         assert regex.pattern == pattern_strings[i]
61. 
62. 
63. def test__regexp_csv_validator_invalid():
64.     pattern_strings = ["test_.*", "foo\\.bar", "^baz)$"]
65.     with pytest.raises(sre_constants.error):
66.         config.option._regexp_csv_validator(None, None, ",".join(pattern_strings))

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 21:04:41,052 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The initial context from `tests/test_config.py` and `tests/unittest_config.py` is insufficient. It covers config file parsing and option validation, but not the discovery of configuration files or the handling of persistent data directories, which are the core functionalities modified in the patch. The patch specifically alters `pylint/config/find_default_config_files.py` for config discovery and `pylint/config/__init__.py` for data storage paths (`PYLINTHOME`). To find relevant tests, I need to investigate how filesystem interactions and environment variables are tested. Functional tests are the most probable location for such tests. `tests/test_functional.py` likely orchestrates these tests. Additionally, testing the persistence mechanism (`load_results`/`save_results`) would be best observed in the tests for a checker that uses it, like the 'similar' checker." query='Please provide the full content of `tests/test_functional.py` and `tests/checkers/unittest_similar.py`.' extra_requirements='' purpose="I need these files to find tests that cover pylint's interaction with the file system for configuration loading and data persistence, which are the key areas affected by the patch for XDG compliance."
2025-12-23 21:04:41,053 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/test_functional.py` and `tests/checkers/unittest_similar.py`.
2025-12-23 21:04:41,053 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 21:04:41,054 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 21:04:41,054 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 21:04:41,054 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/test_functional.py` and `tests/checkers/unittest_similar.py`.
Purpose: I need these files to find tests that cover pylint's interaction with the file system for configuration loading and data persistence, which are the key areas affected by the patch for XDG compliance.
2025-12-23 21:04:44,145 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have fetched the entire contents of `tests/test_functional.py` and `tests/checkers/unittest_similar.py` for you to examine. These files should help you identify tests related to file system interactions, configuration loading, and data persistence. This information will be useful for understanding the impact of the XDG compliance patch.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/checkers/unittest_similar.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2135, 'candidates_token_count': 115, 'total_token_count': 2370, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2135}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 115}], 'thoughts_token_count': 120, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.09342959860096807, 'model_name': 'gemini-2.5-pro'} id='run--3e3824bc-9a40-4b00-a2c7-916ea6f979db-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/test_functional.py'}, 'id': '7aec518f-c25f-449c-8084-c249c0270369', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/checkers/unittest_similar.py'}, 'id': 'c33ccd42-3a84-4f15-9ad2-28a229a03099', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2135, 'output_tokens': 115, 'total_tokens': 2370, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 120}}
2025-12-23 21:04:49,271 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have reviewed the contents of `tests/test_functional.py` and `tests/checkers/unittest_similar.py`. The former contains functional tests for PyLint, and the latter contains unit tests for the `similar` checker, which finds duplicate code. To find tests related to file system interaction for configuration and data persistence, I will now search for `pylintrc` configuration files within the `tests` directory to see how they are used in tests.' additional_kwargs={'function_call': {'name': 'find_file_node_with_basename', 'arguments': '{"basename": "pylintrc"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10405, 'candidates_token_count': 111, 'total_token_count': 10820, 'cached_content_token_count': 1829, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10405}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1829}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 111}], 'thoughts_token_count': 304}, 'finish_reason': 'STOP', 'avg_logprobs': -0.3964107960194081, 'model_name': 'gemini-2.5-pro'} id='run--df82f74f-677f-4288-9d7e-9a5b759745af-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'pylintrc'}, 'id': '53b5d9f7-f05f-40b6-a965-a32c6111c11a', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10405, 'output_tokens': 111, 'total_tokens': 10820, 'input_token_details': {'cache_read': 1829}, 'output_token_details': {'reasoning': 304}}
2025-12-23 21:04:53,027 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I previously searched for the contents of `tests/test_functional.py` and `tests/checkers/unittest_similar.py` to understand how pylint\'s file system interactions are tested. My search for a `pylintrc` file was unsuccessful. I will now search for the literal string "pylintrc" within `tests/test_functional.py` to see how configuration files are handled in the functional tests.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/test_functional.py", "text": "pylintrc"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10538, 'candidates_token_count': 126, 'total_token_count': 10827, 'cached_content_token_count': 9136, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10538}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9136}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 126}], 'thoughts_token_count': 163}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2181990487234933, 'model_name': 'gemini-2.5-pro'} id='run--683d0d7c-244b-42b5-aff1-b0751bcf45be-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/test_functional.py', 'text': 'pylintrc'}, 'id': '18634f00-0bc5-463f-ab98-ff6d09e4a663', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10538, 'output_tokens': 126, 'total_tokens': 10827, 'input_token_details': {'cache_read': 9136}, 'output_token_details': {'reasoning': 163}}
2025-12-23 21:04:56,978 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have already investigated `tests/test_functional.py` and `tests/checkers/unittest_similar.py` and my previous searches for `pylintrc` yielded no results. To continue my investigation into how PyLint tests handle configuration and file system interactions, I will now search for the text "config" within `tests/test_functional.py`. This should provide insight into how the tests are configured and point me to relevant code for the user\'s query.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/test_functional.py", "text": "config"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10696, 'candidates_token_count': 131, 'total_token_count': 11000, 'cached_content_token_count': 9124, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10696}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9124}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 131}], 'thoughts_token_count': 173}, 'finish_reason': 'STOP', 'avg_logprobs': -0.24467587653007217, 'model_name': 'gemini-2.5-pro'} id='run--fdf64a72-009c-4e97-bea5-04aa3709cbcb-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/test_functional.py', 'text': 'config'}, 'id': 'fa54cc50-e255-4596-beb0-fed91d42c424', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10696, 'output_tokens': 131, 'total_tokens': 11000, 'input_token_details': {'cache_read': 9124}, 'output_token_details': {'reasoning': 173}}
2025-12-23 21:05:02,032 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I've reviewed `tests/test_functional.py`, `tests/checkers/unittest_similar.py`, and searched for configuration-related terms. My findings so far suggest that configuration handling is abstracted within the test utilities. To understand how PyLint's tests interact with the file system for configuration, I will now locate the definition of the `LintModuleTest` class, which appears to be a key component in the functional tests. This will help clarify how configuration files are loaded and used during testing." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_basename', 'arguments': '{"text": "class LintModuleTest", "basename": "testutils.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11201, 'candidates_token_count': 132, 'total_token_count': 11595, 'cached_content_token_count': 9126, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11201}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9126}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 132}], 'thoughts_token_count': 262}, 'finish_reason': 'STOP', 'avg_logprobs': -0.35658333518288354, 'model_name': 'gemini-2.5-pro'} id='run--7024a36f-6b85-4755-9437-ad68a29992b5-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_basename', 'args': {'text': 'class LintModuleTest', 'basename': 'testutils.py'}, 'id': '623674d1-5cca-4a34-a219-071b6f690884', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11201, 'output_tokens': 132, 'total_tokens': 11595, 'input_token_details': {'cache_read': 9126}, 'output_token_details': {'reasoning': 262}}
2025-12-23 21:05:07,431 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have been investigating how PyLint tests handle file system interactions, particularly regarding configuration. My previous attempts to locate the `LintModuleTest` class definition were unsuccessful. It appears that my assumption about the file name was incorrect. I will now search for the file `pylint/testutils.py` to find the `LintModuleTest` class definition and understand how configurations are managed in the tests.' additional_kwargs={'function_call': {'name': 'find_file_node_with_relative_path', 'arguments': '{"relative_path": "pylint/testutils.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11363, 'candidates_token_count': 104, 'total_token_count': 11787, 'cached_content_token_count': 10939, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11363}], 'cache_tokens_details': [{'modality': 1, 'token_count': 10939}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 104}], 'thoughts_token_count': 320}, 'finish_reason': 'STOP', 'avg_logprobs': -0.49254864912766677, 'model_name': 'gemini-2.5-pro'} id='run--a8869835-2d5f-410a-b4bf-c05aff28a577-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'pylint/testutils.py'}, 'id': '4b861dba-53b8-4cbe-8627-d3d4ac5dbeac', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11363, 'output_tokens': 104, 'total_tokens': 11787, 'input_token_details': {'cache_read': 10939}, 'output_token_details': {'reasoning': 320}}
2025-12-23 21:05:10,745 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have been trying to locate the `LintModuleTest` class to understand how PyLint's tests handle file system interactions and configurations. My previous attempts to find this class in `pylint/testutils.py` and `testutils.py` were unsuccessful. It's possible the file is located elsewhere. I will now search for a file with the basename `testutils.py` to find its correct path. This will help me locate the `LintModuleTest` class definition and proceed with the investigation." additional_kwargs={'function_call': {'name': 'find_file_node_with_basename', 'arguments': '{"basename": "testutils.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11491, 'candidates_token_count': 121, 'total_token_count': 11719, 'cached_content_token_count': 10925, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11491}], 'cache_tokens_details': [{'modality': 1, 'token_count': 10925}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 121}], 'thoughts_token_count': 107}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1661123165414353, 'model_name': 'gemini-2.5-pro'} id='run--4df8a39e-da2f-4cb9-9e01-5a46511b9472-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'testutils.py'}, 'id': '31d3dc15-068a-4da7-8333-a9fa91b2fa8d', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11491, 'output_tokens': 121, 'total_tokens': 11719, 'input_token_details': {'cache_read': 10925}, 'output_token_details': {'reasoning': 107}}
2025-12-23 21:05:24,311 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have been working to identify tests related to file system interactions in PyLint, but have been unable to locate the `pylint/testutils.py` file containing the `LintModuleTest` class. To make progress, I will now search for `pylint/lint.py`. This will help me confirm the directory structure and continue my investigation into how PyLint handles configuration and data persistence in its tests.' additional_kwargs={'function_call': {'name': 'find_file_node_with_relative_path', 'arguments': '{"relative_path": "pylint/lint.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11634, 'candidates_token_count': 107, 'total_token_count': 12947, 'cached_content_token_count': 10913, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11634}], 'cache_tokens_details': [{'modality': 1, 'token_count': 10913}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 107}], 'thoughts_token_count': 1206}, 'finish_reason': 'STOP', 'avg_logprobs': -1.5787151015807535, 'model_name': 'gemini-2.5-pro'} id='run--f2a04a4c-cc72-4604-ac07-010bbb1f5ee3-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'pylint/lint.py'}, 'id': '48d2d1ad-d6bd-4bc1-90ea-8a8161f904c3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11634, 'output_tokens': 107, 'total_tokens': 12947, 'input_token_details': {'cache_read': 10913}, 'output_token_details': {'reasoning': 1206}}
2025-12-23 21:05:49,471 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have been attempting to locate several key files to understand how PyLint's tests handle file system interactions, but my searches for `pylint/testutils.py` and `pylint/lint.py` have been unsuccessful. This suggests that the file structure may be different from what I initially assumed. To get a better understanding of the project's layout, I will now list the contents of the `pylint` directory. This will help me locate the necessary files and continue my investigation." additional_kwargs={'function_call': {'name': 'find_file_node_with_relative_path', 'arguments': '{"relative_path": "pylint"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11765, 'candidates_token_count': 122, 'total_token_count': 14153, 'cached_content_token_count': 10900, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11765}], 'cache_tokens_details': [{'modality': 1, 'token_count': 10900}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 122}], 'thoughts_token_count': 2266}, 'finish_reason': 'STOP', 'avg_logprobs': -2.718778516425461, 'model_name': 'gemini-2.5-pro'} id='run--cd799c0b-be6c-45fe-bfb8-4bb5fd021445-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'pylint'}, 'id': '54d4fd06-f27a-4271-b64f-80b9dfd5b175', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11765, 'output_tokens': 122, 'total_tokens': 14153, 'input_token_details': {'cache_read': 10900}, 'output_token_details': {'reasoning': 2266}}
2025-12-23 21:05:55,731 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I've been working to understand how PyLint's tests handle file system interactions, but my investigation has been hampered by an inability to locate key files. After confirming the existence of the `pylint` directory, I will now attempt to locate the `pylint/__init__.py` file. This will help me verify the directory structure and continue my search for the `LintModuleTest` class, which is crucial to understanding how configurations are managed in the tests." additional_kwargs={'function_call': {'name': 'find_file_node_with_relative_path', 'arguments': '{"relative_path": "pylint/__init__.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11939, 'candidates_token_count': 118, 'total_token_count': 12487, 'cached_content_token_count': 10888, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11939}], 'cache_tokens_details': [{'modality': 1, 'token_count': 10888}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 118}], 'thoughts_token_count': 430}, 'finish_reason': 'STOP', 'avg_logprobs': -0.5440899477166644, 'model_name': 'gemini-2.5-pro'} id='run--31a048ad-780f-4922-a929-95ffc7c6ebaa-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'pylint/__init__.py'}, 'id': 'd58c2c5c-0892-426f-9f9c-cef2f32d5c8a', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11939, 'output_tokens': 118, 'total_tokens': 12487, 'input_token_details': {'cache_read': 10888}, 'output_token_details': {'reasoning': 430}}
2025-12-23 21:05:59,890 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I've been working to understand PyLint's test suite, and after some initial exploration of the file system, I was able to confirm the location of the `pylint` directory. I then located the `__init__.py` file within that directory, confirming it is a Python package. My next step is to search for the `LintModuleTest` class within the `pylint` directory to better understand how test configurations are handled." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "pylint", "text": "class LintModuleTest"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 12113, 'candidates_token_count': 123, 'total_token_count': 12400, 'prompt_tokens_details': [{'modality': 1, 'token_count': 12113}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 123}], 'thoughts_token_count': 164, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.3711091328442581, 'model_name': 'gemini-2.5-pro'} id='run--40b76181-fac6-4c1c-b0fc-52528e962ae6-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'pylint', 'text': 'class LintModuleTest'}, 'id': 'db2dda06-9948-4e21-abc4-fa51e0aedb43', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12113, 'output_tokens': 123, 'total_tokens': 12400, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 164}}
2025-12-23 21:06:08,106 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I've been working to understand how PyLint's tests handle file system interactions, but my investigation has been hampered by an inability to locate the `LintModuleTest` class. After confirming the existence of the `pylint` directory, I will now attempt to locate the `pylint/testutils.py` file. This will help me verify the directory structure and continue my search for the `LintModuleTest` class, which is crucial to understanding how configurations are managed in the tests." additional_kwargs={'function_call': {'name': 'find_file_node_with_relative_path', 'arguments': '{"relative_path": "pylint/testutils.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 12274, 'candidates_token_count': 125, 'total_token_count': 13079, 'cached_content_token_count': 10863, 'prompt_tokens_details': [{'modality': 1, 'token_count': 12274}], 'cache_tokens_details': [{'modality': 1, 'token_count': 10863}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 125}], 'thoughts_token_count': 680}, 'finish_reason': 'STOP', 'avg_logprobs': -0.7603850708007812, 'model_name': 'gemini-2.5-pro'} id='run--cd546bb4-2b16-4320-9ef1-2628abaf60f3-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'pylint/testutils.py'}, 'id': 'da7fbdae-2f12-4823-9ca9-b3dc4184c722', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12274, 'output_tokens': 125, 'total_tokens': 13079, 'input_token_details': {'cache_read': 10863}, 'output_token_details': {'reasoning': 680}}
2025-12-23 21:06:10,198 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have been trying to locate the `LintModuleTest` class to understand how PyLint\'s tests handle file system interactions. I\'ve confirmed the `pylint` directory exists, but I\'m still struggling to find the `testutils.py` file. To broaden my search, I\'ll now look for any file within the `pylint` directory that contains the text "LintModuleTest". This should help me pinpoint the correct file and continue my investigation.' additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "pylint", "text": "LintModuleTest"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 12423, 'candidates_token_count': 128, 'total_token_count': 12551, 'cached_content_token_count': 10854, 'prompt_tokens_details': [{'modality': 1, 'token_count': 12423}], 'cache_tokens_details': [{'modality': 1, 'token_count': 10854}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 128}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1272582709789276, 'model_name': 'gemini-2.5-pro'} id='run--18da170b-9dd7-4a23-9a1d-38d7792c1bdc-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'pylint', 'text': 'LintModuleTest'}, 'id': 'b7492fed-6003-4464-995c-29389f030b6d', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12423, 'output_tokens': 128, 'total_tokens': 12551, 'input_token_details': {'cache_read': 10854}}
2025-12-23 21:06:11,714 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have been attempting to locate the `LintModuleTest` class to understand how PyLint's tests handle file system interactions. My previous searches have been unsuccessful. I will now try a broader search for the file `testutils.py` across the entire codebase. This will help me determine if the file exists and where it is located, so I can proceed with my investigation." additional_kwargs={'function_call': {'name': 'find_file_node_with_basename', 'arguments': '{"basename": "testutils.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 12589, 'candidates_token_count': 91, 'total_token_count': 12680, 'prompt_tokens_details': [{'modality': 1, 'token_count': 12589}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 91}], 'thoughts_token_count': 0, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2110080299796639, 'model_name': 'gemini-2.5-pro'} id='run--20b729c5-f5b6-4012-843c-af97b0f90f0f-0' tool_calls=[{'name': 'find_file_node_with_basename', 'args': {'basename': 'testutils.py'}, 'id': '69f1bd1b-2e49-4f74-92b5-de1b62e9afee', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12589, 'output_tokens': 91, 'total_tokens': 12680, 'input_token_details': {'cache_read': 0}}
2025-12-23 21:06:14,121 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have been trying to locate the `LintModuleTest` class to understand how PyLint's tests handle file system interactions, but I have been unable to find the `testutils.py` file. It's possible the testing utilities are integrated into another file. I will now search for the `LintModuleTest` class definition directly within the `pylint` directory to see if it's defined in a different file than I initially expected." additional_kwargs={'function_call': {'name': 'find_ast_node_with_type_in_file_with_relative_path', 'arguments': '{"relative_path": "pylint", "type": "class_definition"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 12702, 'candidates_token_count': 122, 'total_token_count': 12824, 'cached_content_token_count': 10831, 'prompt_tokens_details': [{'modality': 1, 'token_count': 12702}], 'cache_tokens_details': [{'modality': 1, 'token_count': 10831}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 122}], 'thoughts_token_count': 0}, 'finish_reason': 'STOP', 'avg_logprobs': -0.10180662499099481, 'model_name': 'gemini-2.5-pro'} id='run--8b0ad0e9-23b1-44b7-8cfb-ac1d3544764b-0' tool_calls=[{'name': 'find_ast_node_with_type_in_file_with_relative_path', 'args': {'relative_path': 'pylint', 'type': 'class_definition'}, 'id': '867b1b0a-b75b-4bc1-b014-b3e380e053c3', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12702, 'output_tokens': 122, 'total_tokens': 12824, 'input_token_details': {'cache_read': 10831}}
2025-12-23 21:06:20,407 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have been trying to locate the `LintModuleTest` class to understand how PyLint's tests handle file system interactions, but my search has been unsuccessful so far. It seems there is an issue with searching within the `pylint` directory. To work around this, I will now read the `pylint/__init__.py` file to see if it imports any testing utilities that could lead me to the `LintModuleTest` class definition. This will help me understand the project's structure and find the relevant files for my investigation." additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "pylint/__init__.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 12862, 'candidates_token_count': 134, 'total_token_count': 13323, 'cached_content_token_count': 12625, 'prompt_tokens_details': [{'modality': 1, 'token_count': 12862}], 'cache_tokens_details': [{'modality': 1, 'token_count': 12625}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 134}], 'thoughts_token_count': 327}, 'finish_reason': 'STOP', 'avg_logprobs': -0.49118087540811567, 'model_name': 'gemini-2.5-pro'} id='run--8023182b-5e92-47cd-b2f3-9722f93639c1-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'pylint/__init__.py'}, 'id': '41da8d90-c730-44c6-8220-eee7f272420f', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12862, 'output_tokens': 134, 'total_tokens': 13323, 'input_token_details': {'cache_read': 12625}, 'output_token_details': {'reasoning': 327}}
2025-12-23 21:06:27,414 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have been investigating PyLint's testing framework to understand how it handles file system interactions, but my search for the `testutils.py` file has been unsuccessful. To move forward, I will now examine the `pylint/__init__.py` file for clues about where the testing utilities might be located. This will help me understand the project's structure and find the `LintModuleTest` class, which is essential for understanding how tests are configured." additional_kwargs={'function_call': {'name': 'find_file_node_with_relative_path', 'arguments': '{"relative_path": "pylint/testutils"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 14224, 'candidates_token_count': 115, 'total_token_count': 14843, 'cached_content_token_count': 12707, 'prompt_tokens_details': [{'modality': 1, 'token_count': 14224}], 'cache_tokens_details': [{'modality': 1, 'token_count': 12707}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 115}], 'thoughts_token_count': 504}, 'finish_reason': 'STOP', 'avg_logprobs': -0.5964358122452446, 'model_name': 'gemini-2.5-pro'} id='run--6bd5ed7c-f94a-408e-8d8d-84945bfb49f6-0' tool_calls=[{'name': 'find_file_node_with_relative_path', 'args': {'relative_path': 'pylint/testutils'}, 'id': '651a7a78-72e3-4706-8a16-07ea6f9acfc8', 'type': 'tool_call'}] usage_metadata={'input_tokens': 14224, 'output_tokens': 115, 'total_tokens': 14843, 'input_token_details': {'cache_read': 12707}, 'output_token_details': {'reasoning': 504}}
2025-12-23 21:06:30,340 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have been working to understand how PyLint's tests handle file system interactions, and after a lengthy search, I have finally located the `pylint/testutils` directory. My next step is to find the `LintModuleTest` class definition within this directory to understand how test configurations are handled. This will provide the necessary information to answer your query about how PyLint's tests interact with the file system for configuration and data persistence." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "pylint/testutils", "text": "class LintModuleTest"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 14393, 'candidates_token_count': 124, 'total_token_count': 14614, 'cached_content_token_count': 10881, 'prompt_tokens_details': [{'modality': 1, 'token_count': 14393}], 'cache_tokens_details': [{'modality': 1, 'token_count': 10881}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 124}], 'thoughts_token_count': 97}, 'finish_reason': 'STOP', 'avg_logprobs': -0.13632325203188003, 'model_name': 'gemini-2.5-pro'} id='run--8b834d2e-5a13-4662-821a-3217b3b15e8d-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'pylint/testutils', 'text': 'class LintModuleTest'}, 'id': 'ccc55819-787d-4651-b7bc-f3dfddbd6550', 'type': 'tool_call'}] usage_metadata={'input_tokens': 14393, 'output_tokens': 124, 'total_tokens': 14614, 'input_token_details': {'cache_read': 10881}, 'output_token_details': {'reasoning': 97}}
2025-12-23 21:06:40,689 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I've been working to understand PyLint's testing framework, and after a series of searches, I have successfully located the `pylint/testutils` directory. However, I am still facing difficulties in pinpointing the exact location of the `LintModuleTest` class. To better understand the structure of the `testutils` package, I will now examine its `__init__.py` file. This will help me determine how the testing utilities are organized and where the `LintModuleTest` class is defined." additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "pylint/testutils/__init__.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 14555, 'candidates_token_count': 131, 'total_token_count': 15711, 'cached_content_token_count': 12683, 'prompt_tokens_details': [{'modality': 1, 'token_count': 14555}], 'cache_tokens_details': [{'modality': 1, 'token_count': 12683}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 131}], 'thoughts_token_count': 1025}, 'finish_reason': 'STOP', 'avg_logprobs': -0.6019822914181775, 'model_name': 'gemini-2.5-pro'} id='run--37e8b74b-0c44-4251-9e69-f1dd096603e7-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'pylint/testutils/__init__.py'}, 'id': 'da6151e9-a81e-47bc-8ca9-7e72597eec9f', 'type': 'tool_call'}] usage_metadata={'input_tokens': 14555, 'output_tokens': 131, 'total_tokens': 15711, 'input_token_details': {'cache_read': 12683}, 'output_token_details': {'reasoning': 1025}}
2025-12-23 21:06:45,915 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="After a lengthy search, I have successfully located the `pylint/testutils` directory and its `__init__.py` file, which has revealed the location of the `LintModuleTest` class. To understand how PyLint's tests handle file system interactions and configurations, I will now retrieve the contents of `pylint/testutils/lint_module_test.py`. This file should contain the implementation of the `LintModuleTest` class, providing the necessary insight into how tests are configured and executed." additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "pylint/testutils/lint_module_test.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 16006, 'candidates_token_count': 136, 'total_token_count': 16468, 'cached_content_token_count': 14587, 'prompt_tokens_details': [{'modality': 1, 'token_count': 16006}], 'cache_tokens_details': [{'modality': 1, 'token_count': 14587}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 136}], 'thoughts_token_count': 326}, 'finish_reason': 'STOP', 'avg_logprobs': -0.32698695799883676, 'model_name': 'gemini-2.5-pro'} id='run--092a7da0-b745-41e1-9f1f-8702065669a1-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'pylint/testutils/lint_module_test.py'}, 'id': 'dc1acfd8-3461-452e-bbb2-6a7d5339fd25', 'type': 'tool_call'}] usage_metadata={'input_tokens': 16006, 'output_tokens': 136, 'total_tokens': 16468, 'input_token_details': {'cache_read': 14587}, 'output_token_details': {'reasoning': 326}}
2025-12-23 21:06:54,211 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="After a thorough investigation, I have successfully located and analyzed the `pylint/testutils/lint_module_test.py` file, which contains the `LintModuleTest` class. This class is central to PyLint's functional testing framework. My analysis reveals that each functional test can have its own configuration file (typically a `.rc` file), and that data persistence is explicitly disabled during these tests. This provides a clear understanding of how PyLint's tests handle file system interactions for configuration, which directly addresses your query about the impact of the XDG compliance patch." additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 19739, 'candidates_token_count': 119, 'total_token_count': 20487, 'cached_content_token_count': 14784, 'prompt_tokens_details': [{'modality': 1, 'token_count': 19739}], 'cache_tokens_details': [{'modality': 1, 'token_count': 14784}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 119}], 'thoughts_token_count': 629}, 'finish_reason': 'STOP', 'avg_logprobs': -0.9438186773732931, 'model_name': 'gemini-2.5-pro'} id='run--4198677d-18c5-4aaf-a94a-69ed0c56373c-0' usage_metadata={'input_tokens': 19739, 'output_tokens': 119, 'total_tokens': 20487, 'input_token_details': {'cache_read': 14784}, 'output_token_details': {'reasoning': 629}}
2025-12-23 21:06:54,213 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/test_functional.py` and `tests/checkers/unittest_similar.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need these files to find tests that cover pylint's interaction with the file system for configuration loading and data persistence, which are the key areas affected by the patch for XDG compliance.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: pylint/__init__.py
Line number range: 1 - 78
Content:
1. # Copyright (c) 2008, 2012 LOGILAB S.A. (Paris, FRANCE) <contact@logilab.fr>
2. # Copyright (c) 2014, 2016-2020 Claudiu Popa <pcmanticore@gmail.com>
3. # Copyright (c) 2014 Arun Persaud <arun@nubati.net>
4. # Copyright (c) 2015 Ionel Cristian Maries <contact@ionelmc.ro>
5. # Copyright (c) 2018 Nick Drozd <nicholasdrozd@gmail.com>
6. # Copyright (c) 2020-2021 Pierre Sassoulas <pierre.sassoulas@gmail.com>
7. # Copyright (c) 2021 Marc Mueller <30130371+cdce8p@users.noreply.github.com>
8. 
9. # Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
10. # For details: https://github.com/PyCQA/pylint/blob/main/LICENSE
11. 
12. import os
13. import sys
14. 
15. from pylint.__pkginfo__ import __version__
16. 
17. # pylint: disable=import-outside-toplevel
18. 
19. 
20. def run_pylint():
21.     from pylint.lint import Run as PylintRun
22. 
23.     try:
24.         PylintRun(sys.argv[1:])
25.     except KeyboardInterrupt:
26.         sys.exit(1)
27. 
28. 
29. def run_epylint():
30.     from pylint.epylint import Run as EpylintRun
31. 
32.     EpylintRun()
33. 
34. 
35. def run_pyreverse():
36.     """run pyreverse"""
37.     from pylint.pyreverse.main import Run as PyreverseRun
38. 
39.     PyreverseRun(sys.argv[1:])
40. 
41. 
42. def run_symilar():
43.     """run symilar"""
44.     from pylint.checkers.similar import Run as SimilarRun
45. 
46.     SimilarRun(sys.argv[1:])
47. 
48. 
49. def modify_sys_path() -> None:
50.     """Modify sys path for execution as Python module.
51. 
52.     Strip out the current working directory from sys.path.
53.     Having the working directory in `sys.path` means that `pylint` might
54.     inadvertently import user code from modules having the same name as
55.     stdlib or pylint's own modules.
56.     CPython issue: https://bugs.python.org/issue33053
57. 
58.     - Remove the first entry. This will always be either "" or the working directory
59.     - Remove the working directory from the second and third entries
60.       if PYTHONPATH includes a ":" at the beginning or the end.
61.       https://github.com/PyCQA/pylint/issues/3636
62.       Don't remove it if PYTHONPATH contains the cwd or '.' as the entry will
63.       only be added once.
64.     - Don't remove the working directory from the rest. It will be included
65.       if pylint is installed in an editable configuration (as the last item).
66.       https://github.com/PyCQA/pylint/issues/4161
67.     """
68.     sys.path.pop(0)
69.     env_pythonpath = os.environ.get("PYTHONPATH", "")
70.     cwd = os.getcwd()
71.     if env_pythonpath.startswith(":") and env_pythonpath not in (f":{cwd}", ":."):
72.         sys.path.pop(0)
73.     elif env_pythonpath.endswith(":") and env_pythonpath not in (f"{cwd}:", ".:"):
74.         sys.path.pop(1)
75. 
76. 
77. version = __version__
78. __all__ = ["__version__", "version"]


File: pylint/testutils/__init__.py
Line number range: 1 - 58
Content:
1. # Copyright (c) 2012-2014 LOGILAB S.A. (Paris, FRANCE) <contact@logilab.fr>
2. # Copyright (c) 2012 FELD Boris <lothiraldan@gmail.com>
3. # Copyright (c) 2013-2018, 2020 Claudiu Popa <pcmanticore@gmail.com>
4. # Copyright (c) 2013-2014 Google, Inc.
5. # Copyright (c) 2013 buck@yelp.com <buck@yelp.com>
6. # Copyright (c) 2014 LCD 47 <lcd047@gmail.com>
7. # Copyright (c) 2014 Brett Cannon <brett@python.org>
8. # Copyright (c) 2014 Ricardo Gemignani <ricardo.gemignani@gmail.com>
9. # Copyright (c) 2014 Arun Persaud <arun@nubati.net>
10. # Copyright (c) 2015 Pavel Roskin <proski@gnu.org>
11. # Copyright (c) 2015 Ionel Cristian Maries <contact@ionelmc.ro>
12. # Copyright (c) 2016 Derek Gustafson <degustaf@gmail.com>
13. # Copyright (c) 2016 Roy Williams <roy.williams.iii@gmail.com>
14. # Copyright (c) 2016 xmo-odoo <xmo-odoo@users.noreply.github.com>
15. # Copyright (c) 2017 Bryce Guinta <bryce.paul.guinta@gmail.com>
16. # Copyright (c) 2018 ssolanki <sushobhitsolanki@gmail.com>
17. # Copyright (c) 2018 Sushobhit <31987769+sushobhit27@users.noreply.github.com>
18. # Copyright (c) 2019-2021 Pierre Sassoulas <pierre.sassoulas@gmail.com>
19. # Copyright (c) 2019 Mr. Senko <atodorov@mrsenko.com>
20. # Copyright (c) 2019 Hugo van Kemenade <hugovk@users.noreply.github.com>
21. # Copyright (c) 2020 hippo91 <guillaume.peillex@gmail.com>
22. # Copyright (c) 2020 谭九鼎 <109224573@qq.com>
23. # Copyright (c) 2020 Anthony Sottile <asottile@umich.edu>
24. # Copyright (c) 2021 Marc Mueller <30130371+cdce8p@users.noreply.github.com>
25. # Copyright (c) 2021 Lefteris Karapetsas <lefteris@refu.co>
26. 
27. # Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
28. # For details: https://github.com/PyCQA/pylint/blob/main/LICENSE
29. 
30. """Functional/non regression tests for pylint"""
31. 
32. __all__ = [
33.     "_get_tests_info",
34.     "_tokenize_str",
35.     "CheckerTestCase",
36.     "FunctionalTestFile",
37.     "linter",
38.     "LintModuleTest",
39.     "Message",
40.     "MinimalTestReporter",
41.     "set_config",
42.     "GenericTestReporter",
43.     "UPDATE_FILE",
44.     "UPDATE_OPTION",
45.     "UnittestLinter",
46. ]
47. 
48. from pylint.testutils.checker_test_case import CheckerTestCase
49. from pylint.testutils.constants import UPDATE_FILE, UPDATE_OPTION
50. from pylint.testutils.decorator import set_config
51. from pylint.testutils.functional_test_file import FunctionalTestFile
52. from pylint.testutils.get_test_info import _get_tests_info
53. from pylint.testutils.global_test_linter import linter
54. from pylint.testutils.lint_module_test import LintModuleTest
55. from pylint.testutils.output_line import Message
56. from pylint.testutils.reporter_for_tests import GenericTestReporter, MinimalTestReporter
57. from pylint.testutils.tokenize_str import _tokenize_str
58. from pylint.testutils.unittest_linter import UnittestLinter


File: pylint/testutils/lint_module_test.py
Line number range: 1 - 236
Content:
1. # Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
2. # For details: https://github.com/PyCQA/pylint/blob/main/LICENSE
3. 
4. import csv
5. import operator
6. import platform
7. import sys
8. from collections import Counter
9. from io import StringIO
10. from typing import Dict, List, Optional, Tuple
11. 
12. import pytest
13. from _pytest.config import Config
14. 
15. from pylint import checkers
16. from pylint.lint import PyLinter
17. from pylint.testutils.constants import _EXPECTED_RE, _OPERATORS, UPDATE_OPTION
18. from pylint.testutils.functional_test_file import (
19.     FunctionalTestFile,
20.     NoFileError,
21.     parse_python_version,
22. )
23. from pylint.testutils.output_line import OutputLine
24. from pylint.testutils.reporter_for_tests import FunctionalTestReporter
25. from pylint.utils import utils
26. 
27. 
28. class LintModuleTest:
29.     maxDiff = None
30. 
31.     def __init__(self, test_file: FunctionalTestFile, config: Optional[Config] = None):
32.         _test_reporter = FunctionalTestReporter()
33.         self._linter = PyLinter()
34.         self._linter.set_reporter(_test_reporter)
35.         self._linter.config.persistent = 0
36.         checkers.initialize(self._linter)
37.         self._linter.disable("suppressed-message")
38.         self._linter.disable("locally-disabled")
39.         self._linter.disable("useless-suppression")
40.         try:
41.             self._linter.read_config_file(test_file.option_file)
42.             if self._linter.cfgfile_parser.has_option("MASTER", "load-plugins"):
43.                 plugins = utils._splitstrip(
44.                     self._linter.cfgfile_parser.get("MASTER", "load-plugins")
45.                 )
46.                 self._linter.load_plugin_modules(plugins)
47.             self._linter.load_config_file()
48.         except NoFileError:
49.             pass
50.         self._test_file = test_file
51.         self._config = config
52. 
53.     def setUp(self):
54.         if self._should_be_skipped_due_to_version():
55.             pytest.skip(
56.                 "Test cannot run with Python %s."
57.                 % sys.version.split(" ", maxsplit=1)[0]
58.             )
59.         missing = []
60.         for requirement in self._test_file.options["requires"]:
61.             try:
62.                 __import__(requirement)
63.             except ImportError:
64.                 missing.append(requirement)
65.         if missing:
66.             pytest.skip("Requires %s to be present." % ",".join(missing))
67.         except_implementations = self._test_file.options["except_implementations"]
68.         if except_implementations:
69.             implementations = [i.strip() for i in except_implementations.split(",")]
70.             if platform.python_implementation() in implementations:
71.                 msg = "Test cannot run with Python implementation %r"
72.                 pytest.skip(msg % platform.python_implementation())
73.         excluded_platforms = self._test_file.options["exclude_platforms"]
74.         if excluded_platforms:
75.             platforms = [p.strip() for p in excluded_platforms.split(",")]
76.             if sys.platform.lower() in platforms:
77.                 pytest.skip("Test cannot run on platform %r" % sys.platform)
78. 
79.     def runTest(self):
80.         self._runTest()
81. 
82.     def _should_be_skipped_due_to_version(self):
83.         return (
84.             sys.version_info < self._test_file.options["min_pyver"]
85.             or sys.version_info > self._test_file.options["max_pyver"]
86.         )
87. 
88.     def __str__(self):
89.         return f"{self._test_file.base} ({self.__class__.__module__}.{self.__class__.__name__})"
90. 
91.     @staticmethod
92.     def get_expected_messages(stream):
93.         """Parses a file and get expected messages.
94. 
95.         :param stream: File-like input stream.
96.         :type stream: enumerable
97.         :returns: A dict mapping line,msg-symbol tuples to the count on this line.
98.         :rtype: dict
99.         """
100.         messages = Counter()
101.         for i, line in enumerate(stream):
102.             match = _EXPECTED_RE.search(line)
103.             if match is None:
104.                 continue
105.             line = match.group("line")
106.             if line is None:
107.                 line = i + 1
108.             elif line.startswith("+") or line.startswith("-"):
109.                 line = i + 1 + int(line)
110.             else:
111.                 line = int(line)
112. 
113.             version = match.group("version")
114.             op = match.group("op")
115.             if version:
116.                 required = parse_python_version(version)
117.                 if not _OPERATORS[op](sys.version_info, required):
118.                     continue
119. 
120.             for msg_id in match.group("msgs").split(","):
121.                 messages[line, msg_id.strip()] += 1
122.         return messages
123. 
124.     @staticmethod
125.     def multiset_difference(
126.         expected_entries: Counter, actual_entries: Counter
127.     ) -> Tuple[Counter, Dict[str, int]]:
128.         """Takes two multisets and compares them.
129. 
130.         A multiset is a dict with the cardinality of the key as the value."""
131.         missing = expected_entries.copy()
132.         missing.subtract(actual_entries)
133.         unexpected = {}
134.         for key, value in list(missing.items()):
135.             if value <= 0:
136.                 missing.pop(key)
137.                 if value < 0:
138.                     unexpected[key] = -value
139.         return missing, unexpected
140. 
141.     # pylint: disable=consider-using-with
142.     def _open_expected_file(self):
143.         try:
144.             return open(self._test_file.expected_output, encoding="utf-8")
145.         except FileNotFoundError:
146.             return StringIO("")
147. 
148.     # pylint: disable=consider-using-with
149.     def _open_source_file(self):
150.         if self._test_file.base == "invalid_encoded_data":
151.             return open(self._test_file.source, encoding="utf-8")
152.         if "latin1" in self._test_file.base:
153.             return open(self._test_file.source, encoding="latin1")
154.         return open(self._test_file.source, encoding="utf8")
155. 
156.     def _get_expected(self):
157.         with self._open_source_file() as f:
158.             expected_msgs = self.get_expected_messages(f)
159.         if not expected_msgs:
160.             expected_msgs = Counter()
161.         with self._open_expected_file() as f:
162.             expected_output_lines = [
163.                 OutputLine.from_csv(row) for row in csv.reader(f, "test")
164.             ]
165.         return expected_msgs, expected_output_lines
166. 
167.     def _get_actual(self):
168.         messages = self._linter.reporter.messages
169.         messages.sort(key=lambda m: (m.line, m.symbol, m.msg))
170.         received_msgs = Counter()
171.         received_output_lines = []
172.         for msg in messages:
173.             assert (
174.                 msg.symbol != "fatal"
175.             ), f"Pylint analysis failed because of '{msg.msg}'"
176.             received_msgs[msg.line, msg.symbol] += 1
177.             received_output_lines.append(OutputLine.from_msg(msg))
178.         return received_msgs, received_output_lines
179. 
180.     def _runTest(self):
181.         __tracebackhide__ = True  # pylint: disable=unused-variable
182.         modules_to_check = [self._test_file.source]
183.         self._linter.check(modules_to_check)
184.         expected_messages, expected_output = self._get_expected()
185.         actual_messages, actual_output = self._get_actual()
186.         assert (
187.             expected_messages == actual_messages
188.         ), self.error_msg_for_unequal_messages(
189.             actual_messages, expected_messages, actual_output
190.         )
191.         self._check_output_text(expected_messages, expected_output, actual_output)
192. 
193.     def error_msg_for_unequal_messages(
194.         self, actual_messages, expected_messages, actual_output: List[OutputLine]
195.     ):
196.         msg = ['Wrong results for file "%s":' % (self._test_file.base)]
197.         missing, unexpected = self.multiset_difference(
198.             expected_messages, actual_messages
199.         )
200.         if missing:
201.             msg.append("\nExpected in testdata:")
202.             msg.extend(" %3d: %s" % msg for msg in sorted(missing))
203.         if unexpected:
204.             msg.append("\nUnexpected in testdata:")
205.             msg.extend(" %3d: %s" % msg for msg in sorted(unexpected))  # type: ignore
206.         error_msg = "\n".join(msg)
207.         if self._config and self._config.getoption("verbose") > 0:
208.             error_msg += "\n\nActual pylint output for this file:\n"
209.             error_msg += "\n".join(str(o) for o in actual_output)
210.         return error_msg
211. 
212.     def error_msg_for_unequal_output(self, expected_lines, received_lines) -> str:
213.         missing = set(expected_lines) - set(received_lines)
214.         unexpected = set(received_lines) - set(expected_lines)
215.         error_msg = (
216.             f"Wrong output for '{self._test_file.base}.txt':\n"
217.             "You can update the expected output automatically with: '"
218.             f"python tests/test_functional.py {UPDATE_OPTION} -k "
219.             f'"test_functional[{self._test_file.base}]"\'\n\n'
220.         )
221.         sort_by_line_number = operator.attrgetter("lineno")
222.         if missing:
223.             error_msg += "\n- Missing lines:\n"
224.             for line in sorted(missing, key=sort_by_line_number):
225.                 error_msg += f"{line}\n"
226.         if unexpected:
227.             error_msg += "\n- Unexpected lines:\n"
228.             for line in sorted(unexpected, key=sort_by_line_number):
229.                 error_msg += f"{line}\n"
230.         return error_msg
231. 
232.     def _check_output_text(self, _, expected_output, actual_output):
233.         """This is a function because we want to be able to update the text in LintModuleOutputUpdate"""
234.         assert expected_output == actual_output, self.error_msg_for_unequal_output(
235.             expected_output, actual_output
236.         )


File: tests/checkers/unittest_similar.py
Line number range: 1 - 439
Content:
1. # Copyright (c) 2010, 2012, 2014 LOGILAB S.A. (Paris, FRANCE) <contact@logilab.fr>
2. # Copyright (c) 2012 Ry4an Brase <ry4an-hg@ry4an.org>
3. # Copyright (c) 2014 Google, Inc.
4. # Copyright (c) 2015 Ionel Cristian Maries <contact@ionelmc.ro>
5. # Copyright (c) 2016-2018, 2020 Claudiu Popa <pcmanticore@gmail.com>
6. # Copyright (c) 2016 Derek Gustafson <degustaf@gmail.com>
7. # Copyright (c) 2018 Scott Worley <scottworley@scottworley.com>
8. # Copyright (c) 2018 Sushobhit <31987769+sushobhit27@users.noreply.github.com>
9. # Copyright (c) 2019-2021 Pierre Sassoulas <pierre.sassoulas@gmail.com>
10. # Copyright (c) 2019 Ashley Whetter <ashley@awhetter.co.uk>
11. # Copyright (c) 2019 Taewon D. Kim <kimt33@mcmaster.ca>
12. # Copyright (c) 2020 Frank Harrison <frank@doublethefish.com>
13. # Copyright (c) 2020 Eli Fine <ejfine@gmail.com>
14. # Copyright (c) 2020 hippo91 <guillaume.peillex@gmail.com>
15. # Copyright (c) 2021 Maksym Humetskyi <Humetsky@gmail.com>
16. # Copyright (c) 2021 Marc Mueller <30130371+cdce8p@users.noreply.github.com>
17. # Copyright (c) 2021 Aditya Gupta <adityagupta1089@users.noreply.github.com>
18. 
19. # Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
20. # For details: https://github.com/PyCQA/pylint/blob/main/LICENSE
21. 
22. from contextlib import redirect_stdout
23. from io import StringIO
24. from pathlib import Path
25. 
26. import pytest
27. 
28. from pylint.checkers import similar
29. from pylint.lint import PyLinter
30. from pylint.testutils import GenericTestReporter as Reporter
31. 
32. INPUT = Path(__file__).parent / ".." / "input"
33. SIMILAR1 = str(INPUT / "similar1")
34. SIMILAR2 = str(INPUT / "similar2")
35. SIMILAR3 = str(INPUT / "similar3")
36. SIMILAR4 = str(INPUT / "similar4")
37. SIMILAR5 = str(INPUT / "similar5")
38. SIMILAR6 = str(INPUT / "similar6")
39. EMPTY_FUNCTION_1 = str(INPUT / "similar_empty_func_1.py")
40. EMPTY_FUNCTION_2 = str(INPUT / "similar_empty_func_2.py")
41. MULTILINE = str(INPUT / "multiline-import")
42. HIDE_CODE_WITH_IMPORTS = str(INPUT / "hide_code_with_imports.py")
43. 
44. 
45. def test_ignore_comments():
46.     output = StringIO()
47.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
48.         similar.Run(["--ignore-comments", SIMILAR1, SIMILAR2])
49.     assert ex.value.code == 0
50.     assert (
51.         output.getvalue().strip()
52.         == (
53.             """
54. 10 similar lines in 2 files
55. ==%s:[0:11]
56. ==%s:[0:11]
57.    import one
58.    from two import two
59.    three
60.    four
61.    five
62.    six
63.    # A full line comment
64.    seven
65.    eight
66.    nine
67.    ''' ten
68. TOTAL lines=62 duplicates=10 percent=16.13
69. """
70.             % (SIMILAR1, SIMILAR2)
71.         ).strip()
72.     )
73. 
74. 
75. def test_ignore_docstrings():
76.     output = StringIO()
77.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
78.         similar.Run(["--ignore-docstrings", SIMILAR1, SIMILAR2])
79.     assert ex.value.code == 0
80.     assert (
81.         output.getvalue().strip()
82.         == (
83.             """
84. 5 similar lines in 2 files
85. ==%s:[7:15]
86. ==%s:[7:15]
87.    seven
88.    eight
89.    nine
90.    ''' ten
91.    ELEVEN
92.    twelve '''
93.    thirteen
94.    fourteen
95. 
96. 5 similar lines in 2 files
97. ==%s:[0:5]
98. ==%s:[0:5]
99.    import one
100.    from two import two
101.    three
102.    four
103.    five
104. TOTAL lines=62 duplicates=10 percent=16.13
105. """
106.             % ((SIMILAR1, SIMILAR2) * 2)
107.         ).strip()
108.     )
109. 
110. 
111. def test_ignore_imports():
112.     output = StringIO()
113.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
114.         similar.Run(["--ignore-imports", SIMILAR1, SIMILAR2])
115.     assert ex.value.code == 0
116.     assert (
117.         output.getvalue().strip()
118.         == """
119. TOTAL lines=62 duplicates=0 percent=0.00
120. """.strip()
121.     )
122. 
123. 
124. def test_multiline_imports():
125.     output = StringIO()
126.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
127.         similar.Run([MULTILINE, MULTILINE])
128.     assert ex.value.code == 0
129.     assert (
130.         output.getvalue().strip()
131.         == (
132.             """
133. 8 similar lines in 2 files
134. ==%s:[0:8]
135. ==%s:[0:8]
136.    from foo import (
137.      bar,
138.      baz,
139.      quux,
140.      quuux,
141.      quuuux,
142.      quuuuux,
143.    )
144. TOTAL lines=16 duplicates=8 percent=50.00
145. """
146.             % (MULTILINE, MULTILINE)
147.         ).strip()
148.     )
149. 
150. 
151. def test_ignore_multiline_imports():
152.     output = StringIO()
153.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
154.         similar.Run(["--ignore-imports", MULTILINE, MULTILINE])
155.     assert ex.value.code == 0
156.     assert (
157.         output.getvalue().strip()
158.         == """
159. TOTAL lines=16 duplicates=0 percent=0.00
160. """.strip()
161.     )
162. 
163. 
164. def test_ignore_signatures_fail():
165.     output = StringIO()
166.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
167.         similar.Run([SIMILAR5, SIMILAR6])
168.     assert ex.value.code == 0
169.     assert (
170.         output.getvalue().strip()
171.         == (
172.             '''
173. 9 similar lines in 2 files
174. ==%s:[1:11]
175. ==%s:[8:18]
176.        arg1: int = 3,
177.        arg2: Class1 = val1,
178.        arg3: Class2 = func3(val2),
179.        arg4: int = 4,
180.        arg5: int = 5
181.    ) -> Ret1:
182.        pass
183. 
184.    def example():
185.        """Valid function definition with docstring only."""
186. TOTAL lines=29 duplicates=9 percent=31.03
187. '''
188.             % (SIMILAR5, SIMILAR6)
189.         ).strip()
190.     )
191. 
192. 
193. def test_ignore_signatures_pass():
194.     output = StringIO()
195.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
196.         similar.Run(["--ignore-signatures", SIMILAR5, SIMILAR6])
197.     assert ex.value.code == 0
198.     assert (
199.         output.getvalue().strip()
200.         == """
201. TOTAL lines=29 duplicates=0 percent=0.00
202. """.strip()
203.     )
204. 
205. 
206. def test_ignore_signatures_empty_functions_fail():
207.     output = StringIO()
208.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
209.         similar.Run([EMPTY_FUNCTION_1, EMPTY_FUNCTION_2])
210.     assert ex.value.code == 0
211.     assert (
212.         output.getvalue().strip()
213.         == (
214.             '''
215. 6 similar lines in 2 files
216. ==%s:[1:7]
217. ==%s:[1:7]
218.        arg1: int = 1,
219.        arg2: str = "2",
220.        arg3: int = 3,
221.        arg4: bool = True,
222.    ) -> None:
223.        """Valid function definition with docstring only."""
224. TOTAL lines=14 duplicates=6 percent=42.86
225. '''
226.             % (EMPTY_FUNCTION_1, EMPTY_FUNCTION_2)
227.         ).strip()
228.     )
229. 
230. 
231. def test_ignore_signatures_empty_functions_pass():
232.     output = StringIO()
233.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
234.         similar.Run(["--ignore-signatures", EMPTY_FUNCTION_1, EMPTY_FUNCTION_2])
235.     assert ex.value.code == 0
236.     assert (
237.         output.getvalue().strip()
238.         == """
239. TOTAL lines=14 duplicates=0 percent=0.00
240. """.strip()
241.     )
242. 
243. 
244. def test_no_hide_code_with_imports():
245.     output = StringIO()
246.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
247.         similar.Run(["--ignore-imports"] + 2 * [HIDE_CODE_WITH_IMPORTS])
248.     assert ex.value.code == 0
249.     assert "TOTAL lines=32 duplicates=16 percent=50.00" in output.getvalue()
250. 
251. 
252. def test_ignore_nothing():
253.     output = StringIO()
254.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
255.         similar.Run([SIMILAR1, SIMILAR2])
256.     assert ex.value.code == 0
257.     assert (
258.         output.getvalue().strip()
259.         == (
260.             """
261. 5 similar lines in 2 files
262. ==%s:[0:5]
263. ==%s:[0:5]
264.    import one
265.    from two import two
266.    three
267.    four
268.    five
269. TOTAL lines=62 duplicates=5 percent=8.06
270. """
271.             % (SIMILAR1, SIMILAR2)
272.         ).strip()
273.     )
274. 
275. 
276. def test_lines_without_meaningful_content_do_not_trigger_similarity():
277.     output = StringIO()
278.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
279.         similar.Run([SIMILAR3, SIMILAR4])
280.     assert ex.value.code == 0
281.     assert (
282.         output.getvalue().strip()
283.         == (
284.             """
285. 14 similar lines in 2 files
286. ==%s:[11:25]
287. ==%s:[11:25]
288.    b = (
289.        (
290.            [
291.                "Lines 12-25 still trigger a similarity...",
292.                "...warning, because..."
293.            ],
294.            [
295.                "...even after ignoring lines with only symbols..."
296.            ],
297.        ),
298.        (
299.            "...there are still 5 similar lines in this code block.",
300.        )
301.    )
302. TOTAL lines=50 duplicates=14 percent=28.00
303. """
304.             % (SIMILAR3, SIMILAR4)
305.         ).strip()
306.     )
307. 
308. 
309. def test_help():
310.     output = StringIO()
311.     with redirect_stdout(output):
312.         try:
313.             similar.Run(["--help"])
314.         except SystemExit as ex:
315.             assert ex.code == 0
316.         else:
317.             pytest.fail("not system exit")
318. 
319. 
320. def test_no_args():
321.     output = StringIO()
322.     with redirect_stdout(output):
323.         try:
324.             similar.Run([])
325.         except SystemExit as ex:
326.             assert ex.code == 1
327.         else:
328.             pytest.fail("not system exit")
329. 
330. 
331. def test_get_map_data():
332.     """Tests that a SimilarChecker respects the MapReduceMixin interface"""
333.     linter = PyLinter(reporter=Reporter())
334. 
335.     # Add a parallel checker to ensure it can map and reduce
336.     linter.register_checker(similar.SimilarChecker(linter))
337. 
338.     source_streams = (
339.         str(INPUT / "similar_lines_a.py"),
340.         str(INPUT / "similar_lines_b.py"),
341.     )
342.     expected_linelists = (
343.         (
344.             "def adipiscing(elit):",
345.             'etiam = "id"',
346.             'dictum = "purus,"',
347.             'vitae = "pretium"',
348.             'neque = "Vivamus"',
349.             'nec = "ornare"',
350.             'tortor = "sit"',
351.             "return etiam, dictum, vitae, neque, nec, tortor",
352.             "class Amet:",
353.             "def similar_function_3_lines(self, tellus):",
354.             "agittis = 10",
355.             "tellus *= 300",
356.             "return agittis, tellus",
357.             "def lorem(self, ipsum):",
358.             'dolor = "sit"',
359.             'amet = "consectetur"',
360.             "return (lorem, dolor, amet)",
361.             "def similar_function_5_lines(self, similar):",
362.             "some_var = 10",
363.             "someother_var *= 300",
364.             'fusce = "sit"',
365.             'amet = "tortor"',
366.             "return some_var, someother_var, fusce, amet",
367.             'def __init__(self, moleskie, lectus="Mauris", ac="pellentesque"):',
368.             'metus = "ut"',
369.             'lobortis = "urna."',
370.             'Integer = "nisl"',
371.             '(mauris,) = "interdum"',
372.             'non = "odio"',
373.             'semper = "aliquam"',
374.             'malesuada = "nunc."',
375.             'iaculis = "dolor"',
376.             'facilisis = "ultrices"',
377.             'vitae = "ut."',
378.             "return (",
379.             "metus,",
380.             "lobortis,",
381.             "Integer,",
382.             "mauris,",
383.             "non,",
384.             "semper,",
385.             "malesuada,",
386.             "iaculis,",
387.             "facilisis,",
388.             "vitae,",
389.             ")",
390.             "def similar_function_3_lines(self, tellus):",
391.             "agittis = 10",
392.             "tellus *= 300",
393.             "return agittis, tellus",
394.         ),
395.         (
396.             "class Nulla:",
397.             'tortor = "ultrices quis porta in"',
398.             'sagittis = "ut tellus"',
399.             "def pulvinar(self, blandit, metus):",
400.             "egestas = [mauris for mauris in zip(blandit, metus)]",
401.             "neque = (egestas, blandit)",
402.             "def similar_function_5_lines(self, similar):",
403.             "some_var = 10",
404.             "someother_var *= 300",
405.             'fusce = "sit"',
406.             'amet = "tortor"',
407.             'iaculis = "dolor"',
408.             "return some_var, someother_var, fusce, amet, iaculis, iaculis",
409.             "def tortor(self):",
410.             "ultrices = 2",
411.             'quis = ultricies * "porta"',
412.             "return ultricies, quis",
413.             "class Commodo:",
414.             "def similar_function_3_lines(self, tellus):",
415.             "agittis = 10",
416.             "tellus *= 300",
417.             'laoreet = "commodo "',
418.             "return agittis, tellus, laoreet",
419.         ),
420.     )
421. 
422.     data = []
423. 
424.     # Manually perform a 'map' type function
425.     for source_fname in source_streams:
426.         sim = similar.SimilarChecker(linter)
427.         with open(source_fname, encoding="utf-8") as stream:
428.             sim.append_stream(source_fname, stream)
429.         # The map bit, can you tell? ;)
430.         data.extend(sim.get_map_data())
431. 
432.     assert len(expected_linelists) == len(data)
433.     for source_fname, expected_lines, lineset_obj in zip(
434.         source_streams, expected_linelists, data
435.     ):
436.         assert source_fname == lineset_obj.name
437.         # There doesn't seem to be a faster way of doing this, yet.
438.         lines = (linespec.text for linespec in lineset_obj.stripped_lines)
439.         assert tuple(expected_lines) == tuple(lines)


File: tests/test_functional.py
Line number range: 1 - 130
Content:
1. # Copyright (c) 2014-2018, 2020 Claudiu Popa <pcmanticore@gmail.com>
2. # Copyright (c) 2014 Google, Inc.
3. # Copyright (c) 2014 Michal Nowikowski <godfryd@gmail.com>
4. # Copyright (c) 2014 LOGILAB S.A. (Paris, FRANCE) <contact@logilab.fr>
5. # Copyright (c) 2015 Ionel Cristian Maries <contact@ionelmc.ro>
6. # Copyright (c) 2016 Łukasz Rogalski <rogalski.91@gmail.com>
7. # Copyright (c) 2016 Derek Gustafson <degustaf@gmail.com>
8. # Copyright (c) 2018 Lucas Cimon <lucas.cimon@gmail.com>
9. # Copyright (c) 2018 Ville Skyttä <ville.skytta@iki.fi>
10. # Copyright (c) 2019-2021 Pierre Sassoulas <pierre.sassoulas@gmail.com>
11. # Copyright (c) 2019 Mr. Senko <atodorov@mrsenko.com>
12. # Copyright (c) 2019 Hugo van Kemenade <hugovk@users.noreply.github.com>
13. # Copyright (c) 2019 Ashley Whetter <ashley@awhetter.co.uk>
14. # Copyright (c) 2020 hippo91 <guillaume.peillex@gmail.com>
15. # Copyright (c) 2020 Damien Baty <damien.baty@polyconseil.fr>
16. # Copyright (c) 2020 Anthony Sottile <asottile@umich.edu>
17. # Copyright (c) 2020 bernie gray <bfgray3@users.noreply.github.com>
18. # Copyright (c) 2021 Marc Mueller <30130371+cdce8p@users.noreply.github.com>
19. 
20. # Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
21. # For details: https://github.com/PyCQA/pylint/blob/main/LICENSE
22. 
23. """Functional full-module tests for PyLint."""
24. import csv
25. import os
26. import sys
27. 
28. import pytest
29. 
30. from pylint import testutils
31. from pylint.testutils import UPDATE_FILE, UPDATE_OPTION
32. from pylint.utils import HAS_ISORT_5
33. 
34. # Notes:
35. # - for the purpose of this test, the confidence levels HIGH and UNDEFINED
36. #   are treated as the same.
37. 
38. # TODOs
39. #  - implement exhaustivity tests
40. 
41. # 'Wet finger' number of files that are reasonable to display by an IDE
42. # 'Wet finger' as in 'in my settings there are precisely this many'.
43. REASONABLY_DISPLAYABLE_VERTICALLY = 48
44. 
45. 
46. class LintModuleOutputUpdate(testutils.LintModuleTest):
47.     """If message files should be updated instead of checked."""
48. 
49.     class TestDialect(csv.excel):
50.         delimiter = ":"
51.         lineterminator = "\n"
52. 
53.     csv.register_dialect("test", TestDialect)
54. 
55.     def _check_output_text(self, _, expected_output, actual_output):
56.         if expected_output and expected_output == actual_output:
57.             return
58.         if not expected_output and not actual_output:
59.             if os.path.exists(self._test_file.expected_output):
60.                 os.remove(self._test_file.expected_output)
61.             return
62.         with open(self._test_file.expected_output, "w", encoding="utf-8") as f:
63.             writer = csv.writer(f, dialect="test")
64.             for line in actual_output:
65.                 writer.writerow(line.to_csv())
66. 
67. 
68. def get_tests():
69.     input_dir = os.path.join(os.path.dirname(os.path.abspath(__file__)), "functional")
70.     suite = []
71.     for dirpath, _, filenames in os.walk(input_dir):
72.         if dirpath.endswith("__pycache__"):
73.             continue
74. 
75.         assert (
76.             len(filenames) <= REASONABLY_DISPLAYABLE_VERTICALLY
77.         ), f"{dirpath} contain too much functional tests files."
78. 
79.         for filename in filenames:
80.             if filename != "__init__.py" and filename.endswith(".py"):
81.                 # isort 5 has slightly different rules as isort 4. Testing
82.                 # both would be hard: test with isort 5 only.
83.                 if filename == "wrong_import_order.py" and not HAS_ISORT_5:
84.                     continue
85.                 suite.append(testutils.FunctionalTestFile(dirpath, filename))
86.     return suite
87. 
88. 
89. TESTS = get_tests()
90. TESTS_NAMES = [t.base for t in TESTS]
91. TEST_WITH_EXPECTED_DEPRECATION = [
92.     "future_unicode_literals",
93.     "anomalous_unicode_escape_py3",
94. ]
95. 
96. 
97. @pytest.mark.parametrize("test_file", TESTS, ids=TESTS_NAMES)
98. def test_functional(test_file, recwarn, pytestconfig):
99.     __tracebackhide__ = True  # pylint: disable=unused-variable
100.     if UPDATE_FILE.exists():
101.         lint_test = LintModuleOutputUpdate(test_file, pytestconfig)
102.     else:
103.         lint_test = testutils.LintModuleTest(test_file, pytestconfig)
104.     lint_test.setUp()
105.     lint_test.runTest()
106.     warning = None
107.     try:
108.         # Catch <unknown>:x: DeprecationWarning: invalid escape sequence
109.         # so it's not shown during tests
110.         warning = recwarn.pop()
111.     except AssertionError:
112.         pass
113.     if warning is not None:
114.         if (
115.             test_file.base in TEST_WITH_EXPECTED_DEPRECATION
116.             and sys.version_info.minor > 5
117.         ):
118.             assert issubclass(warning.category, DeprecationWarning)
119.             assert "invalid escape sequence" in str(warning.message)
120. 
121. 
122. if __name__ == "__main__":
123.     if UPDATE_OPTION in sys.argv:
124.         UPDATE_FILE.touch()
125.         sys.argv.remove(UPDATE_OPTION)
126.     try:
127.         pytest.main(sys.argv)
128.     finally:
129.         if UPDATE_FILE.exists():
130.             UPDATE_FILE.unlink()

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 21:06:59,990 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='The user explicitly asked for the full content of `tests/checkers/unittest_similar.py`. This context provides the entire content of that file.', relative_path='tests/checkers/unittest_similar.py', start_line=1, end_line=439), ContextOutput(reasoning='The user explicitly asked for the full content of `tests/test_functional.py`. This context provides the entire content of that file.', relative_path='tests/test_functional.py', start_line=1, end_line=130)]
2025-12-23 21:06:59,991 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 2 contexts to memory for query: Please provide the full content of `tests/test_functional.py` and `tests/checkers/unittest_similar.py`.
2025-12-23 21:06:59,991 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 21:06:59,991 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 21:06:59,992 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 2 new contexts to 2 existing contexts
2025-12-23 21:06:59,992 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 4 total contexts (removed 0 duplicates)
2025-12-23 21:06:59,993 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
pylint
├── .github
|   ├── CONTRIBUTING.md
|   ├── FUNDING.yml
|   ├── ISSUE_TEMPLATE
|   |   ├── BUG-REPORT.yml
|   |   ├── FEATURE-REQUEST.yml
|   |   ├── QUESTION.yml
|   |   └── config.yml
|   ├── PULL_REQUEST_TEMPLATE.md
|   ├── SECURITY.md
|   ├── dependabot.yml
|   └── workflows
|       ├── ci.yaml
|       ├── codeql-analysis.yml
|       └── release.yml
├── .pre-commit-config.yaml
├── .pre-commit-hooks.yaml
├── .readthedocs.yaml
├── CONTRIBUTORS.txt
├── Dockerfile
├── README.rst
├── doc
|   ├── backlinks.rst
|   ├── conf.py
|   ├── development_guide
|   |   ├── contribute.rst
|   |   └── index.rst
|   ├── exts
|   |   ├── pylint_extensions.py
|   |   └── pylint_features.py
|   ├── faq.rst
|   ├── how_tos
|   |   ├── custom_checkers.rst
|   |   ├── index.rst
|   |   ├── plugins.rst
|   |   └── transform_plugins.rst
|   ├── index.rst
|   ├── intro.rst
|   ├── media
|   ├── release.md
|   ├── requirements.txt
|   ├── support.rst
|   ├── technical_reference
|   |   ├── c_extensions.rst
|   |   ├── checkers.rst
|   |   ├── index.rst
|   |   └── startup.rst
|   ├── tutorial.rst
|   ├── user_guide
|   |   ├── ide-integration.rst
|   |   ├── index.rst
|   |   ├── installation.rst
|   |   ├── message-control.rst
|   |   ├── options.rst
|   |   ├── output.rst
|   |   └── run.rst
|   └── whatsnew
|       ├── 1.6.rst
|       ├── 1.7.rst
|       ├── 1.8.rst
|       ├── 1.9.rst
|       ├── 2.0.rst
|       ├── 2.1.rst
|       ├── 2.10.rst
|       ├── 2.2.rst
|       ├── 2.3.rst
|       ├── 2.4.rst
|       ├── 2.5.rst
|       ├── 2.6.rst
|       ├── 2.7.rst
|       ├── 2.8.rst
|       ├── 2.9.rst
|       ├── changelog.rst
|       └── index.rst
├── elisp
├── examples
|   ├── custom.py
|   ├── custom_raw.py
|   └── deprecation_checker.py
├── pylint
|   ├── __init__.py
|   ├── __main__.py
|   ├── __pkginfo__.py
|   ├── checkers
|   |   ├── __init__.py
|   |   ├── async.py
|   |   ├── base.py
|   |   ├── base_checker.py
|   |   ├── classes.py
|   |   ├── deprecated.py
|   |   ├── design_analysis.py
|   |   ├── exceptions.py
|   |   ├── format.py
|   |   ├── imports.py
|   |   ├── logging.py
|   |   ├── mapreduce_checker.py
|   |   ├── misc.py
|   |   ├── newstyle.py
|   |   ├── python3.py
|   |   ├── raw_metrics.py
|   |   ├── refactoring
|   |   |   ├── __init__.py
|   |   |   ├── len_checker.py
|   |   |   ├── not_checker.py
|   |   |   ├── recommendation_checker.py
|   |   |   └── refactoring_checker.py
|   |   ├── similar.py
|   |   ├── spelling.py
|   |   ├── stdlib.py
|   |   ├── strings.py
|   |   ├── typecheck.py
|   |   ├── utils.py
|   |   └── variables.py
|   ├── config
|   |   ├── __init__.py
|   |   ├── configuration_mixin.py
|   |   ├── find_default_config_files.py
|   |   ├── man_help_formatter.py
|   |   ├── option.py
|   |   ├── option_manager_mixin.py
|   |   ├── option_parser.py
|   |   └── options_provider_mixin.py
|   ├── constants.py
|   ├── epylint.py
|   ├── exceptions.py
|   ├── extensions
|   |   ├── __init__.py
|   |   ├── _check_docs_utils.py
|   |   ├── bad_builtin.py
|   |   ├── bad_builtin.rst
|   |   ├── broad_try_clause.py
|   |   ├── check_docs.py
|   |   ├── check_elif.py
|   |   ├── code_style.py
|   |   ├── code_style.rst
|   |   ├── comparetozero.py
|   |   ├── confusing_elif.py
|   |   ├── docparams.py
|   |   ├── docparams.rst
|   |   ├── docstyle.py
|   |   ├── empty_comment.py
|   |   ├── emptystring.py
|   |   ├── mccabe.py
|   |   ├── mccabe.rst
|   |   ├── overlapping_exceptions.py
|   |   ├── redefined_variable_type.py
|   |   ├── typing.py
|   |   └── typing.rst
|   ├── graph.py
|   ├── interfaces.py
|   ├── lint
|   |   ├── __init__.py
|   |   ├── expand_modules.py
|   |   ├── parallel.py
|   |   ├── pylinter.py
|   |   ├── report_functions.py
|   |   ├── run.py
|   |   └── utils.py
|   ├── message
|   |   ├── __init__.py
|   |   ├── message.py
|   |   ├── message_definition.py
|   |   ├── message_definition_store.py
|   |   ├── message_handler_mix_in.py
|   |   └── message_id_store.py
|   ├── pyreverse
|   |   ├── __init__.py
|   |   ├── diadefslib.py
|   |   ├── diagrams.py
|   |   ├── inspector.py
|   |   ├── main.py
|   |   ├── utils.py
|   |   ├── vcgutils.py
|   |   └── writer.py
|   ├── reporters
|   |   ├── __init__.py
|   |   ├── base_reporter.py
|   |   ├── collecting_reporter.py
|   |   ├── json_reporter.py
|   |   ├── multi_reporter.py
|   |   ├── reports_handler_mix_in.py
|   |   ├── text.py
|   |   └── ureports
|   |       ├── __init__.py
|   |       ├── nodes.py
|   |       └── text_writer.py
|   ├── testutils
|   |   ├── __init__.py
|   |   ├── checker_test_case.py
|   |   ├── constants.py
|   |   ├── decorator.py
|   |   ├── functional_test_file.py
|   |   ├── get_test_info.py
|   |   ├── global_test_linter.py
|   |   ├── lint_module_test.py
|   |   ├── output_line.py
|   |   ├── reporter_for_tests.py
|   |   ├── tokenize_str.py
|   |   └── unittest_linter.py
|   └── utils
|       ├── __init__.py
|       ├── ast_walker.py
|       ├── file_state.py
|       ├── pragma_parser.py
|       └── utils.py
├── requirements_test.txt
├── requirements_test_min.txt
├── requirements_test_pre_commit.txt
├── script
|   ├── __init__.py
|   ├── bump_changelog.py
|   └── fix_documentation.py
├── setup.py
└── tests
    ├── acceptance
    |   └── test_stdlib.py
    ├── benchmark
    |   └── test_baseline_benchmarks.py
    ├── checkers
    |   ├── __init__.py
    |   ├── conftest.py
    |   ├── unittest_base.py
    |   ├── unittest_classes.py
    |   ├── unittest_deprecated.py
    |   ├── unittest_exceptions.py
    |   ├── unittest_format.py
    |   ├── unittest_imports.py
    |   ├── unittest_logging.py
    |   ├── unittest_misc.py
    |   ├── unittest_python3.py
    |   ├── unittest_refactoring.py
    |   ├── unittest_similar.py
    |   ├── unittest_spelling.py
    |   ├── unittest_stdlib.py
    |   ├── unittest_strings.py
    |   ├── unittest_typecheck.py
    |   ├── unittest_utils.py
    |   └── unittest_variables.py
    ├── conftest.py
    ├── data
    |   ├── __init__.py
    |   ├── clientmodule_test.py
    |   └── suppliermodule_test.py
    ├── extensions
    |   ├── __init__.py
    |   ├── data
    |   |   ├── bad_builtin.py
    |   |   ├── broad_try_clause.py
    |   |   ├── compare_to_zero.py
    |   |   ├── docstring.py
    |   |   ├── elif.py
    |   |   ├── empty_comment.py
    |   |   ├── empty_string_comparison.py
    |   |   ├── mccabe.py
    |   |   ├── overlapping_exceptions.py
    |   |   ├── overlapping_exceptions_py33.py
    |   |   └── redefined.py
    |   ├── test_bad_builtin.py
    |   ├── test_broad_try_clause.py
    |   ├── test_check_docs.py
    |   ├── test_check_docs_utils.py
    |   ├── test_check_mccabe.py
    |   ├── test_check_raise_docs.py
    |   ├── test_check_return_docs.py
    |   ├── test_check_yields_docs.py
    |   ├── test_comparetozero.py
    |   ├── test_confusing_elif.py
    |   ├── test_docstyle.py
    |   ├── test_elseif_used.py
    |   ├── test_empty_comment.py
    |   ├── test_emptystring.py
    |   ├── test_overlapping_exceptions.py
    |   └── test_redefined.py
    ├── functional
    |   ├── __init__.py
    |   ├── a
    |   |   ├── __init__.py
    |   |   ├── abstract
    |   |   |   ├── abstract_abc_methods.py
    |   |   |   ├── abstract_class_instantiated_in_class.py
    |   |   |   ├── abstract_class_instantiated_py3.py
    |   |   |   ├── abstract_class_instantiated_py3.txt
    |   |   |   ├── abstract_class_instantiated_py34.py
    |   |   |   ├── abstract_class_instantiated_py34.txt
    |   |   |   ├── abstract_method_py3.py
    |   |   |   └── abstract_method_py3.txt
    |   |   ├── access
    |   |   |   ├── access_attr_before_def_false_positive.py
    |   |   |   ├── access_member_before_definition.py
    |   |   |   ├── access_member_before_definition.txt
    |   |   |   ├── access_to__name__.py
    |   |   |   ├── access_to__name__.txt
    |   |   |   ├── access_to_protected_members.py
    |   |   |   └── access_to_protected_members.txt
    |   |   ├── alternative
    |   |   |   ├── alternative_union_syntax.py
    |   |   |   ├── alternative_union_syntax_error.py
    |   |   |   ├── alternative_union_syntax_error.txt
    |   |   |   ├── alternative_union_syntax_py37.py
    |   |   |   └── alternative_union_syntax_py37.txt
    |   |   ├── anomalous_backslash_escape.py
    |   |   ├── anomalous_backslash_escape.txt
    |   |   ├── anomalous_unicode_escape_py3.py
    |   |   ├── anomalous_unicode_escape_py3.txt
    |   |   ├── arguments.py
    |   |   ├── arguments.txt
    |   |   ├── arguments_differ.py
    |   |   ├── arguments_differ.txt
    |   |   ├── arguments_out_of_order.py
    |   |   ├── arguments_out_of_order.txt
    |   |   ├── arguments_renamed.py
    |   |   ├── arguments_renamed.txt
    |   |   ├── assert_on_string_literal.py
    |   |   ├── assert_on_string_literal.txt
    |   |   ├── assert_on_tuple.py
    |   |   ├── assert_on_tuple.txt
    |   |   ├── assign
    |   |   |   ├── assigment_from_no_return.py
    |   |   |   ├── assigment_from_no_return.txt
    |   |   |   ├── assigning_non_slot.py
    |   |   |   ├── assigning_non_slot.txt
    |   |   |   ├── assigning_non_slot_4509.py
    |   |   |   ├── assigning_non_slot_4509.txt
    |   |   |   ├── assignment_expression.py
    |   |   |   ├── assignment_expression.txt
    |   |   |   ├── assignment_from_no_return.py
    |   |   |   ├── assignment_from_no_return.txt
    |   |   |   └── assignment_from_no_return_py3.py
    |   |   ├── async_functions.py
    |   |   ├── async_functions.txt
    |   |   ├── attribute_defined_outside_init.py
    |   |   ├── attribute_defined_outside_init.txt
    |   |   ├── await_outside_async.py
    |   |   └── await_outside_async.txt
    |   ├── b
    |   |   ├── __init__.py
    |   |   ├── bad_except_order.py
    |   |   ├── bad_except_order.txt
    |   |   ├── bad_exception_context.py
    |   |   ├── bad_exception_context.txt
    |   |   ├── bad_indentation.py
    |   |   ├── bad_indentation.txt
    |   |   ├── bad_inline_option.py
    |   |   ├── bad_inline_option.txt
    |   |   ├── bad_open_mode_py3.py
    |   |   ├── bad_open_mode_py3.txt
    |   |   ├── bad_option_value.py
    |   |   ├── bad_option_value.txt
    |   |   ├── bad_reversed_sequence.py
    |   |   ├── bad_reversed_sequence.txt
    |   |   ├── bad_reversed_sequence_py37.py
    |   |   ├── bad_reversed_sequence_py37.txt
    |   |   ├── bad_reversed_sequence_py38.py
    |   |   ├── bad_staticmethod_argument.py
    |   |   ├── bad_staticmethod_argument.txt
    |   |   ├── bad_thread_instantiation.py
    |   |   ├── bad_thread_instantiation.txt
    |   |   ├── bare_except.py
    |   |   ├── bare_except.txt
    |   |   ├── base_init_vars.py
    |   |   ├── blacklisted_name.py
    |   |   ├── blacklisted_name.txt
    |   |   ├── broad_except.py
    |   |   ├── broad_except.txt
    |   |   ├── bugfix_local_scope_metaclass_1177.py
    |   |   └── builtin_module_test.py
    |   ├── c
    |   |   ├── __init__.py
    |   |   ├── cached_property.py
    |   |   ├── cached_property.txt
    |   |   ├── cellvar_escaping_loop.py
    |   |   ├── cellvar_escaping_loop.txt
    |   |   ├── class_attributes.py
    |   |   ├── class_members_py30.py
    |   |   ├── class_members_py30.txt
    |   |   ├── class_members_py36.py
    |   |   ├── class_scope.py
    |   |   ├── class_scope.txt
    |   |   ├── class_variable_slots_conflict_exempted.py
    |   |   ├── classes_meth_could_be_a_function.py
    |   |   ├── classes_protected_member_access.py
    |   |   ├── comparison_with_callable.py
    |   |   ├── comparison_with_callable.txt
    |   |   ├── condition_evals_to_constant.py
    |   |   ├── condition_evals_to_constant.txt
    |   |   ├── confidence_filter.py
    |   |   ├── confidence_filter.txt
    |   |   ├── confusing_with_statement.py
    |   |   ├── confusing_with_statement.txt
    |   |   ├── consider
    |   |   |   ├── consider_iterating_dictionary.py
    |   |   |   ├── consider_iterating_dictionary.txt
    |   |   |   ├── consider_join.py
    |   |   |   ├── consider_join.txt
    |   |   |   ├── consider_merging_isinstance.py
    |   |   |   ├── consider_merging_isinstance.txt
    |   |   |   ├── consider_swap_variables.py
    |   |   |   ├── consider_swap_variables.txt
    |   |   |   ├── consider_using_dict_comprehension.py
    |   |   |   ├── consider_using_dict_comprehension.txt
    |   |   |   ├── consider_using_dict_items.py
    |   |   |   ├── consider_using_dict_items.txt
    |   |   |   ├── consider_using_enumerate.py
    |   |   |   ├── consider_using_enumerate.txt
    |   |   |   ├── consider_using_generator.py
    |   |   |   ├── consider_using_generator.txt
    |   |   |   ├── consider_using_get.py
    |   |   |   ├── consider_using_get.txt
    |   |   |   ├── consider_using_in.py
    |   |   |   ├── consider_using_in.txt
    |   |   |   ├── consider_using_min_max_builtin.py
    |   |   |   ├── consider_using_min_max_builtin.txt
    |   |   |   ├── consider_using_set_comprehension.py
    |   |   |   ├── consider_using_set_comprehension.txt
    |   |   |   ├── consider_using_sys_exit.py
    |   |   |   ├── consider_using_sys_exit.txt
    |   |   |   ├── consider_using_sys_exit_exempted.py
    |   |   |   ├── consider_using_sys_exit_local_scope.py
    |   |   |   ├── consider_using_with.py
    |   |   |   ├── consider_using_with.txt
    |   |   |   ├── consider_using_with_open.py
    |   |   |   └── consider_using_with_open.txt
    |   |   ├── continue_in_finally.py
    |   |   ├── continue_in_finally.txt
    |   |   ├── control_pragmas.py
    |   |   ├── crash_missing_module_type.py
    |   |   ├── ctor_arguments.py
    |   |   └── ctor_arguments.txt
    |   ├── d
    |   |   ├── __init__.py
    |   |   ├── dangerous_default_value_py30.py
    |   |   ├── dangerous_default_value_py30.txt
    |   |   ├── dataclass_with_default_factory.py
    |   |   ├── decorator_scope.py
    |   |   ├── decorator_unused.py
    |   |   ├── defined_and_used_on_same_line.py
    |   |   ├── deprecated
    |   |   |   ├── deprecated_class_py33.py
    |   |   |   ├── deprecated_class_py33.txt
    |   |   |   ├── deprecated_decorators.py
    |   |   |   ├── deprecated_decorators.txt
    |   |   |   ├── deprecated_method_getmoduleinfo.py
    |   |   |   ├── deprecated_method_getmoduleinfo.txt
    |   |   |   ├── deprecated_methods_py3.py
    |   |   |   ├── deprecated_methods_py3.txt
    |   |   |   ├── deprecated_methods_py36.py
    |   |   |   ├── deprecated_methods_py36.txt
    |   |   |   ├── deprecated_methods_py38.py
    |   |   |   ├── deprecated_methods_py38.txt
    |   |   |   ├── deprecated_module_py3.py
    |   |   |   ├── deprecated_module_py3.txt
    |   |   |   ├── deprecated_module_py36.py
    |   |   |   ├── deprecated_module_py36.txt
    |   |   |   ├── deprecated_module_py4.py
    |   |   |   ├── deprecated_module_py4.txt
    |   |   |   ├── deprecated_module_uninstalled.py
    |   |   |   ├── deprecated_module_uninstalled.txt
    |   |   |   └── deprecated_relative_import
    |   |   ├── dict_iter_missing_items.py
    |   |   ├── dict_iter_missing_items.txt
    |   |   ├── disable_msg_github_issue_1389.py
    |   |   ├── disable_ungrouped_imports.py
    |   |   ├── disable_ungrouped_imports.txt
    |   |   ├── disable_wrong_import_order.py
    |   |   ├── disable_wrong_import_order.txt
    |   |   ├── disable_wrong_import_position.py
    |   |   ├── disabled_msgid_in_pylintrc.py
    |   |   ├── docstrings.py
    |   |   ├── docstrings.txt
    |   |   ├── dotted_ancestor.py
    |   |   ├── dotted_ancestor.txt
    |   |   ├── duplicate_argument_name.py
    |   |   ├── duplicate_argument_name.txt
    |   |   ├── duplicate_argument_name_py3.py
    |   |   ├── duplicate_argument_name_py3.txt
    |   |   ├── duplicate_bases.py
    |   |   ├── duplicate_bases.txt
    |   |   ├── duplicate_dict_literal_key.py
    |   |   ├── duplicate_dict_literal_key.txt
    |   |   ├── duplicate_except.py
    |   |   ├── duplicate_except.txt
    |   |   ├── duplicate_string_formatting_argument.py
    |   |   └── duplicate_string_formatting_argument.txt
    |   ├── e
    |   |   ├── __init__.py
    |   |   ├── e1101_9588_base_attr_aug_assign.py
    |   |   ├── enum_subclasses.py
    |   |   ├── eval_used.py
    |   |   ├── eval_used.txt
    |   |   ├── exception_is_binary_op.py
    |   |   ├── exception_is_binary_op.txt
    |   |   ├── excess_escapes.py
    |   |   ├── excess_escapes.txt
    |   |   ├── exec_used_py3.py
    |   |   ├── exec_used_py3.txt
    |   |   └── external_classmethod_crash.py
    |   ├── ext
    |   |   ├── bad_builtins.py
    |   |   ├── bad_builtins.txt
    |   |   ├── code_style
    |   |   |   ├── code_style_consider_using_namedtuple_or_dataclass.py
    |   |   |   ├── code_style_consider_using_namedtuple_or_dataclass.txt
    |   |   |   ├── code_style_consider_using_tuple.py
    |   |   |   └── code_style_consider_using_tuple.txt
    |   |   ├── confusing_elif.py
    |   |   ├── confusing_elif.txt
    |   |   ├── docparams.py
    |   |   ├── docparams.txt
    |   |   └── typing
    |   |       ├── typing_consider_using_alias.py
    |   |       ├── typing_consider_using_alias.txt
    |   |       ├── typing_consider_using_alias_without_future.py
    |   |       ├── typing_consider_using_alias_without_future.txt
    |   |       ├── typing_consider_using_union.py
    |   |       ├── typing_consider_using_union.txt
    |   |       ├── typing_consider_using_union_py310.py
    |   |       ├── typing_consider_using_union_py310.txt
    |   |       ├── typing_consider_using_union_without_future.py
    |   |       ├── typing_consider_using_union_without_future.txt
    |   |       ├── typing_deprecated_alias.py
    |   |       └── typing_deprecated_alias.txt
    |   ├── f
    |   |   ├── __init__.py
    |   |   ├── f_string_without_interpolation.py
    |   |   ├── f_string_without_interpolation.txt
    |   |   ├── fallback_import_disabled.py
    |   |   ├── fallback_import_enabled.py
    |   |   ├── fallback_import_enabled.txt
    |   |   ├── first_arg.py
    |   |   ├── first_arg.txt
    |   |   ├── fixme.py
    |   |   ├── fixme.txt
    |   |   ├── fixme_bad_formatting_1139.py
    |   |   ├── fixme_bad_formatting_1139.txt
    |   |   ├── formatted_string_literal_with_if_py36.py
    |   |   ├── func_disable_linebased.py
    |   |   ├── func_disable_linebased.txt
    |   |   ├── function_redefined.py
    |   |   ├── function_redefined.txt
    |   |   ├── function_redefined_2540.py
    |   |   ├── future_import.py
    |   |   ├── future_unicode_literals.py
    |   |   └── future_unicode_literals.txt
    |   ├── g
    |   |   ├── __init__.py
    |   |   ├── generated_members.py
    |   |   ├── generated_members.txt
    |   |   ├── generic_alias
    |   |   |   ├── __init__.py
    |   |   |   ├── generic_alias_collections.py
    |   |   |   ├── generic_alias_collections.txt
    |   |   |   ├── generic_alias_collections_py37.py
    |   |   |   ├── generic_alias_collections_py37.txt
    |   |   |   ├── generic_alias_collections_py37_with_typing.py
    |   |   |   ├── generic_alias_collections_py37_with_typing.txt
    |   |   |   ├── generic_alias_mixed_py37.py
    |   |   |   ├── generic_alias_mixed_py37.txt
    |   |   |   ├── generic_alias_mixed_py39.py
    |   |   |   ├── generic_alias_mixed_py39.txt
    |   |   |   ├── generic_alias_postponed_evaluation_py37.py
    |   |   |   ├── generic_alias_postponed_evaluation_py37.txt
    |   |   |   ├── generic_alias_related.py
    |   |   |   ├── generic_alias_related.txt
    |   |   |   ├── generic_alias_related_py39.py
    |   |   |   ├── generic_alias_related_py39.txt
    |   |   |   ├── generic_alias_side_effects.py
    |   |   |   ├── generic_alias_side_effects.txt
    |   |   |   ├── generic_alias_typing.py
    |   |   |   └── generic_alias_typing.txt
    |   |   ├── genexp_in_class_scope.py
    |   |   ├── genexpr_variable_scope.py
    |   |   ├── genexpr_variable_scope.txt
    |   |   ├── globals.py
    |   |   └── globals.txt
    |   ├── i
    |   |   ├── __init__.py
    |   |   ├── implicit
    |   |   |   ├── implicit_str_concat.py
    |   |   |   ├── implicit_str_concat.txt
    |   |   |   ├── implicit_str_concat_latin1.py
    |   |   |   ├── implicit_str_concat_multiline.py
    |   |   |   ├── implicit_str_concat_multiline.txt
    |   |   |   └── implicit_str_concat_utf8.py
    |   |   ├── import_aliasing.py
    |   |   ├── import_aliasing.txt
    |   |   ├── import_error.py
    |   |   ├── import_error.txt
    |   |   ├── import_itself.py
    |   |   ├── import_itself.txt
    |   |   ├── inconsistent
    |   |   |   ├── inconsistent_mro.py
    |   |   |   ├── inconsistent_mro.txt
    |   |   |   ├── inconsistent_quotes.py
    |   |   |   ├── inconsistent_quotes.txt
    |   |   |   ├── inconsistent_quotes2.py
    |   |   |   ├── inconsistent_quotes2.txt
    |   |   |   ├── inconsistent_returns.py
    |   |   |   ├── inconsistent_returns.txt
    |   |   |   ├── inconsistent_returns_noreturn.py
    |   |   |   └── inconsistent_returns_noreturn.txt
    |   |   ├── inference_crash_4692.py
    |   |   ├── inference_crash_4692.txt
    |   |   ├── inherit_non_class.py
    |   |   ├── inherit_non_class.txt
    |   |   ├── init_is_generator.py
    |   |   ├── init_is_generator.txt
    |   |   ├── init_not_called.py
    |   |   ├── init_not_called.txt
    |   |   ├── init_return_from_inner_function.py
    |   |   ├── init_subclass_classmethod_py36.py
    |   |   ├── inner_classes.py
    |   |   ├── invalid
    |   |   |   ├── b
    |   |   |   ├── e
    |   |   |   ├── g
    |   |   |   ├── invalid_all_format.py
    |   |   |   ├── invalid_all_format.txt
    |   |   |   ├── invalid_all_format_valid_1.py
    |   |   |   ├── invalid_all_format_valid_2.py
    |   |   |   ├── invalid_all_object.py
    |   |   |   ├── invalid_all_object.txt
    |   |   |   ├── invalid_class_object.py
    |   |   |   ├── invalid_class_object.txt
    |   |   |   ├── invalid_format_returned.py
    |   |   |   ├── invalid_format_returned.txt
    |   |   |   ├── invalid_hash_returned.py
    |   |   |   ├── invalid_hash_returned.txt
    |   |   |   ├── invalid_index_returned.py
    |   |   |   ├── invalid_index_returned.txt
    |   |   |   ├── invalid_name.py
    |   |   |   ├── invalid_name.txt
    |   |   |   ├── invalid_overridden_method.py
    |   |   |   ├── invalid_overridden_method.txt
    |   |   |   ├── invalid_repr_returned.py
    |   |   |   ├── invalid_repr_returned.txt
    |   |   |   ├── invalid_unary_operand_type.py
    |   |   |   ├── invalid_unary_operand_type.txt
    |   |   |   ├── l
    |   |   |   ├── m
    |   |   |   └── s
    |   |   ├── isinstance_second_argument.py
    |   |   ├── isinstance_second_argument.txt
    |   |   ├── iterable_context.py
    |   |   ├── iterable_context.txt
    |   |   ├── iterable_context_py3.py
    |   |   ├── iterable_context_py3.txt
    |   |   ├── iterable_context_py36.py
    |   |   └── iterable_context_py36.txt
    |   ├── import_outside_toplevel.py
    |   ├── import_outside_toplevel.txt
    |   ├── k
    |   |   ├── __init__.py
    |   |   ├── keyword_arg_before_vararg.py
    |   |   └── keyword_arg_before_vararg.txt
    |   ├── l
    |   |   ├── __init__.py
    |   |   ├── lambda_use_before_assign.py
    |   |   ├── len_checks.py
    |   |   ├── len_checks.txt
    |   |   ├── line_endings.py
    |   |   ├── line_endings.txt
    |   |   ├── line_too_long.py
    |   |   ├── line_too_long.txt
    |   |   ├── line_too_long_end_of_module.py
    |   |   ├── literal_comparison.py
    |   |   ├── literal_comparison.txt
    |   |   ├── logging_format_interpolation.py
    |   |   ├── logging_format_interpolation.txt
    |   |   ├── logging_format_interpolation_py36.py
    |   |   ├── logging_format_interpolation_py36.txt
    |   |   ├── logging_fstring_interpolation_py36.py
    |   |   ├── logging_fstring_interpolation_py36.txt
    |   |   ├── logging_not_lazy.py
    |   |   ├── logging_not_lazy.txt
    |   |   ├── logging_not_lazy_with_logger.py
    |   |   ├── logging_not_lazy_with_logger.txt
    |   |   ├── logical_tautology.py
    |   |   ├── logical_tautology.txt
    |   |   ├── long_lines_with_utf8.py
    |   |   ├── long_lines_with_utf8.txt
    |   |   ├── long_utf8_lines.py
    |   |   ├── loopvar_in_dict_comp_py27.py
    |   |   ├── loopvar_in_dict_comp_py27.txt
    |   |   ├── lost_exception.py
    |   |   └── lost_exception.txt
    |   ├── m
    |   |   ├── __init__.py
    |   |   ├── mapping_context.py
    |   |   ├── mapping_context.txt
    |   |   ├── mapping_context_py3.py
    |   |   ├── mapping_context_py3.txt
    |   |   ├── member
    |   |   |   ├── member_checks.py
    |   |   |   ├── member_checks.txt
    |   |   |   ├── member_checks_hints.py
    |   |   |   ├── member_checks_hints.txt
    |   |   |   ├── member_checks_ignore_none.py
    |   |   |   ├── member_checks_ignore_none.txt
    |   |   |   ├── member_checks_inference_improvements.py
    |   |   |   ├── member_checks_no_hints.py
    |   |   |   ├── member_checks_no_hints.txt
    |   |   |   ├── member_checks_opaque.py
    |   |   |   ├── member_checks_opaque.txt
    |   |   |   ├── member_checks_py37.py
    |   |   |   ├── member_checks_py37.txt
    |   |   |   ├── member_checks_typed_annotations.py
    |   |   |   ├── member_checks_typed_annotations.txt
    |   |   |   ├── membership_protocol.py
    |   |   |   ├── membership_protocol.txt
    |   |   |   ├── membership_protocol_py3.py
    |   |   |   └── membership_protocol_py3.txt
    |   |   ├── metaclass_attr_access.py
    |   |   ├── method_hidden.py
    |   |   ├── method_hidden.txt
    |   |   ├── misplaced_bare_raise.py
    |   |   ├── misplaced_bare_raise.txt
    |   |   ├── misplaced_comparison_constant.py
    |   |   ├── misplaced_comparison_constant.txt
    |   |   ├── misplaced_format_function.py
    |   |   ├── misplaced_format_function.txt
    |   |   ├── misplaced_future.py
    |   |   ├── misplaced_future.txt
    |   |   ├── missing
    |   |   |   ├── missing_docstring.py
    |   |   |   ├── missing_docstring.txt
    |   |   |   ├── missing_docstring_new_style.py
    |   |   |   ├── missing_docstring_new_style.txt
    |   |   |   ├── missing_final_newline.py
    |   |   |   ├── missing_final_newline.txt
    |   |   |   ├── missing_kwoa_py3.py
    |   |   |   ├── missing_kwoa_py3.txt
    |   |   |   ├── missing_module_docstring_disabled.py
    |   |   |   ├── missing_parentheses_for_call_in_test.py
    |   |   |   ├── missing_parentheses_for_call_in_test.txt
    |   |   |   ├── missing_self_argument.py
    |   |   |   └── missing_self_argument.txt
    |   |   ├── module___dict__.py
    |   |   ├── module___dict__.txt
    |   |   ├── monkeypatch_method.py
    |   |   ├── multiple_imports.py
    |   |   └── multiple_imports.txt
    |   ├── n
    |   |   ├── __init__.py
    |   |   ├── name
    |   |   |   ├── namePresetCamelCase.py
    |   |   |   ├── namePresetCamelCase.txt
    |   |   |   ├── name_final.py
    |   |   |   ├── name_final.txt
    |   |   |   ├── name_final_snake_case.py
    |   |   |   ├── name_final_snake_case.txt
    |   |   |   ├── name_good_bad_names_regex.py
    |   |   |   ├── name_good_bad_names_regex.txt
    |   |   |   ├── name_preset_snake_case.py
    |   |   |   ├── name_preset_snake_case.txt
    |   |   |   ├── name_styles.py
    |   |   |   ├── name_styles.txt
    |   |   |   ├── namedtuple_member_inference.py
    |   |   |   ├── namedtuple_member_inference.txt
    |   |   |   ├── names_in__all__.py
    |   |   |   └── names_in__all__.txt
    |   |   ├── nan_comparison_check.py
    |   |   ├── nan_comparison_check.txt
    |   |   ├── nested_blocks_issue1088.py
    |   |   ├── nested_blocks_issue1088.txt
    |   |   ├── nested_func_defined_in_loop.py
    |   |   ├── nested_func_defined_in_loop.txt
    |   |   ├── new_style_class_py_30.py
    |   |   ├── new_style_class_py_30.txt
    |   |   ├── no
    |   |   |   ├── __init__.py
    |   |   |   ├── no_classmethod_decorator.py
    |   |   |   ├── no_classmethod_decorator.txt
    |   |   |   ├── no_dummy_redefined.py
    |   |   |   ├── no_dummy_redefined.txt
    |   |   |   ├── no_else_break.py
    |   |   |   ├── no_else_break.txt
    |   |   |   ├── no_else_continue.py
    |   |   |   ├── no_else_continue.txt
    |   |   |   ├── no_else_raise.py
    |   |   |   ├── no_else_raise.txt
    |   |   |   ├── no_else_return.py
    |   |   |   ├── no_else_return.txt
    |   |   |   ├── no_method_argument_py38.py
    |   |   |   ├── no_name_in_module.py
    |   |   |   ├── no_name_in_module.txt
    |   |   |   ├── no_self_argument.py
    |   |   |   ├── no_self_argument.txt
    |   |   |   ├── no_self_argument_py37.py
    |   |   |   ├── no_self_argument_py37.txt
    |   |   |   ├── no_self_use.py
    |   |   |   ├── no_self_use.txt
    |   |   |   ├── no_self_use_py3.py
    |   |   |   ├── no_staticmethod_decorator.py
    |   |   |   ├── no_staticmethod_decorator.txt
    |   |   |   └── no_warning_docstring.py
    |   |   ├── non
    |   |   |   ├── __init__.py
    |   |   |   ├── non_ascii_name.py
    |   |   |   ├── non_ascii_name.txt
    |   |   |   ├── non_init_parent_called.py
    |   |   |   ├── non_init_parent_called.txt
    |   |   |   ├── non_iterator_returned.py
    |   |   |   ├── non_iterator_returned.txt
    |   |   |   ├── non_str_assignment_to_dunder_name.py
    |   |   |   └── non_str_assignment_to_dunder_name.txt
    |   |   ├── none_dunder_protocols_py36.py
    |   |   ├── none_dunder_protocols_py36.txt
    |   |   ├── nonexistent_operator.py
    |   |   ├── nonexistent_operator.txt
    |   |   ├── nonlocal_and_global.py
    |   |   ├── nonlocal_and_global.txt
    |   |   ├── nonlocal_without_binding.py
    |   |   ├── nonlocal_without_binding.txt
    |   |   ├── not_async_context_manager.py
    |   |   ├── not_async_context_manager.txt
    |   |   ├── not_async_context_manager_py37.py
    |   |   ├── not_callable.py
    |   |   ├── not_callable.txt
    |   |   ├── not_context_manager.py
    |   |   ├── not_context_manager.txt
    |   |   ├── not_in_loop.py
    |   |   └── not_in_loop.txt
    |   ├── o
    |   |   ├── __init__.py
    |   |   ├── object_as_class_attribute.py
    |   |   ├── old_division_floats.py
    |   |   ├── old_division_manually.py
    |   |   └── overloaded_operator.py
    |   ├── p
    |   |   ├── __init__.py
    |   |   ├── pattern_matching.py
    |   |   ├── plugin_does_not_exists.py
    |   |   ├── plugin_does_not_exists.txt
    |   |   ├── postponed_evaluation_activated.py
    |   |   ├── postponed_evaluation_activated_with_alias.py
    |   |   ├── postponed_evaluation_not_activated.py
    |   |   ├── postponed_evaluation_not_activated.txt
    |   |   ├── postponed_evaluation_pep585.py
    |   |   ├── postponed_evaluation_pep585.txt
    |   |   ├── postponed_evaluation_pep585_error.py
    |   |   ├── postponed_evaluation_pep585_error.txt
    |   |   ├── postponed_evaluation_pep585_py39.py
    |   |   ├── postponed_evaluation_pep585_py39.txt
    |   |   ├── pragma_after_backslash.py
    |   |   ├── preferred_module.py
    |   |   ├── preferred_module.txt
    |   |   ├── property_affectation_py26.py
    |   |   ├── property_with_parameters.py
    |   |   ├── property_with_parameters.txt
    |   |   ├── protected_access_access_different_scopes.py
    |   |   ├── protected_access_access_different_scopes.txt
    |   |   ├── protocol_classes.py
    |   |   └── protocol_classes.txt
    |   ├── r
    |   |   ├── __init__.py
    |   |   ├── raise
    |   |   |   ├── raise_missing_from.py
    |   |   |   ├── raise_missing_from.txt
    |   |   |   ├── raising_format_tuple.py
    |   |   |   ├── raising_format_tuple.txt
    |   |   |   ├── raising_non_exception_py3.py
    |   |   |   ├── raising_non_exception_py3.txt
    |   |   |   └── raising_self.py
    |   |   ├── recursion
    |   |   |   ├── recursion_error_2667.py
    |   |   |   ├── recursion_error_2836.py
    |   |   |   ├── recursion_error_2861.py
    |   |   |   ├── recursion_error_2899.py
    |   |   |   ├── recursion_error_2906.py
    |   |   |   ├── recursion_error_3152.py
    |   |   |   ├── recursion_error_3159.py
    |   |   |   ├── recursion_error_940.py
    |   |   |   ├── recursion_error_crash.py
    |   |   |   ├── recursion_error_crash_2683.py
    |   |   |   ├── recursion_error_crash_astroid_623.py
    |   |   |   └── recursion_regression_2960.py
    |   |   ├── redeclared_assigned_name.py
    |   |   ├── redeclared_assigned_name.txt
    |   |   ├── redefine_loop.py
    |   |   ├── redefine_loop.txt
    |   |   ├── redefined_argument_from_local.py
    |   |   ├── redefined_argument_from_local.txt
    |   |   ├── redefined_builtin.py
    |   |   ├── redefined_builtin.txt
    |   |   ├── redefined_builtin_allowed.py
    |   |   ├── redefined_builtin_allowed.txt
    |   |   ├── redefined_outer_name_type_checking.py
    |   |   ├── redundant_unittest_assert.py
    |   |   ├── redundant_unittest_assert.txt
    |   |   ├── regression
    |   |   |   ├── regression_1326_crash_uninferable.py
    |   |   |   ├── regression_2306_enum_value.py
    |   |   |   ├── regression_2443_duplicate_bases.py
    |   |   |   ├── regression_2913.py
    |   |   |   ├── regression_2913.txt
    |   |   |   ├── regression_2937_ifexp.py
    |   |   |   ├── regression_3091.py
    |   |   |   ├── regression_3231_no_member_property.py
    |   |   |   ├── regression_3416_unused_argument_raise.py
    |   |   |   ├── regression_3416_unused_argument_raise.txt
    |   |   |   ├── regression_3535_double_enum_inherit.py
    |   |   |   ├── regression_3595_notcallable_collections.py
    |   |   |   ├── regression_4221_object_instanceattr.py
    |   |   |   ├── regression_4358_unsubscriptable_enum.py
    |   |   |   ├── regression_4439.py
    |   |   |   ├── regression_4439.txt
    |   |   |   ├── regression_4612_crash_pytest_fixture.py
    |   |   |   ├── regression_4680.py
    |   |   |   ├── regression_4680.txt
    |   |   |   ├── regression_4688_duplicated_bases_member_hints.py
    |   |   |   ├── regression_4688_duplicated_bases_member_hints.txt
    |   |   |   ├── regression_4723.py
    |   |   |   ├── regression_4723.txt
    |   |   |   ├── regression___file___global.py
    |   |   |   ├── regression___file___global.txt
    |   |   |   ├── regression_implicit_none_with_no_return.py
    |   |   |   ├── regression_implicit_none_with_no_return.txt
    |   |   |   ├── regression_infer_call_result_3690.py
    |   |   |   ├── regression_infer_call_result_3690.txt
    |   |   |   ├── regression_issue_4631.py
    |   |   |   ├── regression_issue_4633.py
    |   |   |   ├── regression_no_member_1078.py
    |   |   |   ├── regression_no_value_for_parameter.py
    |   |   |   ├── regression_posonly_args.py
    |   |   |   ├── regression_properties_in_class_context.py
    |   |   |   ├── regression_properties_in_class_context.txt
    |   |   |   ├── regression_property_no_member_2641.py
    |   |   |   ├── regression_property_no_member_3269.py
    |   |   |   ├── regression_property_no_member_844.py
    |   |   |   ├── regression_property_no_member_870.py
    |   |   |   ├── regression_property_slots_2439.py
    |   |   |   └── regression_too_many_arguments_2335.py
    |   |   ├── reimport.py
    |   |   ├── reimport.txt
    |   |   ├── reimported.py
    |   |   ├── reimported.txt
    |   |   ├── renamed_import_logging_not_lazy.py
    |   |   ├── renamed_import_logging_not_lazy.txt
    |   |   ├── repeated_keyword.py
    |   |   ├── repeated_keyword.txt
    |   |   ├── return_in_init.py
    |   |   ├── return_in_init.txt
    |   |   ├── return_outside_function.py
    |   |   ├── return_outside_function.txt
    |   |   ├── reused_outer_loop_variable.py
    |   |   ├── reused_outer_loop_variable.txt
    |   |   ├── reused_outer_loop_variable_py3.py
    |   |   └── reused_outer_loop_variable_py3.txt
    |   ├── s
    |   |   ├── __init__.py
    |   |   ├── self
    |   |   |   ├── self_assigning_variable.py
    |   |   |   ├── self_assigning_variable.txt
    |   |   |   ├── self_cls_assignment.py
    |   |   |   └── self_cls_assignment.txt
    |   |   ├── signature_differs.py
    |   |   ├── signature_differs.txt
    |   |   ├── simplifiable
    |   |   |   ├── simplifiable_condition.py
    |   |   |   ├── simplifiable_condition.txt
    |   |   |   ├── simplifiable_if_expression.py
    |   |   |   ├── simplifiable_if_expression.txt
    |   |   |   ├── simplifiable_if_statement.py
    |   |   |   ├── simplifiable_if_statement.txt
    |   |   |   ├── simplify_chained_comparison.py
    |   |   |   └── simplify_chained_comparison.txt
    |   |   ├── singledispatch_functions_py3.py
    |   |   ├── singledispatch_functions_py3.txt
    |   |   ├── singleton_comparison.py
    |   |   ├── singleton_comparison.txt
    |   |   ├── slots_checks.py
    |   |   ├── slots_checks.txt
    |   |   ├── socketerror_import.py
    |   |   ├── star
    |   |   |   ├── star_needs_assignment_target.py
    |   |   |   ├── star_needs_assignment_target.txt
    |   |   |   ├── star_needs_assignment_target_py35.py
    |   |   |   └── star_needs_assignment_target_py35.txt
    |   |   ├── statement_without_effect.py
    |   |   ├── statement_without_effect.txt
    |   |   ├── statement_without_effect_py36.py
    |   |   ├── statement_without_effect_py36.txt
    |   |   ├── stop_iteration_inside_generator.py
    |   |   ├── stop_iteration_inside_generator.txt
    |   |   ├── string
    |   |   |   ├── string_formatting.py
    |   |   |   ├── string_formatting.txt
    |   |   |   ├── string_formatting_disable.py
    |   |   |   ├── string_formatting_disable.txt
    |   |   |   ├── string_formatting_error.py
    |   |   |   ├── string_formatting_error.txt
    |   |   |   ├── string_formatting_failed_inference.py
    |   |   |   ├── string_formatting_failed_inference_py35.py
    |   |   |   ├── string_formatting_py3.py
    |   |   |   ├── string_formatting_py3.txt
    |   |   |   ├── string_log_formatting.py
    |   |   |   └── string_log_formatting.txt
    |   |   ├── subprocess_popen_preexec_fn.py
    |   |   ├── subprocess_popen_preexec_fn.txt
    |   |   ├── subprocess_run_check35.py
    |   |   ├── subprocess_run_check35.txt
    |   |   ├── super
    |   |   |   ├── super_checks.py
    |   |   |   ├── super_checks.txt
    |   |   |   ├── super_with_arguments.py
    |   |   |   └── super_with_arguments.txt
    |   |   ├── superfluous_parens.py
    |   |   ├── superfluous_parens.txt
    |   |   ├── suspicious_str_strip_call_py3.py
    |   |   ├── suspicious_str_strip_call_py3.txt
    |   |   ├── syntax_error.py
    |   |   ├── syntax_error.txt
    |   |   ├── syntax_error_jython.py
    |   |   ├── syntax_error_jython.txt
    |   |   ├── sys_stream_regression_1004.py
    |   |   └── sys_stream_regression_1004.txt
    |   ├── t
    |   |   ├── __init__.py
    |   |   ├── ternary.py
    |   |   ├── ternary.txt
    |   |   ├── test_compile.py
    |   |   ├── tokenize_error.py
    |   |   ├── tokenize_error.txt
    |   |   ├── tokenize_error_jython.py
    |   |   ├── tokenize_error_jython.txt
    |   |   ├── too
    |   |   |   ├── __init__.py
    |   |   |   ├── too_few_public_methods.py
    |   |   |   ├── too_few_public_methods.txt
    |   |   |   ├── too_few_public_methods_37.py
    |   |   |   ├── too_many_ancestors.py
    |   |   |   ├── too_many_ancestors.txt
    |   |   |   ├── too_many_arguments.py
    |   |   |   ├── too_many_arguments.txt
    |   |   |   ├── too_many_arguments_issue_1045.py
    |   |   |   ├── too_many_arguments_overload.py
    |   |   |   ├── too_many_boolean_expressions.py
    |   |   |   ├── too_many_boolean_expressions.txt
    |   |   |   ├── too_many_branches.py
    |   |   |   ├── too_many_branches.txt
    |   |   |   ├── too_many_instance_attributes.py
    |   |   |   ├── too_many_instance_attributes.txt
    |   |   |   ├── too_many_lines.py
    |   |   |   ├── too_many_lines.txt
    |   |   |   ├── too_many_lines_disabled.py
    |   |   |   ├── too_many_locals.py
    |   |   |   ├── too_many_locals.txt
    |   |   |   ├── too_many_nested_blocks.py
    |   |   |   ├── too_many_nested_blocks.txt
    |   |   |   ├── too_many_public_methods.py
    |   |   |   ├── too_many_public_methods.txt
    |   |   |   ├── too_many_return_statements.py
    |   |   |   ├── too_many_return_statements.txt
    |   |   |   ├── too_many_star_expressions.py
    |   |   |   ├── too_many_star_expressions.txt
    |   |   |   ├── too_many_statements.py
    |   |   |   └── too_many_statements.txt
    |   |   ├── trailing_comma_tuple.py
    |   |   ├── trailing_comma_tuple.txt
    |   |   ├── trailing_newlines.py
    |   |   ├── trailing_newlines.txt
    |   |   ├── trailing_whitespaces.py
    |   |   ├── trailing_whitespaces.txt
    |   |   ├── try_except_raise.py
    |   |   ├── try_except_raise.txt
    |   |   ├── try_except_raise_crash.py
    |   |   ├── try_except_raise_crash.txt
    |   |   ├── typedDict.py
    |   |   ├── typing_generic.py
    |   |   ├── typing_use.py
    |   |   └── typing_use.txt
    |   ├── u
    |   |   ├── __init__.py
    |   |   ├── unbalanced_tuple_unpacking.py
    |   |   ├── unbalanced_tuple_unpacking.txt
    |   |   ├── unbalanced_tuple_unpacking_py30.py
    |   |   ├── undefined
    |   |   |   ├── undefined_loop_variable.py
    |   |   |   ├── undefined_loop_variable.txt
    |   |   |   ├── undefined_variable.py
    |   |   |   ├── undefined_variable.txt
    |   |   |   ├── undefined_variable_crash_on_attribute.py
    |   |   |   ├── undefined_variable_py30.py
    |   |   |   └── undefined_variable_py30.txt
    |   |   ├── unexpected_special_method_signature.py
    |   |   ├── unexpected_special_method_signature.txt
    |   |   ├── ungrouped_imports.py
    |   |   ├── ungrouped_imports.txt
    |   |   ├── ungrouped_imports_isort_compatible.py
    |   |   ├── unhashable_dict_key.py
    |   |   ├── unhashable_dict_key.txt
    |   |   ├── unidiomatic_typecheck.py
    |   |   ├── unidiomatic_typecheck.txt
    |   |   ├── uninferable_all_object.py
    |   |   ├── unknown_encoding_jython.py
    |   |   ├── unknown_encoding_jython.txt
    |   |   ├── unnecessary
    |   |   |   ├── unnecessary_comprehension.py
    |   |   |   ├── unnecessary_comprehension.txt
    |   |   |   ├── unnecessary_dict_index_lookup.py
    |   |   |   ├── unnecessary_dict_index_lookup.txt
    |   |   |   ├── unnecessary_lambda.py
    |   |   |   ├── unnecessary_lambda.txt
    |   |   |   ├── unnecessary_not.py
    |   |   |   ├── unnecessary_not.txt
    |   |   |   ├── unnecessary_pass.py
    |   |   |   └── unnecessary_pass.txt
    |   |   ├── unpacking.py
    |   |   ├── unpacking_generalizations.py
    |   |   ├── unpacking_generalizations.txt
    |   |   ├── unpacking_non_sequence.py
    |   |   ├── unpacking_non_sequence.txt
    |   |   ├── unreachable.py
    |   |   ├── unreachable.txt
    |   |   ├── unrecognized_inline_option.py
    |   |   ├── unrecognized_inline_option.txt
    |   |   ├── unspecified_encoding_py38.py
    |   |   ├── unspecified_encoding_py38.txt
    |   |   ├── unsubscriptable_value.py
    |   |   ├── unsubscriptable_value.txt
    |   |   ├── unsubscriptable_value_py37.py
    |   |   ├── unsubscriptable_value_py37.txt
    |   |   ├── unsupported
    |   |   |   ├── unsupported_assignment_operation.py
    |   |   |   ├── unsupported_assignment_operation.txt
    |   |   |   ├── unsupported_binary_operation.py
    |   |   |   ├── unsupported_binary_operation.txt
    |   |   |   ├── unsupported_delete_operation.py
    |   |   |   └── unsupported_delete_operation.txt
    |   |   ├── unused
    |   |   |   ├── __init__.py
    |   |   |   ├── unused_argument.py
    |   |   |   ├── unused_argument.txt
    |   |   |   ├── unused_argument_py3.py
    |   |   |   ├── unused_argument_py3.txt
    |   |   |   ├── unused_global_variable1.py
    |   |   |   ├── unused_global_variable2.py
    |   |   |   ├── unused_global_variable2.txt
    |   |   |   ├── unused_global_variable3.py
    |   |   |   ├── unused_global_variable4.py
    |   |   |   ├── unused_global_variable4.txt
    |   |   |   ├── unused_import.py
    |   |   |   ├── unused_import.txt
    |   |   |   ├── unused_import_assigned_to.py
    |   |   |   ├── unused_import_class_def_keyword.py
    |   |   |   ├── unused_import_everything_disabled.py
    |   |   |   ├── unused_import_positional_only_py38.py
    |   |   |   ├── unused_import_py30.py
    |   |   |   ├── unused_import_py30.txt
    |   |   |   ├── unused_name_from_wilcard_import.py
    |   |   |   ├── unused_name_from_wilcard_import.txt
    |   |   |   ├── unused_private_member.py
    |   |   |   ├── unused_private_member.txt
    |   |   |   ├── unused_typing_imports.py
    |   |   |   ├── unused_variable.py
    |   |   |   ├── unused_variable.txt
    |   |   |   └── unused_variable_py36.py
    |   |   ├── use
    |   |   |   ├── use_a_generator.py
    |   |   |   ├── use_a_generator.txt
    |   |   |   ├── use_maxsplit_arg.py
    |   |   |   ├── use_maxsplit_arg.txt
    |   |   |   ├── use_symbolic_message_instead.py
    |   |   |   ├── use_symbolic_message_instead.txt
    |   |   |   ├── used_before_assignement.py
    |   |   |   ├── used_before_assignement.txt
    |   |   |   ├── used_before_assignment_488.py
    |   |   |   ├── used_before_assignment_issue1081.py
    |   |   |   ├── used_before_assignment_issue1081.txt
    |   |   |   ├── used_before_assignment_issue853.py
    |   |   |   ├── used_before_assignment_nonlocal.py
    |   |   |   ├── used_before_assignment_nonlocal.txt
    |   |   |   ├── used_prior_global_declaration.py
    |   |   |   ├── used_prior_global_declaration.txt
    |   |   |   ├── using_constant_test.py
    |   |   |   └── using_constant_test.txt
    |   |   └── useless
    |   |       ├── useless_else_on_loop.py
    |   |       ├── useless_else_on_loop.txt
    |   |       ├── useless_object_inheritance.py
    |   |       ├── useless_object_inheritance.txt
    |   |       ├── useless_return.py
    |   |       ├── useless_return.txt
    |   |       ├── useless_super_delegation.py
    |   |       ├── useless_super_delegation.txt
    |   |       ├── useless_super_delegation_py3.py
    |   |       ├── useless_super_delegation_py3.txt
    |   |       ├── useless_super_delegation_py35.py
    |   |       ├── useless_super_delegation_py35.txt
    |   |       ├── useless_super_delegation_py38.py
    |   |       ├── useless_super_delegation_py38.txt
    |   |       ├── useless_type_doc.py
    |   |       └── useless_type_doc.txt
    |   ├── w
    |   |   ├── __init__.py
    |   |   ├── wildcard_import.py
    |   |   ├── wildcard_import.txt
    |   |   ├── wildcard_import_allowed.py
    |   |   ├── wildcard_import_allowed.txt
    |   |   ├── with_used_before_assign.py
    |   |   ├── with_used_before_assign.txt
    |   |   ├── with_using_generator.py
    |   |   ├── with_using_generator.txt
    |   |   ├── wrong_exception_operation.py
    |   |   ├── wrong_exception_operation.txt
    |   |   ├── wrong_import_order.py
    |   |   ├── wrong_import_order.txt
    |   |   ├── wrong_import_order2.py
    |   |   ├── wrong_import_position.py
    |   |   ├── wrong_import_position.txt
    |   |   ├── wrong_import_position10.py
    |   |   ├── wrong_import_position11.py
    |   |   ├── wrong_import_position11.txt
    |   |   ├── wrong_import_position12.py
    |   |   ├── wrong_import_position12.txt
    |   |   ├── wrong_import_position13.py
    |   |   ├── wrong_import_position13.txt
    |   |   ├── wrong_import_position14.py
    |   |   ├── wrong_import_position14.txt
    |   |   ├── wrong_import_position15.py
    |   |   ├── wrong_import_position2.py
    |   |   ├── wrong_import_position3.py
    |   |   ├── wrong_import_position4.py
    |   |   ├── wrong_import_position5.py
    |   |   ├── wrong_import_position6.py
    |   |   ├── wrong_import_position7.py
    |   |   ├── wrong_import_position8.py
    |   |   ├── wrong_import_position9.py
    |   |   └── wrong_import_position_exclude_dunder_main.py
    |   └── y
    |       ├── __init__.py
    |       ├── yield_assign_py25.py
    |       ├── yield_from_iterable_py33.py
    |       ├── yield_from_iterable_py33.txt
    |       ├── yield_from_outside_func.py
    |       ├── yield_from_outside_func.txt
    |       ├── yield_inside_async_function.py
    |       ├── yield_inside_async_function.txt
    |       ├── yield_inside_async_function_py36.py
    |       ├── yield_inside_async_function_py36.txt
    |       ├── yield_outside_func.py
    |       ├── yield_outside_func.txt
    |       └── yield_return_mix.py
    ├── input
    |   ├── __init__.py
    |   ├── benchmark_minimal_file.py
    |   ├── func_3k_removed_stuff_py_30.py
    |   ├── func_i0011.py
    |   ├── func_i0012.py
    |   ├── func_i0013.py
    |   ├── func_i0014.py
    |   ├── func_i0020.py
    |   ├── func_i0022.py
    |   ├── func_noerror_cycle
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── b.py
    |   ├── func_return_yield_mix_py_33.py
    |   ├── func_w0122_py_30.py
    |   ├── func_w0332_py_30.py
    |   ├── func_w0401.py
    |   ├── func_w0401_disabled.py
    |   ├── func_w0401_disabled_in_func.py
    |   ├── func_w0401_package
    |   |   ├── __init__.py
    |   |   ├── all_the_things.py
    |   |   ├── thing1.py
    |   |   └── thing2.py
    |   ├── func_w0801.py
    |   ├── hide_code_with_imports.py
    |   ├── ignore_except_pass_by_default.py
    |   ├── no_absolute_import.py
    |   ├── not__init__.py
    |   ├── similar_empty_func_1.py
    |   ├── similar_empty_func_2.py
    |   ├── similar_lines_a.py
    |   ├── similar_lines_b.py
    |   ├── w0401_cycle.py
    |   └── w0801_same.py
    ├── lint
    |   ├── __init__.py
    |   ├── unittest_expand_modules.py
    |   └── unittest_lint.py
    ├── message
    |   ├── __init__.py
    |   ├── conftest.py
    |   ├── unittest_message.py
    |   ├── unittest_message_definition.py
    |   ├── unittest_message_definition_store.py
    |   └── unittest_message_id_store.py
    ├── messages
    |   ├── builtin_module.txt
    |   ├── func_3k_removed_stuff_py_30.txt
    |   ├── func_bad_cont_dictcomp_py27.txt
    |   ├── func_bug113231.txt
    |   ├── func_disable_linebased.txt
    |   ├── func_disable_linebased_py30.txt
    |   ├── func_i0011.txt
    |   ├── func_i0012.txt
    |   ├── func_i0013.txt
    |   ├── func_i0014.txt
    |   ├── func_i0020.txt
    |   ├── func_i0022.txt
    |   ├── func_noerror_cycle.txt
    |   ├── func_raw_escapes.txt
    |   ├── func_return_yield_mix_py_33.txt
    |   ├── func_toolonglines_py30.txt
    |   ├── func_typecheck_callfunc_assigment.txt
    |   ├── func_typecheck_getattr_py30.txt
    |   ├── func_typecheck_non_callable_call.txt
    |   ├── func_unicode_literal_py26.txt
    |   ├── func_unicode_literal_py274.txt
    |   ├── func_use_for_or_listcomp_var_py29.txt
    |   ├── func_use_for_or_listcomp_var_py30.txt
    |   ├── func_variables_unused_name_from_wilcard_import.txt
    |   ├── func_w0122_py_30.txt
    |   ├── func_w0312.txt
    |   ├── func_w0332_py_30.txt
    |   ├── func_w0401.txt
    |   ├── func_w0401_disabled.txt
    |   ├── func_w0401_disabled_in_func.txt
    |   ├── func_w0401_package.txt
    |   ├── func_w0622.txt
    |   ├── func_w0623.txt
    |   ├── func_w0623_py_30.txt
    |   ├── func_w0801.txt
    |   └── func_with_without_as_py25.txt
    ├── profile
    |   └── test_profile_against_externals.py
    ├── regrtest_data
    |   ├── absimp
    |   |   ├── __init__.py
    |   |   └── string.py
    |   ├── application_crash.py
    |   ├── bad_package
    |   |   ├── __init__.py
    |   |   └── wrong.py
    |   ├── beyond_top
    |   |   ├── __init__.py
    |   |   └── data.py
    |   ├── classdoc_usage.py
    |   ├── dataclasses_pyreverse
    |   |   └── __init__.py
    |   ├── decimal_inference.py
    |   ├── descriptor_crash.py
    |   ├── dummy
    |   |   ├── __init__.py
    |   |   ├── another.py
    |   |   └── dummy.py
    |   ├── dummy_plugin
    |   |   ├── dummy_conf_plugin.py
    |   |   └── dummy_plugin.py
    |   ├── duplicate_data_raw_strings
    |   |   ├── __init__.py
    |   |   ├── first.py
    |   |   └── second.py
    |   ├── empty.py
    |   ├── fail_on.py
    |   ├── fail_on_info_only.py
    |   ├── fail_under_minus10.py
    |   ├── fail_under_plus7_5.py
    |   ├── func_block_disable_msg.py
    |   ├── import_assign.py
    |   ├── import_package_subpackage_module.py
    |   ├── import_something.py
    |   ├── init_wildcard
    |   |   └── __init__.py
    |   ├── meta.py
    |   ├── module_global.py
    |   ├── no_stdout_encoding.py
    |   ├── numarray_import.py
    |   ├── numarray_inf.py
    |   ├── package
    |   |   ├── AudioTime.py
    |   |   ├── __init__.py
    |   |   └── subpackage
    |   |       ├── __init__.py
    |   |       └── module.py
    |   ├── package_all
    |   |   ├── __init__.py
    |   |   └── notmissing.py
    |   ├── precedence_test.py
    |   ├── py3k_error_flag.py
    |   ├── py3k_errors_and_warnings.py
    |   ├── regression_missing_init_3564
    |   |   └── subdirectory
    |   |       └── file.py
    |   ├── special_attr_scope_lookup_crash.py
    |   ├── syntax_error.py
    |   ├── test_pylintrc_comments.py
    |   ├── try_finally_disable_msg_crash.py
    |   ├── unused_variable.py
    |   ├── wildcard.py
    |   └── wrong_import_position.py
    ├── test_check_parallel.py
    ├── test_config.py
    ├── test_epylint.py
    ├── test_func.py
    ├── test_functional.py
    ├── test_import_graph.py
    ├── test_numversion.py
    ├── test_pragma_parser.py
    ├── test_pylint_runners.py
    ├── test_regr.py
    ├── test_self.py
    ├── testutils
    |   └── test_output_line.py
    ├── unittest_config.py
    ├── unittest_pyreverse_diadefs.py
    ├── unittest_pyreverse_inspector.py
    ├── unittest_pyreverse_writer.py
    ├── unittest_reporters_json.py
    ├── unittest_reporting.py
    └── utils
        ├── __init__.py
        ├── unittest_ast_walker.py
        └── unittest_utils.py
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: Make pylint XDG Base Directory Specification compliant

Description: I have this really annoying `.pylint.d` directory in my home folder. From what I can tell (I don't do C or C++), this directory is storing data. 

The problem with this is, quite simply, that data storage has a designated spot. The `$HOME/.local/share/<PROGRAM_NAME>` folder. This is a part of the [XDG Base Directory Specification](https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html). A system that designates the folders for specific things like cached files (`$HOME/.cache/<PROGRAM_NAME>`), configuration files (`$HOME/.config/<PROGRAM_NAME>`), and data files (`$HOME/.local/share/<PROGRAM_NAME>`), among other things. The point is to keep user home directories clean and the user sane. 

This should be pretty easy to implement. Simply change the variables/constants for where these files are made and stored to the appropriate directory. Simple as that, even for a large codebase (if it was done right). 

Patch information:
diff --git a/doc/faq.rst b/doc/faq.rst
index c817855f8..32d54bc2a 100644
--- a/doc/faq.rst
+++ b/doc/faq.rst
@@ -93,10 +93,12 @@ localized using the following rules:
 
 * value of the PYLINTHOME environment variable if set
 
-* ".pylint.d" subdirectory of the user's home directory if it is found
-	(not always findable on Windows platforms)
+* Otherwise, under the XDG Base Directory Specification data directory:
+  $XDG_DATA_HOME/pylint (by default: ~/.local/share/pylint)
 
-* ".pylint.d" directory in the current directory
+For backward compatibility, Pylint may still read existing data from legacy
+locations such as ~/.pylint.d or ./.pylint.d if present, but new data will be
+stored under the XDG-compliant path.
 
 3.3 How do I find the option name (for pylintrc) corresponding to a specific command line option?
 --------------------------------------------------------------------------------------------------------
diff --git a/pylint/config/__init__.py b/pylint/config/__init__.py
index 84774d0e3..6577e23ad 100644
--- a/pylint/config/__init__.py
+++ b/pylint/config/__init__.py
@@ -60,10 +60,17 @@ if "PYLINTHOME" in os.environ:
     PYLINT_HOME = os.environ["PYLINTHOME"]
     if USER_HOME == "~":
         USER_HOME = os.path.dirname(PYLINT_HOME)
-elif USER_HOME == "~":
-    PYLINT_HOME = ".pylint.d"
 else:
-    PYLINT_HOME = os.path.join(USER_HOME, ".pylint.d")
+    xdg_data_home = os.environ.get("XDG_DATA_HOME")
+    if not xdg_data_home:
+        if USER_HOME == "~":
+            # Fall back to legacy behavior if the user home cannot be resolved
+            PYLINT_HOME = ".pylint.d"
+        else:
+            xdg_data_home = os.path.join(USER_HOME, ".local", "share")
+            PYLINT_HOME = os.path.join(xdg_data_home, "pylint")
+    else:
+        PYLINT_HOME = os.path.join(xdg_data_home, "pylint")
 
 
 def _get_pdata_path(base_name, recurs):
@@ -73,9 +80,28 @@ def _get_pdata_path(base_name, recurs):
 
 def load_results(base):
     data_file = _get_pdata_path(base, 1)
+    # Try XDG/PYLINTHOME path first
     try:
         with open(data_file, "rb") as stream:
             return pickle.load(stream)
+    except FileNotFoundError:
+        # Try legacy paths for backward compatibility
+        if "PYLINTHOME" not in os.environ:
+            legacy_dirs = []
+            if USER_HOME != "~":
+                legacy_dirs.append(os.path.join(USER_HOME, ".pylint.d"))
+            legacy_dirs.append(os.path.join(os.getcwd(), ".pylint.d"))
+            base_name = base.replace(os.sep, "_")
+            for legacy_home in legacy_dirs:
+                legacy_file = os.path.join(legacy_home, f"{base_name}1.stats")
+                try:
+                    with open(legacy_file, "rb") as stream:
+                        return pickle.load(stream)
+                except FileNotFoundError:
+                    continue
+                except Exception:  # pylint: disable=broad-except
+                    return {}
+        return {}
     except Exception:  # pylint: disable=broad-except
         return {}
 
@@ -83,7 +109,7 @@ def load_results(base):
 def save_results(results, base):
     if not os.path.exists(PYLINT_HOME):
         try:
-            os.mkdir(PYLINT_HOME)
+            os.makedirs(PYLINT_HOME, exist_ok=True)
         except OSError:
             print("Unable to create directory %s" % PYLINT_HOME, file=sys.stderr)
     data_file = _get_pdata_path(base, 1)
@@ -110,11 +136,15 @@ ENV_HELP = (
 The following environment variables are used:
     * PYLINTHOME
     Path to the directory where persistent data for the run will be stored. If
-not found, it defaults to ~/.pylint.d/ or .pylint.d (in the current working
-directory).
+    not set, Pylint will use the XDG Base Directory Specification and store
+    persistent data under $XDG_DATA_HOME/pylint (default: ~/.local/share/pylint).
+    * XDG_DATA_HOME
+    Base directory for user-specific data files. Defaults to ~/.local/share.
+    * XDG_CONFIG_HOME
+    Base directory for user-specific configuration files. Defaults to ~/.config.
     * PYLINTRC
     Path to the configuration file. See the documentation for the method used
-to search for configuration file.
+    to search for configuration file.
 """
     % globals()  # type: ignore
 )
diff --git a/pylint/config/find_default_config_files.py b/pylint/config/find_default_config_files.py
index 2a8937e52..086c2de61 100644
--- a/pylint/config/find_default_config_files.py
+++ b/pylint/config/find_default_config_files.py
@@ -58,6 +58,17 @@ def find_default_config_files():
     else:
         user_home = os.path.expanduser("~")
         if user_home not in ("~", "/root"):
+            # XDG config locations
+            xdg_config_home = os.environ.get("XDG_CONFIG_HOME") or os.path.join(
+                user_home, ".config"
+            )
+            home_rc = os.path.join(xdg_config_home, "pylintrc")
+            if os.path.isfile(home_rc):
+                yield home_rc
+            home_rc = os.path.join(xdg_config_home, "pylint", "pylintrc")
+            if os.path.isfile(home_rc):
+                yield home_rc
+            # Legacy locations
             home_rc = os.path.join(user_home, ".pylintrc")
             if os.path.isfile(home_rc):
                 yield home_rc


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/test_config.py` and `tests/unittest_config.py`.
Extra Requirements: 
Purpose: I need to analyze these files to find existing tests that cover configuration loading, environment variable handling, and data persistence, which are the core areas affected by the user's patch.

Previous refined query 2:
Essential Query: Please provide the full content of `tests/test_functional.py` and `tests/checkers/unittest_similar.py`.
Extra Requirements: 
Purpose: I need these files to find tests that cover pylint's interaction with the file system for configuration loading and data persistence, which are the key areas affected by the patch for XDG compliance.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/checkers/unittest_similar.py
Line number range: 1 - 439
Content:
1. # Copyright (c) 2010, 2012, 2014 LOGILAB S.A. (Paris, FRANCE) <contact@logilab.fr>
2. # Copyright (c) 2012 Ry4an Brase <ry4an-hg@ry4an.org>
3. # Copyright (c) 2014 Google, Inc.
4. # Copyright (c) 2015 Ionel Cristian Maries <contact@ionelmc.ro>
5. # Copyright (c) 2016-2018, 2020 Claudiu Popa <pcmanticore@gmail.com>
6. # Copyright (c) 2016 Derek Gustafson <degustaf@gmail.com>
7. # Copyright (c) 2018 Scott Worley <scottworley@scottworley.com>
8. # Copyright (c) 2018 Sushobhit <31987769+sushobhit27@users.noreply.github.com>
9. # Copyright (c) 2019-2021 Pierre Sassoulas <pierre.sassoulas@gmail.com>
10. # Copyright (c) 2019 Ashley Whetter <ashley@awhetter.co.uk>
11. # Copyright (c) 2019 Taewon D. Kim <kimt33@mcmaster.ca>
12. # Copyright (c) 2020 Frank Harrison <frank@doublethefish.com>
13. # Copyright (c) 2020 Eli Fine <ejfine@gmail.com>
14. # Copyright (c) 2020 hippo91 <guillaume.peillex@gmail.com>
15. # Copyright (c) 2021 Maksym Humetskyi <Humetsky@gmail.com>
16. # Copyright (c) 2021 Marc Mueller <30130371+cdce8p@users.noreply.github.com>
17. # Copyright (c) 2021 Aditya Gupta <adityagupta1089@users.noreply.github.com>
18. 
19. # Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
20. # For details: https://github.com/PyCQA/pylint/blob/main/LICENSE
21. 
22. from contextlib import redirect_stdout
23. from io import StringIO
24. from pathlib import Path
25. 
26. import pytest
27. 
28. from pylint.checkers import similar
29. from pylint.lint import PyLinter
30. from pylint.testutils import GenericTestReporter as Reporter
31. 
32. INPUT = Path(__file__).parent / ".." / "input"
33. SIMILAR1 = str(INPUT / "similar1")
34. SIMILAR2 = str(INPUT / "similar2")
35. SIMILAR3 = str(INPUT / "similar3")
36. SIMILAR4 = str(INPUT / "similar4")
37. SIMILAR5 = str(INPUT / "similar5")
38. SIMILAR6 = str(INPUT / "similar6")
39. EMPTY_FUNCTION_1 = str(INPUT / "similar_empty_func_1.py")
40. EMPTY_FUNCTION_2 = str(INPUT / "similar_empty_func_2.py")
41. MULTILINE = str(INPUT / "multiline-import")
42. HIDE_CODE_WITH_IMPORTS = str(INPUT / "hide_code_with_imports.py")
43. 
44. 
45. def test_ignore_comments():
46.     output = StringIO()
47.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
48.         similar.Run(["--ignore-comments", SIMILAR1, SIMILAR2])
49.     assert ex.value.code == 0
50.     assert (
51.         output.getvalue().strip()
52.         == (
53.             """
54. 10 similar lines in 2 files
55. ==%s:[0:11]
56. ==%s:[0:11]
57.    import one
58.    from two import two
59.    three
60.    four
61.    five
62.    six
63.    # A full line comment
64.    seven
65.    eight
66.    nine
67.    ''' ten
68. TOTAL lines=62 duplicates=10 percent=16.13
69. """
70.             % (SIMILAR1, SIMILAR2)
71.         ).strip()
72.     )
73. 
74. 
75. def test_ignore_docstrings():
76.     output = StringIO()
77.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
78.         similar.Run(["--ignore-docstrings", SIMILAR1, SIMILAR2])
79.     assert ex.value.code == 0
80.     assert (
81.         output.getvalue().strip()
82.         == (
83.             """
84. 5 similar lines in 2 files
85. ==%s:[7:15]
86. ==%s:[7:15]
87.    seven
88.    eight
89.    nine
90.    ''' ten
91.    ELEVEN
92.    twelve '''
93.    thirteen
94.    fourteen
95. 
96. 5 similar lines in 2 files
97. ==%s:[0:5]
98. ==%s:[0:5]
99.    import one
100.    from two import two
101.    three
102.    four
103.    five
104. TOTAL lines=62 duplicates=10 percent=16.13
105. """
106.             % ((SIMILAR1, SIMILAR2) * 2)
107.         ).strip()
108.     )
109. 
110. 
111. def test_ignore_imports():
112.     output = StringIO()
113.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
114.         similar.Run(["--ignore-imports", SIMILAR1, SIMILAR2])
115.     assert ex.value.code == 0
116.     assert (
117.         output.getvalue().strip()
118.         == """
119. TOTAL lines=62 duplicates=0 percent=0.00
120. """.strip()
121.     )
122. 
123. 
124. def test_multiline_imports():
125.     output = StringIO()
126.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
127.         similar.Run([MULTILINE, MULTILINE])
128.     assert ex.value.code == 0
129.     assert (
130.         output.getvalue().strip()
131.         == (
132.             """
133. 8 similar lines in 2 files
134. ==%s:[0:8]
135. ==%s:[0:8]
136.    from foo import (
137.      bar,
138.      baz,
139.      quux,
140.      quuux,
141.      quuuux,
142.      quuuuux,
143.    )
144. TOTAL lines=16 duplicates=8 percent=50.00
145. """
146.             % (MULTILINE, MULTILINE)
147.         ).strip()
148.     )
149. 
150. 
151. def test_ignore_multiline_imports():
152.     output = StringIO()
153.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
154.         similar.Run(["--ignore-imports", MULTILINE, MULTILINE])
155.     assert ex.value.code == 0
156.     assert (
157.         output.getvalue().strip()
158.         == """
159. TOTAL lines=16 duplicates=0 percent=0.00
160. """.strip()
161.     )
162. 
163. 
164. def test_ignore_signatures_fail():
165.     output = StringIO()
166.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
167.         similar.Run([SIMILAR5, SIMILAR6])
168.     assert ex.value.code == 0
169.     assert (
170.         output.getvalue().strip()
171.         == (
172.             '''
173. 9 similar lines in 2 files
174. ==%s:[1:11]
175. ==%s:[8:18]
176.        arg1: int = 3,
177.        arg2: Class1 = val1,
178.        arg3: Class2 = func3(val2),
179.        arg4: int = 4,
180.        arg5: int = 5
181.    ) -> Ret1:
182.        pass
183. 
184.    def example():
185.        """Valid function definition with docstring only."""
186. TOTAL lines=29 duplicates=9 percent=31.03
187. '''
188.             % (SIMILAR5, SIMILAR6)
189.         ).strip()
190.     )
191. 
192. 
193. def test_ignore_signatures_pass():
194.     output = StringIO()
195.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
196.         similar.Run(["--ignore-signatures", SIMILAR5, SIMILAR6])
197.     assert ex.value.code == 0
198.     assert (
199.         output.getvalue().strip()
200.         == """
201. TOTAL lines=29 duplicates=0 percent=0.00
202. """.strip()
203.     )
204. 
205. 
206. def test_ignore_signatures_empty_functions_fail():
207.     output = StringIO()
208.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
209.         similar.Run([EMPTY_FUNCTION_1, EMPTY_FUNCTION_2])
210.     assert ex.value.code == 0
211.     assert (
212.         output.getvalue().strip()
213.         == (
214.             '''
215. 6 similar lines in 2 files
216. ==%s:[1:7]
217. ==%s:[1:7]
218.        arg1: int = 1,
219.        arg2: str = "2",
220.        arg3: int = 3,
221.        arg4: bool = True,
222.    ) -> None:
223.        """Valid function definition with docstring only."""
224. TOTAL lines=14 duplicates=6 percent=42.86
225. '''
226.             % (EMPTY_FUNCTION_1, EMPTY_FUNCTION_2)
227.         ).strip()
228.     )
229. 
230. 
231. def test_ignore_signatures_empty_functions_pass():
232.     output = StringIO()
233.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
234.         similar.Run(["--ignore-signatures", EMPTY_FUNCTION_1, EMPTY_FUNCTION_2])
235.     assert ex.value.code == 0
236.     assert (
237.         output.getvalue().strip()
238.         == """
239. TOTAL lines=14 duplicates=0 percent=0.00
240. """.strip()
241.     )
242. 
243. 
244. def test_no_hide_code_with_imports():
245.     output = StringIO()
246.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
247.         similar.Run(["--ignore-imports"] + 2 * [HIDE_CODE_WITH_IMPORTS])
248.     assert ex.value.code == 0
249.     assert "TOTAL lines=32 duplicates=16 percent=50.00" in output.getvalue()
250. 
251. 
252. def test_ignore_nothing():
253.     output = StringIO()
254.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
255.         similar.Run([SIMILAR1, SIMILAR2])
256.     assert ex.value.code == 0
257.     assert (
258.         output.getvalue().strip()
259.         == (
260.             """
261. 5 similar lines in 2 files
262. ==%s:[0:5]
263. ==%s:[0:5]
264.    import one
265.    from two import two
266.    three
267.    four
268.    five
269. TOTAL lines=62 duplicates=5 percent=8.06
270. """
271.             % (SIMILAR1, SIMILAR2)
272.         ).strip()
273.     )
274. 
275. 
276. def test_lines_without_meaningful_content_do_not_trigger_similarity():
277.     output = StringIO()
278.     with redirect_stdout(output), pytest.raises(SystemExit) as ex:
279.         similar.Run([SIMILAR3, SIMILAR4])
280.     assert ex.value.code == 0
281.     assert (
282.         output.getvalue().strip()
283.         == (
284.             """
285. 14 similar lines in 2 files
286. ==%s:[11:25]
287. ==%s:[11:25]
288.    b = (
289.        (
290.            [
291.                "Lines 12-25 still trigger a similarity...",
292.                "...warning, because..."
293.            ],
294.            [
295.                "...even after ignoring lines with only symbols..."
296.            ],
297.        ),
298.        (
299.            "...there are still 5 similar lines in this code block.",
300.        )
301.    )
302. TOTAL lines=50 duplicates=14 percent=28.00
303. """
304.             % (SIMILAR3, SIMILAR4)
305.         ).strip()
306.     )
307. 
308. 
309. def test_help():
310.     output = StringIO()
311.     with redirect_stdout(output):
312.         try:
313.             similar.Run(["--help"])
314.         except SystemExit as ex:
315.             assert ex.code == 0
316.         else:
317.             pytest.fail("not system exit")
318. 
319. 
320. def test_no_args():
321.     output = StringIO()
322.     with redirect_stdout(output):
323.         try:
324.             similar.Run([])
325.         except SystemExit as ex:
326.             assert ex.code == 1
327.         else:
328.             pytest.fail("not system exit")
329. 
330. 
331. def test_get_map_data():
332.     """Tests that a SimilarChecker respects the MapReduceMixin interface"""
333.     linter = PyLinter(reporter=Reporter())
334. 
335.     # Add a parallel checker to ensure it can map and reduce
336.     linter.register_checker(similar.SimilarChecker(linter))
337. 
338.     source_streams = (
339.         str(INPUT / "similar_lines_a.py"),
340.         str(INPUT / "similar_lines_b.py"),
341.     )
342.     expected_linelists = (
343.         (
344.             "def adipiscing(elit):",
345.             'etiam = "id"',
346.             'dictum = "purus,"',
347.             'vitae = "pretium"',
348.             'neque = "Vivamus"',
349.             'nec = "ornare"',
350.             'tortor = "sit"',
351.             "return etiam, dictum, vitae, neque, nec, tortor",
352.             "class Amet:",
353.             "def similar_function_3_lines(self, tellus):",
354.             "agittis = 10",
355.             "tellus *= 300",
356.             "return agittis, tellus",
357.             "def lorem(self, ipsum):",
358.             'dolor = "sit"',
359.             'amet = "consectetur"',
360.             "return (lorem, dolor, amet)",
361.             "def similar_function_5_lines(self, similar):",
362.             "some_var = 10",
363.             "someother_var *= 300",
364.             'fusce = "sit"',
365.             'amet = "tortor"',
366.             "return some_var, someother_var, fusce, amet",
367.             'def __init__(self, moleskie, lectus="Mauris", ac="pellentesque"):',
368.             'metus = "ut"',
369.             'lobortis = "urna."',
370.             'Integer = "nisl"',
371.             '(mauris,) = "interdum"',
372.             'non = "odio"',
373.             'semper = "aliquam"',
374.             'malesuada = "nunc."',
375.             'iaculis = "dolor"',
376.             'facilisis = "ultrices"',
377.             'vitae = "ut."',
378.             "return (",
379.             "metus,",
380.             "lobortis,",
381.             "Integer,",
382.             "mauris,",
383.             "non,",
384.             "semper,",
385.             "malesuada,",
386.             "iaculis,",
387.             "facilisis,",
388.             "vitae,",
389.             ")",
390.             "def similar_function_3_lines(self, tellus):",
391.             "agittis = 10",
392.             "tellus *= 300",
393.             "return agittis, tellus",
394.         ),
395.         (
396.             "class Nulla:",
397.             'tortor = "ultrices quis porta in"',
398.             'sagittis = "ut tellus"',
399.             "def pulvinar(self, blandit, metus):",
400.             "egestas = [mauris for mauris in zip(blandit, metus)]",
401.             "neque = (egestas, blandit)",
402.             "def similar_function_5_lines(self, similar):",
403.             "some_var = 10",
404.             "someother_var *= 300",
405.             'fusce = "sit"',
406.             'amet = "tortor"',
407.             'iaculis = "dolor"',
408.             "return some_var, someother_var, fusce, amet, iaculis, iaculis",
409.             "def tortor(self):",
410.             "ultrices = 2",
411.             'quis = ultricies * "porta"',
412.             "return ultricies, quis",
413.             "class Commodo:",
414.             "def similar_function_3_lines(self, tellus):",
415.             "agittis = 10",
416.             "tellus *= 300",
417.             'laoreet = "commodo "',
418.             "return agittis, tellus, laoreet",
419.         ),
420.     )
421. 
422.     data = []
423. 
424.     # Manually perform a 'map' type function
425.     for source_fname in source_streams:
426.         sim = similar.SimilarChecker(linter)
427.         with open(source_fname, encoding="utf-8") as stream:
428.             sim.append_stream(source_fname, stream)
429.         # The map bit, can you tell? ;)
430.         data.extend(sim.get_map_data())
431. 
432.     assert len(expected_linelists) == len(data)
433.     for source_fname, expected_lines, lineset_obj in zip(
434.         source_streams, expected_linelists, data
435.     ):
436.         assert source_fname == lineset_obj.name
437.         # There doesn't seem to be a faster way of doing this, yet.
438.         lines = (linespec.text for linespec in lineset_obj.stripped_lines)
439.         assert tuple(expected_lines) == tuple(lines)


File: tests/test_config.py
Line number range: 1 - 93
Content:
1. # pylint: disable=missing-module-docstring, missing-function-docstring, protected-access
2. import unittest.mock
3. 
4. import pylint.lint
5. 
6. 
7. def check_configuration_file_reader(config_file):
8.     """Initialize pylint with the given configuration file and check that
9.     what we initialized the linter with what was expected.
10.     """
11.     args = ["--rcfile", str(config_file), __file__]
12.     # If we used `pytest.raises(SystemExit)`, the `runner` variable
13.     # would not be accessible outside the `with` block.
14.     with unittest.mock.patch("sys.exit") as mocked_exit:
15.         # Do not actually run checks, that could be slow. Do not mock
16.         # `Pylinter.check`: it calls `Pylinter.initialize` which is
17.         # needed to properly set up messages inclusion/exclusion
18.         # in `_msg_states`, used by `is_message_enabled`.
19.         with unittest.mock.patch("pylint.lint.pylinter.check_parallel"):
20.             runner = pylint.lint.Run(args)
21. 
22.     # "logging-not-lazy" and "logging-format-interpolation"
23.     expected_disabled = {"W1201", "W1202"}
24.     for msgid in expected_disabled:
25.         assert not runner.linter.is_message_enabled(msgid)
26.     assert runner.linter.config.jobs == 10
27.     assert runner.linter.config.reports
28. 
29.     mocked_exit.assert_called_once_with(0)
30.     return runner
31. 
32. 
33. def test_can_read_ini(tmp_path):
34.     # Check that we can read the "regular" INI .pylintrc file
35.     config_file = tmp_path / ".pylintrc"
36.     config_file.write_text(
37.         """
38. [messages control]
39. disable = logging-not-lazy,logging-format-interpolation
40. jobs = 10
41. reports = yes
42. """
43.     )
44.     check_configuration_file_reader(config_file)
45. 
46. 
47. def test_can_read_setup_cfg(tmp_path):
48.     # Check that we can read a setup.cfg (which is an INI file where
49.     # section names are prefixed with "pylint."
50.     config_file = tmp_path / "setup.cfg"
51.     config_file.write_text(
52.         """
53. [pylint.messages control]
54. disable = logging-not-lazy,logging-format-interpolation
55. jobs = 10
56. reports = yes
57. """
58.     )
59.     check_configuration_file_reader(config_file)
60. 
61. 
62. def test_can_read_toml(tmp_path):
63.     # Check that we can read a TOML file where lists and integers are
64.     # expressed as strings.
65.     config_file = tmp_path / "pyproject.toml"
66.     config_file.write_text(
67.         """
68. [tool.pylint."messages control"]
69. disable = "logging-not-lazy,logging-format-interpolation"
70. jobs = "10"
71. reports = "yes"
72. """
73.     )
74.     check_configuration_file_reader(config_file)
75. 
76. 
77. def test_can_read_toml_rich_types(tmp_path):
78.     # Check that we can read a TOML file where lists, integers and
79.     # booleans are expressed as such (and not as strings), using TOML
80.     # type system.
81.     config_file = tmp_path / "pyproject.toml"
82.     config_file.write_text(
83.         """
84. [tool.pylint."messages control"]
85. disable = [
86.     "logging-not-lazy",
87.     "logging-format-interpolation",
88. ]
89. jobs = 10
90. reports = true
91. """
92.     )
93.     check_configuration_file_reader(config_file)


File: tests/test_functional.py
Line number range: 1 - 130
Content:
1. # Copyright (c) 2014-2018, 2020 Claudiu Popa <pcmanticore@gmail.com>
2. # Copyright (c) 2014 Google, Inc.
3. # Copyright (c) 2014 Michal Nowikowski <godfryd@gmail.com>
4. # Copyright (c) 2014 LOGILAB S.A. (Paris, FRANCE) <contact@logilab.fr>
5. # Copyright (c) 2015 Ionel Cristian Maries <contact@ionelmc.ro>
6. # Copyright (c) 2016 Łukasz Rogalski <rogalski.91@gmail.com>
7. # Copyright (c) 2016 Derek Gustafson <degustaf@gmail.com>
8. # Copyright (c) 2018 Lucas Cimon <lucas.cimon@gmail.com>
9. # Copyright (c) 2018 Ville Skyttä <ville.skytta@iki.fi>
10. # Copyright (c) 2019-2021 Pierre Sassoulas <pierre.sassoulas@gmail.com>
11. # Copyright (c) 2019 Mr. Senko <atodorov@mrsenko.com>
12. # Copyright (c) 2019 Hugo van Kemenade <hugovk@users.noreply.github.com>
13. # Copyright (c) 2019 Ashley Whetter <ashley@awhetter.co.uk>
14. # Copyright (c) 2020 hippo91 <guillaume.peillex@gmail.com>
15. # Copyright (c) 2020 Damien Baty <damien.baty@polyconseil.fr>
16. # Copyright (c) 2020 Anthony Sottile <asottile@umich.edu>
17. # Copyright (c) 2020 bernie gray <bfgray3@users.noreply.github.com>
18. # Copyright (c) 2021 Marc Mueller <30130371+cdce8p@users.noreply.github.com>
19. 
20. # Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
21. # For details: https://github.com/PyCQA/pylint/blob/main/LICENSE
22. 
23. """Functional full-module tests for PyLint."""
24. import csv
25. import os
26. import sys
27. 
28. import pytest
29. 
30. from pylint import testutils
31. from pylint.testutils import UPDATE_FILE, UPDATE_OPTION
32. from pylint.utils import HAS_ISORT_5
33. 
34. # Notes:
35. # - for the purpose of this test, the confidence levels HIGH and UNDEFINED
36. #   are treated as the same.
37. 
38. # TODOs
39. #  - implement exhaustivity tests
40. 
41. # 'Wet finger' number of files that are reasonable to display by an IDE
42. # 'Wet finger' as in 'in my settings there are precisely this many'.
43. REASONABLY_DISPLAYABLE_VERTICALLY = 48
44. 
45. 
46. class LintModuleOutputUpdate(testutils.LintModuleTest):
47.     """If message files should be updated instead of checked."""
48. 
49.     class TestDialect(csv.excel):
50.         delimiter = ":"
51.         lineterminator = "\n"
52. 
53.     csv.register_dialect("test", TestDialect)
54. 
55.     def _check_output_text(self, _, expected_output, actual_output):
56.         if expected_output and expected_output == actual_output:
57.             return
58.         if not expected_output and not actual_output:
59.             if os.path.exists(self._test_file.expected_output):
60.                 os.remove(self._test_file.expected_output)
61.             return
62.         with open(self._test_file.expected_output, "w", encoding="utf-8") as f:
63.             writer = csv.writer(f, dialect="test")
64.             for line in actual_output:
65.                 writer.writerow(line.to_csv())
66. 
67. 
68. def get_tests():
69.     input_dir = os.path.join(os.path.dirname(os.path.abspath(__file__)), "functional")
70.     suite = []
71.     for dirpath, _, filenames in os.walk(input_dir):
72.         if dirpath.endswith("__pycache__"):
73.             continue
74. 
75.         assert (
76.             len(filenames) <= REASONABLY_DISPLAYABLE_VERTICALLY
77.         ), f"{dirpath} contain too much functional tests files."
78. 
79.         for filename in filenames:
80.             if filename != "__init__.py" and filename.endswith(".py"):
81.                 # isort 5 has slightly different rules as isort 4. Testing
82.                 # both would be hard: test with isort 5 only.
83.                 if filename == "wrong_import_order.py" and not HAS_ISORT_5:
84.                     continue
85.                 suite.append(testutils.FunctionalTestFile(dirpath, filename))
86.     return suite
87. 
88. 
89. TESTS = get_tests()
90. TESTS_NAMES = [t.base for t in TESTS]
91. TEST_WITH_EXPECTED_DEPRECATION = [
92.     "future_unicode_literals",
93.     "anomalous_unicode_escape_py3",
94. ]
95. 
96. 
97. @pytest.mark.parametrize("test_file", TESTS, ids=TESTS_NAMES)
98. def test_functional(test_file, recwarn, pytestconfig):
99.     __tracebackhide__ = True  # pylint: disable=unused-variable
100.     if UPDATE_FILE.exists():
101.         lint_test = LintModuleOutputUpdate(test_file, pytestconfig)
102.     else:
103.         lint_test = testutils.LintModuleTest(test_file, pytestconfig)
104.     lint_test.setUp()
105.     lint_test.runTest()
106.     warning = None
107.     try:
108.         # Catch <unknown>:x: DeprecationWarning: invalid escape sequence
109.         # so it's not shown during tests
110.         warning = recwarn.pop()
111.     except AssertionError:
112.         pass
113.     if warning is not None:
114.         if (
115.             test_file.base in TEST_WITH_EXPECTED_DEPRECATION
116.             and sys.version_info.minor > 5
117.         ):
118.             assert issubclass(warning.category, DeprecationWarning)
119.             assert "invalid escape sequence" in str(warning.message)
120. 
121. 
122. if __name__ == "__main__":
123.     if UPDATE_OPTION in sys.argv:
124.         UPDATE_FILE.touch()
125.         sys.argv.remove(UPDATE_OPTION)
126.     try:
127.         pytest.main(sys.argv)
128.     finally:
129.         if UPDATE_FILE.exists():
130.             UPDATE_FILE.unlink()


File: tests/unittest_config.py
Line number range: 1 - 66
Content:
1. # Copyright (c) 2015 Aru Sahni <arusahni@gmail.com>
2. # Copyright (c) 2016-2018, 2020 Claudiu Popa <pcmanticore@gmail.com>
3. # Copyright (c) 2016 Derek Gustafson <degustaf@gmail.com>
4. # Copyright (c) 2017 Ville Skyttä <ville.skytta@iki.fi>
5. # Copyright (c) 2019-2021 Pierre Sassoulas <pierre.sassoulas@gmail.com>
6. # Copyright (c) 2019 Ashley Whetter <ashley@awhetter.co.uk>
7. # Copyright (c) 2020 hippo91 <guillaume.peillex@gmail.com>
8. # Copyright (c) 2020 Anthony Sottile <asottile@umich.edu>
9. # Copyright (c) 2021 Marc Mueller <30130371+cdce8p@users.noreply.github.com>
10. 
11. # Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
12. # For details: https://github.com/PyCQA/pylint/blob/main/LICENSE
13. 
14. """Unit tests for the config module."""
15. 
16. import re
17. import sre_constants
18. 
19. import pytest
20. 
21. from pylint import config
22. 
23. RE_PATTERN_TYPE = getattr(re, "Pattern", getattr(re, "_pattern_type", None))
24. 
25. 
26. def test__regexp_validator_valid():
27.     result = config.option._regexp_validator(None, None, "test_.*")
28.     assert isinstance(result, RE_PATTERN_TYPE)
29.     assert result.pattern == "test_.*"
30. 
31. 
32. def test__regexp_validator_invalid():
33.     with pytest.raises(sre_constants.error):
34.         config.option._regexp_validator(None, None, "test_)")
35. 
36. 
37. def test__csv_validator_no_spaces():
38.     values = ["One", "Two", "Three"]
39.     result = config.option._csv_validator(None, None, ",".join(values))
40.     assert isinstance(result, list)
41.     assert len(result) == 3
42.     for i, value in enumerate(values):
43.         assert result[i] == value
44. 
45. 
46. def test__csv_validator_spaces():
47.     values = ["One", "Two", "Three"]
48.     result = config.option._csv_validator(None, None, ", ".join(values))
49.     assert isinstance(result, list)
50.     assert len(result) == 3
51.     for i, value in enumerate(values):
52.         assert result[i] == value
53. 
54. 
55. def test__regexp_csv_validator_valid():
56.     pattern_strings = ["test_.*", "foo\\.bar", "^baz$"]
57.     result = config.option._regexp_csv_validator(None, None, ",".join(pattern_strings))
58.     for i, regex in enumerate(result):
59.         assert isinstance(regex, RE_PATTERN_TYPE)
60.         assert regex.pattern == pattern_strings[i]
61. 
62. 
63. def test__regexp_csv_validator_invalid():
64.     pattern_strings = ["test_.*", "foo\\.bar", "^baz)$"]
65.     with pytest.raises(sre_constants.error):
66.         config.option._regexp_csv_validator(None, None, ",".join(pattern_strings))

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-23 21:07:42,787 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user's change affects how pylint discovers configuration files and persistent data directories, which is core to the `pylint.lint.Run` execution flow. The existing context from `test_config.py` and `unittest_config.py` is insufficient as it covers explicit configuration files and option validation, not the configuration discovery logic affected by the patch. `tests/lint/unittest_lint.py` is the dedicated test file for the `pylint.lint` module, which contains the `Run` class, making it the most likely place to find tests for configuration discovery and environment variable handling." query='Please provide the full content of `tests/lint/unittest_lint.py`.' extra_requirements='' purpose="I need this file to find tests that verify pylint's behavior with different environment variable settings (`PYLINTHOME`, `XDG_DATA_HOME`, etc.) and config file locations, which is essential for validating the user's patch."
2025-12-23 21:07:42,788 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/lint/unittest_lint.py`.
2025-12-23 21:07:42,792 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-23 21:07:42,793 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-23 21:07:42,798 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-23 21:07:42,799 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/lint/unittest_lint.py`.
Purpose: I need this file to find tests that verify pylint's behavior with different environment variable settings (`PYLINTHOME`, `XDG_DATA_HOME`, etc.) and config file locations, which is essential for validating the user's patch.
2025-12-23 21:07:45,266 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have retrieved the entire content of the `tests/lint/unittest_lint.py` file. This will allow me to examine the tests related to pylint's handling of environment variables and configuration files." additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/lint/unittest_lint.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2136, 'candidates_token_count': 66, 'total_token_count': 2322, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2136}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 66}], 'thoughts_token_count': 120, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.09400523070133093, 'model_name': 'gemini-2.5-pro'} id='run--1f0db732-4b94-4888-bfe3-a3befda3a0ad-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/lint/unittest_lint.py'}, 'id': 'aa8ce77e-416f-4b42-969b-e983c9a25734', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2136, 'output_tokens': 66, 'total_tokens': 2322, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 120}}
2025-12-23 21:07:48,870 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I've reviewed the file `tests/lint/unittest_lint.py` to locate tests relevant to pylint's handling of environment variables and configuration files. I will now search for occurrences of `PYLINTHOME` within this file to pinpoint the specific tests that address this functionality. This will help validate the user's patch by examining how pylint behaves with different `PYLINTHOME` settings." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/lint/unittest_lint.py", "text": "PYLINTHOME"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10733, 'candidates_token_count': 121, 'total_token_count': 10987, 'cached_content_token_count': 1844, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10733}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1844}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 121}], 'thoughts_token_count': 133}, 'finish_reason': 'STOP', 'avg_logprobs': -0.14632340108067537, 'model_name': 'gemini-2.5-pro'} id='run--25ce81ea-a676-4ce1-b3ae-8d6d7b360240-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/lint/unittest_lint.py', 'text': 'PYLINTHOME'}, 'id': 'e717cb75-1c11-4c10-8947-e1b508836938', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10733, 'output_tokens': 121, 'total_tokens': 10987, 'input_token_details': {'cache_read': 1844}, 'output_token_details': {'reasoning': 133}}
2025-12-23 21:07:52,810 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have located the `test_pylint_home` function within `tests/lint/unittest_lint.py`, which confirms how the `PYLINTHOME` environment variable influences pylint's configuration. This test manipulates the `PYLINTHOME` variable, reloads the configuration, and asserts that the path is updated correctly. My next step is to investigate similar tests for `XDG_DATA_HOME` and other configuration file locations to ensure comprehensive validation of the user's patch." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/lint/unittest_lint.py", "text": "XDG_DATA_HOME"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11187, 'candidates_token_count': 143, 'total_token_count': 11457, 'cached_content_token_count': 9214, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11187}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9214}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 143}], 'thoughts_token_count': 127}, 'finish_reason': 'STOP', 'avg_logprobs': -0.15579030230328753, 'model_name': 'gemini-2.5-pro'} id='run--e05278a5-55a7-4a9d-ae49-8c3fda8a5282-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/lint/unittest_lint.py', 'text': 'XDG_DATA_HOME'}, 'id': '34e8da2d-5d7a-4a3b-b94a-86df6fa316ea', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11187, 'output_tokens': 143, 'total_tokens': 11457, 'input_token_details': {'cache_read': 9214}, 'output_token_details': {'reasoning': 127}}
2025-12-23 21:07:56,829 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I was unable to find any tests in `tests/lint/unittest_lint.py` that explicitly reference `XDG_DATA_HOME`. To continue my investigation, I will now search for occurrences of `pylintrc` within the same file, as this is the standard name for pylint's configuration file and should lead me to relevant tests concerning its discovery and loading." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/lint/unittest_lint.py", "text": "pylintrc"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 11362, 'candidates_token_count': 115, 'total_token_count': 11617, 'cached_content_token_count': 11043, 'prompt_tokens_details': [{'modality': 1, 'token_count': 11362}], 'cache_tokens_details': [{'modality': 1, 'token_count': 11043}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 115}], 'thoughts_token_count': 140}, 'finish_reason': 'STOP', 'avg_logprobs': -0.2636516571044922, 'model_name': 'gemini-2.5-pro'} id='run--e021d5d9-9784-42b9-bdd7-63f5f6dc2804-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/lint/unittest_lint.py', 'text': 'pylintrc'}, 'id': 'c3a84ac1-6f14-4996-9180-52b13b64ab9a', 'type': 'tool_call'}] usage_metadata={'input_tokens': 11362, 'output_tokens': 115, 'total_tokens': 11617, 'input_token_details': {'cache_read': 11043}, 'output_token_details': {'reasoning': 140}}
2025-12-23 21:08:06,325 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I've analyzed the tests in `tests/lint/unittest_lint.py` and found several that are highly relevant to your query. I've located tests that verify pylint's behavior with the `PYLINTHOME` environment variable and the discovery of `pylintrc` configuration files in parent directories. I was unable to find any tests that explicitly reference `XDG_DATA_HOME`, but the existing tests for `pylintrc` discovery should provide a solid foundation for validating your patch." additional_kwargs={'function_call': {'name': 'find_ast_node_with_text_in_file_with_relative_path', 'arguments': '{"relative_path": "tests/lint/unittest_lint.py", "text": "XDG"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 12980, 'candidates_token_count': 141, 'total_token_count': 13800, 'cached_content_token_count': 11061, 'prompt_tokens_details': [{'modality': 1, 'token_count': 12980}], 'cache_tokens_details': [{'modality': 1, 'token_count': 11061}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 141}], 'thoughts_token_count': 679}, 'finish_reason': 'STOP', 'avg_logprobs': -0.6175919661285184, 'model_name': 'gemini-2.5-pro'} id='run--805369de-f99b-4411-92be-a9abe81f5ea7-0' tool_calls=[{'name': 'find_ast_node_with_text_in_file_with_relative_path', 'args': {'relative_path': 'tests/lint/unittest_lint.py', 'text': 'XDG'}, 'id': '1aa63d59-2321-43cf-9915-b833bdc5f815', 'type': 'tool_call'}] usage_metadata={'input_tokens': 12980, 'output_tokens': 141, 'total_tokens': 13800, 'input_token_details': {'cache_read': 11061}, 'output_token_details': {'reasoning': 679}}
2025-12-23 21:08:13,958 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have thoroughly examined `tests/lint/unittest_lint.py` to find tests related to pylint's configuration discovery. I found the `test_pylint_home` function, which directly verifies the handling of the `PYLINTHOME` environment variable. Additionally, I located several tests, such as `test_pylintrc_parentdir` and `test_pylintrc_parentdir_no_package`, that examine how pylint searches for `pylintrc` files in the directory hierarchy. My search for `XDG_DATA_HOME` and `XDG` yielded no results, indicating that there are likely no specific tests for this variable in the file." additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 13153, 'candidates_token_count': 147, 'total_token_count': 13879, 'cached_content_token_count': 12891, 'prompt_tokens_details': [{'modality': 1, 'token_count': 13153}], 'cache_tokens_details': [{'modality': 1, 'token_count': 12891}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 147}], 'thoughts_token_count': 579}, 'finish_reason': 'STOP', 'avg_logprobs': -0.424831130877644, 'model_name': 'gemini-2.5-pro'} id='run--01195587-77a3-4e51-a0a8-c9b8005e23b8-0' usage_metadata={'input_tokens': 13153, 'output_tokens': 147, 'total_tokens': 13879, 'input_token_details': {'cache_read': 12891}, 'output_token_details': {'reasoning': 579}}
2025-12-23 21:08:13,960 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/lint/unittest_lint.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need this file to find tests that verify pylint's behavior with different environment variable settings (`PYLINTHOME`, `XDG_DATA_HOME`, etc.) and config file locations, which is essential for validating the user's patch.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/lint/unittest_lint.py
Line number range: 1 - 500
Content:
1. # Copyright (c) 2006-2014 LOGILAB S.A. (Paris, FRANCE) <contact@logilab.fr>
2. # Copyright (c) 2011-2014 Google, Inc.
3. # Copyright (c) 2012 Kevin Jing Qiu <kevin.jing.qiu@gmail.com>
4. # Copyright (c) 2012 Anthony VEREZ <anthony.verez.external@cassidian.com>
5. # Copyright (c) 2012 FELD Boris <lothiraldan@gmail.com>
6. # Copyright (c) 2013-2018, 2020 Claudiu Popa <pcmanticore@gmail.com>
7. # Copyright (c) 2014 Arun Persaud <arun@nubati.net>
8. # Copyright (c) 2015 Florian Bruhin <me@the-compiler.org>
9. # Copyright (c) 2015 Noam Yorav-Raphael <noamraph@gmail.com>
10. # Copyright (c) 2015 Ionel Cristian Maries <contact@ionelmc.ro>
11. # Copyright (c) 2016-2017 Derek Gustafson <degustaf@gmail.com>
12. # Copyright (c) 2016 Glenn Matthews <glenn@e-dad.net>
13. # Copyright (c) 2016 Glenn Matthews <glmatthe@cisco.com>
14. # Copyright (c) 2017-2021 Pierre Sassoulas <pierre.sassoulas@gmail.com>
15. # Copyright (c) 2017 Craig Citro <craigcitro@gmail.com>
16. # Copyright (c) 2017 Łukasz Rogalski <rogalski.91@gmail.com>
17. # Copyright (c) 2017 Ville Skyttä <ville.skytta@iki.fi>
18. # Copyright (c) 2018, 2020 Anthony Sottile <asottile@umich.edu>
19. # Copyright (c) 2018 Matus Valo <matusvalo@users.noreply.github.com>
20. # Copyright (c) 2018 Scott Worley <scottworley@scottworley.com>
21. # Copyright (c) 2018 Randall Leeds <randall@bleeds.info>
22. # Copyright (c) 2018 Sushobhit <31987769+sushobhit27@users.noreply.github.com>
23. # Copyright (c) 2018 Reverb C <reverbc@users.noreply.github.com>
24. # Copyright (c) 2019 Janne Rönkkö <jannero@users.noreply.github.com>
25. # Copyright (c) 2019 Trevor Bekolay <tbekolay@gmail.com>
26. # Copyright (c) 2019 Andres Perez Hortal <andresperezcba@gmail.com>
27. # Copyright (c) 2019 Ashley Whetter <ashley@awhetter.co.uk>
28. # Copyright (c) 2020 Martin Vielsmaier <martin@vielsmaier.net>
29. # Copyright (c) 2020 hippo91 <guillaume.peillex@gmail.com>
30. # Copyright (c) 2020 Damien Baty <damien.baty@polyconseil.fr>
31. # Copyright (c) 2021 Marc Mueller <30130371+cdce8p@users.noreply.github.com>
32. # Copyright (c) 2021 Andreas Finkler <andi.finkler@gmail.com>
33. 
34. # Licensed under the GPL: https://www.gnu.org/licenses/old-licenses/gpl-2.0.html
35. # For details: https://github.com/PyCQA/pylint/blob/main/LICENSE
36. # pylint: disable=redefined-outer-name
37. 
38. import os
39. import re
40. import sys
41. import tempfile
42. from contextlib import contextmanager
43. from importlib import reload
44. from io import StringIO
45. from os import chdir, getcwd
46. from os.path import abspath, basename, dirname, isdir, join, sep
47. from shutil import rmtree
48. 
49. import pytest
50. 
51. from pylint import checkers, config, exceptions, interfaces, lint, testutils
52. from pylint.checkers.utils import check_messages
53. from pylint.constants import (
54.     MSG_STATE_CONFIDENCE,
55.     MSG_STATE_SCOPE_CONFIG,
56.     MSG_STATE_SCOPE_MODULE,
57. )
58. from pylint.exceptions import InvalidMessageError
59. from pylint.lint import ArgumentPreprocessingError, PyLinter, Run, preprocess_options
60. from pylint.reporters import text
61. from pylint.utils import FileState, tokenize_module
62. 
63. if os.name == "java":
64.     # pylint: disable=no-member
65.     # os._name is valid see https://www.programcreek.com/python/example/3842/os._name
66.     if os.name == "nt":
67.         HOME = "USERPROFILE"
68.     else:
69.         HOME = "HOME"
70. elif sys.platform == "win32":
71.     HOME = "USERPROFILE"
72. else:
73.     HOME = "HOME"
74. 
75. 
76. @contextmanager
77. def fake_home():
78.     folder = tempfile.mkdtemp("fake-home")
79.     old_home = os.environ.get(HOME)
80.     try:
81.         os.environ[HOME] = folder
82.         yield
83.     finally:
84.         os.environ.pop("PYLINTRC", "")
85.         if old_home is None:
86.             del os.environ[HOME]
87.         else:
88.             os.environ[HOME] = old_home
89.         rmtree(folder, ignore_errors=True)
90. 
91. 
92. def remove(file):
93.     try:
94.         os.remove(file)
95.     except OSError:
96.         pass
97. 
98. 
99. HERE = abspath(dirname(__file__))
100. INPUT_DIR = join(HERE, "..", "input")
101. REGRTEST_DATA_DIR = join(HERE, "..", "regrtest_data")
102. DATA_DIR = join(HERE, "..", "data")
103. 
104. 
105. @contextmanager
106. def tempdir():
107.     """Create a temp directory and change the current location to it.
108. 
109.     This is supposed to be used with a *with* statement.
110.     """
111.     tmp = tempfile.mkdtemp()
112. 
113.     # Get real path of tempfile, otherwise test fail on mac os x
114.     current_dir = getcwd()
115.     chdir(tmp)
116.     abs_tmp = abspath(".")
117. 
118.     try:
119.         yield abs_tmp
120.     finally:
121.         chdir(current_dir)
122.         rmtree(abs_tmp)
123. 
124. 
125. def create_files(paths, chroot="."):
126.     """Creates directories and files found in <path>.
127. 
128.     :param list paths: list of relative paths to files or directories
129.     :param str chroot: the root directory in which paths will be created
130. 
131.     >>> from os.path import isdir, isfile
132.     >>> isdir('/tmp/a')
133.     False
134.     >>> create_files(['a/b/foo.py', 'a/b/c/', 'a/b/c/d/e.py'], '/tmp')
135.     >>> isdir('/tmp/a')
136.     True
137.     >>> isdir('/tmp/a/b/c')
138.     True
139.     >>> isfile('/tmp/a/b/c/d/e.py')
140.     True
141.     >>> isfile('/tmp/a/b/foo.py')
142.     True
143.     """
144.     dirs, files = set(), set()
145.     for path in paths:
146.         path = join(chroot, path)
147.         filename = basename(path)
148.         # path is a directory path
149.         if filename == "":
150.             dirs.add(path)
151.         # path is a filename path
152.         else:
153.             dirs.add(dirname(path))
154.             files.add(path)
155.     for dirpath in dirs:
156.         if not isdir(dirpath):
157.             os.makedirs(dirpath)
158.     for filepath in files:
159.         with open(filepath, "w", encoding="utf-8"):
160.             pass
161. 
162. 
163. @pytest.fixture
164. def fake_path():
165.     orig = list(sys.path)
166.     fake = [1, 2, 3]
167.     sys.path[:] = fake
168.     yield fake
169.     sys.path[:] = orig
170. 
171. 
172. def test_no_args(fake_path):
173.     with lint.fix_import_path([]):
174.         assert sys.path == fake_path
175.     assert sys.path == fake_path
176. 
177. 
178. @pytest.mark.parametrize(
179.     "case", [["a/b/"], ["a/b"], ["a/b/__init__.py"], ["a/"], ["a"]]
180. )
181. def test_one_arg(fake_path, case):
182.     with tempdir() as chroot:
183.         create_files(["a/b/__init__.py"])
184.         expected = [join(chroot, "a")] + fake_path
185. 
186.         assert sys.path == fake_path
187.         with lint.fix_import_path(case):
188.             assert sys.path == expected
189.         assert sys.path == fake_path
190. 
191. 
192. @pytest.mark.parametrize(
193.     "case",
194.     [
195.         ["a/b", "a/c"],
196.         ["a/c/", "a/b/"],
197.         ["a/b/__init__.py", "a/c/__init__.py"],
198.         ["a", "a/c/__init__.py"],
199.     ],
200. )
201. def test_two_similar_args(fake_path, case):
202.     with tempdir() as chroot:
203.         create_files(["a/b/__init__.py", "a/c/__init__.py"])
204.         expected = [join(chroot, "a")] + fake_path
205. 
206.         assert sys.path == fake_path
207.         with lint.fix_import_path(case):
208.             assert sys.path == expected
209.         assert sys.path == fake_path
210. 
211. 
212. @pytest.mark.parametrize(
213.     "case",
214.     [
215.         ["a/b/c/__init__.py", "a/d/__init__.py", "a/e/f.py"],
216.         ["a/b/c", "a", "a/e"],
217.         ["a/b/c", "a", "a/b/c", "a/e", "a"],
218.     ],
219. )
220. def test_more_args(fake_path, case):
221.     with tempdir() as chroot:
222.         create_files(["a/b/c/__init__.py", "a/d/__init__.py", "a/e/f.py"])
223.         expected = [
224.             join(chroot, suffix)
225.             for suffix in (sep.join(("a", "b")), "a", sep.join(("a", "e")))
226.         ] + fake_path
227. 
228.         assert sys.path == fake_path
229.         with lint.fix_import_path(case):
230.             assert sys.path == expected
231.         assert sys.path == fake_path
232. 
233. 
234. @pytest.fixture(scope="module")
235. def disable():
236.     return ["I"]
237. 
238. 
239. @pytest.fixture(scope="module")
240. def reporter():
241.     return testutils.GenericTestReporter
242. 
243. 
244. @pytest.fixture
245. def init_linter(linter):
246.     linter.open()
247.     linter.set_current_module("toto")
248.     linter.file_state = FileState("toto")
249.     return linter
250. 
251. 
252. def test_pylint_visit_method_taken_in_account(linter):
253.     class CustomChecker(checkers.BaseChecker):
254.         __implements__ = interfaces.IAstroidChecker
255.         name = "custom"
256.         msgs = {"W9999": ("", "custom", "")}
257. 
258.         @check_messages("custom")
259.         def visit_class(self, _):
260.             pass
261. 
262.     linter.register_checker(CustomChecker(linter))
263.     linter.open()
264.     out = StringIO()
265.     linter.set_reporter(text.TextReporter(out))
266.     linter.check("abc")
267. 
268. 
269. def test_enable_message(init_linter):
270.     linter = init_linter
271.     assert linter.is_message_enabled("W0101")
272.     assert linter.is_message_enabled("W0102")
273.     linter.disable("W0101", scope="package")
274.     linter.disable("W0102", scope="module", line=1)
275.     assert not linter.is_message_enabled("W0101")
276.     assert not linter.is_message_enabled("W0102", 1)
277.     linter.set_current_module("tutu")
278.     assert not linter.is_message_enabled("W0101")
279.     assert linter.is_message_enabled("W0102")
280.     linter.enable("W0101", scope="package")
281.     linter.enable("W0102", scope="module", line=1)
282.     assert linter.is_message_enabled("W0101")
283.     assert linter.is_message_enabled("W0102", 1)
284. 
285. 
286. def test_enable_message_category(init_linter):
287.     linter = init_linter
288.     assert linter.is_message_enabled("W0101")
289.     assert linter.is_message_enabled("C0202")
290.     linter.disable("W", scope="package")
291.     linter.disable("C", scope="module", line=1)
292.     assert not linter.is_message_enabled("W0101")
293.     assert linter.is_message_enabled("C0202")
294.     assert not linter.is_message_enabled("C0202", line=1)
295.     linter.set_current_module("tutu")
296.     assert not linter.is_message_enabled("W0101")
297.     assert linter.is_message_enabled("C0202")
298.     linter.enable("W", scope="package")
299.     linter.enable("C", scope="module", line=1)
300.     assert linter.is_message_enabled("W0101")
301.     assert linter.is_message_enabled("C0202")
302.     assert linter.is_message_enabled("C0202", line=1)
303. 
304. 
305. def test_message_state_scope(init_linter):
306.     class FakeConfig:
307.         confidence = ["HIGH"]
308. 
309.     linter = init_linter
310.     linter.disable("C0202")
311.     assert MSG_STATE_SCOPE_CONFIG == linter.get_message_state_scope("C0202")
312.     linter.disable("W0101", scope="module", line=3)
313.     assert MSG_STATE_SCOPE_CONFIG == linter.get_message_state_scope("C0202")
314.     assert MSG_STATE_SCOPE_MODULE == linter.get_message_state_scope("W0101", 3)
315.     linter.enable("W0102", scope="module", line=3)
316.     assert MSG_STATE_SCOPE_MODULE == linter.get_message_state_scope("W0102", 3)
317.     linter.config = FakeConfig()
318.     assert MSG_STATE_CONFIDENCE == linter.get_message_state_scope(
319.         "this-is-bad", confidence=interfaces.INFERENCE
320.     )
321. 
322. 
323. def test_enable_message_block(init_linter):
324.     linter = init_linter
325.     linter.open()
326.     filepath = join(REGRTEST_DATA_DIR, "func_block_disable_msg.py")
327.     linter.set_current_module("func_block_disable_msg")
328.     astroid = linter.get_ast(filepath, "func_block_disable_msg")
329.     linter.process_tokens(tokenize_module(astroid))
330.     fs = linter.file_state
331.     fs.collect_block_lines(linter.msgs_store, astroid)
332.     # global (module level)
333.     assert linter.is_message_enabled("W0613")
334.     assert linter.is_message_enabled("E1101")
335.     # meth1
336.     assert linter.is_message_enabled("W0613", 13)
337.     # meth2
338.     assert not linter.is_message_enabled("W0613", 18)
339.     # meth3
340.     assert not linter.is_message_enabled("E1101", 24)
341.     assert linter.is_message_enabled("E1101", 26)
342.     # meth4
343.     assert not linter.is_message_enabled("E1101", 32)
344.     assert linter.is_message_enabled("E1101", 36)
345.     # meth5
346.     assert not linter.is_message_enabled("E1101", 42)
347.     assert not linter.is_message_enabled("E1101", 43)
348.     assert linter.is_message_enabled("E1101", 46)
349.     assert not linter.is_message_enabled("E1101", 49)
350.     assert not linter.is_message_enabled("E1101", 51)
351.     # meth6
352.     assert not linter.is_message_enabled("E1101", 57)
353.     assert linter.is_message_enabled("E1101", 61)
354.     assert not linter.is_message_enabled("E1101", 64)
355.     assert not linter.is_message_enabled("E1101", 66)
356. 
357.     assert linter.is_message_enabled("E0602", 57)
358.     assert linter.is_message_enabled("E0602", 61)
359.     assert not linter.is_message_enabled("E0602", 62)
360.     assert linter.is_message_enabled("E0602", 64)
361.     assert linter.is_message_enabled("E0602", 66)
362.     # meth7
363.     assert not linter.is_message_enabled("E1101", 70)
364.     assert linter.is_message_enabled("E1101", 72)
365.     assert linter.is_message_enabled("E1101", 75)
366.     assert linter.is_message_enabled("E1101", 77)
367. 
368.     fs = linter.file_state
369.     assert fs._suppression_mapping["W0613", 18] == 17
370.     assert fs._suppression_mapping["E1101", 33] == 30
371.     assert ("E1101", 46) not in fs._suppression_mapping
372.     assert fs._suppression_mapping["C0302", 18] == 1
373.     assert fs._suppression_mapping["C0302", 50] == 1
374.     # This is tricky. While the disable in line 106 is disabling
375.     # both 108 and 110, this is usually not what the user wanted.
376.     # Therefore, we report the closest previous disable comment.
377.     assert fs._suppression_mapping["E1101", 108] == 106
378.     assert fs._suppression_mapping["E1101", 110] == 109
379. 
380. 
381. def test_enable_by_symbol(init_linter):
382.     """messages can be controlled by symbolic names.
383. 
384.     The state is consistent across symbols and numbers.
385.     """
386.     linter = init_linter
387.     assert linter.is_message_enabled("W0101")
388.     assert linter.is_message_enabled("unreachable")
389.     assert linter.is_message_enabled("W0102")
390.     assert linter.is_message_enabled("dangerous-default-value")
391.     linter.disable("unreachable", scope="package")
392.     linter.disable("dangerous-default-value", scope="module", line=1)
393.     assert not linter.is_message_enabled("W0101")
394.     assert not linter.is_message_enabled("unreachable")
395.     assert not linter.is_message_enabled("W0102", 1)
396.     assert not linter.is_message_enabled("dangerous-default-value", 1)
397.     linter.set_current_module("tutu")
398.     assert not linter.is_message_enabled("W0101")
399.     assert not linter.is_message_enabled("unreachable")
400.     assert linter.is_message_enabled("W0102")
401.     assert linter.is_message_enabled("dangerous-default-value")
402.     linter.enable("unreachable", scope="package")
403.     linter.enable("dangerous-default-value", scope="module", line=1)
404.     assert linter.is_message_enabled("W0101")
405.     assert linter.is_message_enabled("unreachable")
406.     assert linter.is_message_enabled("W0102", 1)
407.     assert linter.is_message_enabled("dangerous-default-value", 1)
408. 
409. 
410. def test_enable_report(linter):
411.     assert linter.report_is_enabled("RP0001")
412.     linter.disable("RP0001")
413.     assert not linter.report_is_enabled("RP0001")
414.     linter.enable("RP0001")
415.     assert linter.report_is_enabled("RP0001")
416. 
417. 
418. def test_report_output_format_aliased(linter):
419.     text.register(linter)
420.     linter.set_option("output-format", "text")
421.     assert linter.reporter.__class__.__name__ == "TextReporter"
422. 
423. 
424. def test_set_unsupported_reporter(linter):
425.     text.register(linter)
426.     with pytest.raises(exceptions.InvalidReporterError):
427.         linter.set_option("output-format", "missing.module.Class")
428. 
429. 
430. def test_set_option_1(linter):
431.     linter.set_option("disable", "C0111,W0234")
432.     assert not linter.is_message_enabled("C0111")
433.     assert not linter.is_message_enabled("W0234")
434.     assert linter.is_message_enabled("W0113")
435.     assert not linter.is_message_enabled("missing-docstring")
436.     assert not linter.is_message_enabled("non-iterator-returned")
437. 
438. 
439. def test_set_option_2(linter):
440.     linter.set_option("disable", ("C0111", "W0234"))
441.     assert not linter.is_message_enabled("C0111")
442.     assert not linter.is_message_enabled("W0234")
443.     assert linter.is_message_enabled("W0113")
444.     assert not linter.is_message_enabled("missing-docstring")
445.     assert not linter.is_message_enabled("non-iterator-returned")
446. 
447. 
448. def test_enable_checkers(linter):
449.     linter.disable("design")
450.     assert not ("design" in [c.name for c in linter.prepare_checkers()])
451.     linter.enable("design")
452.     assert "design" in [c.name for c in linter.prepare_checkers()]
453. 
454. 
455. def test_errors_only(linter):
456.     linter.error_mode()
457.     checkers = linter.prepare_checkers()
458.     checker_names = {c.name for c in checkers}
459.     should_not = {"design", "format", "metrics", "miscellaneous", "similarities"}
460.     assert set() == should_not & checker_names
461. 
462. 
463. def test_disable_similar(linter):
464.     linter.set_option("disable", "RP0801")
465.     linter.set_option("disable", "R0801")
466.     assert not ("similarities" in [c.name for c in linter.prepare_checkers()])
467. 
468. 
469. def test_disable_alot(linter):
470.     """check that we disabled a lot of checkers"""
471.     linter.set_option("reports", False)
472.     linter.set_option("disable", "R,C,W")
473.     checker_names = [c.name for c in linter.prepare_checkers()]
474.     for cname in ("design", "metrics", "similarities"):
475.         assert not (cname in checker_names), cname
476. 
477. 
478. def test_addmessage(linter):
479.     linter.set_reporter(testutils.GenericTestReporter())
480.     linter.open()
481.     linter.set_current_module("0123")
482.     linter.add_message("C0301", line=1, args=(1, 2))
483.     linter.add_message("line-too-long", line=2, args=(3, 4))
484.     assert [
485.         "C:  1: Line too long (1/2)",
486.         "C:  2: Line too long (3/4)",
487.     ] == linter.reporter.messages
488. 
489. 
490. def test_addmessage_invalid(linter):
491.     linter.set_reporter(testutils.GenericTestReporter())
492.     linter.open()
493.     linter.set_current_module("0123")
494. 
495.     with pytest.raises(InvalidMessageError) as cm:
496.         linter.add_message("line-too-long", args=(1, 2))
497.     assert str(cm.value) == "Message C0301 must provide line, got None"
498. 
499.     with pytest.raises(InvalidMessageError) as cm:
500.         linter.add_message("line-too-long", line=2, node="fake_node", args=(1, 2))


File: tests/lint/unittest_lint.py
Line number range: 623 - 625
Content:
@pytest.fixture
def pop_pylintrc():
    os.environ.pop("PYLINTRC", None)


File: tests/lint/unittest_lint.py
Line number range: 628 - 649
Content:
@pytest.mark.usefixtures("pop_pylintrc")
def test_pylint_home():
    uhome = os.path.expanduser("~")
    if uhome == "~":
        expected = ".pylint.d"
    else:
        expected = os.path.join(uhome, ".pylint.d")
    assert config.PYLINT_HOME == expected

    try:
        pylintd = join(tempfile.gettempdir(), ".pylint.d")
        os.environ["PYLINTHOME"] = pylintd
        try:
            reload(config)
            assert config.PYLINT_HOME == pylintd
        finally:
            try:
                os.remove(pylintd)
            except FileNotFoundError:
                pass
    finally:
        del os.environ["PYLINTHOME"]


File: tests/lint/unittest_lint.py
Line number range: 652 - 665
Content:
@pytest.mark.usefixtures("pop_pylintrc")
def test_pylintrc():
    with fake_home():
        current_dir = getcwd()
        chdir(os.path.dirname(os.path.abspath(sys.executable)))
        try:
            assert config.find_pylintrc() is None
            os.environ["PYLINTRC"] = join(tempfile.gettempdir(), ".pylintrc")
            assert config.find_pylintrc() is None
            os.environ["PYLINTRC"] = "."
            assert config.find_pylintrc() is None
        finally:
            chdir(current_dir)
            reload(config)


File: tests/lint/unittest_lint.py
Line number range: 668 - 693
Content:
@pytest.mark.usefixtures("pop_pylintrc")
def test_pylintrc_parentdir():
    with tempdir() as chroot:

        create_files(
            [
                "a/pylintrc",
                "a/b/__init__.py",
                "a/b/pylintrc",
                "a/b/c/__init__.py",
                "a/b/c/d/__init__.py",
                "a/b/c/d/e/.pylintrc",
            ]
        )
        with fake_home():
            assert config.find_pylintrc() is None
        results = {
            "a": join(chroot, "a", "pylintrc"),
            "a/b": join(chroot, "a", "b", "pylintrc"),
            "a/b/c": join(chroot, "a", "b", "pylintrc"),
            "a/b/c/d": join(chroot, "a", "b", "pylintrc"),
            "a/b/c/d/e": join(chroot, "a", "b", "c", "d", "e", ".pylintrc"),
        }
        for basedir, expected in results.items():
            os.chdir(join(chroot, basedir))
            assert config.find_pylintrc() == expected


File: tests/lint/unittest_lint.py
Line number range: 696 - 710
Content:
@pytest.mark.usefixtures("pop_pylintrc")
def test_pylintrc_parentdir_no_package():
    with tempdir() as chroot:
        with fake_home():
            create_files(["a/pylintrc", "a/b/pylintrc", "a/b/c/d/__init__.py"])
            assert config.find_pylintrc() is None
            results = {
                "a": join(chroot, "a", "pylintrc"),
                "a/b": join(chroot, "a", "b", "pylintrc"),
                "a/b/c": None,
                "a/b/c/d": None,
            }
            for basedir, expected in results.items():
                os.chdir(join(chroot, basedir))
                assert config.find_pylintrc() == expected

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-23 21:08:27,985 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly requested the full content of `tests/lint/unittest_lint.py`.\n   - This context represents the first 500 lines of that file.\n2. Extended relevance:\n   - Providing the full file is necessary to satisfy the user's request.", relative_path='tests/lint/unittest_lint.py', start_line=1, end_line=500), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly requested the full content of `tests/lint/unittest_lint.py`.\n   - This context is part of that file.\n2. Extended relevance:\n   - Providing the full file is necessary to satisfy the user's request.", relative_path='tests/lint/unittest_lint.py', start_line=623, end_line=625), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly requested the full content of `tests/lint/unittest_lint.py`.\n   - This context is part of that file.\n2. Extended relevance:\n   - Providing the full file is necessary to satisfy the user's request.", relative_path='tests/lint/unittest_lint.py', start_line=628, end_line=649), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly requested the full content of `tests/lint/unittest_lint.py`.\n   - This context is part of that file.\n2. Extended relevance:\n   - Providing the full file is necessary to satisfy the user's request.", relative_path='tests/lint/unittest_lint.py', start_line=652, end_line=665), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly requested the full content of `tests/lint/unittest_lint.py`.\n   - This context is part of that file.\n2. Extended relevance:\n   - Providing the full file is necessary to satisfy the user's request.", relative_path='tests/lint/unittest_lint.py', start_line=668, end_line=693), ContextOutput(reasoning="1. Query requirement analysis:\n   - The user explicitly requested the full content of `tests/lint/unittest_lint.py`.\n   - This context is part of that file.\n2. Extended relevance:\n   - Providing the full file is necessary to satisfy the user's request.", relative_path='tests/lint/unittest_lint.py', start_line=696, end_line=710)]
2025-12-23 21:08:27,988 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 6 contexts to memory for query: Please provide the full content of `tests/lint/unittest_lint.py`.
2025-12-23 21:08:27,988 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-23 21:08:27,988 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-23 21:08:27,989 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 6 new contexts to 4 existing contexts
2025-12-23 21:08:27,989 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 10 total contexts (removed 0 duplicates)
2025-12-23 21:08:27,990 - thread-139754504959680.prometheus_context_collector.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-12-23 21:08:27,990 - thread-139754504959680.prometheus_context_collector - INFO - Successfully retrieved 10 context snippets
