2025-12-25 01:24:29,999 - thread-128178306672320.prometheus_context_collector - INFO - Starting context retrieval for query: 
Issue: MigrationRecorder does not obey db_router allow_migrate rules

Description: Description
	
Hi,
We have a multi-db setup. We have one connection that is for the django project, and several connections that talk to other dbs for information (ie models with managed = False). Django should only create tables in the first connection, never in any of the other connections. We have a simple router that does the following: 
class Router(object):
	def allow_migrate(self, db, model):
		if db == 'default':
			return True
		return False
Current Behaviour
We run our functional tests and the migrate command is called against each connection when the test databases are created (see django/test/runner.py, setup_databases, line 300-ish, which calls django/db/backends/creation.py, create_test_db, line 377-ish)
When this migrate runs, it tries to apply our migrations, which tries to record that a migration has been applied (see django/db/migrations/executor.py, apply_migration, which has several calls to self.recorder.record_applied). 
The first thing that record_applied does is a call to self.ensure_schema() (see django/db/migrations/recorder.py, record_applied, lien 66-ish). 
ensure_schema checks to see if the Migration model is in the tables in the connection. If it does not find the table then it tries to create the table. 
I believe that this is incorrect behaviour when a db_router has been provided. If using the router above, my expectation would be that the table is not created on any connection other than the 'default' connection. Looking at the other methods on the MigrationRecorder, I would expect that there will be similar issues with applied_migrations and record_unapplied.

Patch information:
diff --git a/django/db/migrations/recorder.py b/django/db/migrations/recorder.py
index 1a37c6b7d0..fd1332e610 100644
--- a/django/db/migrations/recorder.py
+++ b/django/db/migrations/recorder.py
@@ -1,5 +1,5 @@
 from django.apps.registry import Apps
-from django.db import DatabaseError, models
+from django.db import DatabaseError, models, router
 from django.utils.functional import classproperty
 from django.utils.timezone import now
 
@@ -58,6 +58,10 @@ class MigrationRecorder:
 
     def ensure_schema(self):
         """Ensure the table exists and has the correct schema."""
+        # Respect database routers: if migrations aren't allowed on this
+        # connection for the Migration model, don't create the table.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return
         # If the table's there, that's fine - we've never changed its schema
         # in the codebase.
         if self.has_table():
@@ -74,6 +78,10 @@ class MigrationRecorder:
         Return a dict mapping (app_name, migration_name) to Migration instances
         for all applied migrations.
         """
+        # If migrations aren't allowed on this database for the Migration model,
+        # treat as if no migrations are applied.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return {}
         if self.has_table():
             return {(migration.app, migration.name): migration for migration in self.migration_qs}
         else:
@@ -83,11 +91,19 @@ class MigrationRecorder:
 
     def record_applied(self, app, name):
         """Record that a migration was applied."""
+        # Respect routers: if migrations aren't allowed on this DB for the
+        # Migration model, don't attempt to create the table or write records.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return
         self.ensure_schema()
         self.migration_qs.create(app=app, name=name)
 
     def record_unapplied(self, app, name):
         """Record that a migration was unapplied."""
+        # Respect routers: if migrations aren't allowed on this DB for the
+        # Migration model, don't attempt to create the table or delete records.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return
         self.ensure_schema()
         self.migration_qs.filter(app=app, name=name).delete()
 


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

2025-12-25 01:24:30,097 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       └── legend_test.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: MigrationRecorder does not obey db_router allow_migrate rules

Description: Description
	
Hi,
We have a multi-db setup. We have one connection that is for the django project, and several connections that talk to other dbs for information (ie models with managed = False). Django should only create tables in the first connection, never in any of the other connections. We have a simple router that does the following: 
class Router(object):
	def allow_migrate(self, db, model):
		if db == 'default':
			return True
		return False
Current Behaviour
We run our functional tests and the migrate command is called against each connection when the test databases are created (see django/test/runner.py, setup_databases, line 300-ish, which calls django/db/backends/creation.py, create_test_db, line 377-ish)
When this migrate runs, it tries to apply our migrations, which tries to record that a migration has been applied (see django/db/migrations/executor.py, apply_migration, which has several calls to self.recorder.record_applied). 
The first thing that record_applied does is a call to self.ensure_schema() (see django/db/migrations/recorder.py, record_applied, lien 66-ish). 
ensure_schema checks to see if the Migration model is in the tables in the connection. If it does not find the table then it tries to create the table. 
I believe that this is incorrect behaviour when a db_router has been provided. If using the router above, my expectation would be that the table is not created on any connection other than the 'default' connection. Looking at the other methods on the MigrationRecorder, I would expect that there will be similar issues with applied_migrations and record_unapplied.

Patch information:
diff --git a/django/db/migrations/recorder.py b/django/db/migrations/recorder.py
index 1a37c6b7d0..fd1332e610 100644
--- a/django/db/migrations/recorder.py
+++ b/django/db/migrations/recorder.py
@@ -1,5 +1,5 @@
 from django.apps.registry import Apps
-from django.db import DatabaseError, models
+from django.db import DatabaseError, models, router
 from django.utils.functional import classproperty
 from django.utils.timezone import now
 
@@ -58,6 +58,10 @@ class MigrationRecorder:
 
     def ensure_schema(self):
         """Ensure the table exists and has the correct schema."""
+        # Respect database routers: if migrations aren't allowed on this
+        # connection for the Migration model, don't create the table.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return
         # If the table's there, that's fine - we've never changed its schema
         # in the codebase.
         if self.has_table():
@@ -74,6 +78,10 @@ class MigrationRecorder:
         Return a dict mapping (app_name, migration_name) to Migration instances
         for all applied migrations.
         """
+        # If migrations aren't allowed on this database for the Migration model,
+        # treat as if no migrations are applied.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return {}
         if self.has_table():
             return {(migration.app, migration.name): migration for migration in self.migration_qs}
         else:
@@ -83,11 +91,19 @@ class MigrationRecorder:
 
     def record_applied(self, app, name):
         """Record that a migration was applied."""
+        # Respect routers: if migrations aren't allowed on this DB for the
+        # Migration model, don't attempt to create the table or write records.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return
         self.ensure_schema()
         self.migration_qs.create(app=app, name=name)
 
     def record_unapplied(self, app, name):
         """Record that a migration was unapplied."""
+        # Respect routers: if migrations aren't allowed on this DB for the
+        # Migration model, don't attempt to create the table or delete records.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return
         self.ensure_schema()
         self.migration_qs.filter(app=app, name=name).delete()
 


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---



All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-25 01:24:56,234 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning='The user wants to find test cases related to a bug where `MigrationRecorder` does not respect `db_router` rules. To find relevant tests, I need to examine tests for multi-database migrations. The file `tests/migrations/test_multidb.py` is the most likely to contain tests for this specific scenario. Additionally, `tests/multiple_database/tests.py` and `tests/multiple_database/routers.py` are needed to understand the general multi-database testing setup and the router configurations used in those tests. These files are essential to find test cases that verify the interaction between the migration framework and database routers.' query='Please provide the full content of `tests/migrations/test_multidb.py`, `tests/multiple_database/tests.py`, and `tests/multiple_database/routers.py`.' extra_requirements='' purpose='To find 3 relevant test cases demonstrating multi-database migration behavior with database routers.'
2025-12-25 01:24:56,235 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/migrations/test_multidb.py`, `tests/multiple_database/tests.py`, and `tests/multiple_database/routers.py`.
2025-12-25 01:24:56,235 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-25 01:24:56,236 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-25 01:24:56,236 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-25 01:24:56,236 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/migrations/test_multidb.py`, `tests/multiple_database/tests.py`, and `tests/multiple_database/routers.py`.
Purpose: To find 3 relevant test cases demonstrating multi-database migration behavior with database routers.
2025-12-25 01:24:59,030 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have initiated a search to retrieve the complete contents of the three specified test files. Each file is being read in its entirety to ensure all relevant test cases and database router configurations are available for review. This will provide the necessary context to understand the multi-database migration behavior.' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/multiple_database/routers.py"}'}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2115, 'candidates_token_count': 126, 'total_token_count': 2376, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2115}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 126}], 'thoughts_token_count': 135, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.05404540092226059, 'model_name': 'gemini-2.5-pro'} id='run--381af1ac-928d-4be5-97e4-f176a9eec069-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_multidb.py'}, 'id': 'b6fe941a-6134-4236-91be-726314242b22', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/multiple_database/tests.py'}, 'id': '4b904da8-5caa-400b-8709-8f43375fd270', 'type': 'tool_call'}, {'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/multiple_database/routers.py'}, 'id': '4b7513c5-9094-4c13-b49e-0c019ff8fadf', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2115, 'output_tokens': 126, 'total_tokens': 2376, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 135}}
2025-12-25 01:25:07,758 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have successfully retrieved the contents of `tests/migrations/test_multidb.py`, `tests/multiple_database/tests.py`, and `tests/multiple_database/routers.py`. This has provided me with the necessary code to identify relevant test cases that demonstrate multi-database migration behavior with database routers. I will now proceed to analyze these files and extract the most illustrative examples for you.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 14337, 'candidates_token_count': 84, 'total_token_count': 15237, 'cached_content_token_count': 1888, 'prompt_tokens_details': [{'modality': 1, 'token_count': 14337}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1888}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 84}], 'thoughts_token_count': 816}, 'finish_reason': 'STOP', 'avg_logprobs': -0.7129243214925131, 'model_name': 'gemini-2.5-pro'} id='run--bb22969b-d005-45dc-b5fc-d73807e9e198-0' usage_metadata={'input_tokens': 14337, 'output_tokens': 84, 'total_tokens': 15237, 'input_token_details': {'cache_read': 1888}, 'output_token_details': {'reasoning': 816}}
2025-12-25 01:25:07,760 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/migrations/test_multidb.py`, `tests/multiple_database/tests.py`, and `tests/multiple_database/routers.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
To find 3 relevant test cases demonstrating multi-database migration behavior with database routers.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/migrations/test_multidb.py
Line number range: 1 - 171
Content:
1. from django.db import connection, migrations, models
2. from django.db.migrations.state import ProjectState
3. from django.test import override_settings
4. 
5. from .test_base import OperationTestBase
6. 
7. 
8. class AgnosticRouter:
9.     """
10.     A router that doesn't have an opinion regarding migrating.
11.     """
12.     def allow_migrate(self, db, app_label, **hints):
13.         return None
14. 
15. 
16. class MigrateNothingRouter:
17.     """
18.     A router that doesn't allow migrating.
19.     """
20.     def allow_migrate(self, db, app_label, **hints):
21.         return False
22. 
23. 
24. class MigrateEverythingRouter:
25.     """
26.     A router that always allows migrating.
27.     """
28.     def allow_migrate(self, db, app_label, **hints):
29.         return True
30. 
31. 
32. class MigrateWhenFooRouter:
33.     """
34.     A router that allows migrating depending on a hint.
35.     """
36.     def allow_migrate(self, db, app_label, **hints):
37.         return hints.get('foo', False)
38. 
39. 
40. class MultiDBOperationTests(OperationTestBase):
41.     databases = {'default', 'other'}
42. 
43.     def _test_create_model(self, app_label, should_run):
44.         """
45.         CreateModel honors multi-db settings.
46.         """
47.         operation = migrations.CreateModel(
48.             "Pony",
49.             [("id", models.AutoField(primary_key=True))],
50.         )
51.         # Test the state alteration
52.         project_state = ProjectState()
53.         new_state = project_state.clone()
54.         operation.state_forwards(app_label, new_state)
55.         # Test the database alteration
56.         self.assertTableNotExists("%s_pony" % app_label)
57.         with connection.schema_editor() as editor:
58.             operation.database_forwards(app_label, editor, project_state, new_state)
59.         if should_run:
60.             self.assertTableExists("%s_pony" % app_label)
61.         else:
62.             self.assertTableNotExists("%s_pony" % app_label)
63.         # And test reversal
64.         with connection.schema_editor() as editor:
65.             operation.database_backwards(app_label, editor, new_state, project_state)
66.         self.assertTableNotExists("%s_pony" % app_label)
67. 
68.     @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])
69.     def test_create_model(self):
70.         """
71.         Test when router doesn't have an opinion (i.e. CreateModel should run).
72.         """
73.         self._test_create_model("test_mltdb_crmo", should_run=True)
74. 
75.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
76.     def test_create_model2(self):
77.         """
78.         Test when router returns False (i.e. CreateModel shouldn't run).
79.         """
80.         self._test_create_model("test_mltdb_crmo2", should_run=False)
81. 
82.     @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])
83.     def test_create_model3(self):
84.         """
85.         Test when router returns True (i.e. CreateModel should run).
86.         """
87.         self._test_create_model("test_mltdb_crmo3", should_run=True)
88. 
89.     def test_create_model4(self):
90.         """
91.         Test multiple routers.
92.         """
93.         with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):
94.             self._test_create_model("test_mltdb_crmo4", should_run=True)
95.         with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):
96.             self._test_create_model("test_mltdb_crmo4", should_run=False)
97.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):
98.             self._test_create_model("test_mltdb_crmo4", should_run=True)
99. 
100.     def _test_run_sql(self, app_label, should_run, hints=None):
101.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
102.             project_state = self.set_up_test_model(app_label)
103. 
104.         sql = """
105.         INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);
106.         INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);
107.         """.format(app_label)
108. 
109.         operation = migrations.RunSQL(sql, hints=hints or {})
110.         # Test the state alteration does nothing
111.         new_state = project_state.clone()
112.         operation.state_forwards(app_label, new_state)
113.         self.assertEqual(new_state, project_state)
114.         # Test the database alteration
115.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
116.         with connection.schema_editor() as editor:
117.             operation.database_forwards(app_label, editor, project_state, new_state)
118.         Pony = project_state.apps.get_model(app_label, "Pony")
119.         if should_run:
120.             self.assertEqual(Pony.objects.count(), 2)
121.         else:
122.             self.assertEqual(Pony.objects.count(), 0)
123. 
124.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
125.     def test_run_sql_migrate_nothing_router(self):
126.         self._test_run_sql("test_mltdb_runsql", should_run=False)
127. 
128.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
129.     def test_run_sql_migrate_foo_router_without_hints(self):
130.         self._test_run_sql("test_mltdb_runsql2", should_run=False)
131. 
132.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
133.     def test_run_sql_migrate_foo_router_with_hints(self):
134.         self._test_run_sql('test_mltdb_runsql3', should_run=True, hints={'foo': True})
135. 
136.     def _test_run_python(self, app_label, should_run, hints=None):
137.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
138.             project_state = self.set_up_test_model(app_label)
139. 
140.         # Create the operation
141.         def inner_method(models, schema_editor):
142.             Pony = models.get_model(app_label, "Pony")
143.             Pony.objects.create(pink=1, weight=3.55)
144.             Pony.objects.create(weight=5)
145. 
146.         operation = migrations.RunPython(inner_method, hints=hints or {})
147.         # Test the state alteration does nothing
148.         new_state = project_state.clone()
149.         operation.state_forwards(app_label, new_state)
150.         self.assertEqual(new_state, project_state)
151.         # Test the database alteration
152.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
153.         with connection.schema_editor() as editor:
154.             operation.database_forwards(app_label, editor, project_state, new_state)
155.         Pony = project_state.apps.get_model(app_label, "Pony")
156.         if should_run:
157.             self.assertEqual(Pony.objects.count(), 2)
158.         else:
159.             self.assertEqual(Pony.objects.count(), 0)
160. 
161.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
162.     def test_run_python_migrate_nothing_router(self):
163.         self._test_run_python("test_mltdb_runpython", should_run=False)
164. 
165.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
166.     def test_run_python_migrate_foo_router_without_hints(self):
167.         self._test_run_python("test_mltdb_runpython2", should_run=False)
168. 
169.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
170.     def test_run_python_migrate_foo_router_with_hints(self):
171.         self._test_run_python('test_mltdb_runpython3', should_run=True, hints={'foo': True})


File: tests/multiple_database/routers.py
Line number range: 1 - 58
Content:
1. from django.db import DEFAULT_DB_ALIAS
2. 
3. 
4. class TestRouter:
5.     """
6.     Vaguely behave like primary/replica, but the databases aren't assumed to
7.     propagate changes.
8.     """
9. 
10.     def db_for_read(self, model, instance=None, **hints):
11.         if instance:
12.             return instance._state.db or 'other'
13.         return 'other'
14. 
15.     def db_for_write(self, model, **hints):
16.         return DEFAULT_DB_ALIAS
17. 
18.     def allow_relation(self, obj1, obj2, **hints):
19.         return obj1._state.db in ('default', 'other') and obj2._state.db in ('default', 'other')
20. 
21.     def allow_migrate(self, db, app_label, **hints):
22.         return True
23. 
24. 
25. class AuthRouter:
26.     """
27.     Control all database operations on models in the contrib.auth application.
28.     """
29. 
30.     def db_for_read(self, model, **hints):
31.         "Point all read operations on auth models to 'default'"
32.         if model._meta.app_label == 'auth':
33.             # We use default here to ensure we can tell the difference
34.             # between a read request and a write request for Auth objects
35.             return 'default'
36.         return None
37. 
38.     def db_for_write(self, model, **hints):
39.         "Point all operations on auth models to 'other'"
40.         if model._meta.app_label == 'auth':
41.             return 'other'
42.         return None
43. 
44.     def allow_relation(self, obj1, obj2, **hints):
45.         "Allow any relation if a model in Auth is involved"
46.         return obj1._meta.app_label == 'auth' or obj2._meta.app_label == 'auth' or None
47. 
48.     def allow_migrate(self, db, app_label, **hints):
49.         "Make sure the auth app only appears on the 'other' db"
50.         if app_label == 'auth':
51.             return db == 'other'
52.         return None
53. 
54. 
55. class WriteRouter:
56.     # A router that only expresses an opinion on writes
57.     def db_for_write(self, model, **hints):
58.         return 'writer'


File: tests/multiple_database/tests.py
Line number range: 1 - 500
Content:
1. import datetime
2. import pickle
3. from io import StringIO
4. from operator import attrgetter
5. from unittest.mock import Mock
6. 
7. from django.contrib.auth.models import User
8. from django.contrib.contenttypes.models import ContentType
9. from django.core import management
10. from django.db import DEFAULT_DB_ALIAS, router, transaction
11. from django.db.models import signals
12. from django.db.utils import ConnectionRouter
13. from django.test import SimpleTestCase, TestCase, override_settings
14. 
15. from .models import Book, Person, Pet, Review, UserProfile
16. from .routers import AuthRouter, TestRouter, WriteRouter
17. 
18. 
19. class QueryTestCase(TestCase):
20.     databases = {'default', 'other'}
21. 
22.     def test_db_selection(self):
23.         "Querysets will use the default database by default"
24.         self.assertEqual(Book.objects.db, DEFAULT_DB_ALIAS)
25.         self.assertEqual(Book.objects.all().db, DEFAULT_DB_ALIAS)
26. 
27.         self.assertEqual(Book.objects.using('other').db, 'other')
28. 
29.         self.assertEqual(Book.objects.db_manager('other').db, 'other')
30.         self.assertEqual(Book.objects.db_manager('other').all().db, 'other')
31. 
32.     def test_default_creation(self):
33.         "Objects created on the default database don't leak onto other databases"
34.         # Create a book on the default database using create()
35.         Book.objects.create(title="Pro Django", published=datetime.date(2008, 12, 16))
36. 
37.         # Create a book on the default database using a save
38.         dive = Book()
39.         dive.title = "Dive into Python"
40.         dive.published = datetime.date(2009, 5, 4)
41.         dive.save()
42. 
43.         # Book exists on the default database, but not on other database
44.         try:
45.             Book.objects.get(title="Pro Django")
46.             Book.objects.using('default').get(title="Pro Django")
47.         except Book.DoesNotExist:
48.             self.fail('"Pro Django" should exist on default database')
49. 
50.         with self.assertRaises(Book.DoesNotExist):
51.             Book.objects.using('other').get(title="Pro Django")
52. 
53.         try:
54.             Book.objects.get(title="Dive into Python")
55.             Book.objects.using('default').get(title="Dive into Python")
56.         except Book.DoesNotExist:
57.             self.fail('"Dive into Python" should exist on default database')
58. 
59.         with self.assertRaises(Book.DoesNotExist):
60.             Book.objects.using('other').get(title="Dive into Python")
61. 
62.     def test_other_creation(self):
63.         "Objects created on another database don't leak onto the default database"
64.         # Create a book on the second database
65.         Book.objects.using('other').create(title="Pro Django",
66.                                            published=datetime.date(2008, 12, 16))
67. 
68.         # Create a book on the default database using a save
69.         dive = Book()
70.         dive.title = "Dive into Python"
71.         dive.published = datetime.date(2009, 5, 4)
72.         dive.save(using='other')
73. 
74.         # Book exists on the default database, but not on other database
75.         try:
76.             Book.objects.using('other').get(title="Pro Django")
77.         except Book.DoesNotExist:
78.             self.fail('"Pro Django" should exist on other database')
79. 
80.         with self.assertRaises(Book.DoesNotExist):
81.             Book.objects.get(title="Pro Django")
82.         with self.assertRaises(Book.DoesNotExist):
83.             Book.objects.using('default').get(title="Pro Django")
84. 
85.         try:
86.             Book.objects.using('other').get(title="Dive into Python")
87.         except Book.DoesNotExist:
88.             self.fail('"Dive into Python" should exist on other database')
89. 
90.         with self.assertRaises(Book.DoesNotExist):
91.             Book.objects.get(title="Dive into Python")
92.         with self.assertRaises(Book.DoesNotExist):
93.             Book.objects.using('default').get(title="Dive into Python")
94. 
95.     def test_refresh(self):
96.         dive = Book(title="Dive into Python", published=datetime.date(2009, 5, 4))
97.         dive.save(using='other')
98.         dive2 = Book.objects.using('other').get()
99.         dive2.title = "Dive into Python (on default)"
100.         dive2.save(using='default')
101.         dive.refresh_from_db()
102.         self.assertEqual(dive.title, "Dive into Python")
103.         dive.refresh_from_db(using='default')
104.         self.assertEqual(dive.title, "Dive into Python (on default)")
105.         self.assertEqual(dive._state.db, "default")
106. 
107.     def test_refresh_router_instance_hint(self):
108.         router = Mock()
109.         router.db_for_read.return_value = None
110.         book = Book.objects.create(title='Dive Into Python', published=datetime.date(1957, 10, 12))
111.         with self.settings(DATABASE_ROUTERS=[router]):
112.             book.refresh_from_db()
113.         router.db_for_read.assert_called_once_with(Book, instance=book)
114. 
115.     def test_basic_queries(self):
116.         "Queries are constrained to a single database"
117.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
118. 
119.         dive = Book.objects.using('other').get(published=datetime.date(2009, 5, 4))
120.         self.assertEqual(dive.title, "Dive into Python")
121.         with self.assertRaises(Book.DoesNotExist):
122.             Book.objects.using('default').get(published=datetime.date(2009, 5, 4))
123. 
124.         dive = Book.objects.using('other').get(title__icontains="dive")
125.         self.assertEqual(dive.title, "Dive into Python")
126.         with self.assertRaises(Book.DoesNotExist):
127.             Book.objects.using('default').get(title__icontains="dive")
128. 
129.         dive = Book.objects.using('other').get(title__iexact="dive INTO python")
130.         self.assertEqual(dive.title, "Dive into Python")
131.         with self.assertRaises(Book.DoesNotExist):
132.             Book.objects.using('default').get(title__iexact="dive INTO python")
133. 
134.         dive = Book.objects.using('other').get(published__year=2009)
135.         self.assertEqual(dive.title, "Dive into Python")
136.         self.assertEqual(dive.published, datetime.date(2009, 5, 4))
137.         with self.assertRaises(Book.DoesNotExist):
138.             Book.objects.using('default').get(published__year=2009)
139. 
140.         years = Book.objects.using('other').dates('published', 'year')
141.         self.assertEqual([o.year for o in years], [2009])
142.         years = Book.objects.using('default').dates('published', 'year')
143.         self.assertEqual([o.year for o in years], [])
144. 
145.         months = Book.objects.using('other').dates('published', 'month')
146.         self.assertEqual([o.month for o in months], [5])
147.         months = Book.objects.using('default').dates('published', 'month')
148.         self.assertEqual([o.month for o in months], [])
149. 
150.     def test_m2m_separation(self):
151.         "M2M fields are constrained to a single database"
152.         # Create a book and author on the default database
153.         pro = Book.objects.create(title="Pro Django",
154.                                   published=datetime.date(2008, 12, 16))
155. 
156.         marty = Person.objects.create(name="Marty Alchin")
157. 
158.         # Create a book and author on the other database
159.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
160. 
161.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
162. 
163.         # Save the author relations
164.         pro.authors.set([marty])
165.         dive.authors.set([mark])
166. 
167.         # Inspect the m2m tables directly.
168.         # There should be 1 entry in each database
169.         self.assertEqual(Book.authors.through.objects.using('default').count(), 1)
170.         self.assertEqual(Book.authors.through.objects.using('other').count(), 1)
171. 
172.         # Queries work across m2m joins
173.         self.assertEqual(
174.             list(Book.objects.using('default').filter(authors__name='Marty Alchin').values_list('title', flat=True)),
175.             ['Pro Django']
176.         )
177.         self.assertEqual(
178.             list(Book.objects.using('other').filter(authors__name='Marty Alchin').values_list('title', flat=True)),
179.             []
180.         )
181. 
182.         self.assertEqual(
183.             list(Book.objects.using('default').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
184.             []
185.         )
186.         self.assertEqual(
187.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
188.             ['Dive into Python']
189.         )
190. 
191.         # Reget the objects to clear caches
192.         dive = Book.objects.using('other').get(title="Dive into Python")
193.         mark = Person.objects.using('other').get(name="Mark Pilgrim")
194. 
195.         # Retrieve related object by descriptor. Related objects should be database-bound
196.         self.assertEqual(list(dive.authors.all().values_list('name', flat=True)), ['Mark Pilgrim'])
197. 
198.         self.assertEqual(list(mark.book_set.all().values_list('title', flat=True)), ['Dive into Python'])
199. 
200.     def test_m2m_forward_operations(self):
201.         "M2M forward manipulations are all constrained to a single DB"
202.         # Create a book and author on the other database
203.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
204.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
205. 
206.         # Save the author relations
207.         dive.authors.set([mark])
208. 
209.         # Add a second author
210.         john = Person.objects.using('other').create(name="John Smith")
211.         self.assertEqual(
212.             list(Book.objects.using('other').filter(authors__name='John Smith').values_list('title', flat=True)),
213.             []
214.         )
215. 
216.         dive.authors.add(john)
217.         self.assertEqual(
218.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
219.             ['Dive into Python']
220.         )
221.         self.assertEqual(
222.             list(Book.objects.using('other').filter(authors__name='John Smith').values_list('title', flat=True)),
223.             ['Dive into Python']
224.         )
225. 
226.         # Remove the second author
227.         dive.authors.remove(john)
228.         self.assertEqual(
229.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
230.             ['Dive into Python']
231.         )
232.         self.assertEqual(
233.             list(Book.objects.using('other').filter(authors__name='John Smith').values_list('title', flat=True)),
234.             []
235.         )
236. 
237.         # Clear all authors
238.         dive.authors.clear()
239.         self.assertEqual(
240.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
241.             []
242.         )
243.         self.assertEqual(
244.             list(Book.objects.using('other').filter(authors__name='John Smith').values_list('title', flat=True)),
245.             []
246.         )
247. 
248.         # Create an author through the m2m interface
249.         dive.authors.create(name='Jane Brown')
250.         self.assertEqual(
251.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
252.             []
253.         )
254.         self.assertEqual(
255.             list(Book.objects.using('other').filter(authors__name='Jane Brown').values_list('title', flat=True)),
256.             ['Dive into Python']
257.         )
258. 
259.     def test_m2m_reverse_operations(self):
260.         "M2M reverse manipulations are all constrained to a single DB"
261.         # Create a book and author on the other database
262.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
263.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
264. 
265.         # Save the author relations
266.         dive.authors.set([mark])
267. 
268.         # Create a second book on the other database
269.         grease = Book.objects.using('other').create(title="Greasemonkey Hacks", published=datetime.date(2005, 11, 1))
270. 
271.         # Add a books to the m2m
272.         mark.book_set.add(grease)
273.         self.assertEqual(
274.             list(Person.objects.using('other').filter(book__title='Dive into Python').values_list('name', flat=True)),
275.             ['Mark Pilgrim']
276.         )
277.         self.assertEqual(
278.             list(
279.                 Person.objects.using('other').filter(book__title='Greasemonkey Hacks').values_list('name', flat=True)
280.             ),
281.             ['Mark Pilgrim']
282.         )
283. 
284.         # Remove a book from the m2m
285.         mark.book_set.remove(grease)
286.         self.assertEqual(
287.             list(Person.objects.using('other').filter(book__title='Dive into Python').values_list('name', flat=True)),
288.             ['Mark Pilgrim']
289.         )
290.         self.assertEqual(
291.             list(
292.                 Person.objects.using('other').filter(book__title='Greasemonkey Hacks').values_list('name', flat=True)
293.             ),
294.             []
295.         )
296. 
297.         # Clear the books associated with mark
298.         mark.book_set.clear()
299.         self.assertEqual(
300.             list(Person.objects.using('other').filter(book__title='Dive into Python').values_list('name', flat=True)),
301.             []
302.         )
303.         self.assertEqual(
304.             list(
305.                 Person.objects.using('other').filter(book__title='Greasemonkey Hacks').values_list('name', flat=True)
306.             ),
307.             []
308.         )
309. 
310.         # Create a book through the m2m interface
311.         mark.book_set.create(title="Dive into HTML5", published=datetime.date(2020, 1, 1))
312.         self.assertEqual(
313.             list(Person.objects.using('other').filter(book__title='Dive into Python').values_list('name', flat=True)),
314.             []
315.         )
316.         self.assertEqual(
317.             list(Person.objects.using('other').filter(book__title='Dive into HTML5').values_list('name', flat=True)),
318.             ['Mark Pilgrim']
319.         )
320. 
321.     def test_m2m_cross_database_protection(self):
322.         "Operations that involve sharing M2M objects across databases raise an error"
323.         # Create a book and author on the default database
324.         pro = Book.objects.create(title="Pro Django", published=datetime.date(2008, 12, 16))
325. 
326.         marty = Person.objects.create(name="Marty Alchin")
327. 
328.         # Create a book and author on the other database
329.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
330. 
331.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
332.         # Set a foreign key set with an object from a different database
333.         msg = (
334.             'Cannot assign "<Person: Marty Alchin>": the current database '
335.             'router prevents this relation.'
336.         )
337.         with self.assertRaisesMessage(ValueError, msg):
338.             with transaction.atomic(using='default'):
339.                 marty.edited.set([pro, dive])
340. 
341.         # Add to an m2m with an object from a different database
342.         msg = (
343.             'Cannot add "<Book: Dive into Python>": instance is on '
344.             'database "default", value is on database "other"'
345.         )
346.         with self.assertRaisesMessage(ValueError, msg):
347.             with transaction.atomic(using='default'):
348.                 marty.book_set.add(dive)
349. 
350.         # Set a m2m with an object from a different database
351.         with self.assertRaisesMessage(ValueError, msg):
352.             with transaction.atomic(using='default'):
353.                 marty.book_set.set([pro, dive])
354. 
355.         # Add to a reverse m2m with an object from a different database
356.         msg = (
357.             'Cannot add "<Person: Marty Alchin>": instance is on '
358.             'database "other", value is on database "default"'
359.         )
360.         with self.assertRaisesMessage(ValueError, msg):
361.             with transaction.atomic(using='other'):
362.                 dive.authors.add(marty)
363. 
364.         # Set a reverse m2m with an object from a different database
365.         with self.assertRaisesMessage(ValueError, msg):
366.             with transaction.atomic(using='other'):
367.                 dive.authors.set([mark, marty])
368. 
369.     def test_m2m_deletion(self):
370.         "Cascaded deletions of m2m relations issue queries on the right database"
371.         # Create a book and author on the other database
372.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
373.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
374.         dive.authors.set([mark])
375. 
376.         # Check the initial state
377.         self.assertEqual(Person.objects.using('default').count(), 0)
378.         self.assertEqual(Book.objects.using('default').count(), 0)
379.         self.assertEqual(Book.authors.through.objects.using('default').count(), 0)
380. 
381.         self.assertEqual(Person.objects.using('other').count(), 1)
382.         self.assertEqual(Book.objects.using('other').count(), 1)
383.         self.assertEqual(Book.authors.through.objects.using('other').count(), 1)
384. 
385.         # Delete the object on the other database
386.         dive.delete(using='other')
387. 
388.         self.assertEqual(Person.objects.using('default').count(), 0)
389.         self.assertEqual(Book.objects.using('default').count(), 0)
390.         self.assertEqual(Book.authors.through.objects.using('default').count(), 0)
391. 
392.         # The person still exists ...
393.         self.assertEqual(Person.objects.using('other').count(), 1)
394.         # ... but the book has been deleted
395.         self.assertEqual(Book.objects.using('other').count(), 0)
396.         # ... and the relationship object has also been deleted.
397.         self.assertEqual(Book.authors.through.objects.using('other').count(), 0)
398. 
399.         # Now try deletion in the reverse direction. Set up the relation again
400.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
401.         dive.authors.set([mark])
402. 
403.         # Check the initial state
404.         self.assertEqual(Person.objects.using('default').count(), 0)
405.         self.assertEqual(Book.objects.using('default').count(), 0)
406.         self.assertEqual(Book.authors.through.objects.using('default').count(), 0)
407. 
408.         self.assertEqual(Person.objects.using('other').count(), 1)
409.         self.assertEqual(Book.objects.using('other').count(), 1)
410.         self.assertEqual(Book.authors.through.objects.using('other').count(), 1)
411. 
412.         # Delete the object on the other database
413.         mark.delete(using='other')
414. 
415.         self.assertEqual(Person.objects.using('default').count(), 0)
416.         self.assertEqual(Book.objects.using('default').count(), 0)
417.         self.assertEqual(Book.authors.through.objects.using('default').count(), 0)
418. 
419.         # The person has been deleted ...
420.         self.assertEqual(Person.objects.using('other').count(), 0)
421.         # ... but the book still exists
422.         self.assertEqual(Book.objects.using('other').count(), 1)
423.         # ... and the relationship object has been deleted.
424.         self.assertEqual(Book.authors.through.objects.using('other').count(), 0)
425. 
426.     def test_foreign_key_separation(self):
427.         "FK fields are constrained to a single database"
428.         # Create a book and author on the default database
429.         pro = Book.objects.create(title="Pro Django", published=datetime.date(2008, 12, 16))
430. 
431.         george = Person.objects.create(name="George Vilches")
432. 
433.         # Create a book and author on the other database
434.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
435.         chris = Person.objects.using('other').create(name="Chris Mills")
436. 
437.         # Save the author's favorite books
438.         pro.editor = george
439.         pro.save()
440. 
441.         dive.editor = chris
442.         dive.save()
443. 
444.         pro = Book.objects.using('default').get(title="Pro Django")
445.         self.assertEqual(pro.editor.name, "George Vilches")
446. 
447.         dive = Book.objects.using('other').get(title="Dive into Python")
448.         self.assertEqual(dive.editor.name, "Chris Mills")
449. 
450.         # Queries work across foreign key joins
451.         self.assertEqual(
452.             list(Person.objects.using('default').filter(edited__title='Pro Django').values_list('name', flat=True)),
453.             ['George Vilches']
454.         )
455.         self.assertEqual(
456.             list(Person.objects.using('other').filter(edited__title='Pro Django').values_list('name', flat=True)),
457.             []
458.         )
459. 
460.         self.assertEqual(
461.             list(
462.                 Person.objects.using('default').filter(edited__title='Dive into Python').values_list('name', flat=True)
463.             ),
464.             []
465.         )
466.         self.assertEqual(
467.             list(
468.                 Person.objects.using('other').filter(edited__title='Dive into Python').values_list('name', flat=True)
469.             ),
470.             ['Chris Mills']
471.         )
472. 
473.         # Reget the objects to clear caches
474.         chris = Person.objects.using('other').get(name="Chris Mills")
475.         dive = Book.objects.using('other').get(title="Dive into Python")
476. 
477.         # Retrieve related object by descriptor. Related objects should be database-bound
478.         self.assertEqual(list(chris.edited.values_list('title', flat=True)), ['Dive into Python'])
479. 
480.     def test_foreign_key_reverse_operations(self):
481.         "FK reverse manipulations are all constrained to a single DB"
482.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
483.         chris = Person.objects.using('other').create(name="Chris Mills")
484. 
485.         # Save the author relations
486.         dive.editor = chris
487.         dive.save()
488. 
489.         # Add a second book edited by chris
490.         html5 = Book.objects.using('other').create(title="Dive into HTML5", published=datetime.date(2010, 3, 15))
491.         self.assertEqual(
492.             list(Person.objects.using('other').filter(edited__title='Dive into HTML5').values_list('name', flat=True)),
493.             []
494.         )
495. 
496.         chris.edited.add(html5)
497.         self.assertEqual(
498.             list(Person.objects.using('other').filter(edited__title='Dive into HTML5').values_list('name', flat=True)),
499.             ['Chris Mills']
500.         )

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-25 01:25:12,317 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='The user explicitly requested the full content of this file.', relative_path='tests/migrations/test_multidb.py', start_line=1, end_line=171), ContextOutput(reasoning='The user explicitly requested the full content of this file.', relative_path='tests/multiple_database/tests.py', start_line=1, end_line=500), ContextOutput(reasoning='The user explicitly requested the full content of this file.', relative_path='tests/multiple_database/routers.py', start_line=1, end_line=58)]
2025-12-25 01:25:12,320 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 3 contexts to memory for query: Please provide the full content of `tests/migrations/test_multidb.py`, `tests/multiple_database/tests.py`, and `tests/multiple_database/routers.py`.
2025-12-25 01:25:12,320 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-25 01:25:12,320 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-25 01:25:12,320 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 3 new contexts to 0 existing contexts
2025-12-25 01:25:12,321 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 3 total contexts (removed 0 duplicates)
2025-12-25 01:25:12,321 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       └── legend_test.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: MigrationRecorder does not obey db_router allow_migrate rules

Description: Description
	
Hi,
We have a multi-db setup. We have one connection that is for the django project, and several connections that talk to other dbs for information (ie models with managed = False). Django should only create tables in the first connection, never in any of the other connections. We have a simple router that does the following: 
class Router(object):
	def allow_migrate(self, db, model):
		if db == 'default':
			return True
		return False
Current Behaviour
We run our functional tests and the migrate command is called against each connection when the test databases are created (see django/test/runner.py, setup_databases, line 300-ish, which calls django/db/backends/creation.py, create_test_db, line 377-ish)
When this migrate runs, it tries to apply our migrations, which tries to record that a migration has been applied (see django/db/migrations/executor.py, apply_migration, which has several calls to self.recorder.record_applied). 
The first thing that record_applied does is a call to self.ensure_schema() (see django/db/migrations/recorder.py, record_applied, lien 66-ish). 
ensure_schema checks to see if the Migration model is in the tables in the connection. If it does not find the table then it tries to create the table. 
I believe that this is incorrect behaviour when a db_router has been provided. If using the router above, my expectation would be that the table is not created on any connection other than the 'default' connection. Looking at the other methods on the MigrationRecorder, I would expect that there will be similar issues with applied_migrations and record_unapplied.

Patch information:
diff --git a/django/db/migrations/recorder.py b/django/db/migrations/recorder.py
index 1a37c6b7d0..fd1332e610 100644
--- a/django/db/migrations/recorder.py
+++ b/django/db/migrations/recorder.py
@@ -1,5 +1,5 @@
 from django.apps.registry import Apps
-from django.db import DatabaseError, models
+from django.db import DatabaseError, models, router
 from django.utils.functional import classproperty
 from django.utils.timezone import now
 
@@ -58,6 +58,10 @@ class MigrationRecorder:
 
     def ensure_schema(self):
         """Ensure the table exists and has the correct schema."""
+        # Respect database routers: if migrations aren't allowed on this
+        # connection for the Migration model, don't create the table.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return
         # If the table's there, that's fine - we've never changed its schema
         # in the codebase.
         if self.has_table():
@@ -74,6 +78,10 @@ class MigrationRecorder:
         Return a dict mapping (app_name, migration_name) to Migration instances
         for all applied migrations.
         """
+        # If migrations aren't allowed on this database for the Migration model,
+        # treat as if no migrations are applied.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return {}
         if self.has_table():
             return {(migration.app, migration.name): migration for migration in self.migration_qs}
         else:
@@ -83,11 +91,19 @@ class MigrationRecorder:
 
     def record_applied(self, app, name):
         """Record that a migration was applied."""
+        # Respect routers: if migrations aren't allowed on this DB for the
+        # Migration model, don't attempt to create the table or write records.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return
         self.ensure_schema()
         self.migration_qs.create(app=app, name=name)
 
     def record_unapplied(self, app, name):
         """Record that a migration was unapplied."""
+        # Respect routers: if migrations aren't allowed on this DB for the
+        # Migration model, don't attempt to create the table or delete records.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return
         self.ensure_schema()
         self.migration_qs.filter(app=app, name=name).delete()
 


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/migrations/test_multidb.py`, `tests/multiple_database/tests.py`, and `tests/multiple_database/routers.py`.
Extra Requirements: 
Purpose: To find 3 relevant test cases demonstrating multi-database migration behavior with database routers.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/migrations/test_multidb.py
Line number range: 1 - 171
Content:
1. from django.db import connection, migrations, models
2. from django.db.migrations.state import ProjectState
3. from django.test import override_settings
4. 
5. from .test_base import OperationTestBase
6. 
7. 
8. class AgnosticRouter:
9.     """
10.     A router that doesn't have an opinion regarding migrating.
11.     """
12.     def allow_migrate(self, db, app_label, **hints):
13.         return None
14. 
15. 
16. class MigrateNothingRouter:
17.     """
18.     A router that doesn't allow migrating.
19.     """
20.     def allow_migrate(self, db, app_label, **hints):
21.         return False
22. 
23. 
24. class MigrateEverythingRouter:
25.     """
26.     A router that always allows migrating.
27.     """
28.     def allow_migrate(self, db, app_label, **hints):
29.         return True
30. 
31. 
32. class MigrateWhenFooRouter:
33.     """
34.     A router that allows migrating depending on a hint.
35.     """
36.     def allow_migrate(self, db, app_label, **hints):
37.         return hints.get('foo', False)
38. 
39. 
40. class MultiDBOperationTests(OperationTestBase):
41.     databases = {'default', 'other'}
42. 
43.     def _test_create_model(self, app_label, should_run):
44.         """
45.         CreateModel honors multi-db settings.
46.         """
47.         operation = migrations.CreateModel(
48.             "Pony",
49.             [("id", models.AutoField(primary_key=True))],
50.         )
51.         # Test the state alteration
52.         project_state = ProjectState()
53.         new_state = project_state.clone()
54.         operation.state_forwards(app_label, new_state)
55.         # Test the database alteration
56.         self.assertTableNotExists("%s_pony" % app_label)
57.         with connection.schema_editor() as editor:
58.             operation.database_forwards(app_label, editor, project_state, new_state)
59.         if should_run:
60.             self.assertTableExists("%s_pony" % app_label)
61.         else:
62.             self.assertTableNotExists("%s_pony" % app_label)
63.         # And test reversal
64.         with connection.schema_editor() as editor:
65.             operation.database_backwards(app_label, editor, new_state, project_state)
66.         self.assertTableNotExists("%s_pony" % app_label)
67. 
68.     @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])
69.     def test_create_model(self):
70.         """
71.         Test when router doesn't have an opinion (i.e. CreateModel should run).
72.         """
73.         self._test_create_model("test_mltdb_crmo", should_run=True)
74. 
75.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
76.     def test_create_model2(self):
77.         """
78.         Test when router returns False (i.e. CreateModel shouldn't run).
79.         """
80.         self._test_create_model("test_mltdb_crmo2", should_run=False)
81. 
82.     @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])
83.     def test_create_model3(self):
84.         """
85.         Test when router returns True (i.e. CreateModel should run).
86.         """
87.         self._test_create_model("test_mltdb_crmo3", should_run=True)
88. 
89.     def test_create_model4(self):
90.         """
91.         Test multiple routers.
92.         """
93.         with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):
94.             self._test_create_model("test_mltdb_crmo4", should_run=True)
95.         with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):
96.             self._test_create_model("test_mltdb_crmo4", should_run=False)
97.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):
98.             self._test_create_model("test_mltdb_crmo4", should_run=True)
99. 
100.     def _test_run_sql(self, app_label, should_run, hints=None):
101.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
102.             project_state = self.set_up_test_model(app_label)
103. 
104.         sql = """
105.         INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);
106.         INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);
107.         """.format(app_label)
108. 
109.         operation = migrations.RunSQL(sql, hints=hints or {})
110.         # Test the state alteration does nothing
111.         new_state = project_state.clone()
112.         operation.state_forwards(app_label, new_state)
113.         self.assertEqual(new_state, project_state)
114.         # Test the database alteration
115.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
116.         with connection.schema_editor() as editor:
117.             operation.database_forwards(app_label, editor, project_state, new_state)
118.         Pony = project_state.apps.get_model(app_label, "Pony")
119.         if should_run:
120.             self.assertEqual(Pony.objects.count(), 2)
121.         else:
122.             self.assertEqual(Pony.objects.count(), 0)
123. 
124.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
125.     def test_run_sql_migrate_nothing_router(self):
126.         self._test_run_sql("test_mltdb_runsql", should_run=False)
127. 
128.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
129.     def test_run_sql_migrate_foo_router_without_hints(self):
130.         self._test_run_sql("test_mltdb_runsql2", should_run=False)
131. 
132.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
133.     def test_run_sql_migrate_foo_router_with_hints(self):
134.         self._test_run_sql('test_mltdb_runsql3', should_run=True, hints={'foo': True})
135. 
136.     def _test_run_python(self, app_label, should_run, hints=None):
137.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
138.             project_state = self.set_up_test_model(app_label)
139. 
140.         # Create the operation
141.         def inner_method(models, schema_editor):
142.             Pony = models.get_model(app_label, "Pony")
143.             Pony.objects.create(pink=1, weight=3.55)
144.             Pony.objects.create(weight=5)
145. 
146.         operation = migrations.RunPython(inner_method, hints=hints or {})
147.         # Test the state alteration does nothing
148.         new_state = project_state.clone()
149.         operation.state_forwards(app_label, new_state)
150.         self.assertEqual(new_state, project_state)
151.         # Test the database alteration
152.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
153.         with connection.schema_editor() as editor:
154.             operation.database_forwards(app_label, editor, project_state, new_state)
155.         Pony = project_state.apps.get_model(app_label, "Pony")
156.         if should_run:
157.             self.assertEqual(Pony.objects.count(), 2)
158.         else:
159.             self.assertEqual(Pony.objects.count(), 0)
160. 
161.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
162.     def test_run_python_migrate_nothing_router(self):
163.         self._test_run_python("test_mltdb_runpython", should_run=False)
164. 
165.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
166.     def test_run_python_migrate_foo_router_without_hints(self):
167.         self._test_run_python("test_mltdb_runpython2", should_run=False)
168. 
169.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
170.     def test_run_python_migrate_foo_router_with_hints(self):
171.         self._test_run_python('test_mltdb_runpython3', should_run=True, hints={'foo': True})


File: tests/multiple_database/routers.py
Line number range: 1 - 58
Content:
1. from django.db import DEFAULT_DB_ALIAS
2. 
3. 
4. class TestRouter:
5.     """
6.     Vaguely behave like primary/replica, but the databases aren't assumed to
7.     propagate changes.
8.     """
9. 
10.     def db_for_read(self, model, instance=None, **hints):
11.         if instance:
12.             return instance._state.db or 'other'
13.         return 'other'
14. 
15.     def db_for_write(self, model, **hints):
16.         return DEFAULT_DB_ALIAS
17. 
18.     def allow_relation(self, obj1, obj2, **hints):
19.         return obj1._state.db in ('default', 'other') and obj2._state.db in ('default', 'other')
20. 
21.     def allow_migrate(self, db, app_label, **hints):
22.         return True
23. 
24. 
25. class AuthRouter:
26.     """
27.     Control all database operations on models in the contrib.auth application.
28.     """
29. 
30.     def db_for_read(self, model, **hints):
31.         "Point all read operations on auth models to 'default'"
32.         if model._meta.app_label == 'auth':
33.             # We use default here to ensure we can tell the difference
34.             # between a read request and a write request for Auth objects
35.             return 'default'
36.         return None
37. 
38.     def db_for_write(self, model, **hints):
39.         "Point all operations on auth models to 'other'"
40.         if model._meta.app_label == 'auth':
41.             return 'other'
42.         return None
43. 
44.     def allow_relation(self, obj1, obj2, **hints):
45.         "Allow any relation if a model in Auth is involved"
46.         return obj1._meta.app_label == 'auth' or obj2._meta.app_label == 'auth' or None
47. 
48.     def allow_migrate(self, db, app_label, **hints):
49.         "Make sure the auth app only appears on the 'other' db"
50.         if app_label == 'auth':
51.             return db == 'other'
52.         return None
53. 
54. 
55. class WriteRouter:
56.     # A router that only expresses an opinion on writes
57.     def db_for_write(self, model, **hints):
58.         return 'writer'


File: tests/multiple_database/tests.py
Line number range: 1 - 500
Content:
1. import datetime
2. import pickle
3. from io import StringIO
4. from operator import attrgetter
5. from unittest.mock import Mock
6. 
7. from django.contrib.auth.models import User
8. from django.contrib.contenttypes.models import ContentType
9. from django.core import management
10. from django.db import DEFAULT_DB_ALIAS, router, transaction
11. from django.db.models import signals
12. from django.db.utils import ConnectionRouter
13. from django.test import SimpleTestCase, TestCase, override_settings
14. 
15. from .models import Book, Person, Pet, Review, UserProfile
16. from .routers import AuthRouter, TestRouter, WriteRouter
17. 
18. 
19. class QueryTestCase(TestCase):
20.     databases = {'default', 'other'}
21. 
22.     def test_db_selection(self):
23.         "Querysets will use the default database by default"
24.         self.assertEqual(Book.objects.db, DEFAULT_DB_ALIAS)
25.         self.assertEqual(Book.objects.all().db, DEFAULT_DB_ALIAS)
26. 
27.         self.assertEqual(Book.objects.using('other').db, 'other')
28. 
29.         self.assertEqual(Book.objects.db_manager('other').db, 'other')
30.         self.assertEqual(Book.objects.db_manager('other').all().db, 'other')
31. 
32.     def test_default_creation(self):
33.         "Objects created on the default database don't leak onto other databases"
34.         # Create a book on the default database using create()
35.         Book.objects.create(title="Pro Django", published=datetime.date(2008, 12, 16))
36. 
37.         # Create a book on the default database using a save
38.         dive = Book()
39.         dive.title = "Dive into Python"
40.         dive.published = datetime.date(2009, 5, 4)
41.         dive.save()
42. 
43.         # Book exists on the default database, but not on other database
44.         try:
45.             Book.objects.get(title="Pro Django")
46.             Book.objects.using('default').get(title="Pro Django")
47.         except Book.DoesNotExist:
48.             self.fail('"Pro Django" should exist on default database')
49. 
50.         with self.assertRaises(Book.DoesNotExist):
51.             Book.objects.using('other').get(title="Pro Django")
52. 
53.         try:
54.             Book.objects.get(title="Dive into Python")
55.             Book.objects.using('default').get(title="Dive into Python")
56.         except Book.DoesNotExist:
57.             self.fail('"Dive into Python" should exist on default database')
58. 
59.         with self.assertRaises(Book.DoesNotExist):
60.             Book.objects.using('other').get(title="Dive into Python")
61. 
62.     def test_other_creation(self):
63.         "Objects created on another database don't leak onto the default database"
64.         # Create a book on the second database
65.         Book.objects.using('other').create(title="Pro Django",
66.                                            published=datetime.date(2008, 12, 16))
67. 
68.         # Create a book on the default database using a save
69.         dive = Book()
70.         dive.title = "Dive into Python"
71.         dive.published = datetime.date(2009, 5, 4)
72.         dive.save(using='other')
73. 
74.         # Book exists on the default database, but not on other database
75.         try:
76.             Book.objects.using('other').get(title="Pro Django")
77.         except Book.DoesNotExist:
78.             self.fail('"Pro Django" should exist on other database')
79. 
80.         with self.assertRaises(Book.DoesNotExist):
81.             Book.objects.get(title="Pro Django")
82.         with self.assertRaises(Book.DoesNotExist):
83.             Book.objects.using('default').get(title="Pro Django")
84. 
85.         try:
86.             Book.objects.using('other').get(title="Dive into Python")
87.         except Book.DoesNotExist:
88.             self.fail('"Dive into Python" should exist on other database')
89. 
90.         with self.assertRaises(Book.DoesNotExist):
91.             Book.objects.get(title="Dive into Python")
92.         with self.assertRaises(Book.DoesNotExist):
93.             Book.objects.using('default').get(title="Dive into Python")
94. 
95.     def test_refresh(self):
96.         dive = Book(title="Dive into Python", published=datetime.date(2009, 5, 4))
97.         dive.save(using='other')
98.         dive2 = Book.objects.using('other').get()
99.         dive2.title = "Dive into Python (on default)"
100.         dive2.save(using='default')
101.         dive.refresh_from_db()
102.         self.assertEqual(dive.title, "Dive into Python")
103.         dive.refresh_from_db(using='default')
104.         self.assertEqual(dive.title, "Dive into Python (on default)")
105.         self.assertEqual(dive._state.db, "default")
106. 
107.     def test_refresh_router_instance_hint(self):
108.         router = Mock()
109.         router.db_for_read.return_value = None
110.         book = Book.objects.create(title='Dive Into Python', published=datetime.date(1957, 10, 12))
111.         with self.settings(DATABASE_ROUTERS=[router]):
112.             book.refresh_from_db()
113.         router.db_for_read.assert_called_once_with(Book, instance=book)
114. 
115.     def test_basic_queries(self):
116.         "Queries are constrained to a single database"
117.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
118. 
119.         dive = Book.objects.using('other').get(published=datetime.date(2009, 5, 4))
120.         self.assertEqual(dive.title, "Dive into Python")
121.         with self.assertRaises(Book.DoesNotExist):
122.             Book.objects.using('default').get(published=datetime.date(2009, 5, 4))
123. 
124.         dive = Book.objects.using('other').get(title__icontains="dive")
125.         self.assertEqual(dive.title, "Dive into Python")
126.         with self.assertRaises(Book.DoesNotExist):
127.             Book.objects.using('default').get(title__icontains="dive")
128. 
129.         dive = Book.objects.using('other').get(title__iexact="dive INTO python")
130.         self.assertEqual(dive.title, "Dive into Python")
131.         with self.assertRaises(Book.DoesNotExist):
132.             Book.objects.using('default').get(title__iexact="dive INTO python")
133. 
134.         dive = Book.objects.using('other').get(published__year=2009)
135.         self.assertEqual(dive.title, "Dive into Python")
136.         self.assertEqual(dive.published, datetime.date(2009, 5, 4))
137.         with self.assertRaises(Book.DoesNotExist):
138.             Book.objects.using('default').get(published__year=2009)
139. 
140.         years = Book.objects.using('other').dates('published', 'year')
141.         self.assertEqual([o.year for o in years], [2009])
142.         years = Book.objects.using('default').dates('published', 'year')
143.         self.assertEqual([o.year for o in years], [])
144. 
145.         months = Book.objects.using('other').dates('published', 'month')
146.         self.assertEqual([o.month for o in months], [5])
147.         months = Book.objects.using('default').dates('published', 'month')
148.         self.assertEqual([o.month for o in months], [])
149. 
150.     def test_m2m_separation(self):
151.         "M2M fields are constrained to a single database"
152.         # Create a book and author on the default database
153.         pro = Book.objects.create(title="Pro Django",
154.                                   published=datetime.date(2008, 12, 16))
155. 
156.         marty = Person.objects.create(name="Marty Alchin")
157. 
158.         # Create a book and author on the other database
159.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
160. 
161.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
162. 
163.         # Save the author relations
164.         pro.authors.set([marty])
165.         dive.authors.set([mark])
166. 
167.         # Inspect the m2m tables directly.
168.         # There should be 1 entry in each database
169.         self.assertEqual(Book.authors.through.objects.using('default').count(), 1)
170.         self.assertEqual(Book.authors.through.objects.using('other').count(), 1)
171. 
172.         # Queries work across m2m joins
173.         self.assertEqual(
174.             list(Book.objects.using('default').filter(authors__name='Marty Alchin').values_list('title', flat=True)),
175.             ['Pro Django']
176.         )
177.         self.assertEqual(
178.             list(Book.objects.using('other').filter(authors__name='Marty Alchin').values_list('title', flat=True)),
179.             []
180.         )
181. 
182.         self.assertEqual(
183.             list(Book.objects.using('default').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
184.             []
185.         )
186.         self.assertEqual(
187.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
188.             ['Dive into Python']
189.         )
190. 
191.         # Reget the objects to clear caches
192.         dive = Book.objects.using('other').get(title="Dive into Python")
193.         mark = Person.objects.using('other').get(name="Mark Pilgrim")
194. 
195.         # Retrieve related object by descriptor. Related objects should be database-bound
196.         self.assertEqual(list(dive.authors.all().values_list('name', flat=True)), ['Mark Pilgrim'])
197. 
198.         self.assertEqual(list(mark.book_set.all().values_list('title', flat=True)), ['Dive into Python'])
199. 
200.     def test_m2m_forward_operations(self):
201.         "M2M forward manipulations are all constrained to a single DB"
202.         # Create a book and author on the other database
203.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
204.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
205. 
206.         # Save the author relations
207.         dive.authors.set([mark])
208. 
209.         # Add a second author
210.         john = Person.objects.using('other').create(name="John Smith")
211.         self.assertEqual(
212.             list(Book.objects.using('other').filter(authors__name='John Smith').values_list('title', flat=True)),
213.             []
214.         )
215. 
216.         dive.authors.add(john)
217.         self.assertEqual(
218.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
219.             ['Dive into Python']
220.         )
221.         self.assertEqual(
222.             list(Book.objects.using('other').filter(authors__name='John Smith').values_list('title', flat=True)),
223.             ['Dive into Python']
224.         )
225. 
226.         # Remove the second author
227.         dive.authors.remove(john)
228.         self.assertEqual(
229.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
230.             ['Dive into Python']
231.         )
232.         self.assertEqual(
233.             list(Book.objects.using('other').filter(authors__name='John Smith').values_list('title', flat=True)),
234.             []
235.         )
236. 
237.         # Clear all authors
238.         dive.authors.clear()
239.         self.assertEqual(
240.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
241.             []
242.         )
243.         self.assertEqual(
244.             list(Book.objects.using('other').filter(authors__name='John Smith').values_list('title', flat=True)),
245.             []
246.         )
247. 
248.         # Create an author through the m2m interface
249.         dive.authors.create(name='Jane Brown')
250.         self.assertEqual(
251.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
252.             []
253.         )
254.         self.assertEqual(
255.             list(Book.objects.using('other').filter(authors__name='Jane Brown').values_list('title', flat=True)),
256.             ['Dive into Python']
257.         )
258. 
259.     def test_m2m_reverse_operations(self):
260.         "M2M reverse manipulations are all constrained to a single DB"
261.         # Create a book and author on the other database
262.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
263.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
264. 
265.         # Save the author relations
266.         dive.authors.set([mark])
267. 
268.         # Create a second book on the other database
269.         grease = Book.objects.using('other').create(title="Greasemonkey Hacks", published=datetime.date(2005, 11, 1))
270. 
271.         # Add a books to the m2m
272.         mark.book_set.add(grease)
273.         self.assertEqual(
274.             list(Person.objects.using('other').filter(book__title='Dive into Python').values_list('name', flat=True)),
275.             ['Mark Pilgrim']
276.         )
277.         self.assertEqual(
278.             list(
279.                 Person.objects.using('other').filter(book__title='Greasemonkey Hacks').values_list('name', flat=True)
280.             ),
281.             ['Mark Pilgrim']
282.         )
283. 
284.         # Remove a book from the m2m
285.         mark.book_set.remove(grease)
286.         self.assertEqual(
287.             list(Person.objects.using('other').filter(book__title='Dive into Python').values_list('name', flat=True)),
288.             ['Mark Pilgrim']
289.         )
290.         self.assertEqual(
291.             list(
292.                 Person.objects.using('other').filter(book__title='Greasemonkey Hacks').values_list('name', flat=True)
293.             ),
294.             []
295.         )
296. 
297.         # Clear the books associated with mark
298.         mark.book_set.clear()
299.         self.assertEqual(
300.             list(Person.objects.using('other').filter(book__title='Dive into Python').values_list('name', flat=True)),
301.             []
302.         )
303.         self.assertEqual(
304.             list(
305.                 Person.objects.using('other').filter(book__title='Greasemonkey Hacks').values_list('name', flat=True)
306.             ),
307.             []
308.         )
309. 
310.         # Create a book through the m2m interface
311.         mark.book_set.create(title="Dive into HTML5", published=datetime.date(2020, 1, 1))
312.         self.assertEqual(
313.             list(Person.objects.using('other').filter(book__title='Dive into Python').values_list('name', flat=True)),
314.             []
315.         )
316.         self.assertEqual(
317.             list(Person.objects.using('other').filter(book__title='Dive into HTML5').values_list('name', flat=True)),
318.             ['Mark Pilgrim']
319.         )
320. 
321.     def test_m2m_cross_database_protection(self):
322.         "Operations that involve sharing M2M objects across databases raise an error"
323.         # Create a book and author on the default database
324.         pro = Book.objects.create(title="Pro Django", published=datetime.date(2008, 12, 16))
325. 
326.         marty = Person.objects.create(name="Marty Alchin")
327. 
328.         # Create a book and author on the other database
329.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
330. 
331.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
332.         # Set a foreign key set with an object from a different database
333.         msg = (
334.             'Cannot assign "<Person: Marty Alchin>": the current database '
335.             'router prevents this relation.'
336.         )
337.         with self.assertRaisesMessage(ValueError, msg):
338.             with transaction.atomic(using='default'):
339.                 marty.edited.set([pro, dive])
340. 
341.         # Add to an m2m with an object from a different database
342.         msg = (
343.             'Cannot add "<Book: Dive into Python>": instance is on '
344.             'database "default", value is on database "other"'
345.         )
346.         with self.assertRaisesMessage(ValueError, msg):
347.             with transaction.atomic(using='default'):
348.                 marty.book_set.add(dive)
349. 
350.         # Set a m2m with an object from a different database
351.         with self.assertRaisesMessage(ValueError, msg):
352.             with transaction.atomic(using='default'):
353.                 marty.book_set.set([pro, dive])
354. 
355.         # Add to a reverse m2m with an object from a different database
356.         msg = (
357.             'Cannot add "<Person: Marty Alchin>": instance is on '
358.             'database "other", value is on database "default"'
359.         )
360.         with self.assertRaisesMessage(ValueError, msg):
361.             with transaction.atomic(using='other'):
362.                 dive.authors.add(marty)
363. 
364.         # Set a reverse m2m with an object from a different database
365.         with self.assertRaisesMessage(ValueError, msg):
366.             with transaction.atomic(using='other'):
367.                 dive.authors.set([mark, marty])
368. 
369.     def test_m2m_deletion(self):
370.         "Cascaded deletions of m2m relations issue queries on the right database"
371.         # Create a book and author on the other database
372.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
373.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
374.         dive.authors.set([mark])
375. 
376.         # Check the initial state
377.         self.assertEqual(Person.objects.using('default').count(), 0)
378.         self.assertEqual(Book.objects.using('default').count(), 0)
379.         self.assertEqual(Book.authors.through.objects.using('default').count(), 0)
380. 
381.         self.assertEqual(Person.objects.using('other').count(), 1)
382.         self.assertEqual(Book.objects.using('other').count(), 1)
383.         self.assertEqual(Book.authors.through.objects.using('other').count(), 1)
384. 
385.         # Delete the object on the other database
386.         dive.delete(using='other')
387. 
388.         self.assertEqual(Person.objects.using('default').count(), 0)
389.         self.assertEqual(Book.objects.using('default').count(), 0)
390.         self.assertEqual(Book.authors.through.objects.using('default').count(), 0)
391. 
392.         # The person still exists ...
393.         self.assertEqual(Person.objects.using('other').count(), 1)
394.         # ... but the book has been deleted
395.         self.assertEqual(Book.objects.using('other').count(), 0)
396.         # ... and the relationship object has also been deleted.
397.         self.assertEqual(Book.authors.through.objects.using('other').count(), 0)
398. 
399.         # Now try deletion in the reverse direction. Set up the relation again
400.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
401.         dive.authors.set([mark])
402. 
403.         # Check the initial state
404.         self.assertEqual(Person.objects.using('default').count(), 0)
405.         self.assertEqual(Book.objects.using('default').count(), 0)
406.         self.assertEqual(Book.authors.through.objects.using('default').count(), 0)
407. 
408.         self.assertEqual(Person.objects.using('other').count(), 1)
409.         self.assertEqual(Book.objects.using('other').count(), 1)
410.         self.assertEqual(Book.authors.through.objects.using('other').count(), 1)
411. 
412.         # Delete the object on the other database
413.         mark.delete(using='other')
414. 
415.         self.assertEqual(Person.objects.using('default').count(), 0)
416.         self.assertEqual(Book.objects.using('default').count(), 0)
417.         self.assertEqual(Book.authors.through.objects.using('default').count(), 0)
418. 
419.         # The person has been deleted ...
420.         self.assertEqual(Person.objects.using('other').count(), 0)
421.         # ... but the book still exists
422.         self.assertEqual(Book.objects.using('other').count(), 1)
423.         # ... and the relationship object has been deleted.
424.         self.assertEqual(Book.authors.through.objects.using('other').count(), 0)
425. 
426.     def test_foreign_key_separation(self):
427.         "FK fields are constrained to a single database"
428.         # Create a book and author on the default database
429.         pro = Book.objects.create(title="Pro Django", published=datetime.date(2008, 12, 16))
430. 
431.         george = Person.objects.create(name="George Vilches")
432. 
433.         # Create a book and author on the other database
434.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
435.         chris = Person.objects.using('other').create(name="Chris Mills")
436. 
437.         # Save the author's favorite books
438.         pro.editor = george
439.         pro.save()
440. 
441.         dive.editor = chris
442.         dive.save()
443. 
444.         pro = Book.objects.using('default').get(title="Pro Django")
445.         self.assertEqual(pro.editor.name, "George Vilches")
446. 
447.         dive = Book.objects.using('other').get(title="Dive into Python")
448.         self.assertEqual(dive.editor.name, "Chris Mills")
449. 
450.         # Queries work across foreign key joins
451.         self.assertEqual(
452.             list(Person.objects.using('default').filter(edited__title='Pro Django').values_list('name', flat=True)),
453.             ['George Vilches']
454.         )
455.         self.assertEqual(
456.             list(Person.objects.using('other').filter(edited__title='Pro Django').values_list('name', flat=True)),
457.             []
458.         )
459. 
460.         self.assertEqual(
461.             list(
462.                 Person.objects.using('default').filter(edited__title='Dive into Python').values_list('name', flat=True)
463.             ),
464.             []
465.         )
466.         self.assertEqual(
467.             list(
468.                 Person.objects.using('other').filter(edited__title='Dive into Python').values_list('name', flat=True)
469.             ),
470.             ['Chris Mills']
471.         )
472. 
473.         # Reget the objects to clear caches
474.         chris = Person.objects.using('other').get(name="Chris Mills")
475.         dive = Book.objects.using('other').get(title="Dive into Python")
476. 
477.         # Retrieve related object by descriptor. Related objects should be database-bound
478.         self.assertEqual(list(chris.edited.values_list('title', flat=True)), ['Dive into Python'])
479. 
480.     def test_foreign_key_reverse_operations(self):
481.         "FK reverse manipulations are all constrained to a single DB"
482.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
483.         chris = Person.objects.using('other').create(name="Chris Mills")
484. 
485.         # Save the author relations
486.         dive.editor = chris
487.         dive.save()
488. 
489.         # Add a second book edited by chris
490.         html5 = Book.objects.using('other').create(title="Dive into HTML5", published=datetime.date(2010, 3, 15))
491.         self.assertEqual(
492.             list(Person.objects.using('other').filter(edited__title='Dive into HTML5').values_list('name', flat=True)),
493.             []
494.         )
495. 
496.         chris.edited.add(html5)
497.         self.assertEqual(
498.             list(Person.objects.using('other').filter(edited__title='Dive into HTML5').values_list('name', flat=True)),
499.             ['Chris Mills']
500.         )

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-25 01:26:21,907 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="The user's bug is about the MigrationRecorder not respecting database routers. The current context provides tests for individual migration operations and routers, but not for the MigrationRecorder itself in a multi-database context. To find more relevant test cases, I need to examine tests for the `migrate` management command, which uses the MigrationRecorder. The file `tests/migrations/test_commands.py` is the most likely place to find these tests." query='Please provide the full content of `tests/migrations/test_commands.py`.' extra_requirements='' purpose="I need this file to find test cases that cover the behavior of the `migrate` command with database routers, which is directly related to the user's reported bug."
2025-12-25 01:26:21,908 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/migrations/test_commands.py`.
2025-12-25 01:26:21,908 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-25 01:26:21,909 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-25 01:26:21,909 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-25 01:26:21,909 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/migrations/test_commands.py`.
Purpose: I need this file to find test cases that cover the behavior of the `migrate` command with database routers, which is directly related to the user's reported bug.
2025-12-25 01:26:24,031 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/migrations/test_commands.py"}'}, '__gemini_function_call_thought_signatures__': {'6d5f9f56-b086-40ea-b8a6-0026eb38381e': 'Cu0DAY89a18mjsSbpKS5yb313fzh2ETzrdTvZoqc20JW636qVF/Ffq70EHrk34ngffP5UqBt5KBW0F+lTMSYENxSUH5zU9lW6jnxYVtYnpwmDFEXogBjjdiaB63ZeVc/3tRXYO04kMJum4I+HfbzWPWVmS8pkAUjnLVjHNPYxr45HDCGA5z+Ik8fAQDW25HA0MnvGI2jGTHYK6B+sjqFvAXN+qhLTTSmThftTqdhV9McbX7AxYZ9E8yUYfxEx2k9EdDBQSqcQByifwxPLRFpsHwp6IEFJVua+eVJMpB5yQ75hIFoygmLtpAMTKueu4NqvQepaVejPFlPrnKKHD3YJzRPUi92diNRI+UJ2eQVjVpEpeqXgywPfuepGuskedbW5bxdRM2SaVd+wc3ZZp9lGUWxZf96jzJJLi46pddYe3hPmnTM8txTfM4wx2FBB5CKf1KC0C0RWAZRnS8RpjX4+oUY1Vjtn0zpB9Zqs5BKisacQY8jQq2k0qrlf6Wp4R+fZCRDHD0JfkNBd9U+klByfMbnNazhy6U3snZUsbgjmXjC7nt1wKiamhcjQJHoDaMq73FuzwsFHoBl6/0o4PRcrqmsNA8vVD5BJzsp2OQwOuF0kRrImpbRURpZZaZiHzXQ/qxFyizx694iM+IwhQeqgg=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2107, 'candidates_token_count': 23, 'total_token_count': 2253, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2107}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 23}], 'thoughts_token_count': 123, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.15065383911132812, 'model_name': 'gemini-2.5-pro'} id='run--4ac1c2a2-6017-43ab-b06e-986f96340400-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/test_commands.py'}, 'id': '6d5f9f56-b086-40ea-b8a6-0026eb38381e', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2107, 'output_tokens': 23, 'total_tokens': 2253, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 123}}
2025-12-25 01:26:26,101 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 501.0, "end_line": 10000.0, "relative_path": "tests/migrations/test_commands.py"}'}, '__gemini_function_call_thought_signatures__': {'cb4f6729-5df4-4d07-9c8e-0323715dafb7': 'CpEDAY89a186qF7H039etAbeVPTts1Re7sDCmsypmtJE8AyUcxPqb/Ln6qFTKz8vlwTOh4rkaiMbHjzoLDC/UkPH3pf6YMDWjhIUC2mS7tFhjCDTUqn+TyfAwrU7tBOf8m3h7SxZV8k4aAXXlk+hUlNUzYwRd9vGFfqOoUuoMBu2EQj50ug4P7NALgRLiPVZGPvl+/kadHCfixIblmU6C+hRb1PhGL/austUPogwRZ3LKxa3DXlAW71d6IeNQkfCih500DPA/BEBVdMs/mDq1C9cyG1fHvVXSsyThuxGTbPd8kbxzYGBCDS2+F9Bprbb+/xR0MMrLUY/mr9AsLCuKAbEDLPIwI1VdplxOVdxANripMYM4Sx4Y3PKeVrl0WveWFn7EXJeZC1JZqMUGn5akO4xCoF2/vYFM9ARwYTdxcUdhTm3OJa4ZMYy0HMI5ilrzur4WUrIf/AhNyyKzguz+HDbC8TvyEWdlvdCdRy4VSPWrWcbk809aTWaprAk5MORmCjgzrfn3FzXZKkjLYIANJ0d490='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 10604, 'candidates_token_count': 29, 'total_token_count': 10743, 'prompt_tokens_details': [{'modality': 1, 'token_count': 10727}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 29}], 'thoughts_token_count': 110, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.3196608444740032, 'model_name': 'gemini-2.5-pro'} id='run--0e95a03d-0bd7-4383-b33c-be7bdecbad0b-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 501.0, 'end_line': 10000.0, 'relative_path': 'tests/migrations/test_commands.py'}, 'id': 'cb4f6729-5df4-4d07-9c8e-0323715dafb7', 'type': 'tool_call'}] usage_metadata={'input_tokens': 10604, 'output_tokens': 29, 'total_tokens': 10743, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 110}}
2025-12-25 01:26:31,573 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content="I have retrieved the entire content of the requested file, `tests/migrations/test_commands.py`, by first reading the initial part of the file and then the remaining lines. This file contains a comprehensive suite of tests for Django's database migration commands. The tests cover various functionalities, including the `migrate` command with different options like `--fake-initial` and database routers, which will be useful for investigating the reported bug." additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 41821, 'candidates_token_count': 88, 'total_token_count': 42340, 'cached_content_token_count': 9591, 'prompt_tokens_details': [{'modality': 1, 'token_count': 42054}], 'cache_tokens_details': [{'modality': 1, 'token_count': 9591}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 88}], 'thoughts_token_count': 431}, 'finish_reason': 'STOP', 'avg_logprobs': -0.5508071292530407, 'model_name': 'gemini-2.5-pro'} id='run--1c33348b-85d6-4306-8b38-66589066a7d7-0' usage_metadata={'input_tokens': 41821, 'output_tokens': 88, 'total_tokens': 42340, 'input_token_details': {'cache_read': 9591}, 'output_token_details': {'reasoning': 431}}
2025-12-25 01:26:31,576 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - This is the query you need to answer:

--- BEGIN QUERY ---
Please provide the full content of `tests/migrations/test_commands.py`.
--- END QUERY ---



--- BEGIN PURPOSE ---
I need this file to find test cases that cover the behavior of the `migrate` command with database routers, which is directly related to the user's reported bug.
--- END PURPOSE ---

The context or file content that you have seen so far (Some of the context may be IRRELEVANT to the query!!!):

--- BEGIN CONTEXT ---
File: tests/migrations/test_commands.py
Line number range: 1 - 500
Content:
1. import datetime
2. import importlib
3. import io
4. import os
5. import sys
6. from unittest import mock
7. 
8. from django.apps import apps
9. from django.core.management import CommandError, call_command
10. from django.db import (
11.     ConnectionHandler, DatabaseError, OperationalError, connection,
12.     connections, models,
13. )
14. from django.db.backends.base.schema import BaseDatabaseSchemaEditor
15. from django.db.backends.utils import truncate_name
16. from django.db.migrations.exceptions import InconsistentMigrationHistory
17. from django.db.migrations.recorder import MigrationRecorder
18. from django.test import TestCase, override_settings, skipUnlessDBFeature
19. from django.test.utils import captured_stdout
20. from django.utils import timezone
21. from django.utils.version import get_docs_version
22. 
23. from .models import UnicodeModel, UnserializableModel
24. from .routers import TestRouter
25. from .test_base import MigrationTestBase
26. 
27. 
28. class MigrateTests(MigrationTestBase):
29.     """
30.     Tests running the migrate command.
31.     """
32.     databases = {'default', 'other'}
33. 
34.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
35.     def test_migrate(self):
36.         """
37.         Tests basic usage of the migrate command.
38.         """
39.         # No tables are created
40.         self.assertTableNotExists("migrations_author")
41.         self.assertTableNotExists("migrations_tribble")
42.         self.assertTableNotExists("migrations_book")
43.         # Run the migrations to 0001 only
44.         stdout = io.StringIO()
45.         call_command('migrate', 'migrations', '0001', verbosity=2, stdout=stdout, no_color=True)
46.         stdout = stdout.getvalue()
47.         self.assertIn('Target specific migration: 0001_initial, from migrations', stdout)
48.         self.assertIn('Applying migrations.0001_initial... OK', stdout)
49.         self.assertIn('Running pre-migrate handlers for application migrations', stdout)
50.         self.assertIn('Running post-migrate handlers for application migrations', stdout)
51.         # The correct tables exist
52.         self.assertTableExists("migrations_author")
53.         self.assertTableExists("migrations_tribble")
54.         self.assertTableNotExists("migrations_book")
55.         # Run migrations all the way
56.         call_command("migrate", verbosity=0)
57.         # The correct tables exist
58.         self.assertTableExists("migrations_author")
59.         self.assertTableNotExists("migrations_tribble")
60.         self.assertTableExists("migrations_book")
61.         # Unmigrate everything
62.         stdout = io.StringIO()
63.         call_command('migrate', 'migrations', 'zero', verbosity=2, stdout=stdout, no_color=True)
64.         stdout = stdout.getvalue()
65.         self.assertIn('Unapply all migrations: migrations', stdout)
66.         self.assertIn('Unapplying migrations.0002_second... OK', stdout)
67.         self.assertIn('Running pre-migrate handlers for application migrations', stdout)
68.         self.assertIn('Running post-migrate handlers for application migrations', stdout)
69.         # Tables are gone
70.         self.assertTableNotExists("migrations_author")
71.         self.assertTableNotExists("migrations_tribble")
72.         self.assertTableNotExists("migrations_book")
73. 
74.     @override_settings(INSTALLED_APPS=[
75.         'django.contrib.auth',
76.         'django.contrib.contenttypes',
77.         'migrations.migrations_test_apps.migrated_app',
78.     ])
79.     def test_migrate_with_system_checks(self):
80.         out = io.StringIO()
81.         call_command('migrate', skip_checks=False, no_color=True, stdout=out)
82.         self.assertIn('Apply all migrations: migrated_app', out.getvalue())
83. 
84.     @override_settings(INSTALLED_APPS=['migrations', 'migrations.migrations_test_apps.unmigrated_app_syncdb'])
85.     def test_app_without_migrations(self):
86.         msg = "App 'unmigrated_app_syncdb' does not have migrations."
87.         with self.assertRaisesMessage(CommandError, msg):
88.             call_command('migrate', app_label='unmigrated_app_syncdb')
89. 
90.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_clashing_prefix'})
91.     def test_ambiguous_prefix(self):
92.         msg = (
93.             "More than one migration matches 'a' in app 'migrations'. Please "
94.             "be more specific."
95.         )
96.         with self.assertRaisesMessage(CommandError, msg):
97.             call_command('migrate', app_label='migrations', migration_name='a')
98. 
99.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
100.     def test_unknown_prefix(self):
101.         msg = "Cannot find a migration matching 'nonexistent' from app 'migrations'."
102.         with self.assertRaisesMessage(CommandError, msg):
103.             call_command('migrate', app_label='migrations', migration_name='nonexistent')
104. 
105.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_initial_false"})
106.     def test_migrate_initial_false(self):
107.         """
108.         `Migration.initial = False` skips fake-initial detection.
109.         """
110.         # Make sure no tables are created
111.         self.assertTableNotExists("migrations_author")
112.         self.assertTableNotExists("migrations_tribble")
113.         # Run the migrations to 0001 only
114.         call_command("migrate", "migrations", "0001", verbosity=0)
115.         # Fake rollback
116.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
117.         # Make sure fake-initial detection does not run
118.         with self.assertRaises(DatabaseError):
119.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0)
120. 
121.         call_command("migrate", "migrations", "0001", fake=True, verbosity=0)
122.         # Real rollback
123.         call_command("migrate", "migrations", "zero", verbosity=0)
124.         # Make sure it's all gone
125.         self.assertTableNotExists("migrations_author")
126.         self.assertTableNotExists("migrations_tribble")
127.         self.assertTableNotExists("migrations_book")
128. 
129.     @override_settings(
130.         MIGRATION_MODULES={"migrations": "migrations.test_migrations"},
131.         DATABASE_ROUTERS=['migrations.routers.TestRouter'],
132.     )
133.     def test_migrate_fake_initial(self):
134.         """
135.         --fake-initial only works if all tables created in the initial
136.         migration of an app exists. Database routers must be obeyed when doing
137.         that check.
138.         """
139.         # Make sure no tables are created
140.         for db in self.databases:
141.             self.assertTableNotExists("migrations_author", using=db)
142.             self.assertTableNotExists("migrations_tribble", using=db)
143.         # Run the migrations to 0001 only
144.         call_command("migrate", "migrations", "0001", verbosity=0)
145.         call_command("migrate", "migrations", "0001", verbosity=0, database="other")
146.         # Make sure the right tables exist
147.         self.assertTableExists("migrations_author")
148.         self.assertTableNotExists("migrations_tribble")
149.         # Also check the "other" database
150.         self.assertTableNotExists("migrations_author", using="other")
151.         self.assertTableExists("migrations_tribble", using="other")
152. 
153.         # Fake a roll-back
154.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
155.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0, database="other")
156.         # Make sure the tables still exist
157.         self.assertTableExists("migrations_author")
158.         self.assertTableExists("migrations_tribble", using="other")
159.         # Try to run initial migration
160.         with self.assertRaises(DatabaseError):
161.             call_command("migrate", "migrations", "0001", verbosity=0)
162.         # Run initial migration with an explicit --fake-initial
163.         out = io.StringIO()
164.         with mock.patch('django.core.management.color.supports_color', lambda *args: False):
165.             call_command("migrate", "migrations", "0001", fake_initial=True, stdout=out, verbosity=1)
166.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0, database="other")
167.         self.assertIn(
168.             "migrations.0001_initial... faked",
169.             out.getvalue().lower()
170.         )
171.         try:
172.             # Run migrations all the way.
173.             call_command('migrate', verbosity=0)
174.             call_command('migrate', verbosity=0, database="other")
175.             self.assertTableExists('migrations_author')
176.             self.assertTableNotExists('migrations_tribble')
177.             self.assertTableExists('migrations_book')
178.             self.assertTableNotExists('migrations_author', using='other')
179.             self.assertTableNotExists('migrations_tribble', using='other')
180.             self.assertTableNotExists('migrations_book', using='other')
181.             # Fake a roll-back.
182.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
183.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0, database='other')
184.             self.assertTableExists('migrations_author')
185.             self.assertTableNotExists('migrations_tribble')
186.             self.assertTableExists('migrations_book')
187.             # Run initial migration.
188.             with self.assertRaises(DatabaseError):
189.                 call_command('migrate', 'migrations', verbosity=0)
190.             # Run initial migration with an explicit --fake-initial.
191.             with self.assertRaises(DatabaseError):
192.                 # Fails because "migrations_tribble" does not exist but needs
193.                 # to in order to make --fake-initial work.
194.                 call_command('migrate', 'migrations', fake_initial=True, verbosity=0)
195.             # Fake an apply.
196.             call_command('migrate', 'migrations', fake=True, verbosity=0)
197.             call_command('migrate', 'migrations', fake=True, verbosity=0, database='other')
198.         finally:
199.             # Unmigrate everything.
200.             call_command('migrate', 'migrations', 'zero', verbosity=0)
201.             call_command('migrate', 'migrations', 'zero', verbosity=0, database='other')
202.         # Make sure it's all gone
203.         for db in self.databases:
204.             self.assertTableNotExists("migrations_author", using=db)
205.             self.assertTableNotExists("migrations_tribble", using=db)
206.             self.assertTableNotExists("migrations_book", using=db)
207. 
208.     @skipUnlessDBFeature('ignores_table_name_case')
209.     def test_migrate_fake_initial_case_insensitive(self):
210.         with override_settings(MIGRATION_MODULES={
211.             'migrations': 'migrations.test_fake_initial_case_insensitive.initial',
212.         }):
213.             call_command('migrate', 'migrations', '0001', verbosity=0)
214.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
215. 
216.         with override_settings(MIGRATION_MODULES={
217.             'migrations': 'migrations.test_fake_initial_case_insensitive.fake_initial',
218.         }):
219.             out = io.StringIO()
220.             call_command(
221.                 'migrate',
222.                 'migrations',
223.                 '0001',
224.                 fake_initial=True,
225.                 stdout=out,
226.                 verbosity=1,
227.                 no_color=True,
228.             )
229.             self.assertIn(
230.                 'migrations.0001_initial... faked',
231.                 out.getvalue().lower(),
232.             )
233. 
234.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_fake_split_initial"})
235.     def test_migrate_fake_split_initial(self):
236.         """
237.         Split initial migrations can be faked with --fake-initial.
238.         """
239.         try:
240.             call_command('migrate', 'migrations', '0002', verbosity=0)
241.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
242.             out = io.StringIO()
243.             with mock.patch('django.core.management.color.supports_color', lambda *args: False):
244.                 call_command('migrate', 'migrations', '0002', fake_initial=True, stdout=out, verbosity=1)
245.             value = out.getvalue().lower()
246.             self.assertIn('migrations.0001_initial... faked', value)
247.             self.assertIn('migrations.0002_second... faked', value)
248.         finally:
249.             # Fake an apply.
250.             call_command('migrate', 'migrations', fake=True, verbosity=0)
251.             # Unmigrate everything.
252.             call_command('migrate', 'migrations', 'zero', verbosity=0)
253. 
254.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_conflict"})
255.     def test_migrate_conflict_exit(self):
256.         """
257.         migrate exits if it detects a conflict.
258.         """
259.         msg = (
260.             "Conflicting migrations detected; multiple leaf nodes in the "
261.             "migration graph: (0002_conflicting_second, 0002_second in "
262.             "migrations).\n"
263.             "To fix them run 'python manage.py makemigrations --merge'"
264.         )
265.         with self.assertRaisesMessage(CommandError, msg):
266.             call_command("migrate", "migrations")
267. 
268.     @override_settings(MIGRATION_MODULES={
269.         'migrations': 'migrations.test_migrations',
270.     })
271.     def test_migrate_check(self):
272.         with self.assertRaises(SystemExit):
273.             call_command('migrate', 'migrations', '0001', check_unapplied=True)
274.         self.assertTableNotExists('migrations_author')
275.         self.assertTableNotExists('migrations_tribble')
276.         self.assertTableNotExists('migrations_book')
277. 
278.     @override_settings(MIGRATION_MODULES={
279.         'migrations': 'migrations.test_migrations_plan',
280.     })
281.     def test_migrate_check_plan(self):
282.         out = io.StringIO()
283.         with self.assertRaises(SystemExit):
284.             call_command(
285.                 'migrate',
286.                 'migrations',
287.                 '0001',
288.                 check_unapplied=True,
289.                 plan=True,
290.                 stdout=out,
291.                 no_color=True,
292.             )
293.         self.assertEqual(
294.             'Planned operations:\n'
295.             'migrations.0001_initial\n'
296.             '    Create model Salamander\n'
297.             '    Raw Python operation -> Grow salamander tail.\n',
298.             out.getvalue(),
299.         )
300. 
301.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
302.     def test_showmigrations_list(self):
303.         """
304.         showmigrations --list  displays migrations and whether or not they're
305.         applied.
306.         """
307.         out = io.StringIO()
308.         with mock.patch('django.core.management.color.supports_color', lambda *args: True):
309.             call_command("showmigrations", format='list', stdout=out, verbosity=0, no_color=False)
310.         self.assertEqual(
311.             '\x1b[1mmigrations\n\x1b[0m'
312.             ' [ ] 0001_initial\n'
313.             ' [ ] 0002_second\n',
314.             out.getvalue().lower()
315.         )
316. 
317.         call_command("migrate", "migrations", "0001", verbosity=0)
318. 
319.         out = io.StringIO()
320.         # Giving the explicit app_label tests for selective `show_list` in the command
321.         call_command("showmigrations", "migrations", format='list', stdout=out, verbosity=0, no_color=True)
322.         self.assertEqual(
323.             'migrations\n'
324.             ' [x] 0001_initial\n'
325.             ' [ ] 0002_second\n',
326.             out.getvalue().lower()
327.         )
328.         out = io.StringIO()
329.         # Applied datetimes are displayed at verbosity 2+.
330.         call_command('showmigrations', 'migrations', stdout=out, verbosity=2, no_color=True)
331.         migration1 = MigrationRecorder(connection).migration_qs.get(app='migrations', name='0001_initial')
332.         self.assertEqual(
333.             'migrations\n'
334.             ' [x] 0001_initial (applied at %s)\n'
335.             ' [ ] 0002_second\n' % migration1.applied.strftime('%Y-%m-%d %H:%M:%S'),
336.             out.getvalue().lower()
337.         )
338.         # Cleanup by unmigrating everything
339.         call_command("migrate", "migrations", "zero", verbosity=0)
340. 
341.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
342.     def test_showmigrations_list_squashed(self):
343.         out = io.StringIO()
344.         call_command('showmigrations', format='list', stdout=out, verbosity=2, no_color=True)
345.         self.assertEqual(
346.             'migrations\n'
347.             ' [ ] 0001_squashed_0002 (2 squashed migrations)\n',
348.             out.getvalue().lower(),
349.         )
350.         out = io.StringIO()
351.         call_command(
352.             'migrate',
353.             'migrations',
354.             '0001_squashed_0002',
355.             stdout=out,
356.             verbosity=2,
357.             no_color=True,
358.         )
359.         try:
360.             self.assertIn(
361.                 'operations to perform:\n'
362.                 '  target specific migration: 0001_squashed_0002, from migrations\n'
363.                 'running pre-migrate handlers for application migrations\n'
364.                 'running migrations:\n'
365.                 '  applying migrations.0001_squashed_0002... ok (',
366.                 out.getvalue().lower(),
367.             )
368.             out = io.StringIO()
369.             call_command('showmigrations', format='list', stdout=out, verbosity=2, no_color=True)
370.             self.assertEqual(
371.                 'migrations\n'
372.                 ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
373.                 out.getvalue().lower(),
374.             )
375.         finally:
376.             # Unmigrate everything.
377.             call_command('migrate', 'migrations', 'zero', verbosity=0)
378. 
379.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_run_before"})
380.     def test_showmigrations_plan(self):
381.         """
382.         Tests --plan output of showmigrations command
383.         """
384.         out = io.StringIO()
385.         call_command("showmigrations", format='plan', stdout=out)
386.         self.assertEqual(
387.             "[ ]  migrations.0001_initial\n"
388.             "[ ]  migrations.0003_third\n"
389.             "[ ]  migrations.0002_second\n",
390.             out.getvalue().lower()
391.         )
392. 
393.         out = io.StringIO()
394.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
395.         self.assertEqual(
396.             "[ ]  migrations.0001_initial\n"
397.             "[ ]  migrations.0003_third ... (migrations.0001_initial)\n"
398.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
399.             out.getvalue().lower()
400.         )
401.         call_command("migrate", "migrations", "0003", verbosity=0)
402. 
403.         out = io.StringIO()
404.         call_command("showmigrations", format='plan', stdout=out)
405.         self.assertEqual(
406.             "[x]  migrations.0001_initial\n"
407.             "[x]  migrations.0003_third\n"
408.             "[ ]  migrations.0002_second\n",
409.             out.getvalue().lower()
410.         )
411. 
412.         out = io.StringIO()
413.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
414.         self.assertEqual(
415.             "[x]  migrations.0001_initial\n"
416.             "[x]  migrations.0003_third ... (migrations.0001_initial)\n"
417.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
418.             out.getvalue().lower()
419.         )
420. 
421.         # Cleanup by unmigrating everything
422.         call_command("migrate", "migrations", "zero", verbosity=0)
423. 
424.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_plan'})
425.     def test_migrate_plan(self):
426.         """Tests migrate --plan output."""
427.         out = io.StringIO()
428.         # Show the plan up to the third migration.
429.         call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
430.         self.assertEqual(
431.             'Planned operations:\n'
432.             'migrations.0001_initial\n'
433.             '    Create model Salamander\n'
434.             '    Raw Python operation -> Grow salamander tail.\n'
435.             'migrations.0002_second\n'
436.             '    Create model Book\n'
437.             "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
438.             'migrations.0003_third\n'
439.             '    Create model Author\n'
440.             "    Raw SQL operation -> ['SELECT * FROM migrations_author']\n",
441.             out.getvalue()
442.         )
443.         try:
444.             # Migrate to the third migration.
445.             call_command('migrate', 'migrations', '0003', verbosity=0)
446.             out = io.StringIO()
447.             # Show the plan for when there is nothing to apply.
448.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
449.             self.assertEqual(
450.                 'Planned operations:\n'
451.                 '  No planned migration operations.\n',
452.                 out.getvalue()
453.             )
454.             out = io.StringIO()
455.             # Show the plan for reverse migration back to 0001.
456.             call_command('migrate', 'migrations', '0001', plan=True, stdout=out, no_color=True)
457.             self.assertEqual(
458.                 'Planned operations:\n'
459.                 'migrations.0003_third\n'
460.                 '    Undo Create model Author\n'
461.                 "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
462.                 'migrations.0002_second\n'
463.                 '    Undo Create model Book\n'
464.                 "    Raw SQL operation -> ['SELECT * FROM migrations_salamand…\n",
465.                 out.getvalue()
466.             )
467.             out = io.StringIO()
468.             # Show the migration plan to fourth, with truncated details.
469.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)
470.             self.assertEqual(
471.                 'Planned operations:\n'
472.                 'migrations.0004_fourth\n'
473.                 '    Raw SQL operation -> SELECT * FROM migrations_author WHE…\n',
474.                 out.getvalue()
475.             )
476.             # Show the plan when an operation is irreversible.
477.             # Migrate to the fourth migration.
478.             call_command('migrate', 'migrations', '0004', verbosity=0)
479.             out = io.StringIO()
480.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
481.             self.assertEqual(
482.                 'Planned operations:\n'
483.                 'migrations.0004_fourth\n'
484.                 '    Raw SQL operation -> IRREVERSIBLE\n',
485.                 out.getvalue()
486.             )
487.             out = io.StringIO()
488.             call_command('migrate', 'migrations', '0005', plan=True, stdout=out, no_color=True)
489.             # Operation is marked as irreversible only in the revert plan.
490.             self.assertEqual(
491.                 'Planned operations:\n'
492.                 'migrations.0005_fifth\n'
493.                 '    Raw Python operation\n'
494.                 '    Raw Python operation\n'
495.                 '    Raw Python operation -> Feed salamander.\n',
496.                 out.getvalue()
497.             )
498.             call_command('migrate', 'migrations', '0005', verbosity=0)
499.             out = io.StringIO()
500.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)


File: tests/migrations/test_commands.py
Line number range: 501 - 10000
Content:
501.             self.assertEqual(
502.                 'Planned operations:\n'
503.                 'migrations.0005_fifth\n'
504.                 '    Raw Python operation -> IRREVERSIBLE\n'
505.                 '    Raw Python operation -> IRREVERSIBLE\n'
506.                 '    Raw Python operation\n',
507.                 out.getvalue()
508.             )
509.         finally:
510.             # Cleanup by unmigrating everything: fake the irreversible, then
511.             # migrate all to zero.
512.             call_command('migrate', 'migrations', '0003', fake=True, verbosity=0)
513.             call_command('migrate', 'migrations', 'zero', verbosity=0)
514. 
515.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_empty'})
516.     def test_showmigrations_no_migrations(self):
517.         out = io.StringIO()
518.         call_command('showmigrations', stdout=out, no_color=True)
519.         self.assertEqual('migrations\n (no migrations)\n', out.getvalue().lower())
520. 
521.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app'])
522.     def test_showmigrations_unmigrated_app(self):
523.         out = io.StringIO()
524.         call_command('showmigrations', 'unmigrated_app', stdout=out, no_color=True)
525.         try:
526.             self.assertEqual('unmigrated_app\n (no migrations)\n', out.getvalue().lower())
527.         finally:
528.             # unmigrated_app.SillyModel has a foreign key to
529.             # 'migrations.Tribble', but that model is only defined in a
530.             # migration, so the global app registry never sees it and the
531.             # reference is left dangling. Remove it to avoid problems in
532.             # subsequent tests.
533.             apps._pending_operations.pop(('migrations', 'tribble'), None)
534. 
535.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_empty"})
536.     def test_showmigrations_plan_no_migrations(self):
537.         """
538.         Tests --plan output of showmigrations command without migrations
539.         """
540.         out = io.StringIO()
541.         call_command('showmigrations', format='plan', stdout=out, no_color=True)
542.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
543. 
544.         out = io.StringIO()
545.         call_command('showmigrations', format='plan', stdout=out, verbosity=2, no_color=True)
546.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
547. 
548.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed_complex"})
549.     def test_showmigrations_plan_squashed(self):
550.         """
551.         Tests --plan output of showmigrations command with squashed migrations.
552.         """
553.         out = io.StringIO()
554.         call_command("showmigrations", format='plan', stdout=out)
555.         self.assertEqual(
556.             "[ ]  migrations.1_auto\n"
557.             "[ ]  migrations.2_auto\n"
558.             "[ ]  migrations.3_squashed_5\n"
559.             "[ ]  migrations.6_auto\n"
560.             "[ ]  migrations.7_auto\n",
561.             out.getvalue().lower()
562.         )
563. 
564.         out = io.StringIO()
565.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
566.         self.assertEqual(
567.             "[ ]  migrations.1_auto\n"
568.             "[ ]  migrations.2_auto ... (migrations.1_auto)\n"
569.             "[ ]  migrations.3_squashed_5 ... (migrations.2_auto)\n"
570.             "[ ]  migrations.6_auto ... (migrations.3_squashed_5)\n"
571.             "[ ]  migrations.7_auto ... (migrations.6_auto)\n",
572.             out.getvalue().lower()
573.         )
574. 
575.         call_command("migrate", "migrations", "3_squashed_5", verbosity=0)
576. 
577.         out = io.StringIO()
578.         call_command("showmigrations", format='plan', stdout=out)
579.         self.assertEqual(
580.             "[x]  migrations.1_auto\n"
581.             "[x]  migrations.2_auto\n"
582.             "[x]  migrations.3_squashed_5\n"
583.             "[ ]  migrations.6_auto\n"
584.             "[ ]  migrations.7_auto\n",
585.             out.getvalue().lower()
586.         )
587. 
588.         out = io.StringIO()
589.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
590.         self.assertEqual(
591.             "[x]  migrations.1_auto\n"
592.             "[x]  migrations.2_auto ... (migrations.1_auto)\n"
593.             "[x]  migrations.3_squashed_5 ... (migrations.2_auto)\n"
594.             "[ ]  migrations.6_auto ... (migrations.3_squashed_5)\n"
595.             "[ ]  migrations.7_auto ... (migrations.6_auto)\n",
596.             out.getvalue().lower()
597.         )
598. 
599.     @override_settings(INSTALLED_APPS=[
600.         'migrations.migrations_test_apps.mutate_state_b',
601.         'migrations.migrations_test_apps.alter_fk.author_app',
602.         'migrations.migrations_test_apps.alter_fk.book_app',
603.     ])
604.     def test_showmigrations_plan_single_app_label(self):
605.         """
606.         `showmigrations --plan app_label` output with a single app_label.
607.         """
608.         # Single app with no dependencies on other apps.
609.         out = io.StringIO()
610.         call_command('showmigrations', 'mutate_state_b', format='plan', stdout=out)
611.         self.assertEqual(
612.             '[ ]  mutate_state_b.0001_initial\n'
613.             '[ ]  mutate_state_b.0002_add_field\n',
614.             out.getvalue()
615.         )
616.         # Single app with dependencies.
617.         out = io.StringIO()
618.         call_command('showmigrations', 'author_app', format='plan', stdout=out)
619.         self.assertEqual(
620.             '[ ]  author_app.0001_initial\n'
621.             '[ ]  book_app.0001_initial\n'
622.             '[ ]  author_app.0002_alter_id\n',
623.             out.getvalue()
624.         )
625.         # Some migrations already applied.
626.         call_command('migrate', 'author_app', '0001', verbosity=0)
627.         out = io.StringIO()
628.         call_command('showmigrations', 'author_app', format='plan', stdout=out)
629.         self.assertEqual(
630.             '[X]  author_app.0001_initial\n'
631.             '[ ]  book_app.0001_initial\n'
632.             '[ ]  author_app.0002_alter_id\n',
633.             out.getvalue()
634.         )
635.         # Cleanup by unmigrating author_app.
636.         call_command('migrate', 'author_app', 'zero', verbosity=0)
637. 
638.     @override_settings(INSTALLED_APPS=[
639.         'migrations.migrations_test_apps.mutate_state_b',
640.         'migrations.migrations_test_apps.alter_fk.author_app',
641.         'migrations.migrations_test_apps.alter_fk.book_app',
642.     ])
643.     def test_showmigrations_plan_multiple_app_labels(self):
644.         """
645.         `showmigrations --plan app_label` output with multiple app_labels.
646.         """
647.         # Multiple apps: author_app depends on book_app; mutate_state_b doesn't
648.         # depend on other apps.
649.         out = io.StringIO()
650.         call_command('showmigrations', 'mutate_state_b', 'author_app', format='plan', stdout=out)
651.         self.assertEqual(
652.             '[ ]  author_app.0001_initial\n'
653.             '[ ]  book_app.0001_initial\n'
654.             '[ ]  author_app.0002_alter_id\n'
655.             '[ ]  mutate_state_b.0001_initial\n'
656.             '[ ]  mutate_state_b.0002_add_field\n',
657.             out.getvalue()
658.         )
659.         # Multiple apps: args order shouldn't matter (the same result is
660.         # expected as above).
661.         out = io.StringIO()
662.         call_command('showmigrations', 'author_app', 'mutate_state_b', format='plan', stdout=out)
663.         self.assertEqual(
664.             '[ ]  author_app.0001_initial\n'
665.             '[ ]  book_app.0001_initial\n'
666.             '[ ]  author_app.0002_alter_id\n'
667.             '[ ]  mutate_state_b.0001_initial\n'
668.             '[ ]  mutate_state_b.0002_add_field\n',
669.             out.getvalue()
670.         )
671. 
672.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app'])
673.     def test_showmigrations_plan_app_label_no_migrations(self):
674.         out = io.StringIO()
675.         call_command('showmigrations', 'unmigrated_app', format='plan', stdout=out, no_color=True)
676.         try:
677.             self.assertEqual('(no migrations)\n', out.getvalue())
678.         finally:
679.             # unmigrated_app.SillyModel has a foreign key to
680.             # 'migrations.Tribble', but that model is only defined in a
681.             # migration, so the global app registry never sees it and the
682.             # reference is left dangling. Remove it to avoid problems in
683.             # subsequent tests.
684.             apps._pending_operations.pop(('migrations', 'tribble'), None)
685. 
686.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
687.     def test_sqlmigrate_forwards(self):
688.         """
689.         sqlmigrate outputs forward looking SQL.
690.         """
691.         out = io.StringIO()
692.         call_command("sqlmigrate", "migrations", "0001", stdout=out)
693.         output = out.getvalue().lower()
694. 
695.         index_tx_start = output.find(connection.ops.start_transaction_sql().lower())
696.         index_op_desc_author = output.find('-- create model author')
697.         index_create_table = output.find('create table')
698.         index_op_desc_tribble = output.find('-- create model tribble')
699.         index_op_desc_unique_together = output.find('-- alter unique_together')
700.         index_tx_end = output.find(connection.ops.end_transaction_sql().lower())
701. 
702.         if connection.features.can_rollback_ddl:
703.             self.assertGreater(index_tx_start, -1, "Transaction start not found")
704.             self.assertGreater(
705.                 index_tx_end, index_op_desc_unique_together,
706.                 "Transaction end not found or found before operation description (unique_together)"
707.             )
708. 
709.         self.assertGreater(
710.             index_op_desc_author, index_tx_start,
711.             "Operation description (author) not found or found before transaction start"
712.         )
713.         self.assertGreater(
714.             index_create_table, index_op_desc_author,
715.             "CREATE TABLE not found or found before operation description (author)"
716.         )
717.         self.assertGreater(
718.             index_op_desc_tribble, index_create_table,
719.             "Operation description (tribble) not found or found before CREATE TABLE (author)"
720.         )
721.         self.assertGreater(
722.             index_op_desc_unique_together, index_op_desc_tribble,
723.             "Operation description (unique_together) not found or found before operation description (tribble)"
724.         )
725. 
726.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
727.     def test_sqlmigrate_backwards(self):
728.         """
729.         sqlmigrate outputs reverse looking SQL.
730.         """
731.         # Cannot generate the reverse SQL unless we've applied the migration.
732.         call_command("migrate", "migrations", verbosity=0)
733. 
734.         out = io.StringIO()
735.         call_command("sqlmigrate", "migrations", "0001", stdout=out, backwards=True)
736.         output = out.getvalue().lower()
737. 
738.         index_tx_start = output.find(connection.ops.start_transaction_sql().lower())
739.         index_op_desc_unique_together = output.find('-- alter unique_together')
740.         index_op_desc_tribble = output.find('-- create model tribble')
741.         index_op_desc_author = output.find('-- create model author')
742.         index_drop_table = output.rfind('drop table')
743.         index_tx_end = output.find(connection.ops.end_transaction_sql().lower())
744. 
745.         if connection.features.can_rollback_ddl:
746.             self.assertGreater(index_tx_start, -1, "Transaction start not found")
747.             self.assertGreater(
748.                 index_tx_end, index_op_desc_unique_together,
749.                 "Transaction end not found or found before DROP TABLE"
750.             )
751.         self.assertGreater(
752.             index_op_desc_unique_together, index_tx_start,
753.             "Operation description (unique_together) not found or found before transaction start"
754.         )
755.         self.assertGreater(
756.             index_op_desc_tribble, index_op_desc_unique_together,
757.             "Operation description (tribble) not found or found before operation description (unique_together)"
758.         )
759.         self.assertGreater(
760.             index_op_desc_author, index_op_desc_tribble,
761.             "Operation description (author) not found or found before operation description (tribble)"
762.         )
763. 
764.         self.assertGreater(
765.             index_drop_table, index_op_desc_author,
766.             "DROP TABLE not found or found before operation description (author)"
767.         )
768. 
769.         # Cleanup by unmigrating everything
770.         call_command("migrate", "migrations", "zero", verbosity=0)
771. 
772.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_non_atomic"})
773.     def test_sqlmigrate_for_non_atomic_migration(self):
774.         """
775.         Transaction wrappers aren't shown for non-atomic migrations.
776.         """
777.         out = io.StringIO()
778.         call_command("sqlmigrate", "migrations", "0001", stdout=out)
779.         output = out.getvalue().lower()
780.         queries = [q.strip() for q in output.splitlines()]
781.         if connection.ops.start_transaction_sql():
782.             self.assertNotIn(connection.ops.start_transaction_sql().lower(), queries)
783.         self.assertNotIn(connection.ops.end_transaction_sql().lower(), queries)
784. 
785.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
786.     def test_sqlmigrate_for_non_transactional_databases(self):
787.         """
788.         Transaction wrappers aren't shown for databases that don't support
789.         transactional DDL.
790.         """
791.         out = io.StringIO()
792.         with mock.patch.object(connection.features, 'can_rollback_ddl', False):
793.             call_command('sqlmigrate', 'migrations', '0001', stdout=out)
794.         output = out.getvalue().lower()
795.         queries = [q.strip() for q in output.splitlines()]
796.         start_transaction_sql = connection.ops.start_transaction_sql()
797.         if start_transaction_sql:
798.             self.assertNotIn(start_transaction_sql.lower(), queries)
799.         self.assertNotIn(connection.ops.end_transaction_sql().lower(), queries)
800. 
801.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
802.     def test_sqlmigrate_ambiguous_prefix_squashed_migrations(self):
803.         msg = (
804.             "More than one migration matches '0001' in app 'migrations'. "
805.             "Please be more specific."
806.         )
807.         with self.assertRaisesMessage(CommandError, msg):
808.             call_command('sqlmigrate', 'migrations', '0001')
809. 
810.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
811.     def test_sqlmigrate_squashed_migration(self):
812.         out = io.StringIO()
813.         call_command('sqlmigrate', 'migrations', '0001_squashed_0002', stdout=out)
814.         output = out.getvalue().lower()
815.         self.assertIn('-- create model author', output)
816.         self.assertIn('-- create model book', output)
817.         self.assertNotIn('-- create model tribble', output)
818. 
819.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
820.     def test_sqlmigrate_replaced_migration(self):
821.         out = io.StringIO()
822.         call_command('sqlmigrate', 'migrations', '0001_initial', stdout=out)
823.         output = out.getvalue().lower()
824.         self.assertIn('-- create model author', output)
825.         self.assertIn('-- create model tribble', output)
826. 
827.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_no_operations'})
828.     def test_migrations_no_operations(self):
829.         err = io.StringIO()
830.         call_command('sqlmigrate', 'migrations', '0001_initial', stderr=err)
831.         self.assertEqual(err.getvalue(), 'No operations found.\n')
832. 
833.     @override_settings(
834.         INSTALLED_APPS=[
835.             "migrations.migrations_test_apps.migrated_app",
836.             "migrations.migrations_test_apps.migrated_unapplied_app",
837.             "migrations.migrations_test_apps.unmigrated_app",
838.         ],
839.     )
840.     def test_regression_22823_unmigrated_fk_to_migrated_model(self):
841.         """
842.         Assuming you have 3 apps, `A`, `B`, and `C`, such that:
843. 
844.         * `A` has migrations
845.         * `B` has a migration we want to apply
846.         * `C` has no migrations, but has an FK to `A`
847. 
848.         When we try to migrate "B", an exception occurs because the
849.         "B" was not included in the ProjectState that is used to detect
850.         soft-applied migrations (#22823).
851.         """
852.         call_command('migrate', 'migrated_unapplied_app', verbosity=0)
853. 
854.         # unmigrated_app.SillyModel has a foreign key to 'migrations.Tribble',
855.         # but that model is only defined in a migration, so the global app
856.         # registry never sees it and the reference is left dangling. Remove it
857.         # to avoid problems in subsequent tests.
858.         apps._pending_operations.pop(('migrations', 'tribble'), None)
859. 
860.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app_syncdb'])
861.     def test_migrate_syncdb_deferred_sql_executed_with_schemaeditor(self):
862.         """
863.         For an app without migrations, editor.execute() is used for executing
864.         the syncdb deferred SQL.
865.         """
866.         stdout = io.StringIO()
867.         with mock.patch.object(BaseDatabaseSchemaEditor, 'execute') as execute:
868.             call_command('migrate', run_syncdb=True, verbosity=1, stdout=stdout, no_color=True)
869.             create_table_count = len([call for call in execute.mock_calls if 'CREATE TABLE' in str(call)])
870.             self.assertEqual(create_table_count, 2)
871.             # There's at least one deferred SQL for creating the foreign key
872.             # index.
873.             self.assertGreater(len(execute.mock_calls), 2)
874.         stdout = stdout.getvalue()
875.         self.assertIn('Synchronize unmigrated apps: unmigrated_app_syncdb', stdout)
876.         self.assertIn('Creating tables...', stdout)
877.         table_name = truncate_name('unmigrated_app_syncdb_classroom', connection.ops.max_name_length())
878.         self.assertIn('Creating table %s' % table_name, stdout)
879. 
880.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
881.     def test_migrate_syncdb_app_with_migrations(self):
882.         msg = "Can't use run_syncdb with app 'migrations' as it has migrations."
883.         with self.assertRaisesMessage(CommandError, msg):
884.             call_command('migrate', 'migrations', run_syncdb=True, verbosity=0)
885. 
886.     @override_settings(INSTALLED_APPS=[
887.         'migrations.migrations_test_apps.unmigrated_app_syncdb',
888.         'migrations.migrations_test_apps.unmigrated_app_simple',
889.     ])
890.     def test_migrate_syncdb_app_label(self):
891.         """
892.         Running migrate --run-syncdb with an app_label only creates tables for
893.         the specified app.
894.         """
895.         stdout = io.StringIO()
896.         with mock.patch.object(BaseDatabaseSchemaEditor, 'execute') as execute:
897.             call_command('migrate', 'unmigrated_app_syncdb', run_syncdb=True, stdout=stdout)
898.             create_table_count = len([call for call in execute.mock_calls if 'CREATE TABLE' in str(call)])
899.             self.assertEqual(create_table_count, 2)
900.             self.assertGreater(len(execute.mock_calls), 2)
901.             self.assertIn('Synchronize unmigrated app: unmigrated_app_syncdb', stdout.getvalue())
902. 
903.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
904.     def test_migrate_record_replaced(self):
905.         """
906.         Running a single squashed migration should record all of the original
907.         replaced migrations as run.
908.         """
909.         recorder = MigrationRecorder(connection)
910.         out = io.StringIO()
911.         call_command("migrate", "migrations", verbosity=0)
912.         call_command("showmigrations", "migrations", stdout=out, no_color=True)
913.         self.assertEqual(
914.             'migrations\n'
915.             ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
916.             out.getvalue().lower()
917.         )
918.         applied_migrations = recorder.applied_migrations()
919.         self.assertIn(("migrations", "0001_initial"), applied_migrations)
920.         self.assertIn(("migrations", "0002_second"), applied_migrations)
921.         self.assertIn(("migrations", "0001_squashed_0002"), applied_migrations)
922.         # Rollback changes
923.         call_command("migrate", "migrations", "zero", verbosity=0)
924. 
925.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
926.     def test_migrate_record_squashed(self):
927.         """
928.         Running migrate for a squashed migration should record as run
929.         if all of the replaced migrations have been run (#25231).
930.         """
931.         recorder = MigrationRecorder(connection)
932.         recorder.record_applied("migrations", "0001_initial")
933.         recorder.record_applied("migrations", "0002_second")
934.         out = io.StringIO()
935.         call_command('showmigrations', 'migrations', stdout=out, no_color=True)
936.         self.assertEqual(
937.             "migrations\n"
938.             " [-] 0001_squashed_0002 (2 squashed migrations) "
939.             "run 'manage.py migrate' to finish recording.\n",
940.             out.getvalue().lower(),
941.         )
942. 
943.         out = io.StringIO()
944.         call_command("migrate", "migrations", verbosity=0)
945.         call_command("showmigrations", "migrations", stdout=out, no_color=True)
946.         self.assertEqual(
947.             'migrations\n'
948.             ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
949.             out.getvalue().lower()
950.         )
951.         self.assertIn(
952.             ("migrations", "0001_squashed_0002"),
953.             recorder.applied_migrations()
954.         )
955.         # No changes were actually applied so there is nothing to rollback
956. 
957.     def test_migrate_partially_applied_squashed_migration(self):
958.         """
959.         Migrating to a squashed migration specified by name should succeed
960.         even if it is partially applied.
961.         """
962.         with self.temporary_migration_module(module='migrations.test_migrations'):
963.             recorder = MigrationRecorder(connection)
964.             try:
965.                 call_command('migrate', 'migrations', '0001_initial', verbosity=0)
966.                 call_command(
967.                     'squashmigrations',
968.                     'migrations',
969.                     '0002',
970.                     interactive=False,
971.                     verbosity=0,
972.                 )
973.                 call_command(
974.                     'migrate',
975.                     'migrations',
976.                     '0001_squashed_0002_second',
977.                     verbosity=0,
978.                 )
979.                 applied_migrations = recorder.applied_migrations()
980.                 self.assertIn(('migrations', '0002_second'), applied_migrations)
981.             finally:
982.                 # Unmigrate everything.
983.                 call_command('migrate', 'migrations', 'zero', verbosity=0)
984. 
985.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
986.     def test_migrate_backward_to_squashed_migration(self):
987.         try:
988.             call_command('migrate', 'migrations', '0001_squashed_0002', verbosity=0)
989.             self.assertTableExists('migrations_author')
990.             self.assertTableExists('migrations_book')
991.             call_command('migrate', 'migrations', '0001_initial', verbosity=0)
992.             self.assertTableExists('migrations_author')
993.             self.assertTableNotExists('migrations_book')
994.         finally:
995.             # Unmigrate everything.
996.             call_command('migrate', 'migrations', 'zero', verbosity=0)
997. 
998.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
999.     def test_migrate_inconsistent_history(self):
1000.         """
1001.         Running migrate with some migrations applied before their dependencies
1002.         should not be allowed.
1003.         """
1004.         recorder = MigrationRecorder(connection)
1005.         recorder.record_applied("migrations", "0002_second")
1006.         msg = "Migration migrations.0002_second is applied before its dependency migrations.0001_initial"
1007.         with self.assertRaisesMessage(InconsistentMigrationHistory, msg):
1008.             call_command("migrate")
1009.         applied_migrations = recorder.applied_migrations()
1010.         self.assertNotIn(("migrations", "0001_initial"), applied_migrations)
1011. 
1012.     @override_settings(INSTALLED_APPS=[
1013.         'migrations.migrations_test_apps.migrated_unapplied_app',
1014.         'migrations.migrations_test_apps.migrated_app',
1015.     ])
1016.     def test_migrate_not_reflected_changes(self):
1017.         class NewModel1(models.Model):
1018.             class Meta():
1019.                 app_label = 'migrated_app'
1020. 
1021.         class NewModel2(models.Model):
1022.             class Meta():
1023.                 app_label = 'migrated_unapplied_app'
1024. 
1025.         out = io.StringIO()
1026.         try:
1027.             call_command('migrate', verbosity=0)
1028.             call_command('migrate', stdout=out, no_color=True)
1029.             self.assertEqual(
1030.                 "operations to perform:\n"
1031.                 "  apply all migrations: migrated_app, migrated_unapplied_app\n"
1032.                 "running migrations:\n"
1033.                 "  no migrations to apply.\n"
1034.                 "  your models in app(s): 'migrated_app', "
1035.                 "'migrated_unapplied_app' have changes that are not yet "
1036.                 "reflected in a migration, and so won't be applied.\n"
1037.                 "  run 'manage.py makemigrations' to make new migrations, and "
1038.                 "then re-run 'manage.py migrate' to apply them.\n",
1039.                 out.getvalue().lower(),
1040.             )
1041.         finally:
1042.             # Unmigrate everything.
1043.             call_command('migrate', 'migrated_app', 'zero', verbosity=0)
1044.             call_command('migrate', 'migrated_unapplied_app', 'zero', verbosity=0)
1045. 
1046. 
1047. class MakeMigrationsTests(MigrationTestBase):
1048.     """
1049.     Tests running the makemigrations command.
1050.     """
1051. 
1052.     def setUp(self):
1053.         super().setUp()
1054.         self._old_models = apps.app_configs['migrations'].models.copy()
1055. 
1056.     def tearDown(self):
1057.         apps.app_configs['migrations'].models = self._old_models
1058.         apps.all_models['migrations'] = self._old_models
1059.         apps.clear_cache()
1060.         super().tearDown()
1061. 
1062.     def test_files_content(self):
1063.         self.assertTableNotExists("migrations_unicodemodel")
1064.         apps.register_model('migrations', UnicodeModel)
1065.         with self.temporary_migration_module() as migration_dir:
1066.             call_command("makemigrations", "migrations", verbosity=0)
1067. 
1068.             # Check for empty __init__.py file in migrations folder
1069.             init_file = os.path.join(migration_dir, "__init__.py")
1070.             self.assertTrue(os.path.exists(init_file))
1071. 
1072.             with open(init_file) as fp:
1073.                 content = fp.read()
1074.             self.assertEqual(content, '')
1075. 
1076.             # Check for existing 0001_initial.py file in migration folder
1077.             initial_file = os.path.join(migration_dir, "0001_initial.py")
1078.             self.assertTrue(os.path.exists(initial_file))
1079. 
1080.             with open(initial_file, encoding='utf-8') as fp:
1081.                 content = fp.read()
1082.                 self.assertIn('migrations.CreateModel', content)
1083.                 self.assertIn('initial = True', content)
1084. 
1085.                 self.assertIn('úñí©óðé µóðéø', content)  # Meta.verbose_name
1086.                 self.assertIn('úñí©óðé µóðéøß', content)  # Meta.verbose_name_plural
1087.                 self.assertIn('ÚÑÍ¢ÓÐÉ', content)  # title.verbose_name
1088.                 self.assertIn('“Ðjáñgó”', content)  # title.default
1089. 
1090.     def test_makemigrations_order(self):
1091.         """
1092.         makemigrations should recognize number-only migrations (0001.py).
1093.         """
1094.         module = 'migrations.test_migrations_order'
1095.         with self.temporary_migration_module(module=module) as migration_dir:
1096.             if hasattr(importlib, 'invalidate_caches'):
1097.                 # importlib caches os.listdir() on some platforms like macOS
1098.                 # (#23850).
1099.                 importlib.invalidate_caches()
1100.             call_command('makemigrations', 'migrations', '--empty', '-n', 'a', '-v', '0')
1101.             self.assertTrue(os.path.exists(os.path.join(migration_dir, '0002_a.py')))
1102. 
1103.     def test_makemigrations_empty_connections(self):
1104.         empty_connections = ConnectionHandler({'default': {}})
1105.         with mock.patch('django.core.management.commands.makemigrations.connections', new=empty_connections):
1106.             # with no apps
1107.             out = io.StringIO()
1108.             call_command('makemigrations', stdout=out)
1109.             self.assertIn('No changes detected', out.getvalue())
1110.             # with an app
1111.             with self.temporary_migration_module() as migration_dir:
1112.                 call_command('makemigrations', 'migrations', verbosity=0)
1113.                 init_file = os.path.join(migration_dir, '__init__.py')
1114.                 self.assertTrue(os.path.exists(init_file))
1115. 
1116.     @override_settings(INSTALLED_APPS=['migrations', 'migrations2'])
1117.     def test_makemigrations_consistency_checks_respect_routers(self):
1118.         """
1119.         The history consistency checks in makemigrations respect
1120.         settings.DATABASE_ROUTERS.
1121.         """
1122.         def patched_has_table(migration_recorder):
1123.             if migration_recorder.connection is connections['other']:
1124.                 raise Exception('Other connection')
1125.             else:
1126.                 return mock.DEFAULT
1127. 
1128.         self.assertTableNotExists('migrations_unicodemodel')
1129.         apps.register_model('migrations', UnicodeModel)
1130.         with mock.patch.object(
1131.                 MigrationRecorder, 'has_table',
1132.                 autospec=True, side_effect=patched_has_table) as has_table:
1133.             with self.temporary_migration_module() as migration_dir:
1134.                 call_command("makemigrations", "migrations", verbosity=0)
1135.                 initial_file = os.path.join(migration_dir, "0001_initial.py")
1136.                 self.assertTrue(os.path.exists(initial_file))
1137.                 self.assertEqual(has_table.call_count, 1)  # 'default' is checked
1138. 
1139.                 # Router says not to migrate 'other' so consistency shouldn't
1140.                 # be checked.
1141.                 with self.settings(DATABASE_ROUTERS=['migrations.routers.TestRouter']):
1142.                     call_command('makemigrations', 'migrations', verbosity=0)
1143.                 self.assertEqual(has_table.call_count, 2)  # 'default' again
1144. 
1145.                 # With a router that doesn't prohibit migrating 'other',
1146.                 # consistency is checked.
1147.                 with self.settings(DATABASE_ROUTERS=['migrations.routers.DefaultOtherRouter']):
1148.                     with self.assertRaisesMessage(Exception, 'Other connection'):
1149.                         call_command('makemigrations', 'migrations', verbosity=0)
1150.                 self.assertEqual(has_table.call_count, 4)  # 'default' and 'other'
1151. 
1152.                 # With a router that doesn't allow migrating on any database,
1153.                 # no consistency checks are made.
1154.                 with self.settings(DATABASE_ROUTERS=['migrations.routers.TestRouter']):
1155.                     with mock.patch.object(TestRouter, 'allow_migrate', return_value=False) as allow_migrate:
1156.                         call_command('makemigrations', 'migrations', verbosity=0)
1157.                 allow_migrate.assert_any_call('other', 'migrations', model_name='UnicodeModel')
1158.                 # allow_migrate() is called with the correct arguments.
1159.                 self.assertGreater(len(allow_migrate.mock_calls), 0)
1160.                 called_aliases = set()
1161.                 for mock_call in allow_migrate.mock_calls:
1162.                     _, call_args, call_kwargs = mock_call
1163.                     connection_alias, app_name = call_args
1164.                     called_aliases.add(connection_alias)
1165.                     # Raises an error if invalid app_name/model_name occurs.
1166.                     apps.get_app_config(app_name).get_model(call_kwargs['model_name'])
1167.                 self.assertEqual(called_aliases, set(connections))
1168.                 self.assertEqual(has_table.call_count, 4)
1169. 
1170.     def test_failing_migration(self):
1171.         # If a migration fails to serialize, it shouldn't generate an empty file. #21280
1172.         apps.register_model('migrations', UnserializableModel)
1173. 
1174.         with self.temporary_migration_module() as migration_dir:
1175.             with self.assertRaisesMessage(ValueError, 'Cannot serialize'):
1176.                 call_command("makemigrations", "migrations", verbosity=0)
1177. 
1178.             initial_file = os.path.join(migration_dir, "0001_initial.py")
1179.             self.assertFalse(os.path.exists(initial_file))
1180. 
1181.     def test_makemigrations_conflict_exit(self):
1182.         """
1183.         makemigrations exits if it detects a conflict.
1184.         """
1185.         with self.temporary_migration_module(module="migrations.test_migrations_conflict"):
1186.             with self.assertRaises(CommandError) as context:
1187.                 call_command("makemigrations")
1188.         self.assertEqual(
1189.             str(context.exception),
1190.             "Conflicting migrations detected; multiple leaf nodes in the "
1191.             "migration graph: (0002_conflicting_second, 0002_second in "
1192.             "migrations).\n"
1193.             "To fix them run 'python manage.py makemigrations --merge'"
1194.         )
1195. 
1196.     def test_makemigrations_merge_no_conflict(self):
1197.         """
1198.         makemigrations exits if in merge mode with no conflicts.
1199.         """
1200.         out = io.StringIO()
1201.         with self.temporary_migration_module(module="migrations.test_migrations"):
1202.             call_command("makemigrations", merge=True, stdout=out)
1203.         self.assertIn("No conflicts detected to merge.", out.getvalue())
1204. 
1205.     def test_makemigrations_empty_no_app_specified(self):
1206.         """
1207.         makemigrations exits if no app is specified with 'empty' mode.
1208.         """
1209.         msg = 'You must supply at least one app label when using --empty.'
1210.         with self.assertRaisesMessage(CommandError, msg):
1211.             call_command("makemigrations", empty=True)
1212. 
1213.     def test_makemigrations_empty_migration(self):
1214.         """
1215.         makemigrations properly constructs an empty migration.
1216.         """
1217.         with self.temporary_migration_module() as migration_dir:
1218.             call_command("makemigrations", "migrations", empty=True, verbosity=0)
1219. 
1220.             # Check for existing 0001_initial.py file in migration folder
1221.             initial_file = os.path.join(migration_dir, "0001_initial.py")
1222.             self.assertTrue(os.path.exists(initial_file))
1223. 
1224.             with open(initial_file, encoding='utf-8') as fp:
1225.                 content = fp.read()
1226. 
1227.                 # Remove all whitespace to check for empty dependencies and operations
1228.                 content = content.replace(' ', '')
1229.                 self.assertIn('dependencies=[\n]', content)
1230.                 self.assertIn('operations=[\n]', content)
1231. 
1232.     @override_settings(MIGRATION_MODULES={"migrations": None})
1233.     def test_makemigrations_disabled_migrations_for_app(self):
1234.         """
1235.         makemigrations raises a nice error when migrations are disabled for an
1236.         app.
1237.         """
1238.         msg = (
1239.             "Django can't create migrations for app 'migrations' because migrations "
1240.             "have been disabled via the MIGRATION_MODULES setting."
1241.         )
1242.         with self.assertRaisesMessage(ValueError, msg):
1243.             call_command("makemigrations", "migrations", empty=True, verbosity=0)
1244. 
1245.     def test_makemigrations_no_changes_no_apps(self):
1246.         """
1247.         makemigrations exits when there are no changes and no apps are specified.
1248.         """
1249.         out = io.StringIO()
1250.         call_command("makemigrations", stdout=out)
1251.         self.assertIn("No changes detected", out.getvalue())
1252. 
1253.     def test_makemigrations_no_changes(self):
1254.         """
1255.         makemigrations exits when there are no changes to an app.
1256.         """
1257.         out = io.StringIO()
1258.         with self.temporary_migration_module(module="migrations.test_migrations_no_changes"):
1259.             call_command("makemigrations", "migrations", stdout=out)
1260.         self.assertIn("No changes detected in app 'migrations'", out.getvalue())
1261. 
1262.     def test_makemigrations_no_apps_initial(self):
1263.         """
1264.         makemigrations should detect initial is needed on empty migration
1265.         modules if no app provided.
1266.         """
1267.         out = io.StringIO()
1268.         with self.temporary_migration_module(module="migrations.test_migrations_empty"):
1269.             call_command("makemigrations", stdout=out)
1270.         self.assertIn("0001_initial.py", out.getvalue())
1271. 
1272.     def test_makemigrations_no_init(self):
1273.         """Migration directories without an __init__.py file are allowed."""
1274.         out = io.StringIO()
1275.         with self.temporary_migration_module(module='migrations.test_migrations_no_init'):
1276.             call_command('makemigrations', stdout=out)
1277.         self.assertIn('0001_initial.py', out.getvalue())
1278. 
1279.     def test_makemigrations_migrations_announce(self):
1280.         """
1281.         makemigrations announces the migration at the default verbosity level.
1282.         """
1283.         out = io.StringIO()
1284.         with self.temporary_migration_module():
1285.             call_command("makemigrations", "migrations", stdout=out)
1286.         self.assertIn("Migrations for 'migrations'", out.getvalue())
1287. 
1288.     def test_makemigrations_no_common_ancestor(self):
1289.         """
1290.         makemigrations fails to merge migrations with no common ancestor.
1291.         """
1292.         with self.assertRaises(ValueError) as context:
1293.             with self.temporary_migration_module(module="migrations.test_migrations_no_ancestor"):
1294.                 call_command("makemigrations", "migrations", merge=True)
1295.         exception_message = str(context.exception)
1296.         self.assertIn("Could not find common ancestor of", exception_message)
1297.         self.assertIn("0002_second", exception_message)
1298.         self.assertIn("0002_conflicting_second", exception_message)
1299. 
1300.     def test_makemigrations_interactive_reject(self):
1301.         """
1302.         makemigrations enters and exits interactive mode properly.
1303.         """
1304.         # Monkeypatch interactive questioner to auto reject
1305.         with mock.patch('builtins.input', mock.Mock(return_value='N')):
1306.             with self.temporary_migration_module(module="migrations.test_migrations_conflict") as migration_dir:
1307.                 call_command("makemigrations", "migrations", name="merge", merge=True, interactive=True, verbosity=0)
1308.                 merge_file = os.path.join(migration_dir, '0003_merge.py')
1309.                 self.assertFalse(os.path.exists(merge_file))
1310. 
1311.     def test_makemigrations_interactive_accept(self):
1312.         """
1313.         makemigrations enters interactive mode and merges properly.
1314.         """
1315.         # Monkeypatch interactive questioner to auto accept
1316.         with mock.patch('builtins.input', mock.Mock(return_value='y')):
1317.             out = io.StringIO()
1318.             with self.temporary_migration_module(module="migrations.test_migrations_conflict") as migration_dir:
1319.                 call_command("makemigrations", "migrations", name="merge", merge=True, interactive=True, stdout=out)
1320.                 merge_file = os.path.join(migration_dir, '0003_merge.py')
1321.                 self.assertTrue(os.path.exists(merge_file))
1322.             self.assertIn("Created new merge migration", out.getvalue())
1323. 
1324.     def test_makemigrations_default_merge_name(self):
1325.         out = io.StringIO()
1326.         with self.temporary_migration_module(
1327.             module='migrations.test_migrations_conflict'
1328.         ) as migration_dir:
1329.             call_command('makemigrations', 'migrations', merge=True, interactive=False, stdout=out)
1330.             merge_file = os.path.join(
1331.                 migration_dir,
1332.                 '0003_merge_0002_conflicting_second_0002_second.py',
1333.             )
1334.             self.assertIs(os.path.exists(merge_file), True)
1335.         self.assertIn('Created new merge migration %s' % merge_file, out.getvalue())
1336. 
1337.     @mock.patch('django.db.migrations.utils.datetime')
1338.     def test_makemigrations_auto_merge_name(self, mock_datetime):
1339.         mock_datetime.datetime.now.return_value = datetime.datetime(2016, 1, 2, 3, 4)
1340.         with mock.patch('builtins.input', mock.Mock(return_value='y')):
1341.             out = io.StringIO()
1342.             with self.temporary_migration_module(
1343.                 module='migrations.test_migrations_conflict_long_name'
1344.             ) as migration_dir:
1345.                 call_command("makemigrations", "migrations", merge=True, interactive=True, stdout=out)
1346.                 merge_file = os.path.join(migration_dir, '0003_merge_20160102_0304.py')
1347.                 self.assertTrue(os.path.exists(merge_file))
1348.             self.assertIn("Created new merge migration", out.getvalue())
1349. 
1350.     def test_makemigrations_non_interactive_not_null_addition(self):
1351.         """
1352.         Non-interactive makemigrations fails when a default is missing on a
1353.         new not-null field.
1354.         """
1355.         class SillyModel(models.Model):
1356.             silly_field = models.BooleanField(default=False)
1357.             silly_int = models.IntegerField()
1358. 
1359.             class Meta:
1360.                 app_label = "migrations"
1361. 
1362.         with self.assertRaises(SystemExit):
1363.             with self.temporary_migration_module(module="migrations.test_migrations_no_default"):
1364.                 with captured_stdout() as out:
1365.                     call_command('makemigrations', 'migrations', interactive=False)
1366.         self.assertIn(
1367.             "Field 'silly_int' on model 'sillymodel' not migrated: it is "
1368.             "impossible to add a non-nullable field without specifying a "
1369.             "default.",
1370.             out.getvalue(),
1371.         )
1372. 
1373.     def test_makemigrations_interactive_not_null_addition(self):
1374.         """
1375.         makemigrations messages when adding a NOT NULL field in interactive
1376.         mode.
1377.         """
1378.         class Author(models.Model):
1379.             silly_field = models.BooleanField(null=False)
1380. 
1381.             class Meta:
1382.                 app_label = 'migrations'
1383. 
1384.         input_msg = (
1385.             "It is impossible to add a non-nullable field 'silly_field' to "
1386.             "author without specifying a default. This is because the "
1387.             "database needs something to populate existing rows.\n"
1388.             "Please select a fix:\n"
1389.             " 1) Provide a one-off default now (will be set on all existing "
1390.             "rows with a null value for this column)\n"
1391.             " 2) Quit and manually define a default value in models.py."
1392.         )
1393.         with self.temporary_migration_module(module='migrations.test_migrations'):
1394.             # 2 - quit.
1395.             with mock.patch('builtins.input', return_value='2'):
1396.                 with captured_stdout() as out, self.assertRaises(SystemExit):
1397.                     call_command('makemigrations', 'migrations', interactive=True)
1398.             self.assertIn(input_msg, out.getvalue())
1399.             # 1 - provide a default.
1400.             with mock.patch('builtins.input', return_value='1'):
1401.                 with captured_stdout() as out:
1402.                     call_command('makemigrations', 'migrations', interactive=True)
1403.             output = out.getvalue()
1404.             self.assertIn(input_msg, output)
1405.             self.assertIn('Please enter the default value as valid Python.', output)
1406.             self.assertIn(
1407.                 'The datetime and django.utils.timezone modules are '
1408.                 'available, so it is possible to provide e.g. timezone.now as '
1409.                 'a value',
1410.                 output,
1411.             )
1412.             self.assertIn("Type 'exit' to exit this prompt", output)
1413. 
1414.     def test_makemigrations_non_interactive_not_null_alteration(self):
1415.         """
1416.         Non-interactive makemigrations fails when a default is missing on a
1417.         field changed to not-null.
1418.         """
1419.         class Author(models.Model):
1420.             name = models.CharField(max_length=255)
1421.             slug = models.SlugField()
1422.             age = models.IntegerField(default=0)
1423. 
1424.             class Meta:
1425.                 app_label = "migrations"
1426. 
1427.         with self.temporary_migration_module(module="migrations.test_migrations"):
1428.             with captured_stdout() as out:
1429.                 call_command('makemigrations', 'migrations', interactive=False)
1430.         self.assertIn("Alter field slug on author", out.getvalue())
1431.         self.assertIn(
1432.             "Field 'slug' on model 'author' given a default of NOT PROVIDED "
1433.             "and must be corrected.",
1434.             out.getvalue(),
1435.         )
1436. 
1437.     def test_makemigrations_interactive_not_null_alteration(self):
1438.         """
1439.         makemigrations messages when changing a NULL field to NOT NULL in
1440.         interactive mode.
1441.         """
1442.         class Author(models.Model):
1443.             slug = models.SlugField(null=False)
1444. 
1445.             class Meta:
1446.                 app_label = 'migrations'
1447. 
1448.         input_msg = (
1449.             "It is impossible to change a nullable field 'slug' on author to "
1450.             "non-nullable without providing a default. This is because the "
1451.             "database needs something to populate existing rows.\n"
1452.             "Please select a fix:\n"
1453.             " 1) Provide a one-off default now (will be set on all existing "
1454.             "rows with a null value for this column)\n"
1455.             " 2) Ignore for now. Existing rows that contain NULL values will "
1456.             "have to be handled manually, for example with a RunPython or "
1457.             "RunSQL operation.\n"
1458.             " 3) Quit and manually define a default value in models.py."
1459.         )
1460.         with self.temporary_migration_module(module='migrations.test_migrations'):
1461.             # No message appears if --dry-run.
1462.             with captured_stdout() as out:
1463.                 call_command(
1464.                     'makemigrations', 'migrations', interactive=True, dry_run=True,
1465.                 )
1466.             self.assertNotIn(input_msg, out.getvalue())
1467.             # 3 - quit.
1468.             with mock.patch('builtins.input', return_value='3'):
1469.                 with captured_stdout() as out, self.assertRaises(SystemExit):
1470.                     call_command('makemigrations', 'migrations', interactive=True)
1471.             self.assertIn(input_msg, out.getvalue())
1472.             # 1 - provide a default.
1473.             with mock.patch('builtins.input', return_value='1'):
1474.                 with captured_stdout() as out:
1475.                     call_command('makemigrations', 'migrations', interactive=True)
1476.             output = out.getvalue()
1477.             self.assertIn(input_msg, output)
1478.             self.assertIn('Please enter the default value as valid Python.', output)
1479.             self.assertIn(
1480.                 'The datetime and django.utils.timezone modules are '
1481.                 'available, so it is possible to provide e.g. timezone.now as '
1482.                 'a value',
1483.                 output,
1484.             )
1485.             self.assertIn("Type 'exit' to exit this prompt", output)
1486. 
1487.     def test_makemigrations_non_interactive_no_model_rename(self):
1488.         """
1489.         makemigrations adds and removes a possible model rename in
1490.         non-interactive mode.
1491.         """
1492.         class RenamedModel(models.Model):
1493.             silly_field = models.BooleanField(default=False)
1494. 
1495.             class Meta:
1496.                 app_label = "migrations"
1497. 
1498.         out = io.StringIO()
1499.         with self.temporary_migration_module(module="migrations.test_migrations_no_default"):
1500.             call_command("makemigrations", "migrations", interactive=False, stdout=out)
1501.         self.assertIn("Delete model SillyModel", out.getvalue())
1502.         self.assertIn("Create model RenamedModel", out.getvalue())
1503. 
1504.     def test_makemigrations_non_interactive_no_field_rename(self):
1505.         """
1506.         makemigrations adds and removes a possible field rename in
1507.         non-interactive mode.
1508.         """
1509.         class SillyModel(models.Model):
1510.             silly_rename = models.BooleanField(default=False)
1511. 
1512.             class Meta:
1513.                 app_label = "migrations"
1514. 
1515.         out = io.StringIO()
1516.         with self.temporary_migration_module(module="migrations.test_migrations_no_default"):
1517.             call_command("makemigrations", "migrations", interactive=False, stdout=out)
1518.         self.assertIn("Remove field silly_field from sillymodel", out.getvalue())
1519.         self.assertIn("Add field silly_rename to sillymodel", out.getvalue())
1520. 
1521.     @mock.patch('builtins.input', return_value='Y')
1522.     def test_makemigrations_model_rename_interactive(self, mock_input):
1523.         class RenamedModel(models.Model):
1524.             silly_field = models.BooleanField(default=False)
1525. 
1526.             class Meta:
1527.                 app_label = 'migrations'
1528. 
1529.         with self.temporary_migration_module(
1530.             module='migrations.test_migrations_no_default',
1531.         ):
1532.             with captured_stdout() as out:
1533.                 call_command('makemigrations', 'migrations', interactive=True)
1534.         self.assertIn('Rename model SillyModel to RenamedModel', out.getvalue())
1535. 
1536.     @mock.patch('builtins.input', return_value='Y')
1537.     def test_makemigrations_field_rename_interactive(self, mock_input):
1538.         class SillyModel(models.Model):
1539.             silly_rename = models.BooleanField(default=False)
1540. 
1541.             class Meta:
1542.                 app_label = 'migrations'
1543. 
1544.         with self.temporary_migration_module(
1545.             module='migrations.test_migrations_no_default',
1546.         ):
1547.             with captured_stdout() as out:
1548.                 call_command('makemigrations', 'migrations', interactive=True)
1549.         self.assertIn(
1550.             'Rename field silly_field on sillymodel to silly_rename',
1551.             out.getvalue(),
1552.         )
1553. 
1554.     def test_makemigrations_handle_merge(self):
1555.         """
1556.         makemigrations properly merges the conflicting migrations with --noinput.
1557.         """
1558.         out = io.StringIO()
1559.         with self.temporary_migration_module(module="migrations.test_migrations_conflict") as migration_dir:
1560.             call_command("makemigrations", "migrations", name="merge", merge=True, interactive=False, stdout=out)
1561.             merge_file = os.path.join(migration_dir, '0003_merge.py')
1562.             self.assertTrue(os.path.exists(merge_file))
1563.         output = out.getvalue()
1564.         self.assertIn("Merging migrations", output)
1565.         self.assertIn("Branch 0002_second", output)
1566.         self.assertIn("Branch 0002_conflicting_second", output)
1567.         self.assertIn("Created new merge migration", output)
1568. 
1569.     def test_makemigration_merge_dry_run(self):
1570.         """
1571.         makemigrations respects --dry-run option when fixing migration
1572.         conflicts (#24427).
1573.         """
1574.         out = io.StringIO()
1575.         with self.temporary_migration_module(module="migrations.test_migrations_conflict") as migration_dir:
1576.             call_command(
1577.                 "makemigrations", "migrations", name="merge", dry_run=True,
1578.                 merge=True, interactive=False, stdout=out,
1579.             )
1580.             merge_file = os.path.join(migration_dir, '0003_merge.py')
1581.             self.assertFalse(os.path.exists(merge_file))
1582.         output = out.getvalue()
1583.         self.assertIn("Merging migrations", output)
1584.         self.assertIn("Branch 0002_second", output)
1585.         self.assertIn("Branch 0002_conflicting_second", output)
1586.         self.assertNotIn("Created new merge migration", output)
1587. 
1588.     def test_makemigration_merge_dry_run_verbosity_3(self):
1589.         """
1590.         `makemigrations --merge --dry-run` writes the merge migration file to
1591.         stdout with `verbosity == 3` (#24427).
1592.         """
1593.         out = io.StringIO()
1594.         with self.temporary_migration_module(module="migrations.test_migrations_conflict") as migration_dir:
1595.             call_command(
1596.                 "makemigrations", "migrations", name="merge", dry_run=True,
1597.                 merge=True, interactive=False, stdout=out, verbosity=3,
1598.             )
1599.             merge_file = os.path.join(migration_dir, '0003_merge.py')
1600.             self.assertFalse(os.path.exists(merge_file))
1601.         output = out.getvalue()
1602.         self.assertIn("Merging migrations", output)
1603.         self.assertIn("Branch 0002_second", output)
1604.         self.assertIn("Branch 0002_conflicting_second", output)
1605.         self.assertNotIn("Created new merge migration", output)
1606. 
1607.         # Additional output caused by verbosity 3
1608.         # The complete merge migration file that would be written
1609.         self.assertIn("class Migration(migrations.Migration):", output)
1610.         self.assertIn("dependencies = [", output)
1611.         self.assertIn("('migrations', '0002_second')", output)
1612.         self.assertIn("('migrations', '0002_conflicting_second')", output)
1613.         self.assertIn("operations = [", output)
1614.         self.assertIn("]", output)
1615. 
1616.     def test_makemigrations_dry_run(self):
1617.         """
1618.         `makemigrations --dry-run` should not ask for defaults.
1619.         """
1620.         class SillyModel(models.Model):
1621.             silly_field = models.BooleanField(default=False)
1622.             silly_date = models.DateField()  # Added field without a default
1623.             silly_auto_now = models.DateTimeField(auto_now_add=True)
1624. 
1625.             class Meta:
1626.                 app_label = "migrations"
1627. 
1628.         out = io.StringIO()
1629.         with self.temporary_migration_module(module="migrations.test_migrations_no_default"):
1630.             call_command("makemigrations", "migrations", dry_run=True, stdout=out)
1631.         # Output the expected changes directly, without asking for defaults
1632.         self.assertIn("Add field silly_date to sillymodel", out.getvalue())
1633. 
1634.     def test_makemigrations_dry_run_verbosity_3(self):
1635.         """
1636.         Allow `makemigrations --dry-run` to output the migrations file to
1637.         stdout (with verbosity == 3).
1638.         """
1639.         class SillyModel(models.Model):
1640.             silly_field = models.BooleanField(default=False)
1641.             silly_char = models.CharField(default="")
1642. 
1643.             class Meta:
1644.                 app_label = "migrations"
1645. 
1646.         out = io.StringIO()
1647.         with self.temporary_migration_module(module="migrations.test_migrations_no_default"):
1648.             call_command("makemigrations", "migrations", dry_run=True, stdout=out, verbosity=3)
1649. 
1650.         # Normal --dry-run output
1651.         self.assertIn("- Add field silly_char to sillymodel", out.getvalue())
1652. 
1653.         # Additional output caused by verbosity 3
1654.         # The complete migrations file that would be written
1655.         self.assertIn("class Migration(migrations.Migration):", out.getvalue())
1656.         self.assertIn("dependencies = [", out.getvalue())
1657.         self.assertIn("('migrations', '0001_initial'),", out.getvalue())
1658.         self.assertIn("migrations.AddField(", out.getvalue())
1659.         self.assertIn("model_name='sillymodel',", out.getvalue())
1660.         self.assertIn("name='silly_char',", out.getvalue())
1661. 
1662.     def test_makemigrations_migrations_modules_path_not_exist(self):
1663.         """
1664.         makemigrations creates migrations when specifying a custom location
1665.         for migration files using MIGRATION_MODULES if the custom path
1666.         doesn't already exist.
1667.         """
1668.         class SillyModel(models.Model):
1669.             silly_field = models.BooleanField(default=False)
1670. 
1671.             class Meta:
1672.                 app_label = "migrations"
1673. 
1674.         out = io.StringIO()
1675.         migration_module = "migrations.test_migrations_path_doesnt_exist.foo.bar"
1676.         with self.temporary_migration_module(module=migration_module) as migration_dir:
1677.             call_command("makemigrations", "migrations", stdout=out)
1678. 
1679.             # Migrations file is actually created in the expected path.
1680.             initial_file = os.path.join(migration_dir, "0001_initial.py")
1681.             self.assertTrue(os.path.exists(initial_file))
1682. 
1683.         # Command output indicates the migration is created.
1684.         self.assertIn(" - Create model SillyModel", out.getvalue())
1685. 
1686.     @override_settings(MIGRATION_MODULES={'migrations': 'some.nonexistent.path'})
1687.     def test_makemigrations_migrations_modules_nonexistent_toplevel_package(self):
1688.         msg = (
1689.             'Could not locate an appropriate location to create migrations '
1690.             'package some.nonexistent.path. Make sure the toplevel package '
1691.             'exists and can be imported.'
1692.         )
1693.         with self.assertRaisesMessage(ValueError, msg):
1694.             call_command('makemigrations', 'migrations', empty=True, verbosity=0)
1695. 
1696.     def test_makemigrations_interactive_by_default(self):
1697.         """
1698.         The user is prompted to merge by default if there are conflicts and
1699.         merge is True. Answer negative to differentiate it from behavior when
1700.         --noinput is specified.
1701.         """
1702.         # Monkeypatch interactive questioner to auto reject
1703.         out = io.StringIO()
1704.         with mock.patch('builtins.input', mock.Mock(return_value='N')):
1705.             with self.temporary_migration_module(module="migrations.test_migrations_conflict") as migration_dir:
1706.                 call_command("makemigrations", "migrations", name="merge", merge=True, stdout=out)
1707.                 merge_file = os.path.join(migration_dir, '0003_merge.py')
1708.                 # This will fail if interactive is False by default
1709.                 self.assertFalse(os.path.exists(merge_file))
1710.             self.assertNotIn("Created new merge migration", out.getvalue())
1711. 
1712.     @override_settings(
1713.         INSTALLED_APPS=[
1714.             "migrations",
1715.             "migrations.migrations_test_apps.unspecified_app_with_conflict"])
1716.     def test_makemigrations_unspecified_app_with_conflict_no_merge(self):
1717.         """
1718.         makemigrations does not raise a CommandError when an unspecified app
1719.         has conflicting migrations.
1720.         """
1721.         with self.temporary_migration_module(module="migrations.test_migrations_no_changes"):
1722.             call_command("makemigrations", "migrations", merge=False, verbosity=0)
1723. 
1724.     @override_settings(
1725.         INSTALLED_APPS=[
1726.             "migrations.migrations_test_apps.migrated_app",
1727.             "migrations.migrations_test_apps.unspecified_app_with_conflict"])
1728.     def test_makemigrations_unspecified_app_with_conflict_merge(self):
1729.         """
1730.         makemigrations does not create a merge for an unspecified app even if
1731.         it has conflicting migrations.
1732.         """
1733.         # Monkeypatch interactive questioner to auto accept
1734.         with mock.patch('builtins.input', mock.Mock(return_value='y')):
1735.             out = io.StringIO()
1736.             with self.temporary_migration_module(app_label="migrated_app") as migration_dir:
1737.                 call_command("makemigrations", "migrated_app", name="merge", merge=True, interactive=True, stdout=out)
1738.                 merge_file = os.path.join(migration_dir, '0003_merge.py')
1739.                 self.assertFalse(os.path.exists(merge_file))
1740.             self.assertIn("No conflicts detected to merge.", out.getvalue())
1741. 
1742.     @override_settings(
1743.         INSTALLED_APPS=[
1744.             "migrations.migrations_test_apps.migrated_app",
1745.             "migrations.migrations_test_apps.conflicting_app_with_dependencies"])
1746.     def test_makemigrations_merge_dont_output_dependency_operations(self):
1747.         """
1748.         makemigrations --merge does not output any operations from apps that
1749.         don't belong to a given app.
1750.         """
1751.         # Monkeypatch interactive questioner to auto accept
1752.         with mock.patch('builtins.input', mock.Mock(return_value='N')):
1753.             out = io.StringIO()
1754.             with mock.patch('django.core.management.color.supports_color', lambda *args: False):
1755.                 call_command(
1756.                     "makemigrations", "conflicting_app_with_dependencies",
1757.                     merge=True, interactive=True, stdout=out
1758.                 )
1759.             self.assertEqual(
1760.                 out.getvalue().lower(),
1761.                 'merging conflicting_app_with_dependencies\n'
1762.                 '  branch 0002_conflicting_second\n'
1763.                 '    - create model something\n'
1764.                 '  branch 0002_second\n'
1765.                 '    - delete model tribble\n'
1766.                 '    - remove field silly_field from author\n'
1767.                 '    - add field rating to author\n'
1768.                 '    - create model book\n'
1769.             )
1770. 
1771.     def test_makemigrations_with_custom_name(self):
1772.         """
1773.         makemigrations --name generate a custom migration name.
1774.         """
1775.         with self.temporary_migration_module() as migration_dir:
1776. 
1777.             def cmd(migration_count, migration_name, *args):
1778.                 call_command("makemigrations", "migrations", "--verbosity", "0", "--name", migration_name, *args)
1779.                 migration_file = os.path.join(migration_dir, "%s_%s.py" % (migration_count, migration_name))
1780.                 # Check for existing migration file in migration folder
1781.                 self.assertTrue(os.path.exists(migration_file))
1782.                 with open(migration_file, encoding='utf-8') as fp:
1783.                     content = fp.read()
1784.                     content = content.replace(" ", "")
1785.                 return content
1786. 
1787.             # generate an initial migration
1788.             migration_name_0001 = "my_initial_migration"
1789.             content = cmd("0001", migration_name_0001)
1790.             self.assertIn("dependencies=[\n]", content)
1791. 
1792.             # importlib caches os.listdir() on some platforms like macOS
1793.             # (#23850).
1794.             if hasattr(importlib, 'invalidate_caches'):
1795.                 importlib.invalidate_caches()
1796. 
1797.             # generate an empty migration
1798.             migration_name_0002 = "my_custom_migration"
1799.             content = cmd("0002", migration_name_0002, "--empty")
1800.             self.assertIn("dependencies=[\n('migrations','0001_%s'),\n]" % migration_name_0001, content)
1801.             self.assertIn("operations=[\n]", content)
1802. 
1803.     def test_makemigrations_with_invalid_custom_name(self):
1804.         msg = 'The migration name must be a valid Python identifier.'
1805.         with self.assertRaisesMessage(CommandError, msg):
1806.             call_command('makemigrations', 'migrations', '--name', 'invalid name', '--empty')
1807. 
1808.     def test_makemigrations_check(self):
1809.         """
1810.         makemigrations --check should exit with a non-zero status when
1811.         there are changes to an app requiring migrations.
1812.         """
1813.         with self.temporary_migration_module():
1814.             with self.assertRaises(SystemExit):
1815.                 call_command("makemigrations", "--check", "migrations", verbosity=0)
1816. 
1817.         with self.temporary_migration_module(module="migrations.test_migrations_no_changes"):
1818.             call_command("makemigrations", "--check", "migrations", verbosity=0)
1819. 
1820.     def test_makemigrations_migration_path_output(self):
1821.         """
1822.         makemigrations should print the relative paths to the migrations unless
1823.         they are outside of the current tree, in which case the absolute path
1824.         should be shown.
1825.         """
1826.         out = io.StringIO()
1827.         apps.register_model('migrations', UnicodeModel)
1828.         with self.temporary_migration_module() as migration_dir:
1829.             call_command("makemigrations", "migrations", stdout=out)
1830.             self.assertIn(os.path.join(migration_dir, '0001_initial.py'), out.getvalue())
1831. 
1832.     def test_makemigrations_migration_path_output_valueerror(self):
1833.         """
1834.         makemigrations prints the absolute path if os.path.relpath() raises a
1835.         ValueError when it's impossible to obtain a relative path, e.g. on
1836.         Windows if Django is installed on a different drive than where the
1837.         migration files are created.
1838.         """
1839.         out = io.StringIO()
1840.         with self.temporary_migration_module() as migration_dir:
1841.             with mock.patch('os.path.relpath', side_effect=ValueError):
1842.                 call_command('makemigrations', 'migrations', stdout=out)
1843.         self.assertIn(os.path.join(migration_dir, '0001_initial.py'), out.getvalue())
1844. 
1845.     def test_makemigrations_inconsistent_history(self):
1846.         """
1847.         makemigrations should raise InconsistentMigrationHistory exception if
1848.         there are some migrations applied before their dependencies.
1849.         """
1850.         recorder = MigrationRecorder(connection)
1851.         recorder.record_applied('migrations', '0002_second')
1852.         msg = "Migration migrations.0002_second is applied before its dependency migrations.0001_initial"
1853.         with self.temporary_migration_module(module="migrations.test_migrations"):
1854.             with self.assertRaisesMessage(InconsistentMigrationHistory, msg):
1855.                 call_command("makemigrations")
1856. 
1857.     def test_makemigrations_inconsistent_history_db_failure(self):
1858.         msg = (
1859.             "Got an error checking a consistent migration history performed "
1860.             "for database connection 'default': could not connect to server"
1861.         )
1862.         with mock.patch(
1863.             'django.db.migrations.loader.MigrationLoader.check_consistent_history',
1864.             side_effect=OperationalError('could not connect to server'),
1865.         ):
1866.             with self.temporary_migration_module():
1867.                 with self.assertWarns(RuntimeWarning) as cm:
1868.                     call_command('makemigrations', verbosity=0)
1869.                 self.assertEqual(str(cm.warning), msg)
1870. 
1871.     @mock.patch('builtins.input', return_value='1')
1872.     @mock.patch('django.db.migrations.questioner.sys.stdin', mock.MagicMock(encoding=sys.getdefaultencoding()))
1873.     def test_makemigrations_auto_now_add_interactive(self, *args):
1874.         """
1875.         makemigrations prompts the user when adding auto_now_add to an existing
1876.         model.
1877.         """
1878.         class Entry(models.Model):
1879.             title = models.CharField(max_length=255)
1880.             creation_date = models.DateTimeField(auto_now_add=True)
1881. 
1882.             class Meta:
1883.                 app_label = 'migrations'
1884. 
1885.         input_msg = (
1886.             "It is impossible to add the field 'creation_date' with "
1887.             "'auto_now_add=True' to entry without providing a default. This "
1888.             "is because the database needs something to populate existing "
1889.             "rows.\n\n"
1890.             " 1) Provide a one-off default now which will be set on all "
1891.             "existing rows\n"
1892.             " 2) Quit and manually define a default value in models.py."
1893.         )
1894.         # Monkeypatch interactive questioner to auto accept
1895.         with mock.patch('django.db.migrations.questioner.sys.stdout', new_callable=io.StringIO) as prompt_stdout:
1896.             out = io.StringIO()
1897.             with self.temporary_migration_module(module='migrations.test_auto_now_add'):
1898.                 call_command('makemigrations', 'migrations', interactive=True, stdout=out)
1899.             output = out.getvalue()
1900.             prompt_output = prompt_stdout.getvalue()
1901.             self.assertIn(input_msg, prompt_output)
1902.             self.assertIn(
1903.                 'Please enter the default value as valid Python.',
1904.                 prompt_output,
1905.             )
1906.             self.assertIn(
1907.                 "Accept the default 'timezone.now' by pressing 'Enter' or "
1908.                 "provide another value.",
1909.                 prompt_output,
1910.             )
1911.             self.assertIn("Type 'exit' to exit this prompt", prompt_output)
1912.             self.assertIn("Add field creation_date to entry", output)
1913. 
1914.     @mock.patch('builtins.input', return_value='2')
1915.     def test_makemigrations_auto_now_add_interactive_quit(self, mock_input):
1916.         class Author(models.Model):
1917.             publishing_date = models.DateField(auto_now_add=True)
1918. 
1919.             class Meta:
1920.                 app_label = 'migrations'
1921. 
1922.         with self.temporary_migration_module(module='migrations.test_migrations'):
1923.             with captured_stdout():
1924.                 with self.assertRaises(SystemExit):
1925.                     call_command('makemigrations', 'migrations', interactive=True)
1926. 
1927.     def test_makemigrations_non_interactive_auto_now_add_addition(self):
1928.         """
1929.         Non-interactive makemigrations fails when a default is missing on a
1930.         new field when auto_now_add=True.
1931.         """
1932.         class Entry(models.Model):
1933.             creation_date = models.DateTimeField(auto_now_add=True)
1934. 
1935.             class Meta:
1936.                 app_label = 'migrations'
1937. 
1938.         with self.temporary_migration_module(module='migrations.test_auto_now_add'):
1939.             with self.assertRaises(SystemExit), captured_stdout() as out:
1940.                 call_command('makemigrations', 'migrations', interactive=False)
1941.         self.assertIn(
1942.             "Field 'creation_date' on model 'entry' not migrated: it is "
1943.             "impossible to add a field with 'auto_now_add=True' without "
1944.             "specifying a default.",
1945.             out.getvalue(),
1946.         )
1947. 
1948.     def test_makemigrations_interactive_unique_callable_default_addition(self):
1949.         """
1950.         makemigrations prompts the user when adding a unique field with
1951.         a callable default.
1952.         """
1953.         class Book(models.Model):
1954.             created = models.DateTimeField(unique=True, default=timezone.now)
1955. 
1956.             class Meta:
1957.                 app_label = 'migrations'
1958. 
1959.         version = get_docs_version()
1960.         input_msg = (
1961.             f'Callable default on unique field book.created will not generate '
1962.             f'unique values upon migrating.\n'
1963.             f'Please choose how to proceed:\n\n'
1964.             f' 1) Continue making this migration as the first step in writing '
1965.             f'a manual migration to generate unique values described here: '
1966.             f'https://docs.djangoproject.com/en/{version}/howto/'
1967.             f'writing-migrations/#migrations-that-add-unique-fields.\n'
1968.             f' 2) Quit and edit field options in models.py.\n'
1969.         )
1970.         with self.temporary_migration_module(module='migrations.test_migrations'):
1971.             # 2 - quit.
1972.             with mock.patch('builtins.input', return_value='2'):
1973.                 with captured_stdout() as out, self.assertRaises(SystemExit):
1974.                     call_command('makemigrations', 'migrations', interactive=True)
1975.             out_value = out.getvalue()
1976.             self.assertIn(input_msg, out_value)
1977.             self.assertNotIn('Add field created to book', out_value)
1978.             # 1 - continue.
1979.             with mock.patch('builtins.input', return_value='1'):
1980.                 with captured_stdout() as out:
1981.                     call_command('makemigrations', 'migrations', interactive=True)
1982.             out_value = out.getvalue()
1983.             self.assertIn(input_msg, out_value)
1984.             self.assertIn('Add field created to book', out_value)
1985. 
1986.     def test_makemigrations_non_interactive_unique_callable_default_addition(self):
1987.         class Book(models.Model):
1988.             created = models.DateTimeField(unique=True, default=timezone.now)
1989. 
1990.             class Meta:
1991.                 app_label = 'migrations'
1992. 
1993.         with self.temporary_migration_module(module='migrations.test_migrations'):
1994.             with captured_stdout() as out:
1995.                 call_command('makemigrations', 'migrations', interactive=False)
1996.             out_value = out.getvalue()
1997.             self.assertIn('Add field created to book', out_value)
1998. 
1999.     @override_settings(
2000.         MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'},
2001.     )
2002.     def test_makemigrations_continues_number_sequence_after_squash(self):
2003.         with self.temporary_migration_module(module='migrations.test_migrations_squashed'):
2004.             with captured_stdout() as out:
2005.                 call_command(
2006.                     'makemigrations',
2007.                     'migrations',
2008.                     interactive=False,
2009.                     empty=True,
2010.                 )
2011.             out_value = out.getvalue()
2012.             self.assertIn('0003_auto', out_value)
2013. 
2014. 
2015. class SquashMigrationsTests(MigrationTestBase):
2016.     """
2017.     Tests running the squashmigrations command.
2018.     """
2019. 
2020.     def test_squashmigrations_squashes(self):
2021.         """
2022.         squashmigrations squashes migrations.
2023.         """
2024.         out = io.StringIO()
2025.         with self.temporary_migration_module(module="migrations.test_migrations") as migration_dir:
2026.             call_command('squashmigrations', 'migrations', '0002', interactive=False, stdout=out, no_color=True)
2027. 
2028.             squashed_migration_file = os.path.join(migration_dir, "0001_squashed_0002_second.py")
2029.             self.assertTrue(os.path.exists(squashed_migration_file))
2030.         self.assertEqual(
2031.             out.getvalue(),
2032.             'Will squash the following migrations:\n'
2033.             ' - 0001_initial\n'
2034.             ' - 0002_second\n'
2035.             'Optimizing...\n'
2036.             '  Optimized from 8 operations to 2 operations.\n'
2037.             'Created new squashed migration %s\n'
2038.             '  You should commit this migration but leave the old ones in place;\n'
2039.             '  the new migration will be used for new installs. Once you are sure\n'
2040.             '  all instances of the codebase have applied the migrations you squashed,\n'
2041.             '  you can delete them.\n' % squashed_migration_file
2042.         )
2043. 
2044.     def test_squashmigrations_initial_attribute(self):
2045.         with self.temporary_migration_module(module="migrations.test_migrations") as migration_dir:
2046.             call_command("squashmigrations", "migrations", "0002", interactive=False, verbosity=0)
2047. 
2048.             squashed_migration_file = os.path.join(migration_dir, "0001_squashed_0002_second.py")
2049.             with open(squashed_migration_file, encoding='utf-8') as fp:
2050.                 content = fp.read()
2051.                 self.assertIn("initial = True", content)
2052. 
2053.     def test_squashmigrations_optimizes(self):
2054.         """
2055.         squashmigrations optimizes operations.
2056.         """
2057.         out = io.StringIO()
2058.         with self.temporary_migration_module(module="migrations.test_migrations"):
2059.             call_command("squashmigrations", "migrations", "0002", interactive=False, verbosity=1, stdout=out)
2060.         self.assertIn("Optimized from 8 operations to 2 operations.", out.getvalue())
2061. 
2062.     def test_ticket_23799_squashmigrations_no_optimize(self):
2063.         """
2064.         squashmigrations --no-optimize doesn't optimize operations.
2065.         """
2066.         out = io.StringIO()
2067.         with self.temporary_migration_module(module="migrations.test_migrations"):
2068.             call_command("squashmigrations", "migrations", "0002",
2069.                          interactive=False, verbosity=1, no_optimize=True, stdout=out)
2070.         self.assertIn("Skipping optimization", out.getvalue())
2071. 
2072.     def test_squashmigrations_valid_start(self):
2073.         """
2074.         squashmigrations accepts a starting migration.
2075.         """
2076.         out = io.StringIO()
2077.         with self.temporary_migration_module(module="migrations.test_migrations_no_changes") as migration_dir:
2078.             call_command("squashmigrations", "migrations", "0002", "0003",
2079.                          interactive=False, verbosity=1, stdout=out)
2080. 
2081.             squashed_migration_file = os.path.join(migration_dir, "0002_second_squashed_0003_third.py")
2082.             with open(squashed_migration_file, encoding='utf-8') as fp:
2083.                 content = fp.read()
2084.                 self.assertIn("        ('migrations', '0001_initial')", content)
2085.                 self.assertNotIn("initial = True", content)
2086.         out = out.getvalue()
2087.         self.assertNotIn(" - 0001_initial", out)
2088.         self.assertIn(" - 0002_second", out)
2089.         self.assertIn(" - 0003_third", out)
2090. 
2091.     def test_squashmigrations_invalid_start(self):
2092.         """
2093.         squashmigrations doesn't accept a starting migration after the ending migration.
2094.         """
2095.         with self.temporary_migration_module(module="migrations.test_migrations_no_changes"):
2096.             msg = (
2097.                 "The migration 'migrations.0003_third' cannot be found. Maybe "
2098.                 "it comes after the migration 'migrations.0002_second'"
2099.             )
2100.             with self.assertRaisesMessage(CommandError, msg):
2101.                 call_command("squashmigrations", "migrations", "0003", "0002", interactive=False, verbosity=0)
2102. 
2103.     def test_squashed_name_with_start_migration_name(self):
2104.         """--squashed-name specifies the new migration's name."""
2105.         squashed_name = 'squashed_name'
2106.         with self.temporary_migration_module(module='migrations.test_migrations') as migration_dir:
2107.             call_command(
2108.                 'squashmigrations', 'migrations', '0001', '0002',
2109.                 squashed_name=squashed_name, interactive=False, verbosity=0,
2110.             )
2111.             squashed_migration_file = os.path.join(migration_dir, '0001_%s.py' % squashed_name)
2112.             self.assertTrue(os.path.exists(squashed_migration_file))
2113. 
2114.     def test_squashed_name_without_start_migration_name(self):
2115.         """--squashed-name also works if a start migration is omitted."""
2116.         squashed_name = 'squashed_name'
2117.         with self.temporary_migration_module(module="migrations.test_migrations") as migration_dir:
2118.             call_command(
2119.                 'squashmigrations', 'migrations', '0001',
2120.                 squashed_name=squashed_name, interactive=False, verbosity=0,
2121.             )
2122.             squashed_migration_file = os.path.join(migration_dir, '0001_%s.py' % squashed_name)
2123.             self.assertTrue(os.path.exists(squashed_migration_file))
2124. 
2125.     def test_squashed_name_exists(self):
2126.         msg = 'Migration 0001_initial already exists. Use a different name.'
2127.         with self.temporary_migration_module(module='migrations.test_migrations'):
2128.             with self.assertRaisesMessage(CommandError, msg):
2129.                 call_command(
2130.                     'squashmigrations', 'migrations', '0001', '0002',
2131.                     squashed_name='initial', interactive=False, verbosity=0,
2132.                 )
2133. 
2134.     def test_squashmigrations_manual_porting(self):
2135.         out = io.StringIO()
2136.         with self.temporary_migration_module(
2137.             module='migrations.test_migrations_manual_porting',
2138.         ) as migration_dir:
2139.             call_command(
2140.                 'squashmigrations',
2141.                 'migrations',
2142.                 '0002',
2143.                 interactive=False,
2144.                 stdout=out,
2145.                 no_color=True,
2146.             )
2147.             squashed_migration_file = os.path.join(
2148.                 migration_dir,
2149.                 '0001_squashed_0002_second.py',
2150.             )
2151.             self.assertTrue(os.path.exists(squashed_migration_file))
2152.         self.assertEqual(
2153.             out.getvalue(),
2154.             f'Will squash the following migrations:\n'
2155.             f' - 0001_initial\n'
2156.             f' - 0002_second\n'
2157.             f'Optimizing...\n'
2158.             f'  No optimizations possible.\n'
2159.             f'Created new squashed migration {squashed_migration_file}\n'
2160.             f'  You should commit this migration but leave the old ones in place;\n'
2161.             f'  the new migration will be used for new installs. Once you are sure\n'
2162.             f'  all instances of the codebase have applied the migrations you squashed,\n'
2163.             f'  you can delete them.\n'
2164.             f'Manual porting required\n'
2165.             f'  Your migrations contained functions that must be manually copied over,\n'
2166.             f'  as we could not safely copy their implementation.\n'
2167.             f'  See the comment at the top of the squashed migration for details.\n'
2168.         )
2169. 
2170. 
2171. class AppLabelErrorTests(TestCase):
2172.     """
2173.     This class inherits TestCase because MigrationTestBase uses
2174.     `available_apps = ['migrations']` which means that it's the only installed
2175.     app. 'django.contrib.auth' must be in INSTALLED_APPS for some of these
2176.     tests.
2177.     """
2178.     nonexistent_app_error = "No installed app with label 'nonexistent_app'."
2179.     did_you_mean_auth_error = (
2180.         "No installed app with label 'django.contrib.auth'. Did you mean "
2181.         "'auth'?"
2182.     )
2183. 
2184.     def test_makemigrations_nonexistent_app_label(self):
2185.         err = io.StringIO()
2186.         with self.assertRaises(SystemExit):
2187.             call_command('makemigrations', 'nonexistent_app', stderr=err)
2188.         self.assertIn(self.nonexistent_app_error, err.getvalue())
2189. 
2190.     def test_makemigrations_app_name_specified_as_label(self):
2191.         err = io.StringIO()
2192.         with self.assertRaises(SystemExit):
2193.             call_command('makemigrations', 'django.contrib.auth', stderr=err)
2194.         self.assertIn(self.did_you_mean_auth_error, err.getvalue())
2195. 
2196.     def test_migrate_nonexistent_app_label(self):
2197.         with self.assertRaisesMessage(CommandError, self.nonexistent_app_error):
2198.             call_command('migrate', 'nonexistent_app')
2199. 
2200.     def test_migrate_app_name_specified_as_label(self):
2201.         with self.assertRaisesMessage(CommandError, self.did_you_mean_auth_error):
2202.             call_command('migrate', 'django.contrib.auth')
2203. 
2204.     def test_showmigrations_nonexistent_app_label(self):
2205.         err = io.StringIO()
2206.         with self.assertRaises(SystemExit):
2207.             call_command('showmigrations', 'nonexistent_app', stderr=err)
2208.         self.assertIn(self.nonexistent_app_error, err.getvalue())
2209. 
2210.     def test_showmigrations_app_name_specified_as_label(self):
2211.         err = io.StringIO()
2212.         with self.assertRaises(SystemExit):
2213.             call_command('showmigrations', 'django.contrib.auth', stderr=err)
2214.         self.assertIn(self.did_you_mean_auth_error, err.getvalue())
2215. 
2216.     def test_sqlmigrate_nonexistent_app_label(self):
2217.         with self.assertRaisesMessage(CommandError, self.nonexistent_app_error):
2218.             call_command('sqlmigrate', 'nonexistent_app', '0002')
2219. 
2220.     def test_sqlmigrate_app_name_specified_as_label(self):
2221.         with self.assertRaisesMessage(CommandError, self.did_you_mean_auth_error):
2222.             call_command('sqlmigrate', 'django.contrib.auth', '0002')
2223. 
2224.     def test_squashmigrations_nonexistent_app_label(self):
2225.         with self.assertRaisesMessage(CommandError, self.nonexistent_app_error):
2226.             call_command('squashmigrations', 'nonexistent_app', '0002')
2227. 
2228.     def test_squashmigrations_app_name_specified_as_label(self):
2229.         with self.assertRaisesMessage(CommandError, self.did_you_mean_auth_error):
2230.             call_command('squashmigrations', 'django.contrib.auth', '0002')

--- END CONTEXT ---

REMEMBER: Your task is to summarize the relevant contexts to the given query and return it in the specified format!

2025-12-25 01:26:36,652 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_extraction_node - DEBUG - Model response: context=[ContextOutput(reasoning='The user requested the full content of `tests/migrations/test_commands.py`. The provided context contains the entire file content from line 1 to 2230.', relative_path='tests/migrations/test_commands.py', start_line=1, end_line=2230)]
2025-12-25 01:26:36,657 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 1 contexts to memory for query: Please provide the full content of `tests/migrations/test_commands.py`.
2025-12-25 01:26:36,657 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_storage_node - ERROR - Failed to store to memory: Athena memory client is not configured.
2025-12-25 01:26:36,657 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Successfully stored contexts to memory
2025-12-25 01:26:36,657 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - Adding 1 new contexts to 3 existing contexts
2025-12-25 01:26:36,657 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - After deduplication: 4 total contexts (removed 0 duplicates)
2025-12-25 01:26:36,659 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - This is the codebase structure:
--- BEGIN FILE TREE ---
django
├── .github
|   ├── CODE_OF_CONDUCT.md
|   ├── FUNDING.yml
|   ├── SECURITY.md
|   └── workflows
|       ├── docs.yml
|       ├── linters.yml
|       ├── new_contributor_pr.yml
|       └── tests.yml
├── .pre-commit-config.yaml
├── .readthedocs.yml
├── .tx
├── CONTRIBUTING.rst
├── Gruntfile.js
├── README.rst
├── django
|   ├── __init__.py
|   ├── __main__.py
|   ├── apps
|   |   ├── __init__.py
|   |   ├── config.py
|   |   └── registry.py
|   ├── conf
|   |   ├── __init__.py
|   |   ├── app_template
|   |   |   └── migrations
|   |   ├── global_settings.py
|   |   ├── locale
|   |   |   ├── __init__.py
|   |   |   ├── af
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ar
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ar_DZ
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ast
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── az
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── be
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── bn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── br
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── bs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ca
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cs
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── cy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── da
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── de_CH
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── dsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── el
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_AU
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── en_GB
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eo
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_AR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_CO
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_MX
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_NI
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_PR
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── es_VE
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── et
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── eu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fa
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── fy
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ga
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gd
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── gl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── he
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hsb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── hu
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── hy
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ia
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── id
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ig
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── io
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── is
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── it
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ja
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ka
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kab
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── kk
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── km
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── kn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ko
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ky
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lb
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── lt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── lv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ml
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── mr
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ms
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── my
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nb
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ne
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── nl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── nn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── os
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pa
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── pl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── pt_BR
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ro
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ru
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sl
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sq
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sr_Latn
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sv
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── sw
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── ta
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── te
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tg
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── th
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tr
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── tt
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── udm
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uk
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── ur
|   |   |   |   └── LC_MESSAGES
|   |   |   ├── uz
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── vi
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   ├── zh_Hans
|   |   |   |   ├── LC_MESSAGES
|   |   |   |   ├── __init__.py
|   |   |   |   └── formats.py
|   |   |   └── zh_Hant
|   |   |       ├── LC_MESSAGES
|   |   |       ├── __init__.py
|   |   |       └── formats.py
|   |   ├── project_template
|   |   |   └── project_name
|   |   └── urls
|   |       ├── __init__.py
|   |       ├── i18n.py
|   |       └── static.py
|   ├── contrib
|   |   ├── __init__.py
|   |   ├── admin
|   |   |   ├── __init__.py
|   |   |   ├── actions.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── decorators.py
|   |   |   ├── exceptions.py
|   |   |   ├── filters.py
|   |   |   ├── forms.py
|   |   |   ├── helpers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── am
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_logentry_remove_auto_add.py
|   |   |   |   ├── 0003_logentry_add_action_flag_choices.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── options.py
|   |   |   ├── sites.py
|   |   |   ├── static
|   |   |   |   └── admin
|   |   |   ├── templates
|   |   |   |   ├── admin
|   |   |   |   └── registration
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   ├── admin_list.py
|   |   |   |   ├── admin_modify.py
|   |   |   |   ├── admin_urls.py
|   |   |   |   ├── base.py
|   |   |   |   └── log.py
|   |   |   ├── tests.py
|   |   |   ├── utils.py
|   |   |   ├── views
|   |   |   |   ├── __init__.py
|   |   |   |   ├── autocomplete.py
|   |   |   |   ├── decorators.py
|   |   |   |   └── main.py
|   |   |   └── widgets.py
|   |   ├── admindocs
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── templates
|   |   |   |   └── admin_doc
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── auth
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── backends.py
|   |   |   ├── base_user.py
|   |   |   ├── checks.py
|   |   |   ├── context_processors.py
|   |   |   ├── decorators.py
|   |   |   ├── forms.py
|   |   |   ├── handlers
|   |   |   |   ├── __init__.py
|   |   |   |   └── modwsgi.py
|   |   |   ├── hashers.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_permission_name_max_length.py
|   |   |   |   ├── 0003_alter_user_email_max_length.py
|   |   |   |   ├── 0004_alter_user_username_opts.py
|   |   |   |   ├── 0005_alter_user_last_login_null.py
|   |   |   |   ├── 0006_require_contenttypes_0002.py
|   |   |   |   ├── 0007_alter_validators_add_error_messages.py
|   |   |   |   ├── 0008_alter_user_username_max_length.py
|   |   |   |   ├── 0009_alter_user_last_name_max_length.py
|   |   |   |   ├── 0010_alter_group_name_max_length.py
|   |   |   |   ├── 0011_update_proxy_permissions.py
|   |   |   |   ├── 0012_alter_user_first_name_max_length.py
|   |   |   |   └── __init__.py
|   |   |   ├── mixins.py
|   |   |   ├── models.py
|   |   |   ├── password_validation.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   ├── auth
|   |   |   |   └── registration
|   |   |   ├── tokens.py
|   |   |   ├── urls.py
|   |   |   ├── validators.py
|   |   |   └── views.py
|   |   ├── contenttypes
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── fields.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_remove_content_type_name.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── views.py
|   |   ├── flatpages
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── forms.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── sitemaps.py
|   |   |   ├── templatetags
|   |   |   |   ├── __init__.py
|   |   |   |   └── flatpages.py
|   |   |   ├── urls.py
|   |   |   └── views.py
|   |   ├── gis
|   |   |   ├── __init__.py
|   |   |   ├── admin
|   |   |   |   ├── __init__.py
|   |   |   |   ├── options.py
|   |   |   |   └── widgets.py
|   |   |   ├── apps.py
|   |   |   ├── db
|   |   |   |   ├── __init__.py
|   |   |   |   ├── backends
|   |   |   |   └── models
|   |   |   ├── feeds.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── fields.py
|   |   |   |   └── widgets.py
|   |   |   ├── gdal
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── datasource.py
|   |   |   |   ├── driver.py
|   |   |   |   ├── envelope.py
|   |   |   |   ├── error.py
|   |   |   |   ├── feature.py
|   |   |   |   ├── field.py
|   |   |   |   ├── geometries.py
|   |   |   |   ├── geomtype.py
|   |   |   |   ├── layer.py
|   |   |   |   ├── libgdal.py
|   |   |   |   ├── prototypes
|   |   |   |   ├── raster
|   |   |   |   └── srs.py
|   |   |   ├── geoip2
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── resources.py
|   |   |   ├── geometry.py
|   |   |   ├── geos
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── collections.py
|   |   |   |   ├── coordseq.py
|   |   |   |   ├── error.py
|   |   |   |   ├── factory.py
|   |   |   |   ├── geometry.py
|   |   |   |   ├── io.py
|   |   |   |   ├── libgeos.py
|   |   |   |   ├── linestring.py
|   |   |   |   ├── mutable_list.py
|   |   |   |   ├── point.py
|   |   |   |   ├── polygon.py
|   |   |   |   ├── prepared.py
|   |   |   |   └── prototypes
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── measure.py
|   |   |   ├── ptr.py
|   |   |   ├── serializers
|   |   |   |   ├── __init__.py
|   |   |   |   └── geojson.py
|   |   |   ├── shortcuts.py
|   |   |   ├── sitemaps
|   |   |   |   ├── __init__.py
|   |   |   |   ├── kml.py
|   |   |   |   └── views.py
|   |   |   ├── static
|   |   |   |   └── gis
|   |   |   ├── templates
|   |   |   |   └── gis
|   |   |   ├── utils
|   |   |   |   ├── __init__.py
|   |   |   |   ├── layermapping.py
|   |   |   |   ├── ogrinfo.py
|   |   |   |   ├── ogrinspect.py
|   |   |   |   └── srs.py
|   |   |   └── views.py
|   |   ├── humanize
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   └── templatetags
|   |   |       ├── __init__.py
|   |   |       └── humanize.py
|   |   ├── messages
|   |   |   ├── __init__.py
|   |   |   ├── api.py
|   |   |   ├── apps.py
|   |   |   ├── constants.py
|   |   |   ├── context_processors.py
|   |   |   ├── middleware.py
|   |   |   ├── storage
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cookie.py
|   |   |   |   ├── fallback.py
|   |   |   |   └── session.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   ├── postgres
|   |   |   ├── __init__.py
|   |   |   ├── aggregates
|   |   |   |   ├── __init__.py
|   |   |   |   ├── general.py
|   |   |   |   ├── mixins.py
|   |   |   |   └── statistics.py
|   |   |   ├── apps.py
|   |   |   ├── constraints.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── citext.py
|   |   |   |   ├── hstore.py
|   |   |   |   ├── jsonb.py
|   |   |   |   ├── ranges.py
|   |   |   |   └── utils.py
|   |   |   ├── forms
|   |   |   |   ├── __init__.py
|   |   |   |   ├── array.py
|   |   |   |   ├── hstore.py
|   |   |   |   └── ranges.py
|   |   |   ├── functions.py
|   |   |   ├── indexes.py
|   |   |   ├── jinja2
|   |   |   |   └── postgres
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kk
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── ms
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── tg
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── uk
|   |   |   |   ├── uz
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── lookups.py
|   |   |   ├── operations.py
|   |   |   ├── search.py
|   |   |   ├── serializers.py
|   |   |   ├── signals.py
|   |   |   ├── templates
|   |   |   |   └── postgres
|   |   |   ├── utils.py
|   |   |   └── validators.py
|   |   ├── redirects
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_redirect_new_path_help_text.py
|   |   |   |   └── __init__.py
|   |   |   └── models.py
|   |   ├── sessions
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── cache.py
|   |   |   |   ├── cached_db.py
|   |   |   |   ├── db.py
|   |   |   |   ├── file.py
|   |   |   |   └── signed_cookies.py
|   |   |   ├── base_session.py
|   |   |   ├── exceptions.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   └── serializers.py
|   |   ├── sitemaps
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── templates
|   |   |   |   ├── sitemap.xml
|   |   |   |   └── sitemap_index.xml
|   |   |   └── views.py
|   |   ├── sites
|   |   |   ├── __init__.py
|   |   |   ├── admin.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── locale
|   |   |   |   ├── af
|   |   |   |   ├── ar
|   |   |   |   ├── ar_DZ
|   |   |   |   ├── ast
|   |   |   |   ├── az
|   |   |   |   ├── be
|   |   |   |   ├── bg
|   |   |   |   ├── bn
|   |   |   |   ├── br
|   |   |   |   ├── bs
|   |   |   |   ├── ca
|   |   |   |   ├── cs
|   |   |   |   ├── cy
|   |   |   |   ├── da
|   |   |   |   ├── de
|   |   |   |   ├── dsb
|   |   |   |   ├── el
|   |   |   |   ├── en
|   |   |   |   ├── en_AU
|   |   |   |   ├── en_GB
|   |   |   |   ├── eo
|   |   |   |   ├── es
|   |   |   |   ├── es_AR
|   |   |   |   ├── es_CO
|   |   |   |   ├── es_MX
|   |   |   |   ├── es_VE
|   |   |   |   ├── et
|   |   |   |   ├── eu
|   |   |   |   ├── fa
|   |   |   |   ├── fi
|   |   |   |   ├── fr
|   |   |   |   ├── fy
|   |   |   |   ├── ga
|   |   |   |   ├── gd
|   |   |   |   ├── gl
|   |   |   |   ├── he
|   |   |   |   ├── hi
|   |   |   |   ├── hr
|   |   |   |   ├── hsb
|   |   |   |   ├── hu
|   |   |   |   ├── hy
|   |   |   |   ├── ia
|   |   |   |   ├── id
|   |   |   |   ├── io
|   |   |   |   ├── is
|   |   |   |   ├── it
|   |   |   |   ├── ja
|   |   |   |   ├── ka
|   |   |   |   ├── kab
|   |   |   |   ├── kk
|   |   |   |   ├── km
|   |   |   |   ├── kn
|   |   |   |   ├── ko
|   |   |   |   ├── ky
|   |   |   |   ├── lb
|   |   |   |   ├── lt
|   |   |   |   ├── lv
|   |   |   |   ├── mk
|   |   |   |   ├── ml
|   |   |   |   ├── mn
|   |   |   |   ├── mr
|   |   |   |   ├── ms
|   |   |   |   ├── my
|   |   |   |   ├── nb
|   |   |   |   ├── ne
|   |   |   |   ├── nl
|   |   |   |   ├── nn
|   |   |   |   ├── os
|   |   |   |   ├── pa
|   |   |   |   ├── pl
|   |   |   |   ├── pt
|   |   |   |   ├── pt_BR
|   |   |   |   ├── ro
|   |   |   |   ├── ru
|   |   |   |   ├── sk
|   |   |   |   ├── sl
|   |   |   |   ├── sq
|   |   |   |   ├── sr
|   |   |   |   ├── sr_Latn
|   |   |   |   ├── sv
|   |   |   |   ├── sw
|   |   |   |   ├── ta
|   |   |   |   ├── te
|   |   |   |   ├── tg
|   |   |   |   ├── th
|   |   |   |   ├── tk
|   |   |   |   ├── tr
|   |   |   |   ├── tt
|   |   |   |   ├── udm
|   |   |   |   ├── uk
|   |   |   |   ├── ur
|   |   |   |   ├── uz
|   |   |   |   ├── vi
|   |   |   |   ├── zh_Hans
|   |   |   |   └── zh_Hant
|   |   |   ├── management.py
|   |   |   ├── managers.py
|   |   |   ├── middleware.py
|   |   |   ├── migrations
|   |   |   |   ├── 0001_initial.py
|   |   |   |   ├── 0002_alter_domain_unique.py
|   |   |   |   └── __init__.py
|   |   |   ├── models.py
|   |   |   ├── requests.py
|   |   |   └── shortcuts.py
|   |   ├── staticfiles
|   |   |   ├── __init__.py
|   |   |   ├── apps.py
|   |   |   ├── checks.py
|   |   |   ├── finders.py
|   |   |   ├── handlers.py
|   |   |   ├── management
|   |   |   |   ├── __init__.py
|   |   |   |   └── commands
|   |   |   ├── storage.py
|   |   |   ├── testing.py
|   |   |   ├── urls.py
|   |   |   ├── utils.py
|   |   |   └── views.py
|   |   └── syndication
|   |       ├── __init__.py
|   |       ├── apps.py
|   |       └── views.py
|   ├── core
|   |   ├── __init__.py
|   |   ├── asgi.py
|   |   ├── cache
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── db.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   ├── memcached.py
|   |   |   |   └── redis.py
|   |   |   └── utils.py
|   |   ├── checks
|   |   |   ├── __init__.py
|   |   |   ├── async_checks.py
|   |   |   ├── caches.py
|   |   |   ├── compatibility
|   |   |   |   ├── __init__.py
|   |   |   |   └── django_4_0.py
|   |   |   ├── database.py
|   |   |   ├── files.py
|   |   |   ├── messages.py
|   |   |   ├── model_checks.py
|   |   |   ├── registry.py
|   |   |   ├── security
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── csrf.py
|   |   |   |   └── sessions.py
|   |   |   ├── templates.py
|   |   |   ├── translation.py
|   |   |   └── urls.py
|   |   ├── exceptions.py
|   |   ├── files
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── images.py
|   |   |   ├── locks.py
|   |   |   ├── move.py
|   |   |   ├── storage.py
|   |   |   ├── temp.py
|   |   |   ├── uploadedfile.py
|   |   |   ├── uploadhandler.py
|   |   |   └── utils.py
|   |   ├── handlers
|   |   |   ├── __init__.py
|   |   |   ├── asgi.py
|   |   |   ├── base.py
|   |   |   ├── exception.py
|   |   |   └── wsgi.py
|   |   ├── mail
|   |   |   ├── __init__.py
|   |   |   ├── backends
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── console.py
|   |   |   |   ├── dummy.py
|   |   |   |   ├── filebased.py
|   |   |   |   ├── locmem.py
|   |   |   |   └── smtp.py
|   |   |   ├── message.py
|   |   |   └── utils.py
|   |   ├── management
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── color.py
|   |   |   ├── commands
|   |   |   |   ├── __init__.py
|   |   |   |   ├── check.py
|   |   |   |   ├── compilemessages.py
|   |   |   |   ├── createcachetable.py
|   |   |   |   ├── dbshell.py
|   |   |   |   ├── diffsettings.py
|   |   |   |   ├── dumpdata.py
|   |   |   |   ├── flush.py
|   |   |   |   ├── inspectdb.py
|   |   |   |   ├── loaddata.py
|   |   |   |   ├── makemessages.py
|   |   |   |   ├── makemigrations.py
|   |   |   |   ├── migrate.py
|   |   |   |   ├── runserver.py
|   |   |   |   ├── sendtestemail.py
|   |   |   |   ├── shell.py
|   |   |   |   ├── showmigrations.py
|   |   |   |   ├── sqlflush.py
|   |   |   |   ├── sqlmigrate.py
|   |   |   |   ├── sqlsequencereset.py
|   |   |   |   ├── squashmigrations.py
|   |   |   |   ├── startapp.py
|   |   |   |   ├── startproject.py
|   |   |   |   ├── test.py
|   |   |   |   └── testserver.py
|   |   |   ├── sql.py
|   |   |   ├── templates.py
|   |   |   └── utils.py
|   |   ├── paginator.py
|   |   ├── serializers
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── json.py
|   |   |   ├── jsonl.py
|   |   |   ├── python.py
|   |   |   ├── pyyaml.py
|   |   |   └── xml_serializer.py
|   |   ├── servers
|   |   |   ├── __init__.py
|   |   |   └── basehttp.py
|   |   ├── signals.py
|   |   ├── signing.py
|   |   ├── validators.py
|   |   └── wsgi.py
|   ├── db
|   |   ├── __init__.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── ddl_references.py
|   |   |   ├── dummy
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   └── features.py
|   |   |   ├── mysql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   └── validation.py
|   |   |   ├── oracle
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── functions.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   ├── schema.py
|   |   |   |   ├── utils.py
|   |   |   |   └── validation.py
|   |   |   ├── postgresql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   ├── signals.py
|   |   |   ├── sqlite3
|   |   |   |   ├── __init__.py
|   |   |   |   ├── _functions.py
|   |   |   |   ├── base.py
|   |   |   |   ├── client.py
|   |   |   |   ├── creation.py
|   |   |   |   ├── features.py
|   |   |   |   ├── introspection.py
|   |   |   |   ├── operations.py
|   |   |   |   └── schema.py
|   |   |   └── utils.py
|   |   ├── migrations
|   |   |   ├── __init__.py
|   |   |   ├── autodetector.py
|   |   |   ├── exceptions.py
|   |   |   ├── executor.py
|   |   |   ├── graph.py
|   |   |   ├── loader.py
|   |   |   ├── migration.py
|   |   |   ├── operations
|   |   |   |   ├── __init__.py
|   |   |   |   ├── base.py
|   |   |   |   ├── fields.py
|   |   |   |   ├── models.py
|   |   |   |   └── special.py
|   |   |   ├── optimizer.py
|   |   |   ├── questioner.py
|   |   |   ├── recorder.py
|   |   |   ├── serializer.py
|   |   |   ├── state.py
|   |   |   ├── utils.py
|   |   |   └── writer.py
|   |   ├── models
|   |   |   ├── __init__.py
|   |   |   ├── aggregates.py
|   |   |   ├── base.py
|   |   |   ├── constants.py
|   |   |   ├── constraints.py
|   |   |   ├── deletion.py
|   |   |   ├── enums.py
|   |   |   ├── expressions.py
|   |   |   ├── fields
|   |   |   |   ├── __init__.py
|   |   |   |   ├── files.py
|   |   |   |   ├── json.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── proxy.py
|   |   |   |   ├── related.py
|   |   |   |   ├── related_descriptors.py
|   |   |   |   ├── related_lookups.py
|   |   |   |   └── reverse_related.py
|   |   |   ├── functions
|   |   |   |   ├── __init__.py
|   |   |   |   ├── comparison.py
|   |   |   |   ├── datetime.py
|   |   |   |   ├── math.py
|   |   |   |   ├── mixins.py
|   |   |   |   ├── text.py
|   |   |   |   └── window.py
|   |   |   ├── indexes.py
|   |   |   ├── lookups.py
|   |   |   ├── manager.py
|   |   |   ├── options.py
|   |   |   ├── query.py
|   |   |   ├── query_utils.py
|   |   |   ├── signals.py
|   |   |   ├── sql
|   |   |   |   ├── __init__.py
|   |   |   |   ├── compiler.py
|   |   |   |   ├── constants.py
|   |   |   |   ├── datastructures.py
|   |   |   |   ├── query.py
|   |   |   |   ├── subqueries.py
|   |   |   |   └── where.py
|   |   |   └── utils.py
|   |   ├── transaction.py
|   |   └── utils.py
|   ├── dispatch
|   |   ├── __init__.py
|   |   ├── dispatcher.py
|   |   └── license.txt
|   ├── forms
|   |   ├── __init__.py
|   |   ├── boundfield.py
|   |   ├── fields.py
|   |   ├── forms.py
|   |   ├── formsets.py
|   |   ├── jinja2
|   |   |   └── django
|   |   |       └── forms
|   |   ├── models.py
|   |   ├── renderers.py
|   |   ├── templates
|   |   |   └── django
|   |   |       └── forms
|   |   ├── utils.py
|   |   └── widgets.py
|   ├── http
|   |   ├── __init__.py
|   |   ├── cookie.py
|   |   ├── multipartparser.py
|   |   ├── request.py
|   |   └── response.py
|   ├── middleware
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── clickjacking.py
|   |   ├── common.py
|   |   ├── csrf.py
|   |   ├── gzip.py
|   |   ├── http.py
|   |   ├── locale.py
|   |   └── security.py
|   ├── shortcuts.py
|   ├── template
|   |   ├── __init__.py
|   |   ├── autoreload.py
|   |   ├── backends
|   |   |   ├── __init__.py
|   |   |   ├── base.py
|   |   |   ├── django.py
|   |   |   ├── dummy.py
|   |   |   ├── jinja2.py
|   |   |   └── utils.py
|   |   ├── base.py
|   |   ├── context.py
|   |   ├── context_processors.py
|   |   ├── defaultfilters.py
|   |   ├── defaulttags.py
|   |   ├── engine.py
|   |   ├── exceptions.py
|   |   ├── library.py
|   |   ├── loader.py
|   |   ├── loader_tags.py
|   |   ├── loaders
|   |   |   ├── __init__.py
|   |   |   ├── app_directories.py
|   |   |   ├── base.py
|   |   |   ├── cached.py
|   |   |   ├── filesystem.py
|   |   |   └── locmem.py
|   |   ├── response.py
|   |   ├── smartif.py
|   |   └── utils.py
|   ├── templatetags
|   |   ├── __init__.py
|   |   ├── cache.py
|   |   ├── i18n.py
|   |   ├── l10n.py
|   |   ├── static.py
|   |   └── tz.py
|   ├── test
|   |   ├── __init__.py
|   |   ├── client.py
|   |   ├── html.py
|   |   ├── runner.py
|   |   ├── selenium.py
|   |   ├── signals.py
|   |   ├── testcases.py
|   |   └── utils.py
|   ├── urls
|   |   ├── __init__.py
|   |   ├── base.py
|   |   ├── conf.py
|   |   ├── converters.py
|   |   ├── exceptions.py
|   |   ├── resolvers.py
|   |   └── utils.py
|   ├── utils
|   |   ├── __init__.py
|   |   ├── _os.py
|   |   ├── archive.py
|   |   ├── asyncio.py
|   |   ├── autoreload.py
|   |   ├── baseconv.py
|   |   ├── cache.py
|   |   ├── connection.py
|   |   ├── crypto.py
|   |   ├── datastructures.py
|   |   ├── dateformat.py
|   |   ├── dateparse.py
|   |   ├── dates.py
|   |   ├── datetime_safe.py
|   |   ├── deconstruct.py
|   |   ├── decorators.py
|   |   ├── deprecation.py
|   |   ├── duration.py
|   |   ├── encoding.py
|   |   ├── feedgenerator.py
|   |   ├── formats.py
|   |   ├── functional.py
|   |   ├── hashable.py
|   |   ├── html.py
|   |   ├── http.py
|   |   ├── inspect.py
|   |   ├── ipv6.py
|   |   ├── itercompat.py
|   |   ├── jslex.py
|   |   ├── log.py
|   |   ├── lorem_ipsum.py
|   |   ├── module_loading.py
|   |   ├── numberformat.py
|   |   ├── regex_helper.py
|   |   ├── safestring.py
|   |   ├── termcolors.py
|   |   ├── text.py
|   |   ├── timesince.py
|   |   ├── timezone.py
|   |   ├── topological_sort.py
|   |   ├── translation
|   |   |   ├── __init__.py
|   |   |   ├── reloader.py
|   |   |   ├── template.py
|   |   |   ├── trans_null.py
|   |   |   └── trans_real.py
|   |   ├── tree.py
|   |   ├── version.py
|   |   └── xmlutils.py
|   └── views
|       ├── __init__.py
|       ├── csrf.py
|       ├── debug.py
|       ├── decorators
|       |   ├── __init__.py
|       |   ├── cache.py
|       |   ├── clickjacking.py
|       |   ├── common.py
|       |   ├── csrf.py
|       |   ├── debug.py
|       |   ├── gzip.py
|       |   ├── http.py
|       |   └── vary.py
|       ├── defaults.py
|       ├── generic
|       |   ├── __init__.py
|       |   ├── base.py
|       |   ├── dates.py
|       |   ├── detail.py
|       |   ├── edit.py
|       |   └── list.py
|       ├── i18n.py
|       ├── static.py
|       └── templates
|           ├── default_urlconf.html
|           ├── technical_404.html
|           ├── technical_500.html
|           └── technical_500.txt
├── docs
|   ├── README.rst
|   ├── _ext
|   |   └── djangodocs.py
|   ├── _theme
|   |   ├── djangodocs
|   |   |   ├── genindex.html
|   |   |   ├── layout.html
|   |   |   ├── modindex.html
|   |   |   ├── search.html
|   |   |   └── static
|   |   |       ├── console-tabs.css
|   |   |       ├── default.css
|   |   |       ├── djangodocs.css
|   |   |       ├── fontawesome
|   |   |       ├── homepage.css
|   |   |       └── reset-fonts-grids.css
|   |   └── djangodocs-epub
|   |       ├── epub-cover.html
|   |       └── static
|   |           └── epub.css
|   ├── conf.py
|   ├── contents.txt
|   ├── faq
|   |   ├── admin.txt
|   |   ├── contributing.txt
|   |   ├── general.txt
|   |   ├── help.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── models.txt
|   |   ├── troubleshooting.txt
|   |   └── usage.txt
|   ├── glossary.txt
|   ├── howto
|   |   ├── _images
|   |   ├── auth-remote-user.txt
|   |   ├── custom-file-storage.txt
|   |   ├── custom-lookups.txt
|   |   ├── custom-management-commands.txt
|   |   ├── custom-model-fields.txt
|   |   ├── custom-template-backend.txt
|   |   ├── custom-template-tags.txt
|   |   ├── deployment
|   |   |   ├── asgi
|   |   |   |   ├── daphne.txt
|   |   |   |   ├── hypercorn.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── uvicorn.txt
|   |   |   ├── checklist.txt
|   |   |   ├── index.txt
|   |   |   └── wsgi
|   |   |       ├── apache-auth.txt
|   |   |       ├── gunicorn.txt
|   |   |       ├── index.txt
|   |   |       ├── modwsgi.txt
|   |   |       └── uwsgi.txt
|   |   ├── error-reporting.txt
|   |   ├── index.txt
|   |   ├── initial-data.txt
|   |   ├── legacy-databases.txt
|   |   ├── logging.txt
|   |   ├── outputting-csv.txt
|   |   ├── outputting-pdf.txt
|   |   ├── overriding-templates.txt
|   |   ├── static-files
|   |   |   ├── deployment.txt
|   |   |   └── index.txt
|   |   ├── upgrade-version.txt
|   |   ├── windows.txt
|   |   └── writing-migrations.txt
|   ├── index.txt
|   ├── internals
|   |   ├── _images
|   |   ├── contributing
|   |   |   ├── bugs-and-features.txt
|   |   |   ├── committing-code.txt
|   |   |   ├── index.txt
|   |   |   ├── localizing.txt
|   |   |   ├── new-contributors.txt
|   |   |   ├── triaging-tickets.txt
|   |   |   ├── writing-code
|   |   |   |   ├── coding-style.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── javascript.txt
|   |   |   |   ├── submitting-patches.txt
|   |   |   |   ├── unit-tests.txt
|   |   |   |   └── working-with-git.txt
|   |   |   └── writing-documentation.txt
|   |   ├── deprecation.txt
|   |   ├── git.txt
|   |   ├── howto-release-django.txt
|   |   ├── index.txt
|   |   ├── mailing-lists.txt
|   |   ├── organization.txt
|   |   ├── release-process.txt
|   |   └── security.txt
|   ├── intro
|   |   ├── _images
|   |   ├── contributing.txt
|   |   ├── index.txt
|   |   ├── install.txt
|   |   ├── overview.txt
|   |   ├── reusable-apps.txt
|   |   ├── tutorial01.txt
|   |   ├── tutorial02.txt
|   |   ├── tutorial03.txt
|   |   ├── tutorial04.txt
|   |   ├── tutorial05.txt
|   |   ├── tutorial06.txt
|   |   ├── tutorial07.txt
|   |   └── whatsnext.txt
|   ├── man
|   ├── misc
|   |   ├── api-stability.txt
|   |   ├── design-philosophies.txt
|   |   ├── distributions.txt
|   |   └── index.txt
|   ├── ref
|   |   ├── applications.txt
|   |   ├── checks.txt
|   |   ├── class-based-views
|   |   |   ├── base.txt
|   |   |   ├── flattened-index.txt
|   |   |   ├── generic-date-based.txt
|   |   |   ├── generic-display.txt
|   |   |   ├── generic-editing.txt
|   |   |   ├── index.txt
|   |   |   ├── mixins-date-based.txt
|   |   |   ├── mixins-editing.txt
|   |   |   ├── mixins-multiple-object.txt
|   |   |   ├── mixins-simple.txt
|   |   |   ├── mixins-single-object.txt
|   |   |   └── mixins.txt
|   |   ├── clickjacking.txt
|   |   ├── contrib
|   |   |   ├── admin
|   |   |   |   ├── _images
|   |   |   |   ├── actions.txt
|   |   |   |   ├── admindocs.txt
|   |   |   |   ├── filters.txt
|   |   |   |   ├── index.txt
|   |   |   |   └── javascript.txt
|   |   |   ├── auth.txt
|   |   |   ├── contenttypes.txt
|   |   |   ├── flatpages.txt
|   |   |   ├── gis
|   |   |   |   ├── admin.txt
|   |   |   |   ├── commands.txt
|   |   |   |   ├── db-api.txt
|   |   |   |   ├── deployment.txt
|   |   |   |   ├── feeds.txt
|   |   |   |   ├── forms-api.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── gdal.txt
|   |   |   |   ├── geoip2.txt
|   |   |   |   ├── geoquerysets.txt
|   |   |   |   ├── geos.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── install
|   |   |   |   ├── layermapping.txt
|   |   |   |   ├── measure.txt
|   |   |   |   ├── model-api.txt
|   |   |   |   ├── ogrinspect.txt
|   |   |   |   ├── serializers.txt
|   |   |   |   ├── sitemaps.txt
|   |   |   |   ├── testing.txt
|   |   |   |   ├── tutorial.txt
|   |   |   |   └── utils.txt
|   |   |   ├── humanize.txt
|   |   |   ├── index.txt
|   |   |   ├── messages.txt
|   |   |   ├── postgres
|   |   |   |   ├── aggregates.txt
|   |   |   |   ├── constraints.txt
|   |   |   |   ├── expressions.txt
|   |   |   |   ├── fields.txt
|   |   |   |   ├── forms.txt
|   |   |   |   ├── functions.txt
|   |   |   |   ├── index.txt
|   |   |   |   ├── indexes.txt
|   |   |   |   ├── lookups.txt
|   |   |   |   ├── operations.txt
|   |   |   |   ├── search.txt
|   |   |   |   └── validators.txt
|   |   |   ├── redirects.txt
|   |   |   ├── sitemaps.txt
|   |   |   ├── sites.txt
|   |   |   ├── staticfiles.txt
|   |   |   └── syndication.txt
|   |   ├── csrf.txt
|   |   ├── databases.txt
|   |   ├── django-admin.txt
|   |   ├── exceptions.txt
|   |   ├── files
|   |   |   ├── file.txt
|   |   |   ├── index.txt
|   |   |   ├── storage.txt
|   |   |   └── uploads.txt
|   |   ├── forms
|   |   |   ├── api.txt
|   |   |   ├── fields.txt
|   |   |   ├── formsets.txt
|   |   |   ├── index.txt
|   |   |   ├── models.txt
|   |   |   ├── renderers.txt
|   |   |   ├── validation.txt
|   |   |   └── widgets.txt
|   |   ├── index.txt
|   |   ├── logging.txt
|   |   ├── middleware.txt
|   |   ├── migration-operations.txt
|   |   ├── models
|   |   |   ├── class.txt
|   |   |   ├── conditional-expressions.txt
|   |   |   ├── constraints.txt
|   |   |   ├── database-functions.txt
|   |   |   ├── expressions.txt
|   |   |   ├── fields.txt
|   |   |   ├── index.txt
|   |   |   ├── indexes.txt
|   |   |   ├── instances.txt
|   |   |   ├── lookups.txt
|   |   |   ├── meta.txt
|   |   |   ├── options.txt
|   |   |   ├── querysets.txt
|   |   |   └── relations.txt
|   |   ├── paginator.txt
|   |   ├── request-response.txt
|   |   ├── schema-editor.txt
|   |   ├── settings.txt
|   |   ├── signals.txt
|   |   ├── template-response.txt
|   |   ├── templates
|   |   |   ├── api.txt
|   |   |   ├── builtins.txt
|   |   |   ├── index.txt
|   |   |   └── language.txt
|   |   ├── unicode.txt
|   |   ├── urlresolvers.txt
|   |   ├── urls.txt
|   |   ├── utils.txt
|   |   ├── validators.txt
|   |   └── views.txt
|   ├── releases
|   |   ├── 0.95.txt
|   |   ├── 0.96.txt
|   |   ├── 1.0-porting-guide.txt
|   |   ├── 1.0.1.txt
|   |   ├── 1.0.2.txt
|   |   ├── 1.0.txt
|   |   ├── 1.1.2.txt
|   |   ├── 1.1.3.txt
|   |   ├── 1.1.4.txt
|   |   ├── 1.1.txt
|   |   ├── 1.10.1.txt
|   |   ├── 1.10.2.txt
|   |   ├── 1.10.3.txt
|   |   ├── 1.10.4.txt
|   |   ├── 1.10.5.txt
|   |   ├── 1.10.6.txt
|   |   ├── 1.10.7.txt
|   |   ├── 1.10.8.txt
|   |   ├── 1.10.txt
|   |   ├── 1.11.1.txt
|   |   ├── 1.11.10.txt
|   |   ├── 1.11.11.txt
|   |   ├── 1.11.12.txt
|   |   ├── 1.11.13.txt
|   |   ├── 1.11.14.txt
|   |   ├── 1.11.15.txt
|   |   ├── 1.11.16.txt
|   |   ├── 1.11.17.txt
|   |   ├── 1.11.18.txt
|   |   ├── 1.11.19.txt
|   |   ├── 1.11.2.txt
|   |   ├── 1.11.20.txt
|   |   ├── 1.11.21.txt
|   |   ├── 1.11.22.txt
|   |   ├── 1.11.23.txt
|   |   ├── 1.11.24.txt
|   |   ├── 1.11.25.txt
|   |   ├── 1.11.26.txt
|   |   ├── 1.11.27.txt
|   |   ├── 1.11.28.txt
|   |   ├── 1.11.29.txt
|   |   ├── 1.11.3.txt
|   |   ├── 1.11.4.txt
|   |   ├── 1.11.5.txt
|   |   ├── 1.11.6.txt
|   |   ├── 1.11.7.txt
|   |   ├── 1.11.8.txt
|   |   ├── 1.11.9.txt
|   |   ├── 1.11.txt
|   |   ├── 1.2.1.txt
|   |   ├── 1.2.2.txt
|   |   ├── 1.2.3.txt
|   |   ├── 1.2.4.txt
|   |   ├── 1.2.5.txt
|   |   ├── 1.2.6.txt
|   |   ├── 1.2.7.txt
|   |   ├── 1.2.txt
|   |   ├── 1.3.1.txt
|   |   ├── 1.3.2.txt
|   |   ├── 1.3.3.txt
|   |   ├── 1.3.4.txt
|   |   ├── 1.3.5.txt
|   |   ├── 1.3.6.txt
|   |   ├── 1.3.7.txt
|   |   ├── 1.3.txt
|   |   ├── 1.4.1.txt
|   |   ├── 1.4.10.txt
|   |   ├── 1.4.11.txt
|   |   ├── 1.4.12.txt
|   |   ├── 1.4.13.txt
|   |   ├── 1.4.14.txt
|   |   ├── 1.4.15.txt
|   |   ├── 1.4.16.txt
|   |   ├── 1.4.17.txt
|   |   ├── 1.4.18.txt
|   |   ├── 1.4.19.txt
|   |   ├── 1.4.2.txt
|   |   ├── 1.4.20.txt
|   |   ├── 1.4.21.txt
|   |   ├── 1.4.22.txt
|   |   ├── 1.4.3.txt
|   |   ├── 1.4.4.txt
|   |   ├── 1.4.5.txt
|   |   ├── 1.4.6.txt
|   |   ├── 1.4.7.txt
|   |   ├── 1.4.8.txt
|   |   ├── 1.4.9.txt
|   |   ├── 1.4.txt
|   |   ├── 1.5.1.txt
|   |   ├── 1.5.10.txt
|   |   ├── 1.5.11.txt
|   |   ├── 1.5.12.txt
|   |   ├── 1.5.2.txt
|   |   ├── 1.5.3.txt
|   |   ├── 1.5.4.txt
|   |   ├── 1.5.5.txt
|   |   ├── 1.5.6.txt
|   |   ├── 1.5.7.txt
|   |   ├── 1.5.8.txt
|   |   ├── 1.5.9.txt
|   |   ├── 1.5.txt
|   |   ├── 1.6.1.txt
|   |   ├── 1.6.10.txt
|   |   ├── 1.6.11.txt
|   |   ├── 1.6.2.txt
|   |   ├── 1.6.3.txt
|   |   ├── 1.6.4.txt
|   |   ├── 1.6.5.txt
|   |   ├── 1.6.6.txt
|   |   ├── 1.6.7.txt
|   |   ├── 1.6.8.txt
|   |   ├── 1.6.9.txt
|   |   ├── 1.6.txt
|   |   ├── 1.7.1.txt
|   |   ├── 1.7.10.txt
|   |   ├── 1.7.11.txt
|   |   ├── 1.7.2.txt
|   |   ├── 1.7.3.txt
|   |   ├── 1.7.4.txt
|   |   ├── 1.7.5.txt
|   |   ├── 1.7.6.txt
|   |   ├── 1.7.7.txt
|   |   ├── 1.7.8.txt
|   |   ├── 1.7.9.txt
|   |   ├── 1.7.txt
|   |   ├── 1.8.1.txt
|   |   ├── 1.8.10.txt
|   |   ├── 1.8.11.txt
|   |   ├── 1.8.12.txt
|   |   ├── 1.8.13.txt
|   |   ├── 1.8.14.txt
|   |   ├── 1.8.15.txt
|   |   ├── 1.8.16.txt
|   |   ├── 1.8.17.txt
|   |   ├── 1.8.18.txt
|   |   ├── 1.8.19.txt
|   |   ├── 1.8.2.txt
|   |   ├── 1.8.3.txt
|   |   ├── 1.8.4.txt
|   |   ├── 1.8.5.txt
|   |   ├── 1.8.6.txt
|   |   ├── 1.8.7.txt
|   |   ├── 1.8.8.txt
|   |   ├── 1.8.9.txt
|   |   ├── 1.8.txt
|   |   ├── 1.9.1.txt
|   |   ├── 1.9.10.txt
|   |   ├── 1.9.11.txt
|   |   ├── 1.9.12.txt
|   |   ├── 1.9.13.txt
|   |   ├── 1.9.2.txt
|   |   ├── 1.9.3.txt
|   |   ├── 1.9.4.txt
|   |   ├── 1.9.5.txt
|   |   ├── 1.9.6.txt
|   |   ├── 1.9.7.txt
|   |   ├── 1.9.8.txt
|   |   ├── 1.9.9.txt
|   |   ├── 1.9.txt
|   |   ├── 2.0.1.txt
|   |   ├── 2.0.10.txt
|   |   ├── 2.0.11.txt
|   |   ├── 2.0.12.txt
|   |   ├── 2.0.13.txt
|   |   ├── 2.0.2.txt
|   |   ├── 2.0.3.txt
|   |   ├── 2.0.4.txt
|   |   ├── 2.0.5.txt
|   |   ├── 2.0.6.txt
|   |   ├── 2.0.7.txt
|   |   ├── 2.0.8.txt
|   |   ├── 2.0.9.txt
|   |   ├── 2.0.txt
|   |   ├── 2.1.1.txt
|   |   ├── 2.1.10.txt
|   |   ├── 2.1.11.txt
|   |   ├── 2.1.12.txt
|   |   ├── 2.1.13.txt
|   |   ├── 2.1.14.txt
|   |   ├── 2.1.15.txt
|   |   ├── 2.1.2.txt
|   |   ├── 2.1.3.txt
|   |   ├── 2.1.4.txt
|   |   ├── 2.1.5.txt
|   |   ├── 2.1.6.txt
|   |   ├── 2.1.7.txt
|   |   ├── 2.1.8.txt
|   |   ├── 2.1.9.txt
|   |   ├── 2.1.txt
|   |   ├── 2.2.1.txt
|   |   ├── 2.2.10.txt
|   |   ├── 2.2.11.txt
|   |   ├── 2.2.12.txt
|   |   ├── 2.2.13.txt
|   |   ├── 2.2.14.txt
|   |   ├── 2.2.15.txt
|   |   ├── 2.2.16.txt
|   |   ├── 2.2.17.txt
|   |   ├── 2.2.18.txt
|   |   ├── 2.2.19.txt
|   |   ├── 2.2.2.txt
|   |   ├── 2.2.20.txt
|   |   ├── 2.2.21.txt
|   |   ├── 2.2.22.txt
|   |   ├── 2.2.23.txt
|   |   ├── 2.2.24.txt
|   |   ├── 2.2.25.txt
|   |   ├── 2.2.26.txt
|   |   ├── 2.2.3.txt
|   |   ├── 2.2.4.txt
|   |   ├── 2.2.5.txt
|   |   ├── 2.2.6.txt
|   |   ├── 2.2.7.txt
|   |   ├── 2.2.8.txt
|   |   ├── 2.2.9.txt
|   |   ├── 2.2.txt
|   |   ├── 3.0.1.txt
|   |   ├── 3.0.10.txt
|   |   ├── 3.0.11.txt
|   |   ├── 3.0.12.txt
|   |   ├── 3.0.13.txt
|   |   ├── 3.0.14.txt
|   |   ├── 3.0.2.txt
|   |   ├── 3.0.3.txt
|   |   ├── 3.0.4.txt
|   |   ├── 3.0.5.txt
|   |   ├── 3.0.6.txt
|   |   ├── 3.0.7.txt
|   |   ├── 3.0.8.txt
|   |   ├── 3.0.9.txt
|   |   ├── 3.0.txt
|   |   ├── 3.1.1.txt
|   |   ├── 3.1.10.txt
|   |   ├── 3.1.11.txt
|   |   ├── 3.1.12.txt
|   |   ├── 3.1.13.txt
|   |   ├── 3.1.14.txt
|   |   ├── 3.1.2.txt
|   |   ├── 3.1.3.txt
|   |   ├── 3.1.4.txt
|   |   ├── 3.1.5.txt
|   |   ├── 3.1.6.txt
|   |   ├── 3.1.7.txt
|   |   ├── 3.1.8.txt
|   |   ├── 3.1.9.txt
|   |   ├── 3.1.txt
|   |   ├── 3.2.1.txt
|   |   ├── 3.2.10.txt
|   |   ├── 3.2.11.txt
|   |   ├── 3.2.2.txt
|   |   ├── 3.2.3.txt
|   |   ├── 3.2.4.txt
|   |   ├── 3.2.5.txt
|   |   ├── 3.2.6.txt
|   |   ├── 3.2.7.txt
|   |   ├── 3.2.8.txt
|   |   ├── 3.2.9.txt
|   |   ├── 3.2.txt
|   |   ├── 4.0.1.txt
|   |   ├── 4.0.txt
|   |   ├── 4.1.txt
|   |   ├── index.txt
|   |   └── security.txt
|   ├── requirements.txt
|   └── topics
|       ├── async.txt
|       ├── auth
|       |   ├── customizing.txt
|       |   ├── default.txt
|       |   ├── index.txt
|       |   └── passwords.txt
|       ├── cache.txt
|       ├── checks.txt
|       ├── class-based-views
|       |   ├── generic-display.txt
|       |   ├── generic-editing.txt
|       |   ├── index.txt
|       |   ├── intro.txt
|       |   └── mixins.txt
|       ├── conditional-view-processing.txt
|       ├── db
|       |   ├── aggregation.txt
|       |   ├── examples
|       |   |   ├── index.txt
|       |   |   ├── many_to_many.txt
|       |   |   ├── many_to_one.txt
|       |   |   └── one_to_one.txt
|       |   ├── index.txt
|       |   ├── instrumentation.txt
|       |   ├── managers.txt
|       |   ├── models.txt
|       |   ├── multi-db.txt
|       |   ├── optimization.txt
|       |   ├── queries.txt
|       |   ├── search.txt
|       |   ├── sql.txt
|       |   ├── tablespaces.txt
|       |   └── transactions.txt
|       ├── email.txt
|       ├── external-packages.txt
|       ├── files.txt
|       ├── forms
|       |   ├── formsets.txt
|       |   ├── index.txt
|       |   ├── media.txt
|       |   └── modelforms.txt
|       ├── http
|       |   ├── _images
|       |   ├── decorators.txt
|       |   ├── file-uploads.txt
|       |   ├── generic-views.txt
|       |   ├── index.txt
|       |   ├── middleware.txt
|       |   ├── sessions.txt
|       |   ├── shortcuts.txt
|       |   ├── urls.txt
|       |   └── views.txt
|       ├── i18n
|       |   ├── formatting.txt
|       |   ├── index.txt
|       |   ├── timezones.txt
|       |   └── translation.txt
|       ├── index.txt
|       ├── install.txt
|       ├── logging.txt
|       ├── migrations.txt
|       ├── pagination.txt
|       ├── performance.txt
|       ├── security.txt
|       ├── serialization.txt
|       ├── settings.txt
|       ├── signals.txt
|       ├── signing.txt
|       ├── templates.txt
|       └── testing
|           ├── _images
|           ├── advanced.txt
|           ├── index.txt
|           ├── overview.txt
|           └── tools.txt
├── extras
├── js_tests
|   ├── admin
|   |   ├── DateTimeShortcuts.test.js
|   |   ├── SelectBox.test.js
|   |   ├── SelectFilter2.test.js
|   |   ├── URLify.test.js
|   |   ├── actions.test.js
|   |   ├── core.test.js
|   |   ├── inlines.test.js
|   |   ├── jsi18n-mocks.test.js
|   |   └── navigation.test.js
|   ├── gis
|   |   └── mapwidget.test.js
|   └── tests.html
├── scripts
|   ├── manage_translations.py
|   └── rpm-install.sh
├── setup.py
└── tests
    ├── README.rst
    ├── absolute_url_overrides
    |   ├── __init__.py
    |   └── tests.py
    ├── admin_autodiscover
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_changelist
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_date_hierarchy.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_checks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_custom_urls
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_default_site
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── sites.py
    |   └── tests.py
    ├── admin_docs
    |   ├── __init__.py
    |   ├── evilfile.txt
    |   ├── models.py
    |   ├── namespace_urls.py
    |   ├── test_middleware.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_filters
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_inlines
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_templates.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_registration
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── admin_scripts
    |   ├── __init__.py
    |   ├── another_app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_raising_messages
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_raising_warning
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app_waiting_migration
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── models.py
    |   ├── app_with_import
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── broken_app
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── complex_app
    |   |   ├── __init__.py
    |   |   ├── admin
    |   |   |   ├── __init__.py
    |   |   |   └── foo.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models
    |   |       ├── __init__.py
    |   |       ├── bar.py
    |   |       └── foo.py
    |   ├── configured_dynamic_settings_manage.py
    |   ├── configured_settings_manage.py
    |   ├── custom_templates
    |   |   ├── app_template
    |   |   |   ├── __init__.py
    |   |   |   └── api.py
    |   |   └── project_template
    |   |       ├── .hidden
    |   |       ├── additional_dir
    |   |       ├── project_name
    |   |       └── ticket-18091-non-ascii-template.txt
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       ├── app_command.py
    |   |       ├── base_command.py
    |   |       ├── custom_startproject.py
    |   |       ├── label_command.py
    |   |       ├── noargs_command.py
    |   |       └── suppress_base_options_command.py
    |   ├── simple_app
    |   |   ├── __init__.py
    |   |   ├── management
    |   |   |   ├── __init__.py
    |   |   |   └── commands
    |   |   └── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_utils
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── test_logentry.py
    |   ├── tests.py
    |   └── urls.py
    ├── admin_views
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── custom_has_permission_admin.py
    |   ├── customadmin.py
    |   ├── forms.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── admin
    |   |   |   ├── admin_views
    |   |   |   └── base_site.html
    |   |   └── custom_filter_template.html
    |   ├── test_actions.py
    |   ├── test_adminsite.py
    |   ├── test_autocomplete_view.py
    |   ├── test_forms.py
    |   ├── test_history_view.py
    |   ├── test_multidb.py
    |   ├── test_nav_sidebar.py
    |   ├── test_templatetags.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── admin_widgets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autocomplete_widget.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── widgetadmin.py
    ├── aggregation
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_filter_argument.py
    |   └── tests.py
    ├── aggregation_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── annotations
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── app_loading
    |   ├── __init__.py
    |   ├── eggs
    |   ├── not_installed
    |   |   ├── __init__.py
    |   |   └── models.py
    |   └── tests.py
    ├── apps
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── namespace_package_base
    |   |   └── nsapp
    |   |       └── apps.py
    |   ├── namespace_package_other_base
    |   |   └── nsapp
    |   ├── no_config_app
    |   |   └── __init__.py
    |   ├── one_config_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── tests.py
    |   ├── two_configs_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   ├── two_configs_one_default_app
    |   |   ├── __init__.py
    |   |   └── apps.py
    |   └── two_default_configs_app
    |       ├── __init__.py
    |       └── apps.py
    ├── asgi
    |   ├── __init__.py
    |   ├── project
    |   |   └── static
    |   |       └── file.txt
    |   ├── tests.py
    |   └── urls.py
    ├── async
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── auth_tests
    |   ├── __init__.py
    |   ├── backend_alias.py
    |   ├── client.py
    |   ├── common-passwords-custom.txt
    |   ├── fixtures
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── custom_permissions.py
    |   |   ├── custom_user.py
    |   |   ├── invalid_models.py
    |   |   ├── is_active.py
    |   |   ├── minimal.py
    |   |   ├── no_password.py
    |   |   ├── proxy.py
    |   |   ├── uuid_pk.py
    |   |   ├── with_custom_email_field.py
    |   |   ├── with_foreign_key.py
    |   |   ├── with_integer_username.py
    |   |   ├── with_last_login_attr.py
    |   |   └── with_many_to_many.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── context_processors
    |   |   |   ├── auth_attrs_access.html
    |   |   |   ├── auth_attrs_messages.html
    |   |   |   ├── auth_attrs_no_access.html
    |   |   |   ├── auth_attrs_perm_in_perms.html
    |   |   |   ├── auth_attrs_perms.html
    |   |   |   ├── auth_attrs_test_access.html
    |   |   |   └── auth_attrs_user.html
    |   |   └── registration
    |   |       ├── html_password_reset_email.html
    |   |       ├── logged_out.html
    |   |       ├── login.html
    |   |       ├── password_change_form.html
    |   |       ├── password_reset_complete.html
    |   |       ├── password_reset_confirm.html
    |   |       ├── password_reset_done.html
    |   |       ├── password_reset_email.html
    |   |       ├── password_reset_form.html
    |   |       └── password_reset_subject.txt
    |   ├── test_admin_multidb.py
    |   ├── test_auth_backends.py
    |   ├── test_basic.py
    |   ├── test_checks.py
    |   ├── test_context_processors.py
    |   ├── test_decorators.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_hashers.py
    |   ├── test_management.py
    |   ├── test_middleware.py
    |   ├── test_migrations.py
    |   ├── test_mixins.py
    |   ├── test_models.py
    |   ├── test_remote_user.py
    |   ├── test_signals.py
    |   ├── test_templates.py
    |   ├── test_tokens.py
    |   ├── test_validators.py
    |   ├── test_views.py
    |   ├── urls.py
    |   ├── urls_admin.py
    |   └── urls_custom_user_admin.py
    ├── backends
    |   ├── __init__.py
    |   ├── base
    |   |   ├── __init__.py
    |   |   ├── app_unmigrated
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── test_base.py
    |   |   ├── test_client.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── test_schema.py
    |   ├── models.py
    |   ├── mysql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_schema.py
    |   |   └── tests.py
    |   ├── oracle
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── postgresql
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   ├── test_server_side_cursors.py
    |   |   └── tests.py
    |   ├── sqlite
    |   |   ├── __init__.py
    |   |   ├── test_creation.py
    |   |   ├── test_features.py
    |   |   ├── test_functions.py
    |   |   ├── test_introspection.py
    |   |   ├── test_operations.py
    |   |   └── tests.py
    |   ├── test_ddl_references.py
    |   ├── test_utils.py
    |   └── tests.py
    ├── base
    |   ├── __init__.py
    |   └── models.py
    ├── bash_completion
    |   ├── __init__.py
    |   ├── management
    |   |   ├── __init__.py
    |   |   └── commands
    |   |       ├── __init__.py
    |   |       └── test_command.py
    |   └── tests.py
    ├── basic
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── builtin_server
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── bulk_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── cache
    |   ├── __init__.py
    |   ├── closeable_cache.py
    |   ├── liberal_backend.py
    |   ├── models.py
    |   ├── tests.py
    |   └── tests_async.py
    ├── check_framework
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models.py
    |   ├── template_test_apps
    |   |   ├── __init__.py
    |   |   ├── different_tags_app
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   ├── same_tags_app_1
    |   |   |   ├── __init__.py
    |   |   |   ├── apps.py
    |   |   |   └── templatetags
    |   |   └── same_tags_app_2
    |   |       ├── __init__.py
    |   |       ├── apps.py
    |   |       └── templatetags
    |   ├── test_4_0_compatibility.py
    |   ├── test_async_checks.py
    |   ├── test_caches.py
    |   ├── test_database.py
    |   ├── test_files.py
    |   ├── test_model_checks.py
    |   ├── test_model_field_deprecation.py
    |   ├── test_multi_db.py
    |   ├── test_security.py
    |   ├── test_templates.py
    |   ├── test_translation.py
    |   ├── test_urls.py
    |   ├── tests.py
    |   └── urls
    |       ├── __init__.py
    |       ├── bad_class_based_error_handlers.py
    |       ├── bad_error_handlers_invalid_path.py
    |       ├── bad_function_based_error_handlers.py
    |       ├── beginning_with_slash.py
    |       ├── cbv_as_view.py
    |       ├── contains_tuple.py
    |       ├── good_class_based_error_handlers.py
    |       ├── good_function_based_error_handlers.py
    |       ├── include_contains_tuple.py
    |       ├── include_with_dollar.py
    |       ├── name_with_colon.py
    |       ├── no_warnings.py
    |       ├── no_warnings_i18n.py
    |       ├── non_unique_namespaces.py
    |       ├── path_compatibility
    |       |   ├── __init__.py
    |       |   ├── beginning_with_caret.py
    |       |   ├── contains_re_named_group.py
    |       |   └── ending_with_dollar.py
    |       ├── unique_namespaces.py
    |       └── warning_in_include.py
    ├── conditional_processing
    |   ├── __init__.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── constraints
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── contenttypes_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── operations_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_rename_foo.py
    |   |   └── __init__.py
    |   ├── test_checks.py
    |   ├── test_fields.py
    |   ├── test_management.py
    |   ├── test_models.py
    |   ├── test_operations.py
    |   ├── test_order_with_respect_to.py
    |   ├── test_views.py
    |   └── urls.py
    ├── context_processors
    |   ├── __init__.py
    |   ├── models.py
    |   ├── templates
    |   |   └── context_processors
    |   |       ├── debug.html
    |   |       └── request_attrs.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── csrf_tests
    |   ├── __init__.py
    |   ├── csrf_token_error_handler_urls.py
    |   ├── test_context_processor.py
    |   ├── tests.py
    |   └── views.py
    ├── custom_columns
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_managers
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_methods
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── custom_migration_operations
    |   ├── __init__.py
    |   ├── more_operations.py
    |   └── operations.py
    ├── custom_pk
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   └── tests.py
    ├── datatypes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── dates
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── datetimes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── db_functions
    |   ├── __init__.py
    |   ├── comparison
    |   |   ├── __init__.py
    |   |   ├── test_cast.py
    |   |   ├── test_coalesce.py
    |   |   ├── test_collate.py
    |   |   ├── test_greatest.py
    |   |   ├── test_json_object.py
    |   |   ├── test_least.py
    |   |   └── test_nullif.py
    |   ├── datetime
    |   |   ├── __init__.py
    |   |   ├── test_extract_trunc.py
    |   |   └── test_now.py
    |   ├── math
    |   |   ├── __init__.py
    |   |   ├── test_abs.py
    |   |   ├── test_acos.py
    |   |   ├── test_asin.py
    |   |   ├── test_atan.py
    |   |   ├── test_atan2.py
    |   |   ├── test_ceil.py
    |   |   ├── test_cos.py
    |   |   ├── test_cot.py
    |   |   ├── test_degrees.py
    |   |   ├── test_exp.py
    |   |   ├── test_floor.py
    |   |   ├── test_ln.py
    |   |   ├── test_log.py
    |   |   ├── test_mod.py
    |   |   ├── test_pi.py
    |   |   ├── test_power.py
    |   |   ├── test_radians.py
    |   |   ├── test_random.py
    |   |   ├── test_round.py
    |   |   ├── test_sign.py
    |   |   ├── test_sin.py
    |   |   ├── test_sqrt.py
    |   |   └── test_tan.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── text
    |   |   ├── __init__.py
    |   |   ├── test_chr.py
    |   |   ├── test_concat.py
    |   |   ├── test_left.py
    |   |   ├── test_length.py
    |   |   ├── test_lower.py
    |   |   ├── test_md5.py
    |   |   ├── test_ord.py
    |   |   ├── test_pad.py
    |   |   ├── test_repeat.py
    |   |   ├── test_replace.py
    |   |   ├── test_reverse.py
    |   |   ├── test_right.py
    |   |   ├── test_sha1.py
    |   |   ├── test_sha224.py
    |   |   ├── test_sha256.py
    |   |   ├── test_sha384.py
    |   |   ├── test_sha512.py
    |   |   ├── test_strindex.py
    |   |   ├── test_substr.py
    |   |   ├── test_trim.py
    |   |   └── test_upper.py
    |   └── window
    |       ├── __init__.py
    |       └── test_validation.py
    ├── db_typecasts
    |   ├── __init__.py
    |   └── tests.py
    ├── db_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── dbshell
    |   ├── __init__.py
    |   ├── fake_client.py
    |   ├── test_mysql.py
    |   ├── test_oracle.py
    |   ├── test_postgresql.py
    |   ├── test_sqlite.py
    |   └── tests.py
    ├── decorators
    |   ├── __init__.py
    |   └── tests.py
    ├── defer
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── defer_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── delete_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── deprecation
    |   ├── __init__.py
    |   ├── test_csrf_cookie_masked.py
    |   ├── test_middleware_mixin.py
    |   ├── test_use_l10n.py
    |   └── tests.py
    ├── dispatch
    |   ├── __init__.py
    |   └── tests.py
    ├── distinct_on_fields
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── empty
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_models
    |   |   └── __init__.py
    |   └── tests.py
    ├── empty_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── test_commands.py
    ├── expressions
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_queryset_values.py
    |   └── tests.py
    ├── expressions_case
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── expressions_window
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── extra_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_deconstruction
    |   ├── __init__.py
    |   └── tests.py
    ├── field_defaults
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── field_subclassing
    |   ├── __init__.py
    |   ├── fields.py
    |   └── tests.py
    ├── file_storage
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_generate_filename.py
    |   ├── tests.py
    |   └── urls.py
    ├── file_uploads
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   ├── uploadhandler.py
    |   ├── urls.py
    |   └── views.py
    ├── files
    |   ├── __init__.py
    |   └── tests.py
    ├── filtered_relation
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── fixtures
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── fixture2.xml
    |   |   ├── fixture3.xml
    |   |   ├── fixture7.xml
    |   |   └── fixture9.xml
    |   ├── models.py
    |   └── tests.py
    ├── fixtures_model_package
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models
    |   |   └── __init__.py
    |   └── tests.py
    ├── fixtures_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   |   ├── animal.xml
    |   |   ├── bad_fixture2.xml
    |   |   ├── nk-inheritance2.xml
    |   |   ├── non_natural_2.xml
    |   |   ├── pretty.xml
    |   |   └── sequence_extra_xml.xml
    |   ├── fixtures_1
    |   |   └── inner
    |   ├── fixtures_2
    |   ├── models.py
    |   └── tests.py
    ├── flatpages_tests
    |   ├── __init__.py
    |   ├── absolute_urls.py
    |   ├── no_slash_urls.py
    |   ├── settings.py
    |   ├── templates
    |   |   ├── flatpages
    |   |   |   └── default.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_csrf.py
    |   ├── test_forms.py
    |   ├── test_middleware.py
    |   ├── test_models.py
    |   ├── test_sitemaps.py
    |   ├── test_templatetags.py
    |   ├── test_views.py
    |   └── urls.py
    ├── force_insert_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── foreign_object
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   ├── customers.py
    |   |   ├── empty_join.py
    |   |   └── person.py
    |   ├── test_agnostic_order_trimjoin.py
    |   ├── test_empty_join.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── forms_tests
    |   ├── __init__.py
    |   ├── field_tests
    |   |   ├── __init__.py
    |   |   ├── filepathfield_test_dir
    |   |   |   ├── __init__.py
    |   |   |   ├── a.py
    |   |   |   ├── ab.py
    |   |   |   ├── b.py
    |   |   |   ├── c
    |   |   |   ├── h
    |   |   |   └── j
    |   |   ├── test_base.py
    |   |   ├── test_booleanfield.py
    |   |   ├── test_charfield.py
    |   |   ├── test_choicefield.py
    |   |   ├── test_combofield.py
    |   |   ├── test_datefield.py
    |   |   ├── test_datetimefield.py
    |   |   ├── test_decimalfield.py
    |   |   ├── test_durationfield.py
    |   |   ├── test_emailfield.py
    |   |   ├── test_filefield.py
    |   |   ├── test_filepathfield.py
    |   |   ├── test_floatfield.py
    |   |   ├── test_genericipaddressfield.py
    |   |   ├── test_imagefield.py
    |   |   ├── test_integerfield.py
    |   |   ├── test_jsonfield.py
    |   |   ├── test_multiplechoicefield.py
    |   |   ├── test_multivaluefield.py
    |   |   ├── test_nullbooleanfield.py
    |   |   ├── test_regexfield.py
    |   |   ├── test_slugfield.py
    |   |   ├── test_splitdatetimefield.py
    |   |   ├── test_timefield.py
    |   |   ├── test_typedchoicefield.py
    |   |   ├── test_typedmultiplechoicefield.py
    |   |   ├── test_urlfield.py
    |   |   └── test_uuidfield.py
    |   ├── jinja2
    |   |   └── forms_tests
    |   |       └── custom_widget.html
    |   ├── models.py
    |   ├── templates
    |   |   └── forms_tests
    |   |       ├── article_form.html
    |   |       ├── custom_widget.html
    |   |       ├── cyclic_context_boundfield_render.html
    |   |       ├── error.html
    |   |       ├── form_snippet.html
    |   |       └── legend_test.html
    |   ├── templatetags
    |   |   ├── __init__.py
    |   |   └── tags.py
    |   ├── tests
    |   |   ├── __init__.py
    |   |   ├── filepath_test_files
    |   |   |   ├── directory
    |   |   |   └── real-text-file.txt
    |   |   ├── test_deprecation_forms.py
    |   |   ├── test_error_messages.py
    |   |   ├── test_forms.py
    |   |   ├── test_formsets.py
    |   |   ├── test_i18n.py
    |   |   ├── test_input_formats.py
    |   |   ├── test_media.py
    |   |   ├── test_renderers.py
    |   |   ├── test_utils.py
    |   |   ├── test_validators.py
    |   |   ├── test_widgets.py
    |   |   └── tests.py
    |   ├── urls.py
    |   ├── views.py
    |   └── widget_tests
    |       ├── __init__.py
    |       ├── base.py
    |       ├── test_checkboxinput.py
    |       ├── test_checkboxselectmultiple.py
    |       ├── test_clearablefileinput.py
    |       ├── test_dateinput.py
    |       ├── test_datetimeinput.py
    |       ├── test_fileinput.py
    |       ├── test_hiddeninput.py
    |       ├── test_input.py
    |       ├── test_multiplehiddeninput.py
    |       ├── test_multiwidget.py
    |       ├── test_nullbooleanselect.py
    |       ├── test_numberinput.py
    |       ├── test_passwordinput.py
    |       ├── test_radioselect.py
    |       ├── test_select.py
    |       ├── test_selectdatewidget.py
    |       ├── test_selectmultiple.py
    |       ├── test_splitdatetimewidget.py
    |       ├── test_splithiddendatetimewidget.py
    |       ├── test_textarea.py
    |       ├── test_textinput.py
    |       ├── test_timeinput.py
    |       └── test_widget.py
    ├── from_db_value
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_inline_admin
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── generic_relations
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_forms.py
    |   └── tests.py
    ├── generic_relations_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── generic_views
    |   ├── __init__.py
    |   ├── forms.py
    |   ├── jinja2
    |   |   └── generic_views
    |   |       └── using.html
    |   ├── models.py
    |   ├── templates
    |   |   ├── generic_views
    |   |   |   ├── about.html
    |   |   |   ├── apple_detail.html
    |   |   |   ├── artist_detail.html
    |   |   |   ├── artist_form.html
    |   |   |   ├── author_confirm_delete.html
    |   |   |   ├── author_detail.html
    |   |   |   ├── author_form.html
    |   |   |   ├── author_list.html
    |   |   |   ├── author_objects.html
    |   |   |   ├── author_view.html
    |   |   |   ├── book_archive.html
    |   |   |   ├── book_archive_day.html
    |   |   |   ├── book_archive_month.html
    |   |   |   ├── book_archive_week.html
    |   |   |   ├── book_archive_year.html
    |   |   |   ├── book_detail.html
    |   |   |   ├── book_list.html
    |   |   |   ├── confirm_delete.html
    |   |   |   ├── detail.html
    |   |   |   ├── form.html
    |   |   |   ├── list.html
    |   |   |   ├── page_template.html
    |   |   |   ├── robots.txt
    |   |   |   └── using.html
    |   |   └── registration
    |   |       └── login.html
    |   ├── test_base.py
    |   ├── test_dates.py
    |   ├── test_detail.py
    |   ├── test_edit.py
    |   ├── test_list.py
    |   ├── urls.py
    |   └── views.py
    ├── get_earliest_or_latest
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_object_or_404
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── get_or_create
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── gis_tests
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── data
    |   |   ├── __init__.py
    |   |   ├── ch-city
    |   |   ├── cities
    |   |   ├── counties
    |   |   ├── gas_lines
    |   |   ├── has_nulls
    |   |   ├── interstates
    |   |   ├── invalid
    |   |   ├── rasters
    |   |   |   ├── __init__.py
    |   |   |   ├── raster.numpy.txt
    |   |   |   └── textrasters.py
    |   |   ├── test_point
    |   |   ├── test_poly
    |   |   └── test_vrt
    |   ├── distapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── gdal_tests
    |   |   ├── __init__.py
    |   |   ├── test_driver.py
    |   |   ├── test_ds.py
    |   |   ├── test_envelope.py
    |   |   ├── test_geom.py
    |   |   ├── test_raster.py
    |   |   ├── test_srs.py
    |   |   └── tests.py
    |   ├── geo3d
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── views.py
    |   ├── geoadmin
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoadmin_deprecated
    |   |   ├── __init__.py
    |   |   ├── admin.py
    |   |   ├── models.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geoapp
    |   |   ├── __init__.py
    |   |   ├── feeds.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   ├── sitemaps.py
    |   |   ├── test_expressions.py
    |   |   ├── test_feeds.py
    |   |   ├── test_functions.py
    |   |   ├── test_indexes.py
    |   |   ├── test_regress.py
    |   |   ├── test_serializers.py
    |   |   ├── test_sitemaps.py
    |   |   ├── tests.py
    |   |   └── urls.py
    |   ├── geogapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── geos_tests
    |   |   ├── __init__.py
    |   |   ├── test_coordseq.py
    |   |   ├── test_geos.py
    |   |   ├── test_geos_mutation.py
    |   |   ├── test_io.py
    |   |   └── test_mutable_list.py
    |   ├── gis_migrations
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_create_models.py
    |   |   |   └── __init__.py
    |   |   ├── test_commands.py
    |   |   └── test_operations.py
    |   ├── inspectapp
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── layermap
    |   |   ├── __init__.py
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── models.py
    |   ├── rasterapp
    |   |   ├── __init__.py
    |   |   ├── migrations
    |   |   |   ├── 0001_setup_extensions.py
    |   |   |   ├── 0002_rastermodels.py
    |   |   |   └── __init__.py
    |   |   ├── models.py
    |   |   └── test_rasterfield.py
    |   ├── relatedapp
    |   |   ├── __init__.py
    |   |   ├── fixtures
    |   |   ├── models.py
    |   |   └── tests.py
    |   ├── test_data.py
    |   ├── test_fields.py
    |   ├── test_geoforms.py
    |   ├── test_geoip2.py
    |   ├── test_gis_tests_utils.py
    |   ├── test_measure.py
    |   ├── test_ptr.py
    |   ├── test_spatialrefsys.py
    |   ├── tests.py
    |   └── utils.py
    ├── handlers
    |   ├── __init__.py
    |   ├── templates
    |   |   └── test_handler.html
    |   ├── test_exception.py
    |   ├── tests.py
    |   ├── tests_custom_error_handlers.py
    |   ├── urls.py
    |   └── views.py
    ├── httpwrappers
    |   ├── __init__.py
    |   ├── abc.txt
    |   └── tests.py
    ├── humanize_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── i18n
    |   ├── __init__.py
    |   ├── commands
    |   |   ├── __init__.py
    |   |   ├── app_with_locale
    |   |   |   └── locale
    |   |   ├── ignore_dir
    |   |   |   └── ignored.html
    |   |   ├── javascript.js
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── es_AR
    |   |   |   ├── fr
    |   |   |   ├── hr
    |   |   |   ├── ja
    |   |   |   ├── ko
    |   |   |   ├── pt_BR
    |   |   |   ├── ru
    |   |   |   └── xxx
    |   |   ├── media_root
    |   |   |   └── media_ignored.html
    |   |   ├── someapp
    |   |   |   └── static
    |   |   ├── static
    |   |   |   ├── javascript_ignored.js
    |   |   |   └── static_ignored.html
    |   |   └── templates
    |   |       ├── empty.html
    |   |       ├── subdir
    |   |       ├── test.html
    |   |       └── xxx_ignored.html
    |   ├── contenttypes
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   └── fr
    |   |   └── tests.py
    |   ├── exclude
    |   |   ├── __init__.py
    |   |   └── canned_locale
    |   |       ├── en
    |   |       ├── fr
    |   |       └── it
    |   ├── forms.py
    |   ├── loading
    |   |   ├── en
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_AU
    |   |   |   └── LC_MESSAGES
    |   |   ├── en_CA
    |   |   |   └── LC_MESSAGES
    |   |   └── en_NZ
    |   |       └── LC_MESSAGES
    |   ├── loading_app
    |   |   ├── __init__.py
    |   |   ├── apps.py
    |   |   └── locale
    |   |       └── en
    |   ├── models.py
    |   ├── other
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       ├── de
    |   |       └── fr
    |   ├── other2
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── __init__.py
    |   |       └── de
    |   ├── patterns
    |   |   ├── __init__.py
    |   |   ├── locale
    |   |   |   ├── en
    |   |   |   ├── nl
    |   |   |   └── pt_BR
    |   |   ├── templates
    |   |   |   ├── 404.html
    |   |   |   └── dummy.html
    |   |   ├── tests.py
    |   |   └── urls
    |   |       ├── __init__.py
    |   |       ├── default.py
    |   |       ├── disabled.py
    |   |       ├── included.py
    |   |       ├── namespace.py
    |   |       ├── path_unused.py
    |   |       ├── wrong.py
    |   |       └── wrong_namespace.py
    |   ├── project_dir
    |   |   ├── __init__.py
    |   |   ├── app_no_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── models.py
    |   |   |   └── test.html
    |   |   ├── app_with_locale
    |   |   |   ├── __init__.py
    |   |   |   ├── locale
    |   |   |   └── models.py
    |   |   └── project_locale
    |   ├── resolution
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── sampleproject
    |   |   ├── locale
    |   |   |   └── fr
    |   |   ├── manage.py
    |   |   ├── sampleproject
    |   |   |   ├── __init__.py
    |   |   |   └── settings.py
    |   |   ├── templates
    |   |   |   └── percents.html
    |   |   └── update_catalogs.py
    |   ├── territorial_fallback
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       ├── de
    |   |       └── de_DE
    |   ├── test_compilation.py
    |   ├── test_extraction.py
    |   ├── test_management.py
    |   ├── test_percents.py
    |   ├── tests.py
    |   ├── unchanged
    |   |   ├── __init__.py
    |   |   └── locale
    |   |       └── de
    |   ├── urls.py
    |   ├── urls_default_unprefixed.py
    |   └── utils.py
    ├── import_error_package
    |   └── __init__.py
    ├── indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inline_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── inspectdb
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── introspection
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── invalid_models_tests
    |   ├── __init__.py
    |   ├── test_backend_specific.py
    |   ├── test_custom_fields.py
    |   ├── test_deprecated_fields.py
    |   ├── test_models.py
    |   ├── test_ordinary_fields.py
    |   └── test_relative_fields.py
    ├── known_related_objects
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── logging_tests
    |   ├── __init__.py
    |   ├── logconfig.py
    |   ├── tests.py
    |   ├── urls.py
    |   ├── urls_i18n.py
    |   └── views.py
    ├── lookup
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_decimalfield.py
    |   ├── test_lookups.py
    |   ├── test_timefield.py
    |   └── tests.py
    ├── m2m_and_m2o
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_intermediary
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_multiple
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── m2m_through_regress
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── test_multitable.py
    |   └── tests.py
    ├── m2o_recursive
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── mail
    |   ├── __init__.py
    |   ├── attachments
    |   |   ├── file.txt
    |   |   └── file_png.txt
    |   ├── custombackend.py
    |   ├── test_sendtestemail.py
    |   └── tests.py
    ├── managers_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_many
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── many_to_one_null
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── max_lengths
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── messages_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── test_api.py
    |   ├── test_cookie.py
    |   ├── test_fallback.py
    |   ├── test_middleware.py
    |   ├── test_mixins.py
    |   ├── test_session.py
    |   ├── tests.py
    |   └── urls.py
    ├── middleware
    |   ├── __init__.py
    |   ├── cond_get_urls.py
    |   ├── extra_urls.py
    |   ├── test_security.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── middleware_exceptions
    |   ├── __init__.py
    |   ├── middleware.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── migrate_signals
    |   ├── __init__.py
    |   ├── custom_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migration_test_data_persistence
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_add_book.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── migrations
    |   ├── __init__.py
    |   ├── deprecated_field_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_remove_ipaddressfield_ip.py
    |   |   └── __init__.py
    |   ├── faulty_migrations
    |   |   ├── __init__.py
    |   |   ├── file.py
    |   |   └── namespace
    |   |       └── foo
    |   ├── migrations_test_apps
    |   |   ├── __init__.py
    |   |   ├── alter_fk
    |   |   |   ├── __init__.py
    |   |   |   ├── author_app
    |   |   |   └── book_app
    |   |   ├── conflicting_app_with_dependencies
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── lookuperror_a
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_b
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── lookuperror_c
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── migrated_unapplied_app
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── mutate_state_a
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── mutate_state_b
    |   |   |   ├── __init__.py
    |   |   |   └── migrations
    |   |   ├── normal
    |   |   |   └── __init__.py
    |   |   ├── unmigrated_app
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_simple
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unmigrated_app_syncdb
    |   |   |   ├── __init__.py
    |   |   |   └── models.py
    |   |   ├── unspecified_app_with_conflict
    |   |   |   ├── __init__.py
    |   |   |   ├── migrations
    |   |   |   └── models.py
    |   |   ├── with_package_model
    |   |   |   ├── __init__.py
    |   |   |   └── models
    |   |   └── without_init_file
    |   |       ├── __init__.py
    |   |       └── migrations
    |   ├── models.py
    |   ├── related_models_app
    |   |   └── __init__.py
    |   ├── routers.py
    |   ├── test_add_many_to_many_field_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_initial.py
    |   |   └── __init__.py
    |   ├── test_auto_now_add
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_autodetector.py
    |   ├── test_base.py
    |   ├── test_commands.py
    |   ├── test_deprecated_fields.py
    |   ├── test_exceptions.py
    |   ├── test_executor.py
    |   ├── test_fake_initial_case_insensitive
    |   |   ├── fake_initial
    |   |   |   ├── 0001_initial.py
    |   |   |   └── __init__.py
    |   |   └── initial
    |   |       ├── 0001_initial.py
    |   |       └── __init__.py
    |   ├── test_graph.py
    |   ├── test_loader.py
    |   ├── test_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_atomic_operation
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_backwards_deps_1
    |   |   ├── 0001_initial.py
    |   |   └── 0002_second.py
    |   ├── test_migrations_bad_pyc
    |   |   └── __init__.py
    |   ├── test_migrations_clashing_prefix
    |   |   ├── __init__.py
    |   |   ├── a.py
    |   |   └── ab.py
    |   ├── test_migrations_conflict
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_conflict_long_name
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second_migration_with_long_name.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_custom_user
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_empty
    |   |   └── __init__.py
    |   ├── test_migrations_fake_split_initial
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_first
    |   |   ├── __init__.py
    |   |   ├── second.py
    |   |   └── thefirst.py
    |   ├── test_migrations_initial_false
    |   |   ├── 0001_not_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_manual_porting
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_namespace_package
    |   |   └── 0001_initial.py
    |   ├── test_migrations_no_ancestor
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_conflicting_second.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_changes
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_default
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_no_init
    |   ├── test_migrations_no_operations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_non_atomic
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_order
    |   |   ├── 0001.py
    |   |   └── __init__.py
    |   ├── test_migrations_plan
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   ├── 0004_fourth.py
    |   |   ├── 0005_fifth.py
    |   |   └── __init__.py
    |   ├── test_migrations_private
    |   |   ├── .util.py
    |   |   ├── 0001_initial.py
    |   |   ├── __init__.py
    |   |   ├── _util.py
    |   |   └── ~util.py
    |   ├── test_migrations_run_before
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 4_auto.py
    |   |   ├── 5_auto.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_complex_multi_apps
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_squashed_erroneous
    |   |   ├── 1_auto.py
    |   |   ├── 2_auto.py
    |   |   ├── 3_squashed_5.py
    |   |   ├── 6_auto.py
    |   |   ├── 7_auto.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_extra
    |   |   ├── 0001_initial.py
    |   |   ├── 0001_squashed_0002.py
    |   |   ├── 0002_second.py
    |   |   ├── 0003_third.py
    |   |   └── __init__.py
    |   ├── test_migrations_squashed_ref_squashed
    |   |   ├── __init__.py
    |   |   ├── app1
    |   |   |   ├── 1_auto.py
    |   |   |   ├── 2_auto.py
    |   |   |   ├── 2_squashed_3.py
    |   |   |   ├── 3_auto.py
    |   |   |   ├── 4_auto.py
    |   |   |   └── __init__.py
    |   |   └── app2
    |   |       ├── 1_auto.py
    |   |       ├── 1_squashed_2.py
    |   |       ├── 2_auto.py
    |   |       └── __init__.py
    |   ├── test_migrations_unmigdep
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_multidb.py
    |   ├── test_operations.py
    |   ├── test_optimizer.py
    |   ├── test_questioner.py
    |   ├── test_state.py
    |   └── test_writer.py
    ├── migrations2
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_migrations_2
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── test_migrations_2_first
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_second.py
    |   |   └── __init__.py
    |   └── test_migrations_2_no_deps
    |       ├── 0001_initial.py
    |       └── __init__.py
    ├── model_enums
    |   ├── __init__.py
    |   └── tests.py
    ├── model_fields
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_autofield.py
    |   ├── test_binaryfield.py
    |   ├── test_booleanfield.py
    |   ├── test_charfield.py
    |   ├── test_datetimefield.py
    |   ├── test_decimalfield.py
    |   ├── test_durationfield.py
    |   ├── test_field_flags.py
    |   ├── test_filefield.py
    |   ├── test_filepathfield.py
    |   ├── test_floatfield.py
    |   ├── test_foreignkey.py
    |   ├── test_genericipaddressfield.py
    |   ├── test_imagefield.py
    |   ├── test_integerfield.py
    |   ├── test_jsonfield.py
    |   ├── test_manytomanyfield.py
    |   ├── test_promises.py
    |   ├── test_slugfield.py
    |   ├── test_textfield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_forms
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_modelchoicefield.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── model_formsets_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_indexes
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_inheritance
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_abstract_inheritance.py
    |   └── tests.py
    ├── model_inheritance_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── model_meta
    |   ├── __init__.py
    |   ├── models.py
    |   ├── results.py
    |   └── tests.py
    ├── model_options
    |   ├── __init__.py
    |   ├── apps.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── default_related_name.py
    |   |   └── tablespaces.py
    |   ├── test_default_pk.py
    |   ├── test_default_related_name.py
    |   └── test_tablespaces.py
    ├── model_package
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── article.py
    |   |   └── publication.py
    |   └── tests.py
    ├── model_regress
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_pickle.py
    |   ├── test_state.py
    |   └── tests.py
    ├── model_utils
    |   ├── __init__.py
    |   └── tests.py
    ├── modeladmin
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_actions.py
    |   ├── test_checks.py
    |   └── tests.py
    ├── multiple_database
    |   ├── __init__.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── routers.py
    |   └── tests.py
    ├── mutually_referential
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── nested_foreign_keys
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── no_models
    |   ├── __init__.py
    |   └── tests.py
    ├── null_fk
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_fk_ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── null_queries
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── one_to_one
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── or_lookups
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── order_with_respect_to
    |   ├── __init__.py
    |   ├── base_tests.py
    |   ├── models.py
    |   └── tests.py
    ├── ordering
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── pagination
    |   ├── __init__.py
    |   ├── custom.py
    |   ├── models.py
    |   └── tests.py
    ├── postgres_tests
    |   ├── __init__.py
    |   ├── array_default_migrations
    |   |   ├── 0001_initial.py
    |   |   ├── 0002_integerarraymodel_field_2.py
    |   |   └── __init__.py
    |   ├── array_index_migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── fields.py
    |   ├── integration_settings.py
    |   ├── migrations
    |   |   ├── 0001_setup_extensions.py
    |   |   ├── 0002_create_test_models.py
    |   |   └── __init__.py
    |   ├── models.py
    |   ├── test_aggregates.py
    |   ├── test_apps.py
    |   ├── test_array.py
    |   ├── test_bulk_update.py
    |   ├── test_citext.py
    |   ├── test_constraints.py
    |   ├── test_functions.py
    |   ├── test_hstore.py
    |   ├── test_indexes.py
    |   ├── test_integration.py
    |   ├── test_introspection.py
    |   ├── test_operations.py
    |   ├── test_ranges.py
    |   ├── test_search.py
    |   ├── test_signals.py
    |   ├── test_trigram.py
    |   └── test_unaccent.py
    ├── prefetch_related
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_prefetch_related_objects.py
    |   ├── test_uuid.py
    |   └── tests.py
    ├── project_template
    |   ├── __init__.py
    |   ├── test_settings.py
    |   ├── urls.py
    |   └── views.py
    ├── properties
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_model_inheritance
    |   ├── __init__.py
    |   ├── app1
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── app2
    |   |   ├── __init__.py
    |   |   └── models.py
    |   ├── models.py
    |   └── tests.py
    ├── proxy_models
    |   ├── __init__.py
    |   ├── admin.py
    |   ├── fixtures
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── queries
    |   ├── __init__.py
    |   ├── models.py
    |   ├── test_bulk_update.py
    |   ├── test_contains.py
    |   ├── test_db_returning.py
    |   ├── test_explain.py
    |   ├── test_iterator.py
    |   ├── test_q.py
    |   ├── test_qs_combinators.py
    |   ├── test_query.py
    |   ├── test_sqlcompiler.py
    |   └── tests.py
    ├── queryset_pickle
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── raw_query
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── redirects_tests
    |   ├── __init__.py
    |   ├── tests.py
    |   └── urls.py
    ├── requests
    |   ├── __init__.py
    |   ├── test_accept_header.py
    |   ├── test_data_upload_settings.py
    |   └── tests.py
    ├── requirements
    |   ├── mysql.txt
    |   ├── oracle.txt
    |   ├── postgres.txt
    |   └── py3.txt
    ├── reserved_names
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── resolve_url
    |   ├── __init__.py
    |   ├── models.py
    |   ├── tests.py
    |   └── urls.py
    ├── responses
    |   ├── __init__.py
    |   ├── test_cookie.py
    |   ├── test_fileresponse.py
    |   └── tests.py
    ├── reverse_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── runtests.py
    ├── save_delete_hooks
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── schema
    |   ├── __init__.py
    |   ├── fields.py
    |   ├── models.py
    |   ├── test_logging.py
    |   └── tests.py
    ├── select_for_update
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_onetoone
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── select_related_regress
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── serializers
    |   ├── __init__.py
    |   ├── models
    |   |   ├── __init__.py
    |   |   ├── base.py
    |   |   ├── data.py
    |   |   ├── multi_table.py
    |   |   └── natural.py
    |   ├── test_data.py
    |   ├── test_deserializedobject.py
    |   ├── test_json.py
    |   ├── test_jsonl.py
    |   ├── test_natural.py
    |   ├── test_xml.py
    |   ├── test_yaml.py
    |   └── tests.py
    ├── servers
    |   ├── __init__.py
    |   ├── another_app
    |   |   ├── __init__.py
    |   |   └── static
    |   |       └── another_app
    |   ├── fixtures
    |   ├── media
    |   |   └── example_media_file.txt
    |   ├── models.py
    |   ├── static
    |   |   └── example_static_file.txt
    |   ├── test_basehttp.py
    |   ├── test_liveserverthread.py
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── sessions_tests
    |   ├── __init__.py
    |   ├── models.py
    |   ├── no_clear_expired.py
    |   └── tests.py
    ├── settings_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── shell
    |   ├── __init__.py
    |   └── tests.py
    ├── shortcuts
    |   ├── __init__.py
    |   ├── jinja2
    |   |   └── shortcuts
    |   |       └── using.html
    |   ├── templates
    |   |   └── shortcuts
    |   |       ├── render_test.html
    |   |       └── using.html
    |   ├── tests.py
    |   ├── urls.py
    |   └── views.py
    ├── signals
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── signed_cookies_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── signing
    |   ├── __init__.py
    |   └── tests.py
    ├── sitemaps_tests
    |   ├── __init__.py
    |   ├── base.py
    |   ├── models.py
    |   ├── templates
    |   |   ├── custom_sitemap.xml
    |   |   ├── custom_sitemap_index.xml
    |   |   └── custom_sitemap_lastmod_index.xml
    |   ├── test_generic.py
    |   ├── test_http.py
    |   ├── test_https.py
    |   ├── test_management.py
    |   ├── test_utils.py
    |   └── urls
    |       ├── __init__.py
    |       ├── empty.py
    |       ├── http.py
    |       ├── https.py
    |       ├── index_only.py
    |       └── sitemap_only.py
    ├── sites_framework
    |   ├── __init__.py
    |   ├── migrations
    |   |   ├── 0001_initial.py
    |   |   └── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── sites_tests
    |   ├── __init__.py
    |   └── tests.py
    ├── staticfiles_tests
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── no_label
    |   |   |   ├── __init__.py
    |   |   |   └── static
    |   |   ├── staticfiles_config.py
    |   |   └── test
    |   |       ├── __init__.py
    |   |       ├── otherdir
    |   |       └── static
    |   ├── cases.py
    |   ├── project
    |   |   ├── documents
    |   |   |   ├── absolute_root.css
    |   |   |   ├── cached
    |   |   |   ├── nested
    |   |   |   ├── styles_root.css
    |   |   |   ├── subdir
    |   |   |   ├── test
    |   |   |   └── test.txt
    |   |   ├── faulty
    |   |   |   └── faulty.css
    |   |   ├── loop
    |   |   |   ├── bar.css
    |   |   |   └── foo.css
    |   |   ├── pathlib
    |   |   |   └── pathlib.txt
    |   |   ├── prefixed
    |   |   |   └── test.txt
    |   |   └── site_media
    |   |       ├── media
    |   |       └── static
    |   ├── settings.py
    |   ├── storage.py
    |   ├── test_checks.py
    |   ├── test_finders.py
    |   ├── test_forms.py
    |   ├── test_handlers.py
    |   ├── test_liveserver.py
    |   ├── test_management.py
    |   ├── test_storage.py
    |   ├── test_templatetags.py
    |   ├── test_utils.py
    |   ├── test_views.py
    |   └── urls
    |       ├── __init__.py
    |       ├── default.py
    |       └── helper.py
    ├── str
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── string_lookup
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── swappable_models
    |   ├── __init__.py
    |   ├── models.py
    |   └── tests.py
    ├── syndication_tests
    |   ├── __init__.py
    |   ├── feeds.py
    |   ├── models.py
    |   ├── templates
    |   |   └── syndication
    |   |       ├── description.html
    |   |       ├── description_context.html
    |   |       ├── title.html
    |   |       └── title_context.html
    |   ├── tests.py
    |   └── urls.py
    ├── template_backends
    |   ├── __init__.py
    |   ├── apps
    |   |   ├── __init__.py
    |   |   ├── good
    |   |   |   ├── __init__.py
    |   |   |   └── templatetags
    |   |   └── importerror
    |   |       ├── __init__.py
    |   |       └── templatetags
    |   ├── forbidden
    |   |   └── template_backends
    |   |       └── hello.html
    |   ├── jinja2
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       ├── syntax_error.html
    |   |       ├── syntax_error2.html
    |   |       └── syntax_error_include.html
    |   ├── template_strings
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_backends
    |   |       ├── csrf.html
    |   |       ├── django_escaping.html
    |   |       ├── hello.html
    |   |       └── syntax_error.html
    |   ├── test_django.py
    |   ├── test_dummy.py
    |   ├── test_jinja2.py
    |   └── test_utils.py
    ├── template_loader
    |   ├── __init__.py
    |   ├── template_strings
    |   |   └── template_loader
    |   |       └── hello.html
    |   ├── templates
    |   |   └── template_loader
    |   |       ├── goodbye.html
    |   |       ├── hello.html
    |   |       └── request.html
    |   └── tests.py
    ├── template_tests
    |   ├── __init__.py
    |   ├── alternate_urls.py
    |   ├── annotated_tag_function.py
    |   ├── broken_tag.py
    |   ├── eggs
    |   ├── filter_tests
    |   |   ├── __init__.py
    |   |   ├── test_add.py
    |   |   ├── test_addslashes.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_capfirst.py
    |   |   ├── test_center.py
    |   |   ├── test_chaining.py
    |   |   ├── test_cut.py
    |   |   ├── test_date.py
    |   |   ├── test_default.py
    |   |   ├── test_default_if_none.py
    |   |   ├── test_dictsort.py
    |   |   ├── test_dictsortreversed.py
    |   |   ├── test_divisibleby.py
    |   |   ├── test_escape.py
    |   |   ├── test_escapejs.py
    |   |   ├── test_filesizeformat.py
    |   |   ├── test_first.py
    |   |   ├── test_floatformat.py
    |   |   ├── test_force_escape.py
    |   |   ├── test_get_digit.py
    |   |   ├── test_iriencode.py
    |   |   ├── test_join.py
    |   |   ├── test_json_script.py
    |   |   ├── test_last.py
    |   |   ├── test_length.py
    |   |   ├── test_length_is.py
    |   |   ├── test_linebreaks.py
    |   |   ├── test_linebreaksbr.py
    |   |   ├── test_linenumbers.py
    |   |   ├── test_ljust.py
    |   |   ├── test_lower.py
    |   |   ├── test_make_list.py
    |   |   ├── test_phone2numeric.py
    |   |   ├── test_pluralize.py
    |   |   ├── test_random.py
    |   |   ├── test_rjust.py
    |   |   ├── test_safe.py
    |   |   ├── test_safeseq.py
    |   |   ├── test_slice.py
    |   |   ├── test_slugify.py
    |   |   ├── test_stringformat.py
    |   |   ├── test_striptags.py
    |   |   ├── test_time.py
    |   |   ├── test_timesince.py
    |   |   ├── test_timeuntil.py
    |   |   ├── test_title.py
    |   |   ├── test_truncatechars.py
    |   |   ├── test_truncatechars_html.py
    |   |   ├── test_truncatewords.py
    |   |   ├── test_truncatewords_html.py
    |   |   ├── test_unordered_list.py
    |   |   ├── test_upper.py
    |   |   ├── test_urlencode.py
    |   |   ├── test_urlize.py
    |   |   ├── test_urlizetrunc.py
    |   |   ├── test_wordcount.py
    |   |   ├── test_wordwrap.py
    |   |   ├── test_yesno.py
    |   |   └── timezone_utils.py
    |   ├── jinja2
    |   |   └── template_tests
    |   |       └── using.html
    |   ├── other_templates
    |   |   ├── priority
    |   |   |   └── foo.html
    |   |   └── test_dirs.html
    |   ├── recursive_templates
    |   |   ├── fs
    |   |   |   ├── extend-missing.html
    |   |   |   ├── one.html
    |   |   |   ├── other-recursive.html
    |   |   |   ├── recursive.html
    |   |   |   ├── self.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── fs2
    |   |   |   └── recursive.html
    |   |   └── fs3
    |   |       └── recursive.html
    |   ├── relative_templates
    |   |   ├── dir1
    |   |   |   ├── dir2
    |   |   |   ├── looped.html
    |   |   |   ├── one.html
    |   |   |   ├── one1.html
    |   |   |   ├── one2.html
    |   |   |   ├── one3.html
    |   |   |   ├── three.html
    |   |   |   └── two.html
    |   |   ├── error_extends.html
    |   |   ├── error_include.html
    |   |   ├── one.html
    |   |   ├── one_var.html
    |   |   ├── three.html
    |   |   └── two.html
    |   ├── syntax_tests
    |   |   ├── __init__.py
    |   |   ├── i18n
    |   |   |   ├── __init__.py
    |   |   |   ├── base.py
    |   |   |   ├── test_blocktranslate.py
    |   |   |   ├── test_filters.py
    |   |   |   ├── test_get_available_languages.py
    |   |   |   ├── test_get_current_language.py
    |   |   |   ├── test_get_current_language_bidi.py
    |   |   |   ├── test_get_language_info.py
    |   |   |   ├── test_get_language_info_list.py
    |   |   |   ├── test_language.py
    |   |   |   ├── test_translate.py
    |   |   |   └── test_underscore_syntax.py
    |   |   ├── test_autoescape.py
    |   |   ├── test_basic.py
    |   |   ├── test_builtins.py
    |   |   ├── test_cache.py
    |   |   ├── test_comment.py
    |   |   ├── test_cycle.py
    |   |   ├── test_exceptions.py
    |   |   ├── test_extends.py
    |   |   ├── test_filter_syntax.py
    |   |   ├── test_filter_tag.py
    |   |   ├── test_firstof.py
    |   |   ├── test_for.py
    |   |   ├── test_if.py
    |   |   ├── test_if_changed.py
    |   |   ├── test_include.py
    |   |   ├── test_invalid_string.py
    |   |   ├── test_list_index.py
    |   |   ├── test_load.py
    |   |   ├── test_lorem.py
    |   |   ├── test_multiline.py
    |   |   ├── test_named_endblock.py
    |   |   ├── test_now.py
    |   |   ├── test_numpy.py
    |   |   ├── test_regroup.py
    |   |   ├── test_resetcycle.py
    |   |   ├── test_setup.py
    |   |   ├── test_simple_tag.py
    |   |   ├── test_spaceless.py
    |   |   ├── test_static.py
    |   |   ├── test_template_tag.py
    |   |   ├── test_url.py
    |   |   ├── test_verbatim.py
    |   |   ├── test_width_ratio.py
    |   |   └── test_with.py
    |   ├── templates
    |   |   ├── 27584_child.html
    |   |   ├── 27584_parent.html
    |   |   ├── 27956_child.html
    |   |   ├── 27956_parent.html
    |   |   ├── broken_base.html
    |   |   ├── first
    |   |   |   └── test.html
    |   |   ├── include_tpl.html
    |   |   ├── included_base.html
--- END FILE TREE ---
    
This is the original user query:
--- BEGIN ORIGINAL QUERY ---

Issue: MigrationRecorder does not obey db_router allow_migrate rules

Description: Description
	
Hi,
We have a multi-db setup. We have one connection that is for the django project, and several connections that talk to other dbs for information (ie models with managed = False). Django should only create tables in the first connection, never in any of the other connections. We have a simple router that does the following: 
class Router(object):
	def allow_migrate(self, db, model):
		if db == 'default':
			return True
		return False
Current Behaviour
We run our functional tests and the migrate command is called against each connection when the test databases are created (see django/test/runner.py, setup_databases, line 300-ish, which calls django/db/backends/creation.py, create_test_db, line 377-ish)
When this migrate runs, it tries to apply our migrations, which tries to record that a migration has been applied (see django/db/migrations/executor.py, apply_migration, which has several calls to self.recorder.record_applied). 
The first thing that record_applied does is a call to self.ensure_schema() (see django/db/migrations/recorder.py, record_applied, lien 66-ish). 
ensure_schema checks to see if the Migration model is in the tables in the connection. If it does not find the table then it tries to create the table. 
I believe that this is incorrect behaviour when a db_router has been provided. If using the router above, my expectation would be that the table is not created on any connection other than the 'default' connection. Looking at the other methods on the MigrationRecorder, I would expect that there will be similar issues with applied_migrations and record_unapplied.

Patch information:
diff --git a/django/db/migrations/recorder.py b/django/db/migrations/recorder.py
index 1a37c6b7d0..fd1332e610 100644
--- a/django/db/migrations/recorder.py
+++ b/django/db/migrations/recorder.py
@@ -1,5 +1,5 @@
 from django.apps.registry import Apps
-from django.db import DatabaseError, models
+from django.db import DatabaseError, models, router
 from django.utils.functional import classproperty
 from django.utils.timezone import now
 
@@ -58,6 +58,10 @@ class MigrationRecorder:
 
     def ensure_schema(self):
         """Ensure the table exists and has the correct schema."""
+        # Respect database routers: if migrations aren't allowed on this
+        # connection for the Migration model, don't create the table.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return
         # If the table's there, that's fine - we've never changed its schema
         # in the codebase.
         if self.has_table():
@@ -74,6 +78,10 @@ class MigrationRecorder:
         Return a dict mapping (app_name, migration_name) to Migration instances
         for all applied migrations.
         """
+        # If migrations aren't allowed on this database for the Migration model,
+        # treat as if no migrations are applied.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return {}
         if self.has_table():
             return {(migration.app, migration.name): migration for migration in self.migration_qs}
         else:
@@ -83,11 +91,19 @@ class MigrationRecorder:
 
     def record_applied(self, app, name):
         """Record that a migration was applied."""
+        # Respect routers: if migrations aren't allowed on this DB for the
+        # Migration model, don't attempt to create the table or write records.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return
         self.ensure_schema()
         self.migration_qs.create(app=app, name=name)
 
     def record_unapplied(self, app, name):
         """Record that a migration was unapplied."""
+        # Respect routers: if migrations aren't allowed on this DB for the
+        # Migration model, don't attempt to create the table or delete records.
+        if not router.allow_migrate_model(self.connection.alias, self.Migration):
+            return
         self.ensure_schema()
         self.migration_qs.filter(app=app, name=name).delete()
 


OBJECTIVE: Find 3 relevant existing test cases that demonstrates similar functionality to the reported bug,
including ALL necessary imports, test setup, mocking, assertions, and any test method used in the test case.

<reasoning>
1. Analyze bug characteristics:
   - Core functionality being tested
   - Input parameters and configurations
   - Expected error conditions
   - Environmental dependencies

2. Search requirements:
   - Required imports and dependencies
   - Test files exercising similar functionality
   - Mock/fixture setup patterns
   - Assertion styles
   - Error handling tests

3. Focus areas:
   - All necessary imports (standard library, testing frameworks, mocking utilities)
   - Dependencies and third-party packages
   - Test setup and teardown
   - Mock object configuration
   - Network/external service simulation
   - Error condition verification
</reasoning>

REQUIREMENTS:
- Return 3 complete, self-contained test cases most similar to bug scenario
- Must include ALL necessary imports at the start of each test file
- Must include full test method implementation
- Must include ALL mock/fixture setup
- Must include helper functions used by test
- Must preserve exact file paths and line numbers

<examples>
<example id="database-timeout">
<bug>
db.execute("SELECT * FROM users").fetchall() 
raises ConnectionTimeout when load is high
</bug>

<ideal_test_match>
# File: tests/test_database.py
import pytest
from unittest.mock import Mock, patch
from database.exceptions import ConnectionTimeout
from database.models import QueryResult
from database.client import DatabaseClient

class TestDatabaseTimeout:
    @pytest.fixture
    def mock_db_connection(self):
        conn = Mock()
        conn.execute.side_effect = [
            ConnectionTimeout("Connection timed out"),
            QueryResult(["user1", "user2"])  # Second try succeeds
        ]
        return conn
        
    def test_handle_timeout_during_query(self, mock_db_connection):
        # Complete test showing timeout scenario
        # Including retry logic verification
        # With all necessary assertions
</ideal_test_match>
</example>

<example id="file-permission">
<bug>
FileProcessor('/root/data.txt').process() 
fails with PermissionError
</bug>

<ideal_test_match>
# File: tests/test_file_processor.py
import os
import pytest
from unittest.mock import patch, mock_open
from file_processor import FileProcessor
from file_processor.exceptions import ProcessingError

class TestFilePermissions:
    @patch('os.access')
    @patch('builtins.open')
    def test_file_permission_denied(self, mock_open, mock_access):
        # Full test setup with mocked file system
        # Permission denial simulation
        # Error handling verification
</ideal_test_match>
</example>

Search priority:
1. Tests of exact same functionality (including import patterns)
2. Tests with similar error conditions
3. Tests with comparable mocking patterns
4. Tests demonstrating similar assertions

Find the 3 most relevant test cases with complete context, ensuring ALL necessary imports are included at the start of each test file.

--- END ORIGINAL QUERY ---

These are the previously asked refined queries:
--- BEGIN PREVIOUS QUERY ---
Previous refined query 1:
Essential Query: Please provide the full content of `tests/migrations/test_multidb.py`, `tests/multiple_database/tests.py`, and `tests/multiple_database/routers.py`.
Extra Requirements: 
Purpose: To find 3 relevant test cases demonstrating multi-database migration behavior with database routers.

Previous refined query 2:
Essential Query: Please provide the full content of `tests/migrations/test_commands.py`.
Extra Requirements: 
Purpose: I need this file to find test cases that cover the behavior of the `migrate` command with database routers, which is directly related to the user's reported bug.
--- END PREVIOUS QUERY ---

All aggregated context for the queries:
--- BEGIN AGGREGATED CONTEXT ---
File: tests/migrations/test_commands.py
Line number range: 1 - 2230
Content:
1. import datetime
2. import importlib
3. import io
4. import os
5. import sys
6. from unittest import mock
7. 
8. from django.apps import apps
9. from django.core.management import CommandError, call_command
10. from django.db import (
11.     ConnectionHandler, DatabaseError, OperationalError, connection,
12.     connections, models,
13. )
14. from django.db.backends.base.schema import BaseDatabaseSchemaEditor
15. from django.db.backends.utils import truncate_name
16. from django.db.migrations.exceptions import InconsistentMigrationHistory
17. from django.db.migrations.recorder import MigrationRecorder
18. from django.test import TestCase, override_settings, skipUnlessDBFeature
19. from django.test.utils import captured_stdout
20. from django.utils import timezone
21. from django.utils.version import get_docs_version
22. 
23. from .models import UnicodeModel, UnserializableModel
24. from .routers import TestRouter
25. from .test_base import MigrationTestBase
26. 
27. 
28. class MigrateTests(MigrationTestBase):
29.     """
30.     Tests running the migrate command.
31.     """
32.     databases = {'default', 'other'}
33. 
34.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
35.     def test_migrate(self):
36.         """
37.         Tests basic usage of the migrate command.
38.         """
39.         # No tables are created
40.         self.assertTableNotExists("migrations_author")
41.         self.assertTableNotExists("migrations_tribble")
42.         self.assertTableNotExists("migrations_book")
43.         # Run the migrations to 0001 only
44.         stdout = io.StringIO()
45.         call_command('migrate', 'migrations', '0001', verbosity=2, stdout=stdout, no_color=True)
46.         stdout = stdout.getvalue()
47.         self.assertIn('Target specific migration: 0001_initial, from migrations', stdout)
48.         self.assertIn('Applying migrations.0001_initial... OK', stdout)
49.         self.assertIn('Running pre-migrate handlers for application migrations', stdout)
50.         self.assertIn('Running post-migrate handlers for application migrations', stdout)
51.         # The correct tables exist
52.         self.assertTableExists("migrations_author")
53.         self.assertTableExists("migrations_tribble")
54.         self.assertTableNotExists("migrations_book")
55.         # Run migrations all the way
56.         call_command("migrate", verbosity=0)
57.         # The correct tables exist
58.         self.assertTableExists("migrations_author")
59.         self.assertTableNotExists("migrations_tribble")
60.         self.assertTableExists("migrations_book")
61.         # Unmigrate everything
62.         stdout = io.StringIO()
63.         call_command('migrate', 'migrations', 'zero', verbosity=2, stdout=stdout, no_color=True)
64.         stdout = stdout.getvalue()
65.         self.assertIn('Unapply all migrations: migrations', stdout)
66.         self.assertIn('Unapplying migrations.0002_second... OK', stdout)
67.         self.assertIn('Running pre-migrate handlers for application migrations', stdout)
68.         self.assertIn('Running post-migrate handlers for application migrations', stdout)
69.         # Tables are gone
70.         self.assertTableNotExists("migrations_author")
71.         self.assertTableNotExists("migrations_tribble")
72.         self.assertTableNotExists("migrations_book")
73. 
74.     @override_settings(INSTALLED_APPS=[
75.         'django.contrib.auth',
76.         'django.contrib.contenttypes',
77.         'migrations.migrations_test_apps.migrated_app',
78.     ])
79.     def test_migrate_with_system_checks(self):
80.         out = io.StringIO()
81.         call_command('migrate', skip_checks=False, no_color=True, stdout=out)
82.         self.assertIn('Apply all migrations: migrated_app', out.getvalue())
83. 
84.     @override_settings(INSTALLED_APPS=['migrations', 'migrations.migrations_test_apps.unmigrated_app_syncdb'])
85.     def test_app_without_migrations(self):
86.         msg = "App 'unmigrated_app_syncdb' does not have migrations."
87.         with self.assertRaisesMessage(CommandError, msg):
88.             call_command('migrate', app_label='unmigrated_app_syncdb')
89. 
90.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_clashing_prefix'})
91.     def test_ambiguous_prefix(self):
92.         msg = (
93.             "More than one migration matches 'a' in app 'migrations'. Please "
94.             "be more specific."
95.         )
96.         with self.assertRaisesMessage(CommandError, msg):
97.             call_command('migrate', app_label='migrations', migration_name='a')
98. 
99.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
100.     def test_unknown_prefix(self):
101.         msg = "Cannot find a migration matching 'nonexistent' from app 'migrations'."
102.         with self.assertRaisesMessage(CommandError, msg):
103.             call_command('migrate', app_label='migrations', migration_name='nonexistent')
104. 
105.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_initial_false"})
106.     def test_migrate_initial_false(self):
107.         """
108.         `Migration.initial = False` skips fake-initial detection.
109.         """
110.         # Make sure no tables are created
111.         self.assertTableNotExists("migrations_author")
112.         self.assertTableNotExists("migrations_tribble")
113.         # Run the migrations to 0001 only
114.         call_command("migrate", "migrations", "0001", verbosity=0)
115.         # Fake rollback
116.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
117.         # Make sure fake-initial detection does not run
118.         with self.assertRaises(DatabaseError):
119.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0)
120. 
121.         call_command("migrate", "migrations", "0001", fake=True, verbosity=0)
122.         # Real rollback
123.         call_command("migrate", "migrations", "zero", verbosity=0)
124.         # Make sure it's all gone
125.         self.assertTableNotExists("migrations_author")
126.         self.assertTableNotExists("migrations_tribble")
127.         self.assertTableNotExists("migrations_book")
128. 
129.     @override_settings(
130.         MIGRATION_MODULES={"migrations": "migrations.test_migrations"},
131.         DATABASE_ROUTERS=['migrations.routers.TestRouter'],
132.     )
133.     def test_migrate_fake_initial(self):
134.         """
135.         --fake-initial only works if all tables created in the initial
136.         migration of an app exists. Database routers must be obeyed when doing
137.         that check.
138.         """
139.         # Make sure no tables are created
140.         for db in self.databases:
141.             self.assertTableNotExists("migrations_author", using=db)
142.             self.assertTableNotExists("migrations_tribble", using=db)
143.         # Run the migrations to 0001 only
144.         call_command("migrate", "migrations", "0001", verbosity=0)
145.         call_command("migrate", "migrations", "0001", verbosity=0, database="other")
146.         # Make sure the right tables exist
147.         self.assertTableExists("migrations_author")
148.         self.assertTableNotExists("migrations_tribble")
149.         # Also check the "other" database
150.         self.assertTableNotExists("migrations_author", using="other")
151.         self.assertTableExists("migrations_tribble", using="other")
152. 
153.         # Fake a roll-back
154.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0)
155.         call_command("migrate", "migrations", "zero", fake=True, verbosity=0, database="other")
156.         # Make sure the tables still exist
157.         self.assertTableExists("migrations_author")
158.         self.assertTableExists("migrations_tribble", using="other")
159.         # Try to run initial migration
160.         with self.assertRaises(DatabaseError):
161.             call_command("migrate", "migrations", "0001", verbosity=0)
162.         # Run initial migration with an explicit --fake-initial
163.         out = io.StringIO()
164.         with mock.patch('django.core.management.color.supports_color', lambda *args: False):
165.             call_command("migrate", "migrations", "0001", fake_initial=True, stdout=out, verbosity=1)
166.             call_command("migrate", "migrations", "0001", fake_initial=True, verbosity=0, database="other")
167.         self.assertIn(
168.             "migrations.0001_initial... faked",
169.             out.getvalue().lower()
170.         )
171.         try:
172.             # Run migrations all the way.
173.             call_command('migrate', verbosity=0)
174.             call_command('migrate', verbosity=0, database="other")
175.             self.assertTableExists('migrations_author')
176.             self.assertTableNotExists('migrations_tribble')
177.             self.assertTableExists('migrations_book')
178.             self.assertTableNotExists('migrations_author', using='other')
179.             self.assertTableNotExists('migrations_tribble', using='other')
180.             self.assertTableNotExists('migrations_book', using='other')
181.             # Fake a roll-back.
182.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
183.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0, database='other')
184.             self.assertTableExists('migrations_author')
185.             self.assertTableNotExists('migrations_tribble')
186.             self.assertTableExists('migrations_book')
187.             # Run initial migration.
188.             with self.assertRaises(DatabaseError):
189.                 call_command('migrate', 'migrations', verbosity=0)
190.             # Run initial migration with an explicit --fake-initial.
191.             with self.assertRaises(DatabaseError):
192.                 # Fails because "migrations_tribble" does not exist but needs
193.                 # to in order to make --fake-initial work.
194.                 call_command('migrate', 'migrations', fake_initial=True, verbosity=0)
195.             # Fake an apply.
196.             call_command('migrate', 'migrations', fake=True, verbosity=0)
197.             call_command('migrate', 'migrations', fake=True, verbosity=0, database='other')
198.         finally:
199.             # Unmigrate everything.
200.             call_command('migrate', 'migrations', 'zero', verbosity=0)
201.             call_command('migrate', 'migrations', 'zero', verbosity=0, database='other')
202.         # Make sure it's all gone
203.         for db in self.databases:
204.             self.assertTableNotExists("migrations_author", using=db)
205.             self.assertTableNotExists("migrations_tribble", using=db)
206.             self.assertTableNotExists("migrations_book", using=db)
207. 
208.     @skipUnlessDBFeature('ignores_table_name_case')
209.     def test_migrate_fake_initial_case_insensitive(self):
210.         with override_settings(MIGRATION_MODULES={
211.             'migrations': 'migrations.test_fake_initial_case_insensitive.initial',
212.         }):
213.             call_command('migrate', 'migrations', '0001', verbosity=0)
214.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
215. 
216.         with override_settings(MIGRATION_MODULES={
217.             'migrations': 'migrations.test_fake_initial_case_insensitive.fake_initial',
218.         }):
219.             out = io.StringIO()
220.             call_command(
221.                 'migrate',
222.                 'migrations',
223.                 '0001',
224.                 fake_initial=True,
225.                 stdout=out,
226.                 verbosity=1,
227.                 no_color=True,
228.             )
229.             self.assertIn(
230.                 'migrations.0001_initial... faked',
231.                 out.getvalue().lower(),
232.             )
233. 
234.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_fake_split_initial"})
235.     def test_migrate_fake_split_initial(self):
236.         """
237.         Split initial migrations can be faked with --fake-initial.
238.         """
239.         try:
240.             call_command('migrate', 'migrations', '0002', verbosity=0)
241.             call_command('migrate', 'migrations', 'zero', fake=True, verbosity=0)
242.             out = io.StringIO()
243.             with mock.patch('django.core.management.color.supports_color', lambda *args: False):
244.                 call_command('migrate', 'migrations', '0002', fake_initial=True, stdout=out, verbosity=1)
245.             value = out.getvalue().lower()
246.             self.assertIn('migrations.0001_initial... faked', value)
247.             self.assertIn('migrations.0002_second... faked', value)
248.         finally:
249.             # Fake an apply.
250.             call_command('migrate', 'migrations', fake=True, verbosity=0)
251.             # Unmigrate everything.
252.             call_command('migrate', 'migrations', 'zero', verbosity=0)
253. 
254.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_conflict"})
255.     def test_migrate_conflict_exit(self):
256.         """
257.         migrate exits if it detects a conflict.
258.         """
259.         msg = (
260.             "Conflicting migrations detected; multiple leaf nodes in the "
261.             "migration graph: (0002_conflicting_second, 0002_second in "
262.             "migrations).\n"
263.             "To fix them run 'python manage.py makemigrations --merge'"
264.         )
265.         with self.assertRaisesMessage(CommandError, msg):
266.             call_command("migrate", "migrations")
267. 
268.     @override_settings(MIGRATION_MODULES={
269.         'migrations': 'migrations.test_migrations',
270.     })
271.     def test_migrate_check(self):
272.         with self.assertRaises(SystemExit):
273.             call_command('migrate', 'migrations', '0001', check_unapplied=True)
274.         self.assertTableNotExists('migrations_author')
275.         self.assertTableNotExists('migrations_tribble')
276.         self.assertTableNotExists('migrations_book')
277. 
278.     @override_settings(MIGRATION_MODULES={
279.         'migrations': 'migrations.test_migrations_plan',
280.     })
281.     def test_migrate_check_plan(self):
282.         out = io.StringIO()
283.         with self.assertRaises(SystemExit):
284.             call_command(
285.                 'migrate',
286.                 'migrations',
287.                 '0001',
288.                 check_unapplied=True,
289.                 plan=True,
290.                 stdout=out,
291.                 no_color=True,
292.             )
293.         self.assertEqual(
294.             'Planned operations:\n'
295.             'migrations.0001_initial\n'
296.             '    Create model Salamander\n'
297.             '    Raw Python operation -> Grow salamander tail.\n',
298.             out.getvalue(),
299.         )
300. 
301.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
302.     def test_showmigrations_list(self):
303.         """
304.         showmigrations --list  displays migrations and whether or not they're
305.         applied.
306.         """
307.         out = io.StringIO()
308.         with mock.patch('django.core.management.color.supports_color', lambda *args: True):
309.             call_command("showmigrations", format='list', stdout=out, verbosity=0, no_color=False)
310.         self.assertEqual(
311.             '\x1b[1mmigrations\n\x1b[0m'
312.             ' [ ] 0001_initial\n'
313.             ' [ ] 0002_second\n',
314.             out.getvalue().lower()
315.         )
316. 
317.         call_command("migrate", "migrations", "0001", verbosity=0)
318. 
319.         out = io.StringIO()
320.         # Giving the explicit app_label tests for selective `show_list` in the command
321.         call_command("showmigrations", "migrations", format='list', stdout=out, verbosity=0, no_color=True)
322.         self.assertEqual(
323.             'migrations\n'
324.             ' [x] 0001_initial\n'
325.             ' [ ] 0002_second\n',
326.             out.getvalue().lower()
327.         )
328.         out = io.StringIO()
329.         # Applied datetimes are displayed at verbosity 2+.
330.         call_command('showmigrations', 'migrations', stdout=out, verbosity=2, no_color=True)
331.         migration1 = MigrationRecorder(connection).migration_qs.get(app='migrations', name='0001_initial')
332.         self.assertEqual(
333.             'migrations\n'
334.             ' [x] 0001_initial (applied at %s)\n'
335.             ' [ ] 0002_second\n' % migration1.applied.strftime('%Y-%m-%d %H:%M:%S'),
336.             out.getvalue().lower()
337.         )
338.         # Cleanup by unmigrating everything
339.         call_command("migrate", "migrations", "zero", verbosity=0)
340. 
341.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
342.     def test_showmigrations_list_squashed(self):
343.         out = io.StringIO()
344.         call_command('showmigrations', format='list', stdout=out, verbosity=2, no_color=True)
345.         self.assertEqual(
346.             'migrations\n'
347.             ' [ ] 0001_squashed_0002 (2 squashed migrations)\n',
348.             out.getvalue().lower(),
349.         )
350.         out = io.StringIO()
351.         call_command(
352.             'migrate',
353.             'migrations',
354.             '0001_squashed_0002',
355.             stdout=out,
356.             verbosity=2,
357.             no_color=True,
358.         )
359.         try:
360.             self.assertIn(
361.                 'operations to perform:\n'
362.                 '  target specific migration: 0001_squashed_0002, from migrations\n'
363.                 'running pre-migrate handlers for application migrations\n'
364.                 'running migrations:\n'
365.                 '  applying migrations.0001_squashed_0002... ok (',
366.                 out.getvalue().lower(),
367.             )
368.             out = io.StringIO()
369.             call_command('showmigrations', format='list', stdout=out, verbosity=2, no_color=True)
370.             self.assertEqual(
371.                 'migrations\n'
372.                 ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
373.                 out.getvalue().lower(),
374.             )
375.         finally:
376.             # Unmigrate everything.
377.             call_command('migrate', 'migrations', 'zero', verbosity=0)
378. 
379.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_run_before"})
380.     def test_showmigrations_plan(self):
381.         """
382.         Tests --plan output of showmigrations command
383.         """
384.         out = io.StringIO()
385.         call_command("showmigrations", format='plan', stdout=out)
386.         self.assertEqual(
387.             "[ ]  migrations.0001_initial\n"
388.             "[ ]  migrations.0003_third\n"
389.             "[ ]  migrations.0002_second\n",
390.             out.getvalue().lower()
391.         )
392. 
393.         out = io.StringIO()
394.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
395.         self.assertEqual(
396.             "[ ]  migrations.0001_initial\n"
397.             "[ ]  migrations.0003_third ... (migrations.0001_initial)\n"
398.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
399.             out.getvalue().lower()
400.         )
401.         call_command("migrate", "migrations", "0003", verbosity=0)
402. 
403.         out = io.StringIO()
404.         call_command("showmigrations", format='plan', stdout=out)
405.         self.assertEqual(
406.             "[x]  migrations.0001_initial\n"
407.             "[x]  migrations.0003_third\n"
408.             "[ ]  migrations.0002_second\n",
409.             out.getvalue().lower()
410.         )
411. 
412.         out = io.StringIO()
413.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
414.         self.assertEqual(
415.             "[x]  migrations.0001_initial\n"
416.             "[x]  migrations.0003_third ... (migrations.0001_initial)\n"
417.             "[ ]  migrations.0002_second ... (migrations.0001_initial, migrations.0003_third)\n",
418.             out.getvalue().lower()
419.         )
420. 
421.         # Cleanup by unmigrating everything
422.         call_command("migrate", "migrations", "zero", verbosity=0)
423. 
424.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_plan'})
425.     def test_migrate_plan(self):
426.         """Tests migrate --plan output."""
427.         out = io.StringIO()
428.         # Show the plan up to the third migration.
429.         call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
430.         self.assertEqual(
431.             'Planned operations:\n'
432.             'migrations.0001_initial\n'
433.             '    Create model Salamander\n'
434.             '    Raw Python operation -> Grow salamander tail.\n'
435.             'migrations.0002_second\n'
436.             '    Create model Book\n'
437.             "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
438.             'migrations.0003_third\n'
439.             '    Create model Author\n'
440.             "    Raw SQL operation -> ['SELECT * FROM migrations_author']\n",
441.             out.getvalue()
442.         )
443.         try:
444.             # Migrate to the third migration.
445.             call_command('migrate', 'migrations', '0003', verbosity=0)
446.             out = io.StringIO()
447.             # Show the plan for when there is nothing to apply.
448.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
449.             self.assertEqual(
450.                 'Planned operations:\n'
451.                 '  No planned migration operations.\n',
452.                 out.getvalue()
453.             )
454.             out = io.StringIO()
455.             # Show the plan for reverse migration back to 0001.
456.             call_command('migrate', 'migrations', '0001', plan=True, stdout=out, no_color=True)
457.             self.assertEqual(
458.                 'Planned operations:\n'
459.                 'migrations.0003_third\n'
460.                 '    Undo Create model Author\n'
461.                 "    Raw SQL operation -> ['SELECT * FROM migrations_book']\n"
462.                 'migrations.0002_second\n'
463.                 '    Undo Create model Book\n'
464.                 "    Raw SQL operation -> ['SELECT * FROM migrations_salamand…\n",
465.                 out.getvalue()
466.             )
467.             out = io.StringIO()
468.             # Show the migration plan to fourth, with truncated details.
469.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)
470.             self.assertEqual(
471.                 'Planned operations:\n'
472.                 'migrations.0004_fourth\n'
473.                 '    Raw SQL operation -> SELECT * FROM migrations_author WHE…\n',
474.                 out.getvalue()
475.             )
476.             # Show the plan when an operation is irreversible.
477.             # Migrate to the fourth migration.
478.             call_command('migrate', 'migrations', '0004', verbosity=0)
479.             out = io.StringIO()
480.             call_command('migrate', 'migrations', '0003', plan=True, stdout=out, no_color=True)
481.             self.assertEqual(
482.                 'Planned operations:\n'
483.                 'migrations.0004_fourth\n'
484.                 '    Raw SQL operation -> IRREVERSIBLE\n',
485.                 out.getvalue()
486.             )
487.             out = io.StringIO()
488.             call_command('migrate', 'migrations', '0005', plan=True, stdout=out, no_color=True)
489.             # Operation is marked as irreversible only in the revert plan.
490.             self.assertEqual(
491.                 'Planned operations:\n'
492.                 'migrations.0005_fifth\n'
493.                 '    Raw Python operation\n'
494.                 '    Raw Python operation\n'
495.                 '    Raw Python operation -> Feed salamander.\n',
496.                 out.getvalue()
497.             )
498.             call_command('migrate', 'migrations', '0005', verbosity=0)
499.             out = io.StringIO()
500.             call_command('migrate', 'migrations', '0004', plan=True, stdout=out, no_color=True)
501.             self.assertEqual(
502.                 'Planned operations:\n'
503.                 'migrations.0005_fifth\n'
504.                 '    Raw Python operation -> IRREVERSIBLE\n'
505.                 '    Raw Python operation -> IRREVERSIBLE\n'
506.                 '    Raw Python operation\n',
507.                 out.getvalue()
508.             )
509.         finally:
510.             # Cleanup by unmigrating everything: fake the irreversible, then
511.             # migrate all to zero.
512.             call_command('migrate', 'migrations', '0003', fake=True, verbosity=0)
513.             call_command('migrate', 'migrations', 'zero', verbosity=0)
514. 
515.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_empty'})
516.     def test_showmigrations_no_migrations(self):
517.         out = io.StringIO()
518.         call_command('showmigrations', stdout=out, no_color=True)
519.         self.assertEqual('migrations\n (no migrations)\n', out.getvalue().lower())
520. 
521.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app'])
522.     def test_showmigrations_unmigrated_app(self):
523.         out = io.StringIO()
524.         call_command('showmigrations', 'unmigrated_app', stdout=out, no_color=True)
525.         try:
526.             self.assertEqual('unmigrated_app\n (no migrations)\n', out.getvalue().lower())
527.         finally:
528.             # unmigrated_app.SillyModel has a foreign key to
529.             # 'migrations.Tribble', but that model is only defined in a
530.             # migration, so the global app registry never sees it and the
531.             # reference is left dangling. Remove it to avoid problems in
532.             # subsequent tests.
533.             apps._pending_operations.pop(('migrations', 'tribble'), None)
534. 
535.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_empty"})
536.     def test_showmigrations_plan_no_migrations(self):
537.         """
538.         Tests --plan output of showmigrations command without migrations
539.         """
540.         out = io.StringIO()
541.         call_command('showmigrations', format='plan', stdout=out, no_color=True)
542.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
543. 
544.         out = io.StringIO()
545.         call_command('showmigrations', format='plan', stdout=out, verbosity=2, no_color=True)
546.         self.assertEqual('(no migrations)\n', out.getvalue().lower())
547. 
548.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed_complex"})
549.     def test_showmigrations_plan_squashed(self):
550.         """
551.         Tests --plan output of showmigrations command with squashed migrations.
552.         """
553.         out = io.StringIO()
554.         call_command("showmigrations", format='plan', stdout=out)
555.         self.assertEqual(
556.             "[ ]  migrations.1_auto\n"
557.             "[ ]  migrations.2_auto\n"
558.             "[ ]  migrations.3_squashed_5\n"
559.             "[ ]  migrations.6_auto\n"
560.             "[ ]  migrations.7_auto\n",
561.             out.getvalue().lower()
562.         )
563. 
564.         out = io.StringIO()
565.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
566.         self.assertEqual(
567.             "[ ]  migrations.1_auto\n"
568.             "[ ]  migrations.2_auto ... (migrations.1_auto)\n"
569.             "[ ]  migrations.3_squashed_5 ... (migrations.2_auto)\n"
570.             "[ ]  migrations.6_auto ... (migrations.3_squashed_5)\n"
571.             "[ ]  migrations.7_auto ... (migrations.6_auto)\n",
572.             out.getvalue().lower()
573.         )
574. 
575.         call_command("migrate", "migrations", "3_squashed_5", verbosity=0)
576. 
577.         out = io.StringIO()
578.         call_command("showmigrations", format='plan', stdout=out)
579.         self.assertEqual(
580.             "[x]  migrations.1_auto\n"
581.             "[x]  migrations.2_auto\n"
582.             "[x]  migrations.3_squashed_5\n"
583.             "[ ]  migrations.6_auto\n"
584.             "[ ]  migrations.7_auto\n",
585.             out.getvalue().lower()
586.         )
587. 
588.         out = io.StringIO()
589.         call_command("showmigrations", format='plan', stdout=out, verbosity=2)
590.         self.assertEqual(
591.             "[x]  migrations.1_auto\n"
592.             "[x]  migrations.2_auto ... (migrations.1_auto)\n"
593.             "[x]  migrations.3_squashed_5 ... (migrations.2_auto)\n"
594.             "[ ]  migrations.6_auto ... (migrations.3_squashed_5)\n"
595.             "[ ]  migrations.7_auto ... (migrations.6_auto)\n",
596.             out.getvalue().lower()
597.         )
598. 
599.     @override_settings(INSTALLED_APPS=[
600.         'migrations.migrations_test_apps.mutate_state_b',
601.         'migrations.migrations_test_apps.alter_fk.author_app',
602.         'migrations.migrations_test_apps.alter_fk.book_app',
603.     ])
604.     def test_showmigrations_plan_single_app_label(self):
605.         """
606.         `showmigrations --plan app_label` output with a single app_label.
607.         """
608.         # Single app with no dependencies on other apps.
609.         out = io.StringIO()
610.         call_command('showmigrations', 'mutate_state_b', format='plan', stdout=out)
611.         self.assertEqual(
612.             '[ ]  mutate_state_b.0001_initial\n'
613.             '[ ]  mutate_state_b.0002_add_field\n',
614.             out.getvalue()
615.         )
616.         # Single app with dependencies.
617.         out = io.StringIO()
618.         call_command('showmigrations', 'author_app', format='plan', stdout=out)
619.         self.assertEqual(
620.             '[ ]  author_app.0001_initial\n'
621.             '[ ]  book_app.0001_initial\n'
622.             '[ ]  author_app.0002_alter_id\n',
623.             out.getvalue()
624.         )
625.         # Some migrations already applied.
626.         call_command('migrate', 'author_app', '0001', verbosity=0)
627.         out = io.StringIO()
628.         call_command('showmigrations', 'author_app', format='plan', stdout=out)
629.         self.assertEqual(
630.             '[X]  author_app.0001_initial\n'
631.             '[ ]  book_app.0001_initial\n'
632.             '[ ]  author_app.0002_alter_id\n',
633.             out.getvalue()
634.         )
635.         # Cleanup by unmigrating author_app.
636.         call_command('migrate', 'author_app', 'zero', verbosity=0)
637. 
638.     @override_settings(INSTALLED_APPS=[
639.         'migrations.migrations_test_apps.mutate_state_b',
640.         'migrations.migrations_test_apps.alter_fk.author_app',
641.         'migrations.migrations_test_apps.alter_fk.book_app',
642.     ])
643.     def test_showmigrations_plan_multiple_app_labels(self):
644.         """
645.         `showmigrations --plan app_label` output with multiple app_labels.
646.         """
647.         # Multiple apps: author_app depends on book_app; mutate_state_b doesn't
648.         # depend on other apps.
649.         out = io.StringIO()
650.         call_command('showmigrations', 'mutate_state_b', 'author_app', format='plan', stdout=out)
651.         self.assertEqual(
652.             '[ ]  author_app.0001_initial\n'
653.             '[ ]  book_app.0001_initial\n'
654.             '[ ]  author_app.0002_alter_id\n'
655.             '[ ]  mutate_state_b.0001_initial\n'
656.             '[ ]  mutate_state_b.0002_add_field\n',
657.             out.getvalue()
658.         )
659.         # Multiple apps: args order shouldn't matter (the same result is
660.         # expected as above).
661.         out = io.StringIO()
662.         call_command('showmigrations', 'author_app', 'mutate_state_b', format='plan', stdout=out)
663.         self.assertEqual(
664.             '[ ]  author_app.0001_initial\n'
665.             '[ ]  book_app.0001_initial\n'
666.             '[ ]  author_app.0002_alter_id\n'
667.             '[ ]  mutate_state_b.0001_initial\n'
668.             '[ ]  mutate_state_b.0002_add_field\n',
669.             out.getvalue()
670.         )
671. 
672.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app'])
673.     def test_showmigrations_plan_app_label_no_migrations(self):
674.         out = io.StringIO()
675.         call_command('showmigrations', 'unmigrated_app', format='plan', stdout=out, no_color=True)
676.         try:
677.             self.assertEqual('(no migrations)\n', out.getvalue())
678.         finally:
679.             # unmigrated_app.SillyModel has a foreign key to
680.             # 'migrations.Tribble', but that model is only defined in a
681.             # migration, so the global app registry never sees it and the
682.             # reference is left dangling. Remove it to avoid problems in
683.             # subsequent tests.
684.             apps._pending_operations.pop(('migrations', 'tribble'), None)
685. 
686.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
687.     def test_sqlmigrate_forwards(self):
688.         """
689.         sqlmigrate outputs forward looking SQL.
690.         """
691.         out = io.StringIO()
692.         call_command("sqlmigrate", "migrations", "0001", stdout=out)
693.         output = out.getvalue().lower()
694. 
695.         index_tx_start = output.find(connection.ops.start_transaction_sql().lower())
696.         index_op_desc_author = output.find('-- create model author')
697.         index_create_table = output.find('create table')
698.         index_op_desc_tribble = output.find('-- create model tribble')
699.         index_op_desc_unique_together = output.find('-- alter unique_together')
700.         index_tx_end = output.find(connection.ops.end_transaction_sql().lower())
701. 
702.         if connection.features.can_rollback_ddl:
703.             self.assertGreater(index_tx_start, -1, "Transaction start not found")
704.             self.assertGreater(
705.                 index_tx_end, index_op_desc_unique_together,
706.                 "Transaction end not found or found before operation description (unique_together)"
707.             )
708. 
709.         self.assertGreater(
710.             index_op_desc_author, index_tx_start,
711.             "Operation description (author) not found or found before transaction start"
712.         )
713.         self.assertGreater(
714.             index_create_table, index_op_desc_author,
715.             "CREATE TABLE not found or found before operation description (author)"
716.         )
717.         self.assertGreater(
718.             index_op_desc_tribble, index_create_table,
719.             "Operation description (tribble) not found or found before CREATE TABLE (author)"
720.         )
721.         self.assertGreater(
722.             index_op_desc_unique_together, index_op_desc_tribble,
723.             "Operation description (unique_together) not found or found before operation description (tribble)"
724.         )
725. 
726.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations"})
727.     def test_sqlmigrate_backwards(self):
728.         """
729.         sqlmigrate outputs reverse looking SQL.
730.         """
731.         # Cannot generate the reverse SQL unless we've applied the migration.
732.         call_command("migrate", "migrations", verbosity=0)
733. 
734.         out = io.StringIO()
735.         call_command("sqlmigrate", "migrations", "0001", stdout=out, backwards=True)
736.         output = out.getvalue().lower()
737. 
738.         index_tx_start = output.find(connection.ops.start_transaction_sql().lower())
739.         index_op_desc_unique_together = output.find('-- alter unique_together')
740.         index_op_desc_tribble = output.find('-- create model tribble')
741.         index_op_desc_author = output.find('-- create model author')
742.         index_drop_table = output.rfind('drop table')
743.         index_tx_end = output.find(connection.ops.end_transaction_sql().lower())
744. 
745.         if connection.features.can_rollback_ddl:
746.             self.assertGreater(index_tx_start, -1, "Transaction start not found")
747.             self.assertGreater(
748.                 index_tx_end, index_op_desc_unique_together,
749.                 "Transaction end not found or found before DROP TABLE"
750.             )
751.         self.assertGreater(
752.             index_op_desc_unique_together, index_tx_start,
753.             "Operation description (unique_together) not found or found before transaction start"
754.         )
755.         self.assertGreater(
756.             index_op_desc_tribble, index_op_desc_unique_together,
757.             "Operation description (tribble) not found or found before operation description (unique_together)"
758.         )
759.         self.assertGreater(
760.             index_op_desc_author, index_op_desc_tribble,
761.             "Operation description (author) not found or found before operation description (tribble)"
762.         )
763. 
764.         self.assertGreater(
765.             index_drop_table, index_op_desc_author,
766.             "DROP TABLE not found or found before operation description (author)"
767.         )
768. 
769.         # Cleanup by unmigrating everything
770.         call_command("migrate", "migrations", "zero", verbosity=0)
771. 
772.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_non_atomic"})
773.     def test_sqlmigrate_for_non_atomic_migration(self):
774.         """
775.         Transaction wrappers aren't shown for non-atomic migrations.
776.         """
777.         out = io.StringIO()
778.         call_command("sqlmigrate", "migrations", "0001", stdout=out)
779.         output = out.getvalue().lower()
780.         queries = [q.strip() for q in output.splitlines()]
781.         if connection.ops.start_transaction_sql():
782.             self.assertNotIn(connection.ops.start_transaction_sql().lower(), queries)
783.         self.assertNotIn(connection.ops.end_transaction_sql().lower(), queries)
784. 
785.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
786.     def test_sqlmigrate_for_non_transactional_databases(self):
787.         """
788.         Transaction wrappers aren't shown for databases that don't support
789.         transactional DDL.
790.         """
791.         out = io.StringIO()
792.         with mock.patch.object(connection.features, 'can_rollback_ddl', False):
793.             call_command('sqlmigrate', 'migrations', '0001', stdout=out)
794.         output = out.getvalue().lower()
795.         queries = [q.strip() for q in output.splitlines()]
796.         start_transaction_sql = connection.ops.start_transaction_sql()
797.         if start_transaction_sql:
798.             self.assertNotIn(start_transaction_sql.lower(), queries)
799.         self.assertNotIn(connection.ops.end_transaction_sql().lower(), queries)
800. 
801.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
802.     def test_sqlmigrate_ambiguous_prefix_squashed_migrations(self):
803.         msg = (
804.             "More than one migration matches '0001' in app 'migrations'. "
805.             "Please be more specific."
806.         )
807.         with self.assertRaisesMessage(CommandError, msg):
808.             call_command('sqlmigrate', 'migrations', '0001')
809. 
810.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
811.     def test_sqlmigrate_squashed_migration(self):
812.         out = io.StringIO()
813.         call_command('sqlmigrate', 'migrations', '0001_squashed_0002', stdout=out)
814.         output = out.getvalue().lower()
815.         self.assertIn('-- create model author', output)
816.         self.assertIn('-- create model book', output)
817.         self.assertNotIn('-- create model tribble', output)
818. 
819.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
820.     def test_sqlmigrate_replaced_migration(self):
821.         out = io.StringIO()
822.         call_command('sqlmigrate', 'migrations', '0001_initial', stdout=out)
823.         output = out.getvalue().lower()
824.         self.assertIn('-- create model author', output)
825.         self.assertIn('-- create model tribble', output)
826. 
827.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_no_operations'})
828.     def test_migrations_no_operations(self):
829.         err = io.StringIO()
830.         call_command('sqlmigrate', 'migrations', '0001_initial', stderr=err)
831.         self.assertEqual(err.getvalue(), 'No operations found.\n')
832. 
833.     @override_settings(
834.         INSTALLED_APPS=[
835.             "migrations.migrations_test_apps.migrated_app",
836.             "migrations.migrations_test_apps.migrated_unapplied_app",
837.             "migrations.migrations_test_apps.unmigrated_app",
838.         ],
839.     )
840.     def test_regression_22823_unmigrated_fk_to_migrated_model(self):
841.         """
842.         Assuming you have 3 apps, `A`, `B`, and `C`, such that:
843. 
844.         * `A` has migrations
845.         * `B` has a migration we want to apply
846.         * `C` has no migrations, but has an FK to `A`
847. 
848.         When we try to migrate "B", an exception occurs because the
849.         "B" was not included in the ProjectState that is used to detect
850.         soft-applied migrations (#22823).
851.         """
852.         call_command('migrate', 'migrated_unapplied_app', verbosity=0)
853. 
854.         # unmigrated_app.SillyModel has a foreign key to 'migrations.Tribble',
855.         # but that model is only defined in a migration, so the global app
856.         # registry never sees it and the reference is left dangling. Remove it
857.         # to avoid problems in subsequent tests.
858.         apps._pending_operations.pop(('migrations', 'tribble'), None)
859. 
860.     @override_settings(INSTALLED_APPS=['migrations.migrations_test_apps.unmigrated_app_syncdb'])
861.     def test_migrate_syncdb_deferred_sql_executed_with_schemaeditor(self):
862.         """
863.         For an app without migrations, editor.execute() is used for executing
864.         the syncdb deferred SQL.
865.         """
866.         stdout = io.StringIO()
867.         with mock.patch.object(BaseDatabaseSchemaEditor, 'execute') as execute:
868.             call_command('migrate', run_syncdb=True, verbosity=1, stdout=stdout, no_color=True)
869.             create_table_count = len([call for call in execute.mock_calls if 'CREATE TABLE' in str(call)])
870.             self.assertEqual(create_table_count, 2)
871.             # There's at least one deferred SQL for creating the foreign key
872.             # index.
873.             self.assertGreater(len(execute.mock_calls), 2)
874.         stdout = stdout.getvalue()
875.         self.assertIn('Synchronize unmigrated apps: unmigrated_app_syncdb', stdout)
876.         self.assertIn('Creating tables...', stdout)
877.         table_name = truncate_name('unmigrated_app_syncdb_classroom', connection.ops.max_name_length())
878.         self.assertIn('Creating table %s' % table_name, stdout)
879. 
880.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
881.     def test_migrate_syncdb_app_with_migrations(self):
882.         msg = "Can't use run_syncdb with app 'migrations' as it has migrations."
883.         with self.assertRaisesMessage(CommandError, msg):
884.             call_command('migrate', 'migrations', run_syncdb=True, verbosity=0)
885. 
886.     @override_settings(INSTALLED_APPS=[
887.         'migrations.migrations_test_apps.unmigrated_app_syncdb',
888.         'migrations.migrations_test_apps.unmigrated_app_simple',
889.     ])
890.     def test_migrate_syncdb_app_label(self):
891.         """
892.         Running migrate --run-syncdb with an app_label only creates tables for
893.         the specified app.
894.         """
895.         stdout = io.StringIO()
896.         with mock.patch.object(BaseDatabaseSchemaEditor, 'execute') as execute:
897.             call_command('migrate', 'unmigrated_app_syncdb', run_syncdb=True, stdout=stdout)
898.             create_table_count = len([call for call in execute.mock_calls if 'CREATE TABLE' in str(call)])
899.             self.assertEqual(create_table_count, 2)
900.             self.assertGreater(len(execute.mock_calls), 2)
901.             self.assertIn('Synchronize unmigrated app: unmigrated_app_syncdb', stdout.getvalue())
902. 
903.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
904.     def test_migrate_record_replaced(self):
905.         """
906.         Running a single squashed migration should record all of the original
907.         replaced migrations as run.
908.         """
909.         recorder = MigrationRecorder(connection)
910.         out = io.StringIO()
911.         call_command("migrate", "migrations", verbosity=0)
912.         call_command("showmigrations", "migrations", stdout=out, no_color=True)
913.         self.assertEqual(
914.             'migrations\n'
915.             ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
916.             out.getvalue().lower()
917.         )
918.         applied_migrations = recorder.applied_migrations()
919.         self.assertIn(("migrations", "0001_initial"), applied_migrations)
920.         self.assertIn(("migrations", "0002_second"), applied_migrations)
921.         self.assertIn(("migrations", "0001_squashed_0002"), applied_migrations)
922.         # Rollback changes
923.         call_command("migrate", "migrations", "zero", verbosity=0)
924. 
925.     @override_settings(MIGRATION_MODULES={"migrations": "migrations.test_migrations_squashed"})
926.     def test_migrate_record_squashed(self):
927.         """
928.         Running migrate for a squashed migration should record as run
929.         if all of the replaced migrations have been run (#25231).
930.         """
931.         recorder = MigrationRecorder(connection)
932.         recorder.record_applied("migrations", "0001_initial")
933.         recorder.record_applied("migrations", "0002_second")
934.         out = io.StringIO()
935.         call_command('showmigrations', 'migrations', stdout=out, no_color=True)
936.         self.assertEqual(
937.             "migrations\n"
938.             " [-] 0001_squashed_0002 (2 squashed migrations) "
939.             "run 'manage.py migrate' to finish recording.\n",
940.             out.getvalue().lower(),
941.         )
942. 
943.         out = io.StringIO()
944.         call_command("migrate", "migrations", verbosity=0)
945.         call_command("showmigrations", "migrations", stdout=out, no_color=True)
946.         self.assertEqual(
947.             'migrations\n'
948.             ' [x] 0001_squashed_0002 (2 squashed migrations)\n',
949.             out.getvalue().lower()
950.         )
951.         self.assertIn(
952.             ("migrations", "0001_squashed_0002"),
953.             recorder.applied_migrations()
954.         )
955.         # No changes were actually applied so there is nothing to rollback
956. 
957.     def test_migrate_partially_applied_squashed_migration(self):
958.         """
959.         Migrating to a squashed migration specified by name should succeed
960.         even if it is partially applied.
961.         """
962.         with self.temporary_migration_module(module='migrations.test_migrations'):
963.             recorder = MigrationRecorder(connection)
964.             try:
965.                 call_command('migrate', 'migrations', '0001_initial', verbosity=0)
966.                 call_command(
967.                     'squashmigrations',
968.                     'migrations',
969.                     '0002',
970.                     interactive=False,
971.                     verbosity=0,
972.                 )
973.                 call_command(
974.                     'migrate',
975.                     'migrations',
976.                     '0001_squashed_0002_second',
977.                     verbosity=0,
978.                 )
979.                 applied_migrations = recorder.applied_migrations()
980.                 self.assertIn(('migrations', '0002_second'), applied_migrations)
981.             finally:
982.                 # Unmigrate everything.
983.                 call_command('migrate', 'migrations', 'zero', verbosity=0)
984. 
985.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'})
986.     def test_migrate_backward_to_squashed_migration(self):
987.         try:
988.             call_command('migrate', 'migrations', '0001_squashed_0002', verbosity=0)
989.             self.assertTableExists('migrations_author')
990.             self.assertTableExists('migrations_book')
991.             call_command('migrate', 'migrations', '0001_initial', verbosity=0)
992.             self.assertTableExists('migrations_author')
993.             self.assertTableNotExists('migrations_book')
994.         finally:
995.             # Unmigrate everything.
996.             call_command('migrate', 'migrations', 'zero', verbosity=0)
997. 
998.     @override_settings(MIGRATION_MODULES={'migrations': 'migrations.test_migrations'})
999.     def test_migrate_inconsistent_history(self):
1000.         """
1001.         Running migrate with some migrations applied before their dependencies
1002.         should not be allowed.
1003.         """
1004.         recorder = MigrationRecorder(connection)
1005.         recorder.record_applied("migrations", "0002_second")
1006.         msg = "Migration migrations.0002_second is applied before its dependency migrations.0001_initial"
1007.         with self.assertRaisesMessage(InconsistentMigrationHistory, msg):
1008.             call_command("migrate")
1009.         applied_migrations = recorder.applied_migrations()
1010.         self.assertNotIn(("migrations", "0001_initial"), applied_migrations)
1011. 
1012.     @override_settings(INSTALLED_APPS=[
1013.         'migrations.migrations_test_apps.migrated_unapplied_app',
1014.         'migrations.migrations_test_apps.migrated_app',
1015.     ])
1016.     def test_migrate_not_reflected_changes(self):
1017.         class NewModel1(models.Model):
1018.             class Meta():
1019.                 app_label = 'migrated_app'
1020. 
1021.         class NewModel2(models.Model):
1022.             class Meta():
1023.                 app_label = 'migrated_unapplied_app'
1024. 
1025.         out = io.StringIO()
1026.         try:
1027.             call_command('migrate', verbosity=0)
1028.             call_command('migrate', stdout=out, no_color=True)
1029.             self.assertEqual(
1030.                 "operations to perform:\n"
1031.                 "  apply all migrations: migrated_app, migrated_unapplied_app\n"
1032.                 "running migrations:\n"
1033.                 "  no migrations to apply.\n"
1034.                 "  your models in app(s): 'migrated_app', "
1035.                 "'migrated_unapplied_app' have changes that are not yet "
1036.                 "reflected in a migration, and so won't be applied.\n"
1037.                 "  run 'manage.py makemigrations' to make new migrations, and "
1038.                 "then re-run 'manage.py migrate' to apply them.\n",
1039.                 out.getvalue().lower(),
1040.             )
1041.         finally:
1042.             # Unmigrate everything.
1043.             call_command('migrate', 'migrated_app', 'zero', verbosity=0)
1044.             call_command('migrate', 'migrated_unapplied_app', 'zero', verbosity=0)
1045. 
1046. 
1047. class MakeMigrationsTests(MigrationTestBase):
1048.     """
1049.     Tests running the makemigrations command.
1050.     """
1051. 
1052.     def setUp(self):
1053.         super().setUp()
1054.         self._old_models = apps.app_configs['migrations'].models.copy()
1055. 
1056.     def tearDown(self):
1057.         apps.app_configs['migrations'].models = self._old_models
1058.         apps.all_models['migrations'] = self._old_models
1059.         apps.clear_cache()
1060.         super().tearDown()
1061. 
1062.     def test_files_content(self):
1063.         self.assertTableNotExists("migrations_unicodemodel")
1064.         apps.register_model('migrations', UnicodeModel)
1065.         with self.temporary_migration_module() as migration_dir:
1066.             call_command("makemigrations", "migrations", verbosity=0)
1067. 
1068.             # Check for empty __init__.py file in migrations folder
1069.             init_file = os.path.join(migration_dir, "__init__.py")
1070.             self.assertTrue(os.path.exists(init_file))
1071. 
1072.             with open(init_file) as fp:
1073.                 content = fp.read()
1074.             self.assertEqual(content, '')
1075. 
1076.             # Check for existing 0001_initial.py file in migration folder
1077.             initial_file = os.path.join(migration_dir, "0001_initial.py")
1078.             self.assertTrue(os.path.exists(initial_file))
1079. 
1080.             with open(initial_file, encoding='utf-8') as fp:
1081.                 content = fp.read()
1082.                 self.assertIn('migrations.CreateModel', content)
1083.                 self.assertIn('initial = True', content)
1084. 
1085.                 self.assertIn('úñí©óðé µóðéø', content)  # Meta.verbose_name
1086.                 self.assertIn('úñí©óðé µóðéøß', content)  # Meta.verbose_name_plural
1087.                 self.assertIn('ÚÑÍ¢ÓÐÉ', content)  # title.verbose_name
1088.                 self.assertIn('“Ðjáñgó”', content)  # title.default
1089. 
1090.     def test_makemigrations_order(self):
1091.         """
1092.         makemigrations should recognize number-only migrations (0001.py).
1093.         """
1094.         module = 'migrations.test_migrations_order'
1095.         with self.temporary_migration_module(module=module) as migration_dir:
1096.             if hasattr(importlib, 'invalidate_caches'):
1097.                 # importlib caches os.listdir() on some platforms like macOS
1098.                 # (#23850).
1099.                 importlib.invalidate_caches()
1100.             call_command('makemigrations', 'migrations', '--empty', '-n', 'a', '-v', '0')
1101.             self.assertTrue(os.path.exists(os.path.join(migration_dir, '0002_a.py')))
1102. 
1103.     def test_makemigrations_empty_connections(self):
1104.         empty_connections = ConnectionHandler({'default': {}})
1105.         with mock.patch('django.core.management.commands.makemigrations.connections', new=empty_connections):
1106.             # with no apps
1107.             out = io.StringIO()
1108.             call_command('makemigrations', stdout=out)
1109.             self.assertIn('No changes detected', out.getvalue())
1110.             # with an app
1111.             with self.temporary_migration_module() as migration_dir:
1112.                 call_command('makemigrations', 'migrations', verbosity=0)
1113.                 init_file = os.path.join(migration_dir, '__init__.py')
1114.                 self.assertTrue(os.path.exists(init_file))
1115. 
1116.     @override_settings(INSTALLED_APPS=['migrations', 'migrations2'])
1117.     def test_makemigrations_consistency_checks_respect_routers(self):
1118.         """
1119.         The history consistency checks in makemigrations respect
1120.         settings.DATABASE_ROUTERS.
1121.         """
1122.         def patched_has_table(migration_recorder):
1123.             if migration_recorder.connection is connections['other']:
1124.                 raise Exception('Other connection')
1125.             else:
1126.                 return mock.DEFAULT
1127. 
1128.         self.assertTableNotExists('migrations_unicodemodel')
1129.         apps.register_model('migrations', UnicodeModel)
1130.         with mock.patch.object(
1131.                 MigrationRecorder, 'has_table',
1132.                 autospec=True, side_effect=patched_has_table) as has_table:
1133.             with self.temporary_migration_module() as migration_dir:
1134.                 call_command("makemigrations", "migrations", verbosity=0)
1135.                 initial_file = os.path.join(migration_dir, "0001_initial.py")
1136.                 self.assertTrue(os.path.exists(initial_file))
1137.                 self.assertEqual(has_table.call_count, 1)  # 'default' is checked
1138. 
1139.                 # Router says not to migrate 'other' so consistency shouldn't
1140.                 # be checked.
1141.                 with self.settings(DATABASE_ROUTERS=['migrations.routers.TestRouter']):
1142.                     call_command('makemigrations', 'migrations', verbosity=0)
1143.                 self.assertEqual(has_table.call_count, 2)  # 'default' again
1144. 
1145.                 # With a router that doesn't prohibit migrating 'other',
1146.                 # consistency is checked.
1147.                 with self.settings(DATABASE_ROUTERS=['migrations.routers.DefaultOtherRouter']):
1148.                     with self.assertRaisesMessage(Exception, 'Other connection'):
1149.                         call_command('makemigrations', 'migrations', verbosity=0)
1150.                 self.assertEqual(has_table.call_count, 4)  # 'default' and 'other'
1151. 
1152.                 # With a router that doesn't allow migrating on any database,
1153.                 # no consistency checks are made.
1154.                 with self.settings(DATABASE_ROUTERS=['migrations.routers.TestRouter']):
1155.                     with mock.patch.object(TestRouter, 'allow_migrate', return_value=False) as allow_migrate:
1156.                         call_command('makemigrations', 'migrations', verbosity=0)
1157.                 allow_migrate.assert_any_call('other', 'migrations', model_name='UnicodeModel')
1158.                 # allow_migrate() is called with the correct arguments.
1159.                 self.assertGreater(len(allow_migrate.mock_calls), 0)
1160.                 called_aliases = set()
1161.                 for mock_call in allow_migrate.mock_calls:
1162.                     _, call_args, call_kwargs = mock_call
1163.                     connection_alias, app_name = call_args
1164.                     called_aliases.add(connection_alias)
1165.                     # Raises an error if invalid app_name/model_name occurs.
1166.                     apps.get_app_config(app_name).get_model(call_kwargs['model_name'])
1167.                 self.assertEqual(called_aliases, set(connections))
1168.                 self.assertEqual(has_table.call_count, 4)
1169. 
1170.     def test_failing_migration(self):
1171.         # If a migration fails to serialize, it shouldn't generate an empty file. #21280
1172.         apps.register_model('migrations', UnserializableModel)
1173. 
1174.         with self.temporary_migration_module() as migration_dir:
1175.             with self.assertRaisesMessage(ValueError, 'Cannot serialize'):
1176.                 call_command("makemigrations", "migrations", verbosity=0)
1177. 
1178.             initial_file = os.path.join(migration_dir, "0001_initial.py")
1179.             self.assertFalse(os.path.exists(initial_file))
1180. 
1181.     def test_makemigrations_conflict_exit(self):
1182.         """
1183.         makemigrations exits if it detects a conflict.
1184.         """
1185.         with self.temporary_migration_module(module="migrations.test_migrations_conflict"):
1186.             with self.assertRaises(CommandError) as context:
1187.                 call_command("makemigrations")
1188.         self.assertEqual(
1189.             str(context.exception),
1190.             "Conflicting migrations detected; multiple leaf nodes in the "
1191.             "migration graph: (0002_conflicting_second, 0002_second in "
1192.             "migrations).\n"
1193.             "To fix them run 'python manage.py makemigrations --merge'"
1194.         )
1195. 
1196.     def test_makemigrations_merge_no_conflict(self):
1197.         """
1198.         makemigrations exits if in merge mode with no conflicts.
1199.         """
1200.         out = io.StringIO()
1201.         with self.temporary_migration_module(module="migrations.test_migrations"):
1202.             call_command("makemigrations", merge=True, stdout=out)
1203.         self.assertIn("No conflicts detected to merge.", out.getvalue())
1204. 
1205.     def test_makemigrations_empty_no_app_specified(self):
1206.         """
1207.         makemigrations exits if no app is specified with 'empty' mode.
1208.         """
1209.         msg = 'You must supply at least one app label when using --empty.'
1210.         with self.assertRaisesMessage(CommandError, msg):
1211.             call_command("makemigrations", empty=True)
1212. 
1213.     def test_makemigrations_empty_migration(self):
1214.         """
1215.         makemigrations properly constructs an empty migration.
1216.         """
1217.         with self.temporary_migration_module() as migration_dir:
1218.             call_command("makemigrations", "migrations", empty=True, verbosity=0)
1219. 
1220.             # Check for existing 0001_initial.py file in migration folder
1221.             initial_file = os.path.join(migration_dir, "0001_initial.py")
1222.             self.assertTrue(os.path.exists(initial_file))
1223. 
1224.             with open(initial_file, encoding='utf-8') as fp:
1225.                 content = fp.read()
1226. 
1227.                 # Remove all whitespace to check for empty dependencies and operations
1228.                 content = content.replace(' ', '')
1229.                 self.assertIn('dependencies=[\n]', content)
1230.                 self.assertIn('operations=[\n]', content)
1231. 
1232.     @override_settings(MIGRATION_MODULES={"migrations": None})
1233.     def test_makemigrations_disabled_migrations_for_app(self):
1234.         """
1235.         makemigrations raises a nice error when migrations are disabled for an
1236.         app.
1237.         """
1238.         msg = (
1239.             "Django can't create migrations for app 'migrations' because migrations "
1240.             "have been disabled via the MIGRATION_MODULES setting."
1241.         )
1242.         with self.assertRaisesMessage(ValueError, msg):
1243.             call_command("makemigrations", "migrations", empty=True, verbosity=0)
1244. 
1245.     def test_makemigrations_no_changes_no_apps(self):
1246.         """
1247.         makemigrations exits when there are no changes and no apps are specified.
1248.         """
1249.         out = io.StringIO()
1250.         call_command("makemigrations", stdout=out)
1251.         self.assertIn("No changes detected", out.getvalue())
1252. 
1253.     def test_makemigrations_no_changes(self):
1254.         """
1255.         makemigrations exits when there are no changes to an app.
1256.         """
1257.         out = io.StringIO()
1258.         with self.temporary_migration_module(module="migrations.test_migrations_no_changes"):
1259.             call_command("makemigrations", "migrations", stdout=out)
1260.         self.assertIn("No changes detected in app 'migrations'", out.getvalue())
1261. 
1262.     def test_makemigrations_no_apps_initial(self):
1263.         """
1264.         makemigrations should detect initial is needed on empty migration
1265.         modules if no app provided.
1266.         """
1267.         out = io.StringIO()
1268.         with self.temporary_migration_module(module="migrations.test_migrations_empty"):
1269.             call_command("makemigrations", stdout=out)
1270.         self.assertIn("0001_initial.py", out.getvalue())
1271. 
1272.     def test_makemigrations_no_init(self):
1273.         """Migration directories without an __init__.py file are allowed."""
1274.         out = io.StringIO()
1275.         with self.temporary_migration_module(module='migrations.test_migrations_no_init'):
1276.             call_command('makemigrations', stdout=out)
1277.         self.assertIn('0001_initial.py', out.getvalue())
1278. 
1279.     def test_makemigrations_migrations_announce(self):
1280.         """
1281.         makemigrations announces the migration at the default verbosity level.
1282.         """
1283.         out = io.StringIO()
1284.         with self.temporary_migration_module():
1285.             call_command("makemigrations", "migrations", stdout=out)
1286.         self.assertIn("Migrations for 'migrations'", out.getvalue())
1287. 
1288.     def test_makemigrations_no_common_ancestor(self):
1289.         """
1290.         makemigrations fails to merge migrations with no common ancestor.
1291.         """
1292.         with self.assertRaises(ValueError) as context:
1293.             with self.temporary_migration_module(module="migrations.test_migrations_no_ancestor"):
1294.                 call_command("makemigrations", "migrations", merge=True)
1295.         exception_message = str(context.exception)
1296.         self.assertIn("Could not find common ancestor of", exception_message)
1297.         self.assertIn("0002_second", exception_message)
1298.         self.assertIn("0002_conflicting_second", exception_message)
1299. 
1300.     def test_makemigrations_interactive_reject(self):
1301.         """
1302.         makemigrations enters and exits interactive mode properly.
1303.         """
1304.         # Monkeypatch interactive questioner to auto reject
1305.         with mock.patch('builtins.input', mock.Mock(return_value='N')):
1306.             with self.temporary_migration_module(module="migrations.test_migrations_conflict") as migration_dir:
1307.                 call_command("makemigrations", "migrations", name="merge", merge=True, interactive=True, verbosity=0)
1308.                 merge_file = os.path.join(migration_dir, '0003_merge.py')
1309.                 self.assertFalse(os.path.exists(merge_file))
1310. 
1311.     def test_makemigrations_interactive_accept(self):
1312.         """
1313.         makemigrations enters interactive mode and merges properly.
1314.         """
1315.         # Monkeypatch interactive questioner to auto accept
1316.         with mock.patch('builtins.input', mock.Mock(return_value='y')):
1317.             out = io.StringIO()
1318.             with self.temporary_migration_module(module="migrations.test_migrations_conflict") as migration_dir:
1319.                 call_command("makemigrations", "migrations", name="merge", merge=True, interactive=True, stdout=out)
1320.                 merge_file = os.path.join(migration_dir, '0003_merge.py')
1321.                 self.assertTrue(os.path.exists(merge_file))
1322.             self.assertIn("Created new merge migration", out.getvalue())
1323. 
1324.     def test_makemigrations_default_merge_name(self):
1325.         out = io.StringIO()
1326.         with self.temporary_migration_module(
1327.             module='migrations.test_migrations_conflict'
1328.         ) as migration_dir:
1329.             call_command('makemigrations', 'migrations', merge=True, interactive=False, stdout=out)
1330.             merge_file = os.path.join(
1331.                 migration_dir,
1332.                 '0003_merge_0002_conflicting_second_0002_second.py',
1333.             )
1334.             self.assertIs(os.path.exists(merge_file), True)
1335.         self.assertIn('Created new merge migration %s' % merge_file, out.getvalue())
1336. 
1337.     @mock.patch('django.db.migrations.utils.datetime')
1338.     def test_makemigrations_auto_merge_name(self, mock_datetime):
1339.         mock_datetime.datetime.now.return_value = datetime.datetime(2016, 1, 2, 3, 4)
1340.         with mock.patch('builtins.input', mock.Mock(return_value='y')):
1341.             out = io.StringIO()
1342.             with self.temporary_migration_module(
1343.                 module='migrations.test_migrations_conflict_long_name'
1344.             ) as migration_dir:
1345.                 call_command("makemigrations", "migrations", merge=True, interactive=True, stdout=out)
1346.                 merge_file = os.path.join(migration_dir, '0003_merge_20160102_0304.py')
1347.                 self.assertTrue(os.path.exists(merge_file))
1348.             self.assertIn("Created new merge migration", out.getvalue())
1349. 
1350.     def test_makemigrations_non_interactive_not_null_addition(self):
1351.         """
1352.         Non-interactive makemigrations fails when a default is missing on a
1353.         new not-null field.
1354.         """
1355.         class SillyModel(models.Model):
1356.             silly_field = models.BooleanField(default=False)
1357.             silly_int = models.IntegerField()
1358. 
1359.             class Meta:
1360.                 app_label = "migrations"
1361. 
1362.         with self.assertRaises(SystemExit):
1363.             with self.temporary_migration_module(module="migrations.test_migrations_no_default"):
1364.                 with captured_stdout() as out:
1365.                     call_command('makemigrations', 'migrations', interactive=False)
1366.         self.assertIn(
1367.             "Field 'silly_int' on model 'sillymodel' not migrated: it is "
1368.             "impossible to add a non-nullable field without specifying a "
1369.             "default.",
1370.             out.getvalue(),
1371.         )
1372. 
1373.     def test_makemigrations_interactive_not_null_addition(self):
1374.         """
1375.         makemigrations messages when adding a NOT NULL field in interactive
1376.         mode.
1377.         """
1378.         class Author(models.Model):
1379.             silly_field = models.BooleanField(null=False)
1380. 
1381.             class Meta:
1382.                 app_label = 'migrations'
1383. 
1384.         input_msg = (
1385.             "It is impossible to add a non-nullable field 'silly_field' to "
1386.             "author without specifying a default. This is because the "
1387.             "database needs something to populate existing rows.\n"
1388.             "Please select a fix:\n"
1389.             " 1) Provide a one-off default now (will be set on all existing "
1390.             "rows with a null value for this column)\n"
1391.             " 2) Quit and manually define a default value in models.py."
1392.         )
1393.         with self.temporary_migration_module(module='migrations.test_migrations'):
1394.             # 2 - quit.
1395.             with mock.patch('builtins.input', return_value='2'):
1396.                 with captured_stdout() as out, self.assertRaises(SystemExit):
1397.                     call_command('makemigrations', 'migrations', interactive=True)
1398.             self.assertIn(input_msg, out.getvalue())
1399.             # 1 - provide a default.
1400.             with mock.patch('builtins.input', return_value='1'):
1401.                 with captured_stdout() as out:
1402.                     call_command('makemigrations', 'migrations', interactive=True)
1403.             output = out.getvalue()
1404.             self.assertIn(input_msg, output)
1405.             self.assertIn('Please enter the default value as valid Python.', output)
1406.             self.assertIn(
1407.                 'The datetime and django.utils.timezone modules are '
1408.                 'available, so it is possible to provide e.g. timezone.now as '
1409.                 'a value',
1410.                 output,
1411.             )
1412.             self.assertIn("Type 'exit' to exit this prompt", output)
1413. 
1414.     def test_makemigrations_non_interactive_not_null_alteration(self):
1415.         """
1416.         Non-interactive makemigrations fails when a default is missing on a
1417.         field changed to not-null.
1418.         """
1419.         class Author(models.Model):
1420.             name = models.CharField(max_length=255)
1421.             slug = models.SlugField()
1422.             age = models.IntegerField(default=0)
1423. 
1424.             class Meta:
1425.                 app_label = "migrations"
1426. 
1427.         with self.temporary_migration_module(module="migrations.test_migrations"):
1428.             with captured_stdout() as out:
1429.                 call_command('makemigrations', 'migrations', interactive=False)
1430.         self.assertIn("Alter field slug on author", out.getvalue())
1431.         self.assertIn(
1432.             "Field 'slug' on model 'author' given a default of NOT PROVIDED "
1433.             "and must be corrected.",
1434.             out.getvalue(),
1435.         )
1436. 
1437.     def test_makemigrations_interactive_not_null_alteration(self):
1438.         """
1439.         makemigrations messages when changing a NULL field to NOT NULL in
1440.         interactive mode.
1441.         """
1442.         class Author(models.Model):
1443.             slug = models.SlugField(null=False)
1444. 
1445.             class Meta:
1446.                 app_label = 'migrations'
1447. 
1448.         input_msg = (
1449.             "It is impossible to change a nullable field 'slug' on author to "
1450.             "non-nullable without providing a default. This is because the "
1451.             "database needs something to populate existing rows.\n"
1452.             "Please select a fix:\n"
1453.             " 1) Provide a one-off default now (will be set on all existing "
1454.             "rows with a null value for this column)\n"
1455.             " 2) Ignore for now. Existing rows that contain NULL values will "
1456.             "have to be handled manually, for example with a RunPython or "
1457.             "RunSQL operation.\n"
1458.             " 3) Quit and manually define a default value in models.py."
1459.         )
1460.         with self.temporary_migration_module(module='migrations.test_migrations'):
1461.             # No message appears if --dry-run.
1462.             with captured_stdout() as out:
1463.                 call_command(
1464.                     'makemigrations', 'migrations', interactive=True, dry_run=True,
1465.                 )
1466.             self.assertNotIn(input_msg, out.getvalue())
1467.             # 3 - quit.
1468.             with mock.patch('builtins.input', return_value='3'):
1469.                 with captured_stdout() as out, self.assertRaises(SystemExit):
1470.                     call_command('makemigrations', 'migrations', interactive=True)
1471.             self.assertIn(input_msg, out.getvalue())
1472.             # 1 - provide a default.
1473.             with mock.patch('builtins.input', return_value='1'):
1474.                 with captured_stdout() as out:
1475.                     call_command('makemigrations', 'migrations', interactive=True)
1476.             output = out.getvalue()
1477.             self.assertIn(input_msg, output)
1478.             self.assertIn('Please enter the default value as valid Python.', output)
1479.             self.assertIn(
1480.                 'The datetime and django.utils.timezone modules are '
1481.                 'available, so it is possible to provide e.g. timezone.now as '
1482.                 'a value',
1483.                 output,
1484.             )
1485.             self.assertIn("Type 'exit' to exit this prompt", output)
1486. 
1487.     def test_makemigrations_non_interactive_no_model_rename(self):
1488.         """
1489.         makemigrations adds and removes a possible model rename in
1490.         non-interactive mode.
1491.         """
1492.         class RenamedModel(models.Model):
1493.             silly_field = models.BooleanField(default=False)
1494. 
1495.             class Meta:
1496.                 app_label = "migrations"
1497. 
1498.         out = io.StringIO()
1499.         with self.temporary_migration_module(module="migrations.test_migrations_no_default"):
1500.             call_command("makemigrations", "migrations", interactive=False, stdout=out)
1501.         self.assertIn("Delete model SillyModel", out.getvalue())
1502.         self.assertIn("Create model RenamedModel", out.getvalue())
1503. 
1504.     def test_makemigrations_non_interactive_no_field_rename(self):
1505.         """
1506.         makemigrations adds and removes a possible field rename in
1507.         non-interactive mode.
1508.         """
1509.         class SillyModel(models.Model):
1510.             silly_rename = models.BooleanField(default=False)
1511. 
1512.             class Meta:
1513.                 app_label = "migrations"
1514. 
1515.         out = io.StringIO()
1516.         with self.temporary_migration_module(module="migrations.test_migrations_no_default"):
1517.             call_command("makemigrations", "migrations", interactive=False, stdout=out)
1518.         self.assertIn("Remove field silly_field from sillymodel", out.getvalue())
1519.         self.assertIn("Add field silly_rename to sillymodel", out.getvalue())
1520. 
1521.     @mock.patch('builtins.input', return_value='Y')
1522.     def test_makemigrations_model_rename_interactive(self, mock_input):
1523.         class RenamedModel(models.Model):
1524.             silly_field = models.BooleanField(default=False)
1525. 
1526.             class Meta:
1527.                 app_label = 'migrations'
1528. 
1529.         with self.temporary_migration_module(
1530.             module='migrations.test_migrations_no_default',
1531.         ):
1532.             with captured_stdout() as out:
1533.                 call_command('makemigrations', 'migrations', interactive=True)
1534.         self.assertIn('Rename model SillyModel to RenamedModel', out.getvalue())
1535. 
1536.     @mock.patch('builtins.input', return_value='Y')
1537.     def test_makemigrations_field_rename_interactive(self, mock_input):
1538.         class SillyModel(models.Model):
1539.             silly_rename = models.BooleanField(default=False)
1540. 
1541.             class Meta:
1542.                 app_label = 'migrations'
1543. 
1544.         with self.temporary_migration_module(
1545.             module='migrations.test_migrations_no_default',
1546.         ):
1547.             with captured_stdout() as out:
1548.                 call_command('makemigrations', 'migrations', interactive=True)
1549.         self.assertIn(
1550.             'Rename field silly_field on sillymodel to silly_rename',
1551.             out.getvalue(),
1552.         )
1553. 
1554.     def test_makemigrations_handle_merge(self):
1555.         """
1556.         makemigrations properly merges the conflicting migrations with --noinput.
1557.         """
1558.         out = io.StringIO()
1559.         with self.temporary_migration_module(module="migrations.test_migrations_conflict") as migration_dir:
1560.             call_command("makemigrations", "migrations", name="merge", merge=True, interactive=False, stdout=out)
1561.             merge_file = os.path.join(migration_dir, '0003_merge.py')
1562.             self.assertTrue(os.path.exists(merge_file))
1563.         output = out.getvalue()
1564.         self.assertIn("Merging migrations", output)
1565.         self.assertIn("Branch 0002_second", output)
1566.         self.assertIn("Branch 0002_conflicting_second", output)
1567.         self.assertIn("Created new merge migration", output)
1568. 
1569.     def test_makemigration_merge_dry_run(self):
1570.         """
1571.         makemigrations respects --dry-run option when fixing migration
1572.         conflicts (#24427).
1573.         """
1574.         out = io.StringIO()
1575.         with self.temporary_migration_module(module="migrations.test_migrations_conflict") as migration_dir:
1576.             call_command(
1577.                 "makemigrations", "migrations", name="merge", dry_run=True,
1578.                 merge=True, interactive=False, stdout=out,
1579.             )
1580.             merge_file = os.path.join(migration_dir, '0003_merge.py')
1581.             self.assertFalse(os.path.exists(merge_file))
1582.         output = out.getvalue()
1583.         self.assertIn("Merging migrations", output)
1584.         self.assertIn("Branch 0002_second", output)
1585.         self.assertIn("Branch 0002_conflicting_second", output)
1586.         self.assertNotIn("Created new merge migration", output)
1587. 
1588.     def test_makemigration_merge_dry_run_verbosity_3(self):
1589.         """
1590.         `makemigrations --merge --dry-run` writes the merge migration file to
1591.         stdout with `verbosity == 3` (#24427).
1592.         """
1593.         out = io.StringIO()
1594.         with self.temporary_migration_module(module="migrations.test_migrations_conflict") as migration_dir:
1595.             call_command(
1596.                 "makemigrations", "migrations", name="merge", dry_run=True,
1597.                 merge=True, interactive=False, stdout=out, verbosity=3,
1598.             )
1599.             merge_file = os.path.join(migration_dir, '0003_merge.py')
1600.             self.assertFalse(os.path.exists(merge_file))
1601.         output = out.getvalue()
1602.         self.assertIn("Merging migrations", output)
1603.         self.assertIn("Branch 0002_second", output)
1604.         self.assertIn("Branch 0002_conflicting_second", output)
1605.         self.assertNotIn("Created new merge migration", output)
1606. 
1607.         # Additional output caused by verbosity 3
1608.         # The complete merge migration file that would be written
1609.         self.assertIn("class Migration(migrations.Migration):", output)
1610.         self.assertIn("dependencies = [", output)
1611.         self.assertIn("('migrations', '0002_second')", output)
1612.         self.assertIn("('migrations', '0002_conflicting_second')", output)
1613.         self.assertIn("operations = [", output)
1614.         self.assertIn("]", output)
1615. 
1616.     def test_makemigrations_dry_run(self):
1617.         """
1618.         `makemigrations --dry-run` should not ask for defaults.
1619.         """
1620.         class SillyModel(models.Model):
1621.             silly_field = models.BooleanField(default=False)
1622.             silly_date = models.DateField()  # Added field without a default
1623.             silly_auto_now = models.DateTimeField(auto_now_add=True)
1624. 
1625.             class Meta:
1626.                 app_label = "migrations"
1627. 
1628.         out = io.StringIO()
1629.         with self.temporary_migration_module(module="migrations.test_migrations_no_default"):
1630.             call_command("makemigrations", "migrations", dry_run=True, stdout=out)
1631.         # Output the expected changes directly, without asking for defaults
1632.         self.assertIn("Add field silly_date to sillymodel", out.getvalue())
1633. 
1634.     def test_makemigrations_dry_run_verbosity_3(self):
1635.         """
1636.         Allow `makemigrations --dry-run` to output the migrations file to
1637.         stdout (with verbosity == 3).
1638.         """
1639.         class SillyModel(models.Model):
1640.             silly_field = models.BooleanField(default=False)
1641.             silly_char = models.CharField(default="")
1642. 
1643.             class Meta:
1644.                 app_label = "migrations"
1645. 
1646.         out = io.StringIO()
1647.         with self.temporary_migration_module(module="migrations.test_migrations_no_default"):
1648.             call_command("makemigrations", "migrations", dry_run=True, stdout=out, verbosity=3)
1649. 
1650.         # Normal --dry-run output
1651.         self.assertIn("- Add field silly_char to sillymodel", out.getvalue())
1652. 
1653.         # Additional output caused by verbosity 3
1654.         # The complete migrations file that would be written
1655.         self.assertIn("class Migration(migrations.Migration):", out.getvalue())
1656.         self.assertIn("dependencies = [", out.getvalue())
1657.         self.assertIn("('migrations', '0001_initial'),", out.getvalue())
1658.         self.assertIn("migrations.AddField(", out.getvalue())
1659.         self.assertIn("model_name='sillymodel',", out.getvalue())
1660.         self.assertIn("name='silly_char',", out.getvalue())
1661. 
1662.     def test_makemigrations_migrations_modules_path_not_exist(self):
1663.         """
1664.         makemigrations creates migrations when specifying a custom location
1665.         for migration files using MIGRATION_MODULES if the custom path
1666.         doesn't already exist.
1667.         """
1668.         class SillyModel(models.Model):
1669.             silly_field = models.BooleanField(default=False)
1670. 
1671.             class Meta:
1672.                 app_label = "migrations"
1673. 
1674.         out = io.StringIO()
1675.         migration_module = "migrations.test_migrations_path_doesnt_exist.foo.bar"
1676.         with self.temporary_migration_module(module=migration_module) as migration_dir:
1677.             call_command("makemigrations", "migrations", stdout=out)
1678. 
1679.             # Migrations file is actually created in the expected path.
1680.             initial_file = os.path.join(migration_dir, "0001_initial.py")
1681.             self.assertTrue(os.path.exists(initial_file))
1682. 
1683.         # Command output indicates the migration is created.
1684.         self.assertIn(" - Create model SillyModel", out.getvalue())
1685. 
1686.     @override_settings(MIGRATION_MODULES={'migrations': 'some.nonexistent.path'})
1687.     def test_makemigrations_migrations_modules_nonexistent_toplevel_package(self):
1688.         msg = (
1689.             'Could not locate an appropriate location to create migrations '
1690.             'package some.nonexistent.path. Make sure the toplevel package '
1691.             'exists and can be imported.'
1692.         )
1693.         with self.assertRaisesMessage(ValueError, msg):
1694.             call_command('makemigrations', 'migrations', empty=True, verbosity=0)
1695. 
1696.     def test_makemigrations_interactive_by_default(self):
1697.         """
1698.         The user is prompted to merge by default if there are conflicts and
1699.         merge is True. Answer negative to differentiate it from behavior when
1700.         --noinput is specified.
1701.         """
1702.         # Monkeypatch interactive questioner to auto reject
1703.         out = io.StringIO()
1704.         with mock.patch('builtins.input', mock.Mock(return_value='N')):
1705.             with self.temporary_migration_module(module="migrations.test_migrations_conflict") as migration_dir:
1706.                 call_command("makemigrations", "migrations", name="merge", merge=True, stdout=out)
1707.                 merge_file = os.path.join(migration_dir, '0003_merge.py')
1708.                 # This will fail if interactive is False by default
1709.                 self.assertFalse(os.path.exists(merge_file))
1710.             self.assertNotIn("Created new merge migration", out.getvalue())
1711. 
1712.     @override_settings(
1713.         INSTALLED_APPS=[
1714.             "migrations",
1715.             "migrations.migrations_test_apps.unspecified_app_with_conflict"])
1716.     def test_makemigrations_unspecified_app_with_conflict_no_merge(self):
1717.         """
1718.         makemigrations does not raise a CommandError when an unspecified app
1719.         has conflicting migrations.
1720.         """
1721.         with self.temporary_migration_module(module="migrations.test_migrations_no_changes"):
1722.             call_command("makemigrations", "migrations", merge=False, verbosity=0)
1723. 
1724.     @override_settings(
1725.         INSTALLED_APPS=[
1726.             "migrations.migrations_test_apps.migrated_app",
1727.             "migrations.migrations_test_apps.unspecified_app_with_conflict"])
1728.     def test_makemigrations_unspecified_app_with_conflict_merge(self):
1729.         """
1730.         makemigrations does not create a merge for an unspecified app even if
1731.         it has conflicting migrations.
1732.         """
1733.         # Monkeypatch interactive questioner to auto accept
1734.         with mock.patch('builtins.input', mock.Mock(return_value='y')):
1735.             out = io.StringIO()
1736.             with self.temporary_migration_module(app_label="migrated_app") as migration_dir:
1737.                 call_command("makemigrations", "migrated_app", name="merge", merge=True, interactive=True, stdout=out)
1738.                 merge_file = os.path.join(migration_dir, '0003_merge.py')
1739.                 self.assertFalse(os.path.exists(merge_file))
1740.             self.assertIn("No conflicts detected to merge.", out.getvalue())
1741. 
1742.     @override_settings(
1743.         INSTALLED_APPS=[
1744.             "migrations.migrations_test_apps.migrated_app",
1745.             "migrations.migrations_test_apps.conflicting_app_with_dependencies"])
1746.     def test_makemigrations_merge_dont_output_dependency_operations(self):
1747.         """
1748.         makemigrations --merge does not output any operations from apps that
1749.         don't belong to a given app.
1750.         """
1751.         # Monkeypatch interactive questioner to auto accept
1752.         with mock.patch('builtins.input', mock.Mock(return_value='N')):
1753.             out = io.StringIO()
1754.             with mock.patch('django.core.management.color.supports_color', lambda *args: False):
1755.                 call_command(
1756.                     "makemigrations", "conflicting_app_with_dependencies",
1757.                     merge=True, interactive=True, stdout=out
1758.                 )
1759.             self.assertEqual(
1760.                 out.getvalue().lower(),
1761.                 'merging conflicting_app_with_dependencies\n'
1762.                 '  branch 0002_conflicting_second\n'
1763.                 '    - create model something\n'
1764.                 '  branch 0002_second\n'
1765.                 '    - delete model tribble\n'
1766.                 '    - remove field silly_field from author\n'
1767.                 '    - add field rating to author\n'
1768.                 '    - create model book\n'
1769.             )
1770. 
1771.     def test_makemigrations_with_custom_name(self):
1772.         """
1773.         makemigrations --name generate a custom migration name.
1774.         """
1775.         with self.temporary_migration_module() as migration_dir:
1776. 
1777.             def cmd(migration_count, migration_name, *args):
1778.                 call_command("makemigrations", "migrations", "--verbosity", "0", "--name", migration_name, *args)
1779.                 migration_file = os.path.join(migration_dir, "%s_%s.py" % (migration_count, migration_name))
1780.                 # Check for existing migration file in migration folder
1781.                 self.assertTrue(os.path.exists(migration_file))
1782.                 with open(migration_file, encoding='utf-8') as fp:
1783.                     content = fp.read()
1784.                     content = content.replace(" ", "")
1785.                 return content
1786. 
1787.             # generate an initial migration
1788.             migration_name_0001 = "my_initial_migration"
1789.             content = cmd("0001", migration_name_0001)
1790.             self.assertIn("dependencies=[\n]", content)
1791. 
1792.             # importlib caches os.listdir() on some platforms like macOS
1793.             # (#23850).
1794.             if hasattr(importlib, 'invalidate_caches'):
1795.                 importlib.invalidate_caches()
1796. 
1797.             # generate an empty migration
1798.             migration_name_0002 = "my_custom_migration"
1799.             content = cmd("0002", migration_name_0002, "--empty")
1800.             self.assertIn("dependencies=[\n('migrations','0001_%s'),\n]" % migration_name_0001, content)
1801.             self.assertIn("operations=[\n]", content)
1802. 
1803.     def test_makemigrations_with_invalid_custom_name(self):
1804.         msg = 'The migration name must be a valid Python identifier.'
1805.         with self.assertRaisesMessage(CommandError, msg):
1806.             call_command('makemigrations', 'migrations', '--name', 'invalid name', '--empty')
1807. 
1808.     def test_makemigrations_check(self):
1809.         """
1810.         makemigrations --check should exit with a non-zero status when
1811.         there are changes to an app requiring migrations.
1812.         """
1813.         with self.temporary_migration_module():
1814.             with self.assertRaises(SystemExit):
1815.                 call_command("makemigrations", "--check", "migrations", verbosity=0)
1816. 
1817.         with self.temporary_migration_module(module="migrations.test_migrations_no_changes"):
1818.             call_command("makemigrations", "--check", "migrations", verbosity=0)
1819. 
1820.     def test_makemigrations_migration_path_output(self):
1821.         """
1822.         makemigrations should print the relative paths to the migrations unless
1823.         they are outside of the current tree, in which case the absolute path
1824.         should be shown.
1825.         """
1826.         out = io.StringIO()
1827.         apps.register_model('migrations', UnicodeModel)
1828.         with self.temporary_migration_module() as migration_dir:
1829.             call_command("makemigrations", "migrations", stdout=out)
1830.             self.assertIn(os.path.join(migration_dir, '0001_initial.py'), out.getvalue())
1831. 
1832.     def test_makemigrations_migration_path_output_valueerror(self):
1833.         """
1834.         makemigrations prints the absolute path if os.path.relpath() raises a
1835.         ValueError when it's impossible to obtain a relative path, e.g. on
1836.         Windows if Django is installed on a different drive than where the
1837.         migration files are created.
1838.         """
1839.         out = io.StringIO()
1840.         with self.temporary_migration_module() as migration_dir:
1841.             with mock.patch('os.path.relpath', side_effect=ValueError):
1842.                 call_command('makemigrations', 'migrations', stdout=out)
1843.         self.assertIn(os.path.join(migration_dir, '0001_initial.py'), out.getvalue())
1844. 
1845.     def test_makemigrations_inconsistent_history(self):
1846.         """
1847.         makemigrations should raise InconsistentMigrationHistory exception if
1848.         there are some migrations applied before their dependencies.
1849.         """
1850.         recorder = MigrationRecorder(connection)
1851.         recorder.record_applied('migrations', '0002_second')
1852.         msg = "Migration migrations.0002_second is applied before its dependency migrations.0001_initial"
1853.         with self.temporary_migration_module(module="migrations.test_migrations"):
1854.             with self.assertRaisesMessage(InconsistentMigrationHistory, msg):
1855.                 call_command("makemigrations")
1856. 
1857.     def test_makemigrations_inconsistent_history_db_failure(self):
1858.         msg = (
1859.             "Got an error checking a consistent migration history performed "
1860.             "for database connection 'default': could not connect to server"
1861.         )
1862.         with mock.patch(
1863.             'django.db.migrations.loader.MigrationLoader.check_consistent_history',
1864.             side_effect=OperationalError('could not connect to server'),
1865.         ):
1866.             with self.temporary_migration_module():
1867.                 with self.assertWarns(RuntimeWarning) as cm:
1868.                     call_command('makemigrations', verbosity=0)
1869.                 self.assertEqual(str(cm.warning), msg)
1870. 
1871.     @mock.patch('builtins.input', return_value='1')
1872.     @mock.patch('django.db.migrations.questioner.sys.stdin', mock.MagicMock(encoding=sys.getdefaultencoding()))
1873.     def test_makemigrations_auto_now_add_interactive(self, *args):
1874.         """
1875.         makemigrations prompts the user when adding auto_now_add to an existing
1876.         model.
1877.         """
1878.         class Entry(models.Model):
1879.             title = models.CharField(max_length=255)
1880.             creation_date = models.DateTimeField(auto_now_add=True)
1881. 
1882.             class Meta:
1883.                 app_label = 'migrations'
1884. 
1885.         input_msg = (
1886.             "It is impossible to add the field 'creation_date' with "
1887.             "'auto_now_add=True' to entry without providing a default. This "
1888.             "is because the database needs something to populate existing "
1889.             "rows.\n\n"
1890.             " 1) Provide a one-off default now which will be set on all "
1891.             "existing rows\n"
1892.             " 2) Quit and manually define a default value in models.py."
1893.         )
1894.         # Monkeypatch interactive questioner to auto accept
1895.         with mock.patch('django.db.migrations.questioner.sys.stdout', new_callable=io.StringIO) as prompt_stdout:
1896.             out = io.StringIO()
1897.             with self.temporary_migration_module(module='migrations.test_auto_now_add'):
1898.                 call_command('makemigrations', 'migrations', interactive=True, stdout=out)
1899.             output = out.getvalue()
1900.             prompt_output = prompt_stdout.getvalue()
1901.             self.assertIn(input_msg, prompt_output)
1902.             self.assertIn(
1903.                 'Please enter the default value as valid Python.',
1904.                 prompt_output,
1905.             )
1906.             self.assertIn(
1907.                 "Accept the default 'timezone.now' by pressing 'Enter' or "
1908.                 "provide another value.",
1909.                 prompt_output,
1910.             )
1911.             self.assertIn("Type 'exit' to exit this prompt", prompt_output)
1912.             self.assertIn("Add field creation_date to entry", output)
1913. 
1914.     @mock.patch('builtins.input', return_value='2')
1915.     def test_makemigrations_auto_now_add_interactive_quit(self, mock_input):
1916.         class Author(models.Model):
1917.             publishing_date = models.DateField(auto_now_add=True)
1918. 
1919.             class Meta:
1920.                 app_label = 'migrations'
1921. 
1922.         with self.temporary_migration_module(module='migrations.test_migrations'):
1923.             with captured_stdout():
1924.                 with self.assertRaises(SystemExit):
1925.                     call_command('makemigrations', 'migrations', interactive=True)
1926. 
1927.     def test_makemigrations_non_interactive_auto_now_add_addition(self):
1928.         """
1929.         Non-interactive makemigrations fails when a default is missing on a
1930.         new field when auto_now_add=True.
1931.         """
1932.         class Entry(models.Model):
1933.             creation_date = models.DateTimeField(auto_now_add=True)
1934. 
1935.             class Meta:
1936.                 app_label = 'migrations'
1937. 
1938.         with self.temporary_migration_module(module='migrations.test_auto_now_add'):
1939.             with self.assertRaises(SystemExit), captured_stdout() as out:
1940.                 call_command('makemigrations', 'migrations', interactive=False)
1941.         self.assertIn(
1942.             "Field 'creation_date' on model 'entry' not migrated: it is "
1943.             "impossible to add a field with 'auto_now_add=True' without "
1944.             "specifying a default.",
1945.             out.getvalue(),
1946.         )
1947. 
1948.     def test_makemigrations_interactive_unique_callable_default_addition(self):
1949.         """
1950.         makemigrations prompts the user when adding a unique field with
1951.         a callable default.
1952.         """
1953.         class Book(models.Model):
1954.             created = models.DateTimeField(unique=True, default=timezone.now)
1955. 
1956.             class Meta:
1957.                 app_label = 'migrations'
1958. 
1959.         version = get_docs_version()
1960.         input_msg = (
1961.             f'Callable default on unique field book.created will not generate '
1962.             f'unique values upon migrating.\n'
1963.             f'Please choose how to proceed:\n\n'
1964.             f' 1) Continue making this migration as the first step in writing '
1965.             f'a manual migration to generate unique values described here: '
1966.             f'https://docs.djangoproject.com/en/{version}/howto/'
1967.             f'writing-migrations/#migrations-that-add-unique-fields.\n'
1968.             f' 2) Quit and edit field options in models.py.\n'
1969.         )
1970.         with self.temporary_migration_module(module='migrations.test_migrations'):
1971.             # 2 - quit.
1972.             with mock.patch('builtins.input', return_value='2'):
1973.                 with captured_stdout() as out, self.assertRaises(SystemExit):
1974.                     call_command('makemigrations', 'migrations', interactive=True)
1975.             out_value = out.getvalue()
1976.             self.assertIn(input_msg, out_value)
1977.             self.assertNotIn('Add field created to book', out_value)
1978.             # 1 - continue.
1979.             with mock.patch('builtins.input', return_value='1'):
1980.                 with captured_stdout() as out:
1981.                     call_command('makemigrations', 'migrations', interactive=True)
1982.             out_value = out.getvalue()
1983.             self.assertIn(input_msg, out_value)
1984.             self.assertIn('Add field created to book', out_value)
1985. 
1986.     def test_makemigrations_non_interactive_unique_callable_default_addition(self):
1987.         class Book(models.Model):
1988.             created = models.DateTimeField(unique=True, default=timezone.now)
1989. 
1990.             class Meta:
1991.                 app_label = 'migrations'
1992. 
1993.         with self.temporary_migration_module(module='migrations.test_migrations'):
1994.             with captured_stdout() as out:
1995.                 call_command('makemigrations', 'migrations', interactive=False)
1996.             out_value = out.getvalue()
1997.             self.assertIn('Add field created to book', out_value)
1998. 
1999.     @override_settings(
2000.         MIGRATION_MODULES={'migrations': 'migrations.test_migrations_squashed'},
2001.     )
2002.     def test_makemigrations_continues_number_sequence_after_squash(self):
2003.         with self.temporary_migration_module(module='migrations.test_migrations_squashed'):
2004.             with captured_stdout() as out:
2005.                 call_command(
2006.                     'makemigrations',
2007.                     'migrations',
2008.                     interactive=False,
2009.                     empty=True,
2010.                 )
2011.             out_value = out.getvalue()
2012.             self.assertIn('0003_auto', out_value)
2013. 
2014. 
2015. class SquashMigrationsTests(MigrationTestBase):
2016.     """
2017.     Tests running the squashmigrations command.
2018.     """
2019. 
2020.     def test_squashmigrations_squashes(self):
2021.         """
2022.         squashmigrations squashes migrations.
2023.         """
2024.         out = io.StringIO()
2025.         with self.temporary_migration_module(module="migrations.test_migrations") as migration_dir:
2026.             call_command('squashmigrations', 'migrations', '0002', interactive=False, stdout=out, no_color=True)
2027. 
2028.             squashed_migration_file = os.path.join(migration_dir, "0001_squashed_0002_second.py")
2029.             self.assertTrue(os.path.exists(squashed_migration_file))
2030.         self.assertEqual(
2031.             out.getvalue(),
2032.             'Will squash the following migrations:\n'
2033.             ' - 0001_initial\n'
2034.             ' - 0002_second\n'
2035.             'Optimizing...\n'
2036.             '  Optimized from 8 operations to 2 operations.\n'
2037.             'Created new squashed migration %s\n'
2038.             '  You should commit this migration but leave the old ones in place;\n'
2039.             '  the new migration will be used for new installs. Once you are sure\n'
2040.             '  all instances of the codebase have applied the migrations you squashed,\n'
2041.             '  you can delete them.\n' % squashed_migration_file
2042.         )
2043. 
2044.     def test_squashmigrations_initial_attribute(self):
2045.         with self.temporary_migration_module(module="migrations.test_migrations") as migration_dir:
2046.             call_command("squashmigrations", "migrations", "0002", interactive=False, verbosity=0)
2047. 
2048.             squashed_migration_file = os.path.join(migration_dir, "0001_squashed_0002_second.py")
2049.             with open(squashed_migration_file, encoding='utf-8') as fp:
2050.                 content = fp.read()
2051.                 self.assertIn("initial = True", content)
2052. 
2053.     def test_squashmigrations_optimizes(self):
2054.         """
2055.         squashmigrations optimizes operations.
2056.         """
2057.         out = io.StringIO()
2058.         with self.temporary_migration_module(module="migrations.test_migrations"):
2059.             call_command("squashmigrations", "migrations", "0002", interactive=False, verbosity=1, stdout=out)
2060.         self.assertIn("Optimized from 8 operations to 2 operations.", out.getvalue())
2061. 
2062.     def test_ticket_23799_squashmigrations_no_optimize(self):
2063.         """
2064.         squashmigrations --no-optimize doesn't optimize operations.
2065.         """
2066.         out = io.StringIO()
2067.         with self.temporary_migration_module(module="migrations.test_migrations"):
2068.             call_command("squashmigrations", "migrations", "0002",
2069.                          interactive=False, verbosity=1, no_optimize=True, stdout=out)
2070.         self.assertIn("Skipping optimization", out.getvalue())
2071. 
2072.     def test_squashmigrations_valid_start(self):
2073.         """
2074.         squashmigrations accepts a starting migration.
2075.         """
2076.         out = io.StringIO()
2077.         with self.temporary_migration_module(module="migrations.test_migrations_no_changes") as migration_dir:
2078.             call_command("squashmigrations", "migrations", "0002", "0003",
2079.                          interactive=False, verbosity=1, stdout=out)
2080. 
2081.             squashed_migration_file = os.path.join(migration_dir, "0002_second_squashed_0003_third.py")
2082.             with open(squashed_migration_file, encoding='utf-8') as fp:
2083.                 content = fp.read()
2084.                 self.assertIn("        ('migrations', '0001_initial')", content)
2085.                 self.assertNotIn("initial = True", content)
2086.         out = out.getvalue()
2087.         self.assertNotIn(" - 0001_initial", out)
2088.         self.assertIn(" - 0002_second", out)
2089.         self.assertIn(" - 0003_third", out)
2090. 
2091.     def test_squashmigrations_invalid_start(self):
2092.         """
2093.         squashmigrations doesn't accept a starting migration after the ending migration.
2094.         """
2095.         with self.temporary_migration_module(module="migrations.test_migrations_no_changes"):
2096.             msg = (
2097.                 "The migration 'migrations.0003_third' cannot be found. Maybe "
2098.                 "it comes after the migration 'migrations.0002_second'"
2099.             )
2100.             with self.assertRaisesMessage(CommandError, msg):
2101.                 call_command("squashmigrations", "migrations", "0003", "0002", interactive=False, verbosity=0)
2102. 
2103.     def test_squashed_name_with_start_migration_name(self):
2104.         """--squashed-name specifies the new migration's name."""
2105.         squashed_name = 'squashed_name'
2106.         with self.temporary_migration_module(module='migrations.test_migrations') as migration_dir:
2107.             call_command(
2108.                 'squashmigrations', 'migrations', '0001', '0002',
2109.                 squashed_name=squashed_name, interactive=False, verbosity=0,
2110.             )
2111.             squashed_migration_file = os.path.join(migration_dir, '0001_%s.py' % squashed_name)
2112.             self.assertTrue(os.path.exists(squashed_migration_file))
2113. 
2114.     def test_squashed_name_without_start_migration_name(self):
2115.         """--squashed-name also works if a start migration is omitted."""
2116.         squashed_name = 'squashed_name'
2117.         with self.temporary_migration_module(module="migrations.test_migrations") as migration_dir:
2118.             call_command(
2119.                 'squashmigrations', 'migrations', '0001',
2120.                 squashed_name=squashed_name, interactive=False, verbosity=0,
2121.             )
2122.             squashed_migration_file = os.path.join(migration_dir, '0001_%s.py' % squashed_name)
2123.             self.assertTrue(os.path.exists(squashed_migration_file))
2124. 
2125.     def test_squashed_name_exists(self):
2126.         msg = 'Migration 0001_initial already exists. Use a different name.'
2127.         with self.temporary_migration_module(module='migrations.test_migrations'):
2128.             with self.assertRaisesMessage(CommandError, msg):
2129.                 call_command(
2130.                     'squashmigrations', 'migrations', '0001', '0002',
2131.                     squashed_name='initial', interactive=False, verbosity=0,
2132.                 )
2133. 
2134.     def test_squashmigrations_manual_porting(self):
2135.         out = io.StringIO()
2136.         with self.temporary_migration_module(
2137.             module='migrations.test_migrations_manual_porting',
2138.         ) as migration_dir:
2139.             call_command(
2140.                 'squashmigrations',
2141.                 'migrations',
2142.                 '0002',
2143.                 interactive=False,
2144.                 stdout=out,
2145.                 no_color=True,
2146.             )
2147.             squashed_migration_file = os.path.join(
2148.                 migration_dir,
2149.                 '0001_squashed_0002_second.py',
2150.             )
2151.             self.assertTrue(os.path.exists(squashed_migration_file))
2152.         self.assertEqual(
2153.             out.getvalue(),
2154.             f'Will squash the following migrations:\n'
2155.             f' - 0001_initial\n'
2156.             f' - 0002_second\n'
2157.             f'Optimizing...\n'
2158.             f'  No optimizations possible.\n'
2159.             f'Created new squashed migration {squashed_migration_file}\n'
2160.             f'  You should commit this migration but leave the old ones in place;\n'
2161.             f'  the new migration will be used for new installs. Once you are sure\n'
2162.             f'  all instances of the codebase have applied the migrations you squashed,\n'
2163.             f'  you can delete them.\n'
2164.             f'Manual porting required\n'
2165.             f'  Your migrations contained functions that must be manually copied over,\n'
2166.             f'  as we could not safely copy their implementation.\n'
2167.             f'  See the comment at the top of the squashed migration for details.\n'
2168.         )
2169. 
2170. 
2171. class AppLabelErrorTests(TestCase):
2172.     """
2173.     This class inherits TestCase because MigrationTestBase uses
2174.     `available_apps = ['migrations']` which means that it's the only installed
2175.     app. 'django.contrib.auth' must be in INSTALLED_APPS for some of these
2176.     tests.
2177.     """
2178.     nonexistent_app_error = "No installed app with label 'nonexistent_app'."
2179.     did_you_mean_auth_error = (
2180.         "No installed app with label 'django.contrib.auth'. Did you mean "
2181.         "'auth'?"
2182.     )
2183. 
2184.     def test_makemigrations_nonexistent_app_label(self):
2185.         err = io.StringIO()
2186.         with self.assertRaises(SystemExit):
2187.             call_command('makemigrations', 'nonexistent_app', stderr=err)
2188.         self.assertIn(self.nonexistent_app_error, err.getvalue())
2189. 
2190.     def test_makemigrations_app_name_specified_as_label(self):
2191.         err = io.StringIO()
2192.         with self.assertRaises(SystemExit):
2193.             call_command('makemigrations', 'django.contrib.auth', stderr=err)
2194.         self.assertIn(self.did_you_mean_auth_error, err.getvalue())
2195. 
2196.     def test_migrate_nonexistent_app_label(self):
2197.         with self.assertRaisesMessage(CommandError, self.nonexistent_app_error):
2198.             call_command('migrate', 'nonexistent_app')
2199. 
2200.     def test_migrate_app_name_specified_as_label(self):
2201.         with self.assertRaisesMessage(CommandError, self.did_you_mean_auth_error):
2202.             call_command('migrate', 'django.contrib.auth')
2203. 
2204.     def test_showmigrations_nonexistent_app_label(self):
2205.         err = io.StringIO()
2206.         with self.assertRaises(SystemExit):
2207.             call_command('showmigrations', 'nonexistent_app', stderr=err)
2208.         self.assertIn(self.nonexistent_app_error, err.getvalue())
2209. 
2210.     def test_showmigrations_app_name_specified_as_label(self):
2211.         err = io.StringIO()
2212.         with self.assertRaises(SystemExit):
2213.             call_command('showmigrations', 'django.contrib.auth', stderr=err)
2214.         self.assertIn(self.did_you_mean_auth_error, err.getvalue())
2215. 
2216.     def test_sqlmigrate_nonexistent_app_label(self):
2217.         with self.assertRaisesMessage(CommandError, self.nonexistent_app_error):
2218.             call_command('sqlmigrate', 'nonexistent_app', '0002')
2219. 
2220.     def test_sqlmigrate_app_name_specified_as_label(self):
2221.         with self.assertRaisesMessage(CommandError, self.did_you_mean_auth_error):
2222.             call_command('sqlmigrate', 'django.contrib.auth', '0002')
2223. 
2224.     def test_squashmigrations_nonexistent_app_label(self):
2225.         with self.assertRaisesMessage(CommandError, self.nonexistent_app_error):
2226.             call_command('squashmigrations', 'nonexistent_app', '0002')
2227. 
2228.     def test_squashmigrations_app_name_specified_as_label(self):
2229.         with self.assertRaisesMessage(CommandError, self.did_you_mean_auth_error):
2230.             call_command('squashmigrations', 'django.contrib.auth', '0002')


File: tests/migrations/test_multidb.py
Line number range: 1 - 171
Content:
1. from django.db import connection, migrations, models
2. from django.db.migrations.state import ProjectState
3. from django.test import override_settings
4. 
5. from .test_base import OperationTestBase
6. 
7. 
8. class AgnosticRouter:
9.     """
10.     A router that doesn't have an opinion regarding migrating.
11.     """
12.     def allow_migrate(self, db, app_label, **hints):
13.         return None
14. 
15. 
16. class MigrateNothingRouter:
17.     """
18.     A router that doesn't allow migrating.
19.     """
20.     def allow_migrate(self, db, app_label, **hints):
21.         return False
22. 
23. 
24. class MigrateEverythingRouter:
25.     """
26.     A router that always allows migrating.
27.     """
28.     def allow_migrate(self, db, app_label, **hints):
29.         return True
30. 
31. 
32. class MigrateWhenFooRouter:
33.     """
34.     A router that allows migrating depending on a hint.
35.     """
36.     def allow_migrate(self, db, app_label, **hints):
37.         return hints.get('foo', False)
38. 
39. 
40. class MultiDBOperationTests(OperationTestBase):
41.     databases = {'default', 'other'}
42. 
43.     def _test_create_model(self, app_label, should_run):
44.         """
45.         CreateModel honors multi-db settings.
46.         """
47.         operation = migrations.CreateModel(
48.             "Pony",
49.             [("id", models.AutoField(primary_key=True))],
50.         )
51.         # Test the state alteration
52.         project_state = ProjectState()
53.         new_state = project_state.clone()
54.         operation.state_forwards(app_label, new_state)
55.         # Test the database alteration
56.         self.assertTableNotExists("%s_pony" % app_label)
57.         with connection.schema_editor() as editor:
58.             operation.database_forwards(app_label, editor, project_state, new_state)
59.         if should_run:
60.             self.assertTableExists("%s_pony" % app_label)
61.         else:
62.             self.assertTableNotExists("%s_pony" % app_label)
63.         # And test reversal
64.         with connection.schema_editor() as editor:
65.             operation.database_backwards(app_label, editor, new_state, project_state)
66.         self.assertTableNotExists("%s_pony" % app_label)
67. 
68.     @override_settings(DATABASE_ROUTERS=[AgnosticRouter()])
69.     def test_create_model(self):
70.         """
71.         Test when router doesn't have an opinion (i.e. CreateModel should run).
72.         """
73.         self._test_create_model("test_mltdb_crmo", should_run=True)
74. 
75.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
76.     def test_create_model2(self):
77.         """
78.         Test when router returns False (i.e. CreateModel shouldn't run).
79.         """
80.         self._test_create_model("test_mltdb_crmo2", should_run=False)
81. 
82.     @override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()])
83.     def test_create_model3(self):
84.         """
85.         Test when router returns True (i.e. CreateModel should run).
86.         """
87.         self._test_create_model("test_mltdb_crmo3", should_run=True)
88. 
89.     def test_create_model4(self):
90.         """
91.         Test multiple routers.
92.         """
93.         with override_settings(DATABASE_ROUTERS=[AgnosticRouter(), AgnosticRouter()]):
94.             self._test_create_model("test_mltdb_crmo4", should_run=True)
95.         with override_settings(DATABASE_ROUTERS=[MigrateNothingRouter(), MigrateEverythingRouter()]):
96.             self._test_create_model("test_mltdb_crmo4", should_run=False)
97.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter(), MigrateNothingRouter()]):
98.             self._test_create_model("test_mltdb_crmo4", should_run=True)
99. 
100.     def _test_run_sql(self, app_label, should_run, hints=None):
101.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
102.             project_state = self.set_up_test_model(app_label)
103. 
104.         sql = """
105.         INSERT INTO {0}_pony (pink, weight) VALUES (1, 3.55);
106.         INSERT INTO {0}_pony (pink, weight) VALUES (3, 5.0);
107.         """.format(app_label)
108. 
109.         operation = migrations.RunSQL(sql, hints=hints or {})
110.         # Test the state alteration does nothing
111.         new_state = project_state.clone()
112.         operation.state_forwards(app_label, new_state)
113.         self.assertEqual(new_state, project_state)
114.         # Test the database alteration
115.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
116.         with connection.schema_editor() as editor:
117.             operation.database_forwards(app_label, editor, project_state, new_state)
118.         Pony = project_state.apps.get_model(app_label, "Pony")
119.         if should_run:
120.             self.assertEqual(Pony.objects.count(), 2)
121.         else:
122.             self.assertEqual(Pony.objects.count(), 0)
123. 
124.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
125.     def test_run_sql_migrate_nothing_router(self):
126.         self._test_run_sql("test_mltdb_runsql", should_run=False)
127. 
128.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
129.     def test_run_sql_migrate_foo_router_without_hints(self):
130.         self._test_run_sql("test_mltdb_runsql2", should_run=False)
131. 
132.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
133.     def test_run_sql_migrate_foo_router_with_hints(self):
134.         self._test_run_sql('test_mltdb_runsql3', should_run=True, hints={'foo': True})
135. 
136.     def _test_run_python(self, app_label, should_run, hints=None):
137.         with override_settings(DATABASE_ROUTERS=[MigrateEverythingRouter()]):
138.             project_state = self.set_up_test_model(app_label)
139. 
140.         # Create the operation
141.         def inner_method(models, schema_editor):
142.             Pony = models.get_model(app_label, "Pony")
143.             Pony.objects.create(pink=1, weight=3.55)
144.             Pony.objects.create(weight=5)
145. 
146.         operation = migrations.RunPython(inner_method, hints=hints or {})
147.         # Test the state alteration does nothing
148.         new_state = project_state.clone()
149.         operation.state_forwards(app_label, new_state)
150.         self.assertEqual(new_state, project_state)
151.         # Test the database alteration
152.         self.assertEqual(project_state.apps.get_model(app_label, "Pony").objects.count(), 0)
153.         with connection.schema_editor() as editor:
154.             operation.database_forwards(app_label, editor, project_state, new_state)
155.         Pony = project_state.apps.get_model(app_label, "Pony")
156.         if should_run:
157.             self.assertEqual(Pony.objects.count(), 2)
158.         else:
159.             self.assertEqual(Pony.objects.count(), 0)
160. 
161.     @override_settings(DATABASE_ROUTERS=[MigrateNothingRouter()])
162.     def test_run_python_migrate_nothing_router(self):
163.         self._test_run_python("test_mltdb_runpython", should_run=False)
164. 
165.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
166.     def test_run_python_migrate_foo_router_without_hints(self):
167.         self._test_run_python("test_mltdb_runpython2", should_run=False)
168. 
169.     @override_settings(DATABASE_ROUTERS=[MigrateWhenFooRouter()])
170.     def test_run_python_migrate_foo_router_with_hints(self):
171.         self._test_run_python('test_mltdb_runpython3', should_run=True, hints={'foo': True})


File: tests/multiple_database/routers.py
Line number range: 1 - 58
Content:
1. from django.db import DEFAULT_DB_ALIAS
2. 
3. 
4. class TestRouter:
5.     """
6.     Vaguely behave like primary/replica, but the databases aren't assumed to
7.     propagate changes.
8.     """
9. 
10.     def db_for_read(self, model, instance=None, **hints):
11.         if instance:
12.             return instance._state.db or 'other'
13.         return 'other'
14. 
15.     def db_for_write(self, model, **hints):
16.         return DEFAULT_DB_ALIAS
17. 
18.     def allow_relation(self, obj1, obj2, **hints):
19.         return obj1._state.db in ('default', 'other') and obj2._state.db in ('default', 'other')
20. 
21.     def allow_migrate(self, db, app_label, **hints):
22.         return True
23. 
24. 
25. class AuthRouter:
26.     """
27.     Control all database operations on models in the contrib.auth application.
28.     """
29. 
30.     def db_for_read(self, model, **hints):
31.         "Point all read operations on auth models to 'default'"
32.         if model._meta.app_label == 'auth':
33.             # We use default here to ensure we can tell the difference
34.             # between a read request and a write request for Auth objects
35.             return 'default'
36.         return None
37. 
38.     def db_for_write(self, model, **hints):
39.         "Point all operations on auth models to 'other'"
40.         if model._meta.app_label == 'auth':
41.             return 'other'
42.         return None
43. 
44.     def allow_relation(self, obj1, obj2, **hints):
45.         "Allow any relation if a model in Auth is involved"
46.         return obj1._meta.app_label == 'auth' or obj2._meta.app_label == 'auth' or None
47. 
48.     def allow_migrate(self, db, app_label, **hints):
49.         "Make sure the auth app only appears on the 'other' db"
50.         if app_label == 'auth':
51.             return db == 'other'
52.         return None
53. 
54. 
55. class WriteRouter:
56.     # A router that only expresses an opinion on writes
57.     def db_for_write(self, model, **hints):
58.         return 'writer'


File: tests/multiple_database/tests.py
Line number range: 1 - 500
Content:
1. import datetime
2. import pickle
3. from io import StringIO
4. from operator import attrgetter
5. from unittest.mock import Mock
6. 
7. from django.contrib.auth.models import User
8. from django.contrib.contenttypes.models import ContentType
9. from django.core import management
10. from django.db import DEFAULT_DB_ALIAS, router, transaction
11. from django.db.models import signals
12. from django.db.utils import ConnectionRouter
13. from django.test import SimpleTestCase, TestCase, override_settings
14. 
15. from .models import Book, Person, Pet, Review, UserProfile
16. from .routers import AuthRouter, TestRouter, WriteRouter
17. 
18. 
19. class QueryTestCase(TestCase):
20.     databases = {'default', 'other'}
21. 
22.     def test_db_selection(self):
23.         "Querysets will use the default database by default"
24.         self.assertEqual(Book.objects.db, DEFAULT_DB_ALIAS)
25.         self.assertEqual(Book.objects.all().db, DEFAULT_DB_ALIAS)
26. 
27.         self.assertEqual(Book.objects.using('other').db, 'other')
28. 
29.         self.assertEqual(Book.objects.db_manager('other').db, 'other')
30.         self.assertEqual(Book.objects.db_manager('other').all().db, 'other')
31. 
32.     def test_default_creation(self):
33.         "Objects created on the default database don't leak onto other databases"
34.         # Create a book on the default database using create()
35.         Book.objects.create(title="Pro Django", published=datetime.date(2008, 12, 16))
36. 
37.         # Create a book on the default database using a save
38.         dive = Book()
39.         dive.title = "Dive into Python"
40.         dive.published = datetime.date(2009, 5, 4)
41.         dive.save()
42. 
43.         # Book exists on the default database, but not on other database
44.         try:
45.             Book.objects.get(title="Pro Django")
46.             Book.objects.using('default').get(title="Pro Django")
47.         except Book.DoesNotExist:
48.             self.fail('"Pro Django" should exist on default database')
49. 
50.         with self.assertRaises(Book.DoesNotExist):
51.             Book.objects.using('other').get(title="Pro Django")
52. 
53.         try:
54.             Book.objects.get(title="Dive into Python")
55.             Book.objects.using('default').get(title="Dive into Python")
56.         except Book.DoesNotExist:
57.             self.fail('"Dive into Python" should exist on default database')
58. 
59.         with self.assertRaises(Book.DoesNotExist):
60.             Book.objects.using('other').get(title="Dive into Python")
61. 
62.     def test_other_creation(self):
63.         "Objects created on another database don't leak onto the default database"
64.         # Create a book on the second database
65.         Book.objects.using('other').create(title="Pro Django",
66.                                            published=datetime.date(2008, 12, 16))
67. 
68.         # Create a book on the default database using a save
69.         dive = Book()
70.         dive.title = "Dive into Python"
71.         dive.published = datetime.date(2009, 5, 4)
72.         dive.save(using='other')
73. 
74.         # Book exists on the default database, but not on other database
75.         try:
76.             Book.objects.using('other').get(title="Pro Django")
77.         except Book.DoesNotExist:
78.             self.fail('"Pro Django" should exist on other database')
79. 
80.         with self.assertRaises(Book.DoesNotExist):
81.             Book.objects.get(title="Pro Django")
82.         with self.assertRaises(Book.DoesNotExist):
83.             Book.objects.using('default').get(title="Pro Django")
84. 
85.         try:
86.             Book.objects.using('other').get(title="Dive into Python")
87.         except Book.DoesNotExist:
88.             self.fail('"Dive into Python" should exist on other database')
89. 
90.         with self.assertRaises(Book.DoesNotExist):
91.             Book.objects.get(title="Dive into Python")
92.         with self.assertRaises(Book.DoesNotExist):
93.             Book.objects.using('default').get(title="Dive into Python")
94. 
95.     def test_refresh(self):
96.         dive = Book(title="Dive into Python", published=datetime.date(2009, 5, 4))
97.         dive.save(using='other')
98.         dive2 = Book.objects.using('other').get()
99.         dive2.title = "Dive into Python (on default)"
100.         dive2.save(using='default')
101.         dive.refresh_from_db()
102.         self.assertEqual(dive.title, "Dive into Python")
103.         dive.refresh_from_db(using='default')
104.         self.assertEqual(dive.title, "Dive into Python (on default)")
105.         self.assertEqual(dive._state.db, "default")
106. 
107.     def test_refresh_router_instance_hint(self):
108.         router = Mock()
109.         router.db_for_read.return_value = None
110.         book = Book.objects.create(title='Dive Into Python', published=datetime.date(1957, 10, 12))
111.         with self.settings(DATABASE_ROUTERS=[router]):
112.             book.refresh_from_db()
113.         router.db_for_read.assert_called_once_with(Book, instance=book)
114. 
115.     def test_basic_queries(self):
116.         "Queries are constrained to a single database"
117.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
118. 
119.         dive = Book.objects.using('other').get(published=datetime.date(2009, 5, 4))
120.         self.assertEqual(dive.title, "Dive into Python")
121.         with self.assertRaises(Book.DoesNotExist):
122.             Book.objects.using('default').get(published=datetime.date(2009, 5, 4))
123. 
124.         dive = Book.objects.using('other').get(title__icontains="dive")
125.         self.assertEqual(dive.title, "Dive into Python")
126.         with self.assertRaises(Book.DoesNotExist):
127.             Book.objects.using('default').get(title__icontains="dive")
128. 
129.         dive = Book.objects.using('other').get(title__iexact="dive INTO python")
130.         self.assertEqual(dive.title, "Dive into Python")
131.         with self.assertRaises(Book.DoesNotExist):
132.             Book.objects.using('default').get(title__iexact="dive INTO python")
133. 
134.         dive = Book.objects.using('other').get(published__year=2009)
135.         self.assertEqual(dive.title, "Dive into Python")
136.         self.assertEqual(dive.published, datetime.date(2009, 5, 4))
137.         with self.assertRaises(Book.DoesNotExist):
138.             Book.objects.using('default').get(published__year=2009)
139. 
140.         years = Book.objects.using('other').dates('published', 'year')
141.         self.assertEqual([o.year for o in years], [2009])
142.         years = Book.objects.using('default').dates('published', 'year')
143.         self.assertEqual([o.year for o in years], [])
144. 
145.         months = Book.objects.using('other').dates('published', 'month')
146.         self.assertEqual([o.month for o in months], [5])
147.         months = Book.objects.using('default').dates('published', 'month')
148.         self.assertEqual([o.month for o in months], [])
149. 
150.     def test_m2m_separation(self):
151.         "M2M fields are constrained to a single database"
152.         # Create a book and author on the default database
153.         pro = Book.objects.create(title="Pro Django",
154.                                   published=datetime.date(2008, 12, 16))
155. 
156.         marty = Person.objects.create(name="Marty Alchin")
157. 
158.         # Create a book and author on the other database
159.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
160. 
161.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
162. 
163.         # Save the author relations
164.         pro.authors.set([marty])
165.         dive.authors.set([mark])
166. 
167.         # Inspect the m2m tables directly.
168.         # There should be 1 entry in each database
169.         self.assertEqual(Book.authors.through.objects.using('default').count(), 1)
170.         self.assertEqual(Book.authors.through.objects.using('other').count(), 1)
171. 
172.         # Queries work across m2m joins
173.         self.assertEqual(
174.             list(Book.objects.using('default').filter(authors__name='Marty Alchin').values_list('title', flat=True)),
175.             ['Pro Django']
176.         )
177.         self.assertEqual(
178.             list(Book.objects.using('other').filter(authors__name='Marty Alchin').values_list('title', flat=True)),
179.             []
180.         )
181. 
182.         self.assertEqual(
183.             list(Book.objects.using('default').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
184.             []
185.         )
186.         self.assertEqual(
187.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
188.             ['Dive into Python']
189.         )
190. 
191.         # Reget the objects to clear caches
192.         dive = Book.objects.using('other').get(title="Dive into Python")
193.         mark = Person.objects.using('other').get(name="Mark Pilgrim")
194. 
195.         # Retrieve related object by descriptor. Related objects should be database-bound
196.         self.assertEqual(list(dive.authors.all().values_list('name', flat=True)), ['Mark Pilgrim'])
197. 
198.         self.assertEqual(list(mark.book_set.all().values_list('title', flat=True)), ['Dive into Python'])
199. 
200.     def test_m2m_forward_operations(self):
201.         "M2M forward manipulations are all constrained to a single DB"
202.         # Create a book and author on the other database
203.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
204.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
205. 
206.         # Save the author relations
207.         dive.authors.set([mark])
208. 
209.         # Add a second author
210.         john = Person.objects.using('other').create(name="John Smith")
211.         self.assertEqual(
212.             list(Book.objects.using('other').filter(authors__name='John Smith').values_list('title', flat=True)),
213.             []
214.         )
215. 
216.         dive.authors.add(john)
217.         self.assertEqual(
218.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
219.             ['Dive into Python']
220.         )
221.         self.assertEqual(
222.             list(Book.objects.using('other').filter(authors__name='John Smith').values_list('title', flat=True)),
223.             ['Dive into Python']
224.         )
225. 
226.         # Remove the second author
227.         dive.authors.remove(john)
228.         self.assertEqual(
229.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
230.             ['Dive into Python']
231.         )
232.         self.assertEqual(
233.             list(Book.objects.using('other').filter(authors__name='John Smith').values_list('title', flat=True)),
234.             []
235.         )
236. 
237.         # Clear all authors
238.         dive.authors.clear()
239.         self.assertEqual(
240.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
241.             []
242.         )
243.         self.assertEqual(
244.             list(Book.objects.using('other').filter(authors__name='John Smith').values_list('title', flat=True)),
245.             []
246.         )
247. 
248.         # Create an author through the m2m interface
249.         dive.authors.create(name='Jane Brown')
250.         self.assertEqual(
251.             list(Book.objects.using('other').filter(authors__name='Mark Pilgrim').values_list('title', flat=True)),
252.             []
253.         )
254.         self.assertEqual(
255.             list(Book.objects.using('other').filter(authors__name='Jane Brown').values_list('title', flat=True)),
256.             ['Dive into Python']
257.         )
258. 
259.     def test_m2m_reverse_operations(self):
260.         "M2M reverse manipulations are all constrained to a single DB"
261.         # Create a book and author on the other database
262.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
263.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
264. 
265.         # Save the author relations
266.         dive.authors.set([mark])
267. 
268.         # Create a second book on the other database
269.         grease = Book.objects.using('other').create(title="Greasemonkey Hacks", published=datetime.date(2005, 11, 1))
270. 
271.         # Add a books to the m2m
272.         mark.book_set.add(grease)
273.         self.assertEqual(
274.             list(Person.objects.using('other').filter(book__title='Dive into Python').values_list('name', flat=True)),
275.             ['Mark Pilgrim']
276.         )
277.         self.assertEqual(
278.             list(
279.                 Person.objects.using('other').filter(book__title='Greasemonkey Hacks').values_list('name', flat=True)
280.             ),
281.             ['Mark Pilgrim']
282.         )
283. 
284.         # Remove a book from the m2m
285.         mark.book_set.remove(grease)
286.         self.assertEqual(
287.             list(Person.objects.using('other').filter(book__title='Dive into Python').values_list('name', flat=True)),
288.             ['Mark Pilgrim']
289.         )
290.         self.assertEqual(
291.             list(
292.                 Person.objects.using('other').filter(book__title='Greasemonkey Hacks').values_list('name', flat=True)
293.             ),
294.             []
295.         )
296. 
297.         # Clear the books associated with mark
298.         mark.book_set.clear()
299.         self.assertEqual(
300.             list(Person.objects.using('other').filter(book__title='Dive into Python').values_list('name', flat=True)),
301.             []
302.         )
303.         self.assertEqual(
304.             list(
305.                 Person.objects.using('other').filter(book__title='Greasemonkey Hacks').values_list('name', flat=True)
306.             ),
307.             []
308.         )
309. 
310.         # Create a book through the m2m interface
311.         mark.book_set.create(title="Dive into HTML5", published=datetime.date(2020, 1, 1))
312.         self.assertEqual(
313.             list(Person.objects.using('other').filter(book__title='Dive into Python').values_list('name', flat=True)),
314.             []
315.         )
316.         self.assertEqual(
317.             list(Person.objects.using('other').filter(book__title='Dive into HTML5').values_list('name', flat=True)),
318.             ['Mark Pilgrim']
319.         )
320. 
321.     def test_m2m_cross_database_protection(self):
322.         "Operations that involve sharing M2M objects across databases raise an error"
323.         # Create a book and author on the default database
324.         pro = Book.objects.create(title="Pro Django", published=datetime.date(2008, 12, 16))
325. 
326.         marty = Person.objects.create(name="Marty Alchin")
327. 
328.         # Create a book and author on the other database
329.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
330. 
331.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
332.         # Set a foreign key set with an object from a different database
333.         msg = (
334.             'Cannot assign "<Person: Marty Alchin>": the current database '
335.             'router prevents this relation.'
336.         )
337.         with self.assertRaisesMessage(ValueError, msg):
338.             with transaction.atomic(using='default'):
339.                 marty.edited.set([pro, dive])
340. 
341.         # Add to an m2m with an object from a different database
342.         msg = (
343.             'Cannot add "<Book: Dive into Python>": instance is on '
344.             'database "default", value is on database "other"'
345.         )
346.         with self.assertRaisesMessage(ValueError, msg):
347.             with transaction.atomic(using='default'):
348.                 marty.book_set.add(dive)
349. 
350.         # Set a m2m with an object from a different database
351.         with self.assertRaisesMessage(ValueError, msg):
352.             with transaction.atomic(using='default'):
353.                 marty.book_set.set([pro, dive])
354. 
355.         # Add to a reverse m2m with an object from a different database
356.         msg = (
357.             'Cannot add "<Person: Marty Alchin>": instance is on '
358.             'database "other", value is on database "default"'
359.         )
360.         with self.assertRaisesMessage(ValueError, msg):
361.             with transaction.atomic(using='other'):
362.                 dive.authors.add(marty)
363. 
364.         # Set a reverse m2m with an object from a different database
365.         with self.assertRaisesMessage(ValueError, msg):
366.             with transaction.atomic(using='other'):
367.                 dive.authors.set([mark, marty])
368. 
369.     def test_m2m_deletion(self):
370.         "Cascaded deletions of m2m relations issue queries on the right database"
371.         # Create a book and author on the other database
372.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
373.         mark = Person.objects.using('other').create(name="Mark Pilgrim")
374.         dive.authors.set([mark])
375. 
376.         # Check the initial state
377.         self.assertEqual(Person.objects.using('default').count(), 0)
378.         self.assertEqual(Book.objects.using('default').count(), 0)
379.         self.assertEqual(Book.authors.through.objects.using('default').count(), 0)
380. 
381.         self.assertEqual(Person.objects.using('other').count(), 1)
382.         self.assertEqual(Book.objects.using('other').count(), 1)
383.         self.assertEqual(Book.authors.through.objects.using('other').count(), 1)
384. 
385.         # Delete the object on the other database
386.         dive.delete(using='other')
387. 
388.         self.assertEqual(Person.objects.using('default').count(), 0)
389.         self.assertEqual(Book.objects.using('default').count(), 0)
390.         self.assertEqual(Book.authors.through.objects.using('default').count(), 0)
391. 
392.         # The person still exists ...
393.         self.assertEqual(Person.objects.using('other').count(), 1)
394.         # ... but the book has been deleted
395.         self.assertEqual(Book.objects.using('other').count(), 0)
396.         # ... and the relationship object has also been deleted.
397.         self.assertEqual(Book.authors.through.objects.using('other').count(), 0)
398. 
399.         # Now try deletion in the reverse direction. Set up the relation again
400.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
401.         dive.authors.set([mark])
402. 
403.         # Check the initial state
404.         self.assertEqual(Person.objects.using('default').count(), 0)
405.         self.assertEqual(Book.objects.using('default').count(), 0)
406.         self.assertEqual(Book.authors.through.objects.using('default').count(), 0)
407. 
408.         self.assertEqual(Person.objects.using('other').count(), 1)
409.         self.assertEqual(Book.objects.using('other').count(), 1)
410.         self.assertEqual(Book.authors.through.objects.using('other').count(), 1)
411. 
412.         # Delete the object on the other database
413.         mark.delete(using='other')
414. 
415.         self.assertEqual(Person.objects.using('default').count(), 0)
416.         self.assertEqual(Book.objects.using('default').count(), 0)
417.         self.assertEqual(Book.authors.through.objects.using('default').count(), 0)
418. 
419.         # The person has been deleted ...
420.         self.assertEqual(Person.objects.using('other').count(), 0)
421.         # ... but the book still exists
422.         self.assertEqual(Book.objects.using('other').count(), 1)
423.         # ... and the relationship object has been deleted.
424.         self.assertEqual(Book.authors.through.objects.using('other').count(), 0)
425. 
426.     def test_foreign_key_separation(self):
427.         "FK fields are constrained to a single database"
428.         # Create a book and author on the default database
429.         pro = Book.objects.create(title="Pro Django", published=datetime.date(2008, 12, 16))
430. 
431.         george = Person.objects.create(name="George Vilches")
432. 
433.         # Create a book and author on the other database
434.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
435.         chris = Person.objects.using('other').create(name="Chris Mills")
436. 
437.         # Save the author's favorite books
438.         pro.editor = george
439.         pro.save()
440. 
441.         dive.editor = chris
442.         dive.save()
443. 
444.         pro = Book.objects.using('default').get(title="Pro Django")
445.         self.assertEqual(pro.editor.name, "George Vilches")
446. 
447.         dive = Book.objects.using('other').get(title="Dive into Python")
448.         self.assertEqual(dive.editor.name, "Chris Mills")
449. 
450.         # Queries work across foreign key joins
451.         self.assertEqual(
452.             list(Person.objects.using('default').filter(edited__title='Pro Django').values_list('name', flat=True)),
453.             ['George Vilches']
454.         )
455.         self.assertEqual(
456.             list(Person.objects.using('other').filter(edited__title='Pro Django').values_list('name', flat=True)),
457.             []
458.         )
459. 
460.         self.assertEqual(
461.             list(
462.                 Person.objects.using('default').filter(edited__title='Dive into Python').values_list('name', flat=True)
463.             ),
464.             []
465.         )
466.         self.assertEqual(
467.             list(
468.                 Person.objects.using('other').filter(edited__title='Dive into Python').values_list('name', flat=True)
469.             ),
470.             ['Chris Mills']
471.         )
472. 
473.         # Reget the objects to clear caches
474.         chris = Person.objects.using('other').get(name="Chris Mills")
475.         dive = Book.objects.using('other').get(title="Dive into Python")
476. 
477.         # Retrieve related object by descriptor. Related objects should be database-bound
478.         self.assertEqual(list(chris.edited.values_list('title', flat=True)), ['Dive into Python'])
479. 
480.     def test_foreign_key_reverse_operations(self):
481.         "FK reverse manipulations are all constrained to a single DB"
482.         dive = Book.objects.using('other').create(title="Dive into Python", published=datetime.date(2009, 5, 4))
483.         chris = Person.objects.using('other').create(name="Chris Mills")
484. 
485.         # Save the author relations
486.         dive.editor = chris
487.         dive.save()
488. 
489.         # Add a second book edited by chris
490.         html5 = Book.objects.using('other').create(title="Dive into HTML5", published=datetime.date(2010, 3, 15))
491.         self.assertEqual(
492.             list(Person.objects.using('other').filter(edited__title='Dive into HTML5').values_list('name', flat=True)),
493.             []
494.         )
495. 
496.         chris.edited.add(html5)
497.         self.assertEqual(
498.             list(Person.objects.using('other').filter(edited__title='Dive into HTML5').values_list('name', flat=True)),
499.             ['Chris Mills']
500.         )

--- END AGGREGATED CONTEXT ---

Analyze if the current context is sufficient to complete the user query by considering:
1. Do you understand the full scope and requirements of the user query?
2. Do you have access to all relevant code that needs to be examined or modified?
3. Are all critical dependencies and their interfaces visible?
4. Is there enough context about the system architecture and design patterns?
5. Do you have access to relevant documentation or tests if needed?

Only request additional context if essential information is missing. Ensure you're not requesting:
- Information already provided in previous queries
- Nice-to-have but non-essential details
- Implementation details that aren't relevant to the current task

If additional context is needed:
- Be specific about what you're looking for
- Consider both code and documentation that might be relevant

IMPORTANT:
- Try to avoid asking for the SAME or very similar information as previous queries, because these queries have already been asked and satisfied.

2025-12-25 01:27:20,001 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_refine_node - DEBUG - reasoning="I have identified `MigrateTests.test_migrate_fake_initial` in `tests/migrations/test_commands.py` as a highly relevant test case. This test uses a database router and checks for table creation on different databases, which is very similar to the user's scenario. However, this test depends on `TestRouter` from `tests/migrations/routers.py`, which is not in the current context. To provide a complete and self-contained test case, I need the definition of this router." query='Please provide the full content of `tests/migrations/routers.py`.' extra_requirements='' purpose='This file is required to understand and present the complete implementation of the `test_migrate_fake_initial` test case, which is a key example of testing migrations with database routers.'
2025-12-25 01:27:20,002 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - INFO - Retrieving contexts from memory for query: Please provide the full content of `tests/migrations/routers.py`.
2025-12-25 01:27:20,002 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_retrieval_node - ERROR - Failed to retrieve from memory: Athena memory client is not configured.
2025-12-25 01:27:20,003 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.reset_messages_node - DEBUG - Resetting context_provider_messages in state.
2025-12-25 01:27:20,003 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - INFO - Creating context provider message from refined query
2025-12-25 01:27:20,003 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.add_context_refined_query_message_node - DEBUG - Query message: Essential query: Please provide the full content of `tests/migrations/routers.py`.
Purpose: This file is required to understand and present the complete implementation of the `test_migrate_fake_initial` test case, which is a key example of testing migrations with database routers.
2025-12-25 01:27:21,918 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_file_with_knowledge_graph_data', 'arguments': '{"relative_path": "tests/migrations/routers.py"}'}, '__gemini_function_call_thought_signatures__': {'cd41a337-8cc2-40d7-9718-b0e46aaf9780': 'CsADAY89a1+1wfAVt+mvKt8n6xm3Sc2tXoy75w33oAf2fYp57o2m75EDBgp78aLU5s+Gc1ZM0orguKHWJ/xyQROSCNAZzmayXQgEVDwkHG4frUxN0PQVS1knWtruMRKHpYlTckTzP8lf4pTq7C2qpn3RFFd47waBbjPWkthMdZhs/InzYO9J4VdDWxcMlwYAslfr+gNNcOkIfdqeiEhx+u9Appa2LHTGdp+BYXvzGv1spG+KvEn1aHLcnOnd/HuKIKGJnPseZGRX15Rkp9g26Ttyq9jptKPiKduzjIcjWEDhOJ9/odiNo1w3067c6Hl2lh0mFMRAhJPjv+XIsNcMwNerKUEtg4VCsB+Y6JycN5fGNouiD6pHzk2eJx+InIXdX/m/DlnG8oSkMQbRwIexaIUdWwjT6sMtl7KAXxBuX/U6Ka9kZ1vuLhqCaTtPWD1kiqyl+0nmxRdi3sMdVirMPpw/Quv3RgrUU98RzcAD794c2o4mXZmsJEAoHLbT2azoGlhSrrcPQwB6AxQs2aO/Imj5zre3MpW9l306Il9UEP9mlbvsoX0BLn05HX1bRsU7JkrLJQbHWUeUfeVy9yYZnsbcSQ=='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2108, 'candidates_token_count': 21, 'total_token_count': 2242, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2108}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 21}], 'thoughts_token_count': 113, 'cached_content_token_count': 0, 'cache_tokens_details': []}, 'finish_reason': 'STOP', 'avg_logprobs': -0.1607013429914202, 'model_name': 'gemini-2.5-pro'} id='run--e5efc3b6-5dae-44ed-b1fb-d3ffc4d2acbd-0' tool_calls=[{'name': 'read_file_with_knowledge_graph_data', 'args': {'relative_path': 'tests/migrations/routers.py'}, 'id': 'cd41a337-8cc2-40d7-9718-b0e46aaf9780', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2108, 'output_tokens': 21, 'total_tokens': 2242, 'input_token_details': {'cache_read': 0}, 'output_token_details': {'reasoning': 113}}
2025-12-25 01:27:24,830 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='' additional_kwargs={'function_call': {'name': 'read_code_with_relative_path', 'arguments': '{"start_line": 1.0, "end_line": 100.0, "relative_path": "tests/migrations/routers.py"}'}, '__gemini_function_call_thought_signatures__': {'85daa809-7b25-44dc-bb85-cd3745399f30': 'CvMFAY89a1+JxJ8ZZpEVj7H6T3B2HapCtpFhlpAoV7uzsTKi7eA+CSf4cwa98zCbLddtXNTnp3AHaNFyfN9sYBs3ZSlYVV96OGA0vOxCJidjYF5S0qZU41zo+SMdP1vGzqMC7AYF+GTCQWaxj3FnP3rDmqdGTcFsJ0gC+9LfX1gW+YXbUyp2FNYAgKlkyfCWSFu1wOvkmv1isVU4M+mS5vfxp1Gb84gEpujTGAt3ik0iY0WX2wpqQdXHRs1JwMNLRjXvgZMi1v0mb+pdCs4PFr+MPkQbR1QnJ26UXhqe9EnBM3730eQaNRZB2cN1+ZAmeKjgSilgPtn+g68mxzcGTFJeNdwRQHLBSbS7geBHDyIjWxBKBZeZqQdTjOjFrWRapYmUclHQUP29APgawpBAc7w0P+6EcxyoKbxr0kqP4MrcxQJgjd62AJETgfkpYyi14ZU+o1J2iPZkGCFlu34CwgYv5+z1mBE5D/AF6OBJAVRVyMaatP4gx5cfNU6vn6wU7gm2pnzsWmNrTJmbpxWfoAB+ynTYyliZVd7PpKJRbbUu+Ou31h2+jqY4qjx2Rj0p0QcZxAjnVipibLMYcjV3effUnpQdlSk5G+zlLMx3/0Vcub6Cd6hTq/nDl0xMPSLnsYrowEfKh4NXHeBIv3ugE3ZgFXFLapErArqIknzFL5qfbn8f1K27PYiZ5TJUgIriCcwpjAwJH8pRnXowB0Yo32TENEvrDmSMCyS4cnis062HHDSSYamzO5ptu6Yum4Cs/nmCN7o0jDhiGKi27nSvpG+ESo/b+De4Q9oOOdFst5R239COO5+dMtL0zS1MlUWCUoF/Ou7XIg/MI3QHrnQBYIiVpN/3X5vMQVDhfH8qsVqBe522LIdA7UtnT/0jWjpZxr/oS0uo3pPoKYoLnAoGKBDcP72Xoq28Oz6L0A5RM07Z7ua9roKHu9la/lhk4JUWmPAgCKLxzySGzpDNQ717cVpK426CKeJwA7tvWCNYXleE1QRV3Iw='}} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2383, 'candidates_token_count': 27, 'total_token_count': 2623, 'cached_content_token_count': 1504, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2496}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1504}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 27}], 'thoughts_token_count': 213}, 'finish_reason': 'STOP', 'avg_logprobs': -0.6309899224175347, 'model_name': 'gemini-2.5-pro'} id='run--74e47268-ced7-4650-aba6-59902f19b97e-0' tool_calls=[{'name': 'read_code_with_relative_path', 'args': {'start_line': 1.0, 'end_line': 100.0, 'relative_path': 'tests/migrations/routers.py'}, 'id': '85daa809-7b25-44dc-bb85-cd3745399f30', 'type': 'tool_call'}] usage_metadata={'input_tokens': 2383, 'output_tokens': 27, 'total_tokens': 2623, 'input_token_details': {'cache_read': 1504}, 'output_token_details': {'reasoning': 213}}
2025-12-25 01:27:28,026 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_provider_node - DEBUG - content='I have retrieved the full content of the file `tests/migrations/routers.py` as you requested. I first took a quick look at the file to understand its structure, and then I read the entire file to get all of the implementation details. This file contains two database routers, `DefaultOtherRouter` and `TestRouter`, which are used for testing database migrations.' additional_kwargs={} response_metadata={'is_blocked': False, 'safety_ratings': [], 'usage_metadata': {'prompt_token_count': 2664, 'candidates_token_count': 76, 'total_token_count': 2936, 'cached_content_token_count': 1545, 'prompt_tokens_details': [{'modality': 1, 'token_count': 2990}], 'cache_tokens_details': [{'modality': 1, 'token_count': 1545}], 'candidates_tokens_details': [{'modality': 1, 'token_count': 76}], 'thoughts_token_count': 196}, 'finish_reason': 'STOP', 'avg_logprobs': -0.3856634842722039, 'model_name': 'gemini-2.5-pro'} id='run--2b53ff6c-86df-4049-8375-a6e17a93b478-0' usage_metadata={'input_tokens': 2664, 'output_tokens': 76, 'total_tokens': 2936, 'input_token_details': {'cache_read': 1545}, 'output_token_details': {'reasoning': 196}}
2025-12-25 01:27:28,027 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.transform_tool_messages_to_context_node - INFO - No contexts extracted from tool messages
2025-12-25 01:27:28,028 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_extraction_node - INFO - No explored_context available, skipping context extraction
2025-12-25 01:27:28,028 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - Storing 0 contexts to memory for query: Please provide the full content of `tests/migrations/routers.py`.
2025-12-25 01:27:28,028 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.memory_storage_node - INFO - No new contexts to store
2025-12-25 01:27:28,029 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.add_result_context_node - INFO - No new contexts to add
2025-12-25 01:27:28,029 - thread-128178306672320.prometheus_context_collector.lang_graph.nodes.context_refine_node - INFO - Reached max_refined_query_loop, not asking for more context
2025-12-25 01:27:28,030 - thread-128178306672320.prometheus_context_collector - INFO - Successfully retrieved 4 context snippets
